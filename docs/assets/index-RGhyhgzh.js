(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ly(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var su={exports:{}},ka={},au={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Gb(){if(pg)return $e;pg=1;var a=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function m(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function C(E,W,X){this.props=E,this.context=W,this.refs=h,this.updater=X||p}C.prototype.isReactComponent={},C.prototype.setState=function(E,W){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,W,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function S(){}S.prototype=C.prototype;function k(E,W,X){this.props=E,this.context=W,this.refs=h,this.updater=X||p}var M=k.prototype=new S;M.constructor=k,g(M,C.prototype),M.isPureReactComponent=!0;var I=Array.isArray,N=Object.prototype.hasOwnProperty,z={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function T(E,W,X){var K,Q={},ie=null,he=null;if(W!=null)for(K in W.ref!==void 0&&(he=W.ref),W.key!==void 0&&(ie=""+W.key),W)N.call(W,K)&&!j.hasOwnProperty(K)&&(Q[K]=W[K]);var J=arguments.length-2;if(J===1)Q.children=X;else if(1<J){for(var ge=Array(J),Ce=0;Ce<J;Ce++)ge[Ce]=arguments[Ce+2];Q.children=ge}if(E&&E.defaultProps)for(K in J=E.defaultProps,J)Q[K]===void 0&&(Q[K]=J[K]);return{$$typeof:a,type:E,key:ie,ref:he,props:Q,_owner:z.current}}function F(E,W){return{$$typeof:a,type:E.type,key:W,ref:E.ref,props:E.props,_owner:E._owner}}function q(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function B(E){var W={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return W[X]})}var V=/\/+/g;function H(E,W){return typeof E=="object"&&E!==null&&E.key!=null?B(""+E.key):W.toString(36)}function D(E,W,X,K,Q){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(ie){case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case a:case e:he=!0}}if(he)return he=E,Q=Q(he),E=K===""?"."+H(he,0):K,I(Q)?(X="",E!=null&&(X=E.replace(V,"$&/")+"/"),D(Q,W,X,"",function(Ce){return Ce})):Q!=null&&(q(Q)&&(Q=F(Q,X+(!Q.key||he&&he.key===Q.key?"":(""+Q.key).replace(V,"$&/")+"/")+E)),W.push(Q)),1;if(he=0,K=K===""?".":K+":",I(E))for(var J=0;J<E.length;J++){ie=E[J];var ge=K+H(ie,J);he+=D(ie,W,X,ge,Q)}else if(ge=m(E),typeof ge=="function")for(E=ge.call(E),J=0;!(ie=E.next()).done;)ie=ie.value,ge=K+H(ie,J++),he+=D(ie,W,X,ge,Q);else if(ie==="object")throw W=String(E),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return he}function R(E,W,X){if(E==null)return E;var K=[],Q=0;return D(E,K,"","",function(ie){return W.call(X,ie,Q++)}),K}function U(E){if(E._status===-1){var W=E._result;W=W(),W.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=W)}if(E._status===1)return E._result.default;throw E._result}var Y={current:null},G={transition:null},A={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:G,ReactCurrentOwner:z};function O(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:R,forEach:function(E,W,X){R(E,function(){W.apply(this,arguments)},X)},count:function(E){var W=0;return R(E,function(){W++}),W},toArray:function(E){return R(E,function(W){return W})||[]},only:function(E){if(!q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},$e.Component=C,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=k,$e.StrictMode=n,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,$e.act=O,$e.cloneElement=function(E,W,X){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var K=g({},E.props),Q=E.key,ie=E.ref,he=E._owner;if(W!=null){if(W.ref!==void 0&&(ie=W.ref,he=z.current),W.key!==void 0&&(Q=""+W.key),E.type&&E.type.defaultProps)var J=E.type.defaultProps;for(ge in W)N.call(W,ge)&&!j.hasOwnProperty(ge)&&(K[ge]=W[ge]===void 0&&J!==void 0?J[ge]:W[ge])}var ge=arguments.length-2;if(ge===1)K.children=X;else if(1<ge){J=Array(ge);for(var Ce=0;Ce<ge;Ce++)J[Ce]=arguments[Ce+2];K.children=J}return{$$typeof:a,type:E.type,key:Q,ref:ie,props:K,_owner:he}},$e.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},$e.createElement=T,$e.createFactory=function(E){var W=T.bind(null,E);return W.type=E,W},$e.createRef=function(){return{current:null}},$e.forwardRef=function(E){return{$$typeof:f,render:E}},$e.isValidElement=q,$e.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:U}},$e.memo=function(E,W){return{$$typeof:y,type:E,compare:W===void 0?null:W}},$e.startTransition=function(E){var W=G.transition;G.transition={};try{E()}finally{G.transition=W}},$e.unstable_act=O,$e.useCallback=function(E,W){return Y.current.useCallback(E,W)},$e.useContext=function(E){return Y.current.useContext(E)},$e.useDebugValue=function(){},$e.useDeferredValue=function(E){return Y.current.useDeferredValue(E)},$e.useEffect=function(E,W){return Y.current.useEffect(E,W)},$e.useId=function(){return Y.current.useId()},$e.useImperativeHandle=function(E,W,X){return Y.current.useImperativeHandle(E,W,X)},$e.useInsertionEffect=function(E,W){return Y.current.useInsertionEffect(E,W)},$e.useLayoutEffect=function(E,W){return Y.current.useLayoutEffect(E,W)},$e.useMemo=function(E,W){return Y.current.useMemo(E,W)},$e.useReducer=function(E,W,X){return Y.current.useReducer(E,W,X)},$e.useRef=function(E){return Y.current.useRef(E)},$e.useState=function(E){return Y.current.useState(E)},$e.useSyncExternalStore=function(E,W,X){return Y.current.useSyncExternalStore(E,W,X)},$e.useTransition=function(){return Y.current.useTransition()},$e.version="18.3.1",$e}var mg;function Md(){return mg||(mg=1,au.exports=Gb()),au.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function $b(){if(gg)return ka;gg=1;var a=Md(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,y){var w,_={},m=null,p=null;y!==void 0&&(m=""+y),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(p=d.ref);for(w in d)n.call(d,w)&&!l.hasOwnProperty(w)&&(_[w]=d[w]);if(f&&f.defaultProps)for(w in d=f.defaultProps,d)_[w]===void 0&&(_[w]=d[w]);return{$$typeof:e,type:f,key:m,ref:p,props:_,_owner:o.current}}return ka.Fragment=t,ka.jsx=u,ka.jsxs=u,ka}var vg;function Yb(){return vg||(vg=1,su.exports=$b()),su.exports}var Te=Yb(),ue=Md();const Ia=ly(ue);var h0={},ou={exports:{}},dn={},cu={exports:{}},lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function Xb(){return yg||(yg=1,function(a){function e(G,A){var O=G.length;G.push(A);e:for(;0<O;){var E=O-1>>>1,W=G[E];if(0<o(W,A))G[E]=A,G[O]=W,O=E;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var A=G[0],O=G.pop();if(O!==A){G[0]=O;e:for(var E=0,W=G.length,X=W>>>1;E<X;){var K=2*(E+1)-1,Q=G[K],ie=K+1,he=G[ie];if(0>o(Q,O))ie<W&&0>o(he,Q)?(G[E]=he,G[ie]=O,E=ie):(G[E]=Q,G[K]=O,E=K);else if(ie<W&&0>o(he,O))G[E]=he,G[ie]=O,E=ie;else break e}}return A}function o(G,A){var O=G.sortIndex-A.sortIndex;return O!==0?O:G.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();a.unstable_now=function(){return u.now()-f}}var d=[],y=[],w=1,_=null,m=3,p=!1,g=!1,h=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var A=t(y);A!==null;){if(A.callback===null)n(y);else if(A.startTime<=G)n(y),A.sortIndex=A.expirationTime,e(d,A);else break;A=t(y)}}function I(G){if(h=!1,M(G),!g)if(t(d)!==null)g=!0,U(N);else{var A=t(y);A!==null&&Y(I,A.startTime-G)}}function N(G,A){g=!1,h&&(h=!1,S(T),T=-1),p=!0;var O=m;try{for(M(A),_=t(d);_!==null&&(!(_.expirationTime>A)||G&&!B());){var E=_.callback;if(typeof E=="function"){_.callback=null,m=_.priorityLevel;var W=E(_.expirationTime<=A);A=a.unstable_now(),typeof W=="function"?_.callback=W:_===t(d)&&n(d),M(A)}else n(d);_=t(d)}if(_!==null)var X=!0;else{var K=t(y);K!==null&&Y(I,K.startTime-A),X=!1}return X}finally{_=null,m=O,p=!1}}var z=!1,j=null,T=-1,F=5,q=-1;function B(){return!(a.unstable_now()-q<F)}function V(){if(j!==null){var G=a.unstable_now();q=G;var A=!0;try{A=j(!0,G)}finally{A?H():(z=!1,j=null)}}else z=!1}var H;if(typeof k=="function")H=function(){k(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=V,H=function(){R.postMessage(null)}}else H=function(){C(V,0)};function U(G){j=G,z||(z=!0,H())}function Y(G,A){T=C(function(){G(a.unstable_now())},A)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_continueExecution=function(){g||p||(g=!0,U(N))},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return m},a.unstable_getFirstCallbackNode=function(){return t(d)},a.unstable_next=function(G){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var O=m;m=A;try{return G()}finally{m=O}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(G,A){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var O=m;m=G;try{return A()}finally{m=O}},a.unstable_scheduleCallback=function(G,A,O){var E=a.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?E+O:E):O=E,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,G={id:w++,callback:A,priorityLevel:G,startTime:O,expirationTime:W,sortIndex:-1},O>E?(G.sortIndex=O,e(y,G),t(d)===null&&G===t(y)&&(h?(S(T),T=-1):h=!0,Y(I,O-E))):(G.sortIndex=W,e(d,G),g||p||(g=!0,U(N))),G},a.unstable_shouldYield=B,a.unstable_wrapCallback=function(G){var A=m;return function(){var O=m;m=A;try{return G.apply(this,arguments)}finally{m=O}}}}(lu)),lu}var bg;function Qb(){return bg||(bg=1,cu.exports=Xb()),cu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Kb(){if(_g)return dn;_g=1;var a=Md(),e=Qb();function t(r){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+r,b=1;b<arguments.length;b++)c+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+r+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(r,c){u(r,c),u(r+"Capture",c)}function u(r,c){for(o[r]=c,r=0;r<c.length;r++)n.add(c[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function m(r){return d.call(_,r)?!0:d.call(w,r)?!1:y.test(r)?_[r]=!0:(w[r]=!0,!1)}function p(r,c,b,x){if(b!==null&&b.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:b!==null?!b.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function g(r,c,b,x){if(c===null||typeof c>"u"||p(r,c,b,x))return!0;if(x)return!1;if(b!==null)switch(b.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function h(r,c,b,x,P,L,$){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=b,this.propertyName=r,this.type=c,this.sanitizeURL=L,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new h(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var c=r[0];C[c]=new h(c,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new h(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new h(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new h(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new h(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new h(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new h(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new h(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var c=r.replace(S,k);C[c]=new h(c,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var c=r.replace(S,k);C[c]=new h(c,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var c=r.replace(S,k);C[c]=new h(c,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new h(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new h(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,c,b,x){var P=C.hasOwnProperty(c)?C[c]:null;(P!==null?P.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(g(c,b,P,x)&&(b=null),x||P===null?m(c)&&(b===null?r.removeAttribute(c):r.setAttribute(c,""+b)):P.mustUseProperty?r[P.propertyName]=b===null?P.type===3?!1:"":b:(c=P.attributeName,x=P.attributeNamespace,b===null?r.removeAttribute(c):(P=P.type,b=P===3||P===4&&b===!0?"":""+b,x?r.setAttributeNS(x,c,b):r.setAttribute(c,b))))}var I=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),G=Symbol.iterator;function A(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var O=Object.assign,E;function W(r){if(E===void 0)try{throw Error()}catch(b){var c=b.stack.trim().match(/\n( *(at )?)/);E=c&&c[1]||""}return`
`+E+r}var X=!1;function K(r,c){if(!r||X)return"";X=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ce){var x=ce}Reflect.construct(r,[],c)}else{try{c.call()}catch(ce){x=ce}r.call(c.prototype)}else{try{throw Error()}catch(ce){x=ce}r()}}catch(ce){if(ce&&x&&typeof ce.stack=="string"){for(var P=ce.stack.split(`
`),L=x.stack.split(`
`),$=P.length-1,Z=L.length-1;1<=$&&0<=Z&&P[$]!==L[Z];)Z--;for(;1<=$&&0<=Z;$--,Z--)if(P[$]!==L[Z]){if($!==1||Z!==1)do if($--,Z--,0>Z||P[$]!==L[Z]){var ee=`
`+P[$].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=$&&0<=Z);break}}}finally{X=!1,Error.prepareStackTrace=b}return(r=r?r.displayName||r.name:"")?W(r):""}function Q(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=K(r.type,!1),r;case 11:return r=K(r.type.render,!1),r;case 1:return r=K(r.type,!0),r;default:return""}}function ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case z:return"Portal";case F:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case D:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case B:return(r.displayName||"Context")+".Consumer";case q:return(r._context.displayName||"Context")+".Provider";case V:var c=r.render;return r=r.displayName,r||(r=c.displayName||c.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return c=r.displayName||null,c!==null?c:ie(r.type)||"Memo";case U:c=r._payload,r=r._init;try{return ie(r(c))}catch{}}return null}function he(r){var c=r.type;switch(r.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=c.render,r=r.displayName||r.name||"",c.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function J(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ge(r){var c=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ce(r){var c=ge(r)?"checked":"value",b=Object.getOwnPropertyDescriptor(r.constructor.prototype,c),x=""+r[c];if(!r.hasOwnProperty(c)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var P=b.get,L=b.set;return Object.defineProperty(r,c,{configurable:!0,get:function(){return P.call(this)},set:function($){x=""+$,L.call(this,$)}}),Object.defineProperty(r,c,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function($){x=""+$},stopTracking:function(){r._valueTracker=null,delete r[c]}}}}function fe(r){r._valueTracker||(r._valueTracker=Ce(r))}function Se(r){if(!r)return!1;var c=r._valueTracker;if(!c)return!0;var b=c.getValue(),x="";return r&&(x=ge(r)?r.checked?"true":"false":r.value),r=x,r!==b?(c.setValue(r),!0):!1}function xe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function de(r,c){var b=c.checked;return O({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??r._wrapperState.initialChecked})}function ve(r,c){var b=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;b=J(c.value!=null?c.value:b),r._wrapperState={initialChecked:x,initialValue:b,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function _e(r,c){c=c.checked,c!=null&&M(r,"checked",c,!1)}function De(r,c){_e(r,c);var b=J(c.value),x=c.type;if(b!=null)x==="number"?(b===0&&r.value===""||r.value!=b)&&(r.value=""+b):r.value!==""+b&&(r.value=""+b);else if(x==="submit"||x==="reset"){r.removeAttribute("value");return}c.hasOwnProperty("value")?Re(r,c.type,b):c.hasOwnProperty("defaultValue")&&Re(r,c.type,J(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(r.defaultChecked=!!c.defaultChecked)}function Ie(r,c,b){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+r._wrapperState.initialValue,b||c===r.value||(r.value=c),r.defaultValue=c}b=r.name,b!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,b!==""&&(r.name=b)}function Re(r,c,b){(c!=="number"||xe(r.ownerDocument)!==r)&&(b==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+b&&(r.defaultValue=""+b))}var Fe=Array.isArray;function ne(r,c,b,x){if(r=r.options,c){c={};for(var P=0;P<b.length;P++)c["$"+b[P]]=!0;for(b=0;b<r.length;b++)P=c.hasOwnProperty("$"+r[b].value),r[b].selected!==P&&(r[b].selected=P),P&&x&&(r[b].defaultSelected=!0)}else{for(b=""+J(b),c=null,P=0;P<r.length;P++){if(r[P].value===b){r[P].selected=!0,x&&(r[P].defaultSelected=!0);return}c!==null||r[P].disabled||(c=r[P])}c!==null&&(c.selected=!0)}}function le(r,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return O({},c,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function se(r,c){var b=c.value;if(b==null){if(b=c.children,c=c.defaultValue,b!=null){if(c!=null)throw Error(t(92));if(Fe(b)){if(1<b.length)throw Error(t(93));b=b[0]}c=b}c==null&&(c=""),b=c}r._wrapperState={initialValue:J(b)}}function re(r,c){var b=J(c.value),x=J(c.defaultValue);b!=null&&(b=""+b,b!==r.value&&(r.value=b),c.defaultValue==null&&r.defaultValue!==b&&(r.defaultValue=b)),x!=null&&(r.defaultValue=""+x)}function pe(r){var c=r.textContent;c===r._wrapperState.initialValue&&c!==""&&c!==null&&(r.value=c)}function Ee(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(r,c){return r==null||r==="http://www.w3.org/1999/xhtml"?Ee(c):r==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var He,Me=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,b,x,P){MSApp.execUnsafeLocalFunction(function(){return r(c,b,x,P)})}:r}(function(r,c){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=c;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=He.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;c.firstChild;)r.appendChild(c.firstChild)}});function Le(r,c){if(c){var b=r.firstChild;if(b&&b===r.lastChild&&b.nodeType===3){b.nodeValue=c;return}}r.textContent=c}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(r){ct.forEach(function(c){c=c+r.charAt(0).toUpperCase()+r.substring(1),it[c]=it[r]})});function Ve(r,c,b){return c==null||typeof c=="boolean"||c===""?"":b||typeof c!="number"||c===0||it.hasOwnProperty(r)&&it[r]?(""+c).trim():c+"px"}function st(r,c){r=r.style;for(var b in c)if(c.hasOwnProperty(b)){var x=b.indexOf("--")===0,P=Ve(b,c[b],x);b==="float"&&(b="cssFloat"),x?r.setProperty(b,P):r[b]=P}}var en=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(r,c){if(c){if(en[r]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function tt(r,c){if(r.indexOf("-")===-1)return typeof c.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function En(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lt=null,Ht=null,ut=null;function Or(r){if(r=ua(r)){if(typeof lt!="function")throw Error(t(280));var c=r.stateNode;c&&(c=To(c),lt(r.stateNode,r.type,c))}}function Ir(r){Ht?ut?ut.push(r):ut=[r]:Ht=r}function Rr(){if(Ht){var r=Ht,c=ut;if(ut=Ht=null,Or(r),c)for(r=0;r<c.length;r++)Or(c[r])}}function Dr(r,c){return r(c)}function on(){}var Vi=!1;function L1(r,c,b){if(Vi)return r(c,b);Vi=!0;try{return Dr(r,c,b)}finally{Vi=!1,(Ht!==null||ut!==null)&&(on(),Rr())}}function Hs(r,c){var b=r.stateNode;if(b===null)return null;var x=To(b);if(x===null)return null;b=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(r=r.type,x=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!x;break e;default:r=!1}if(r)return null;if(b&&typeof b!="function")throw Error(t(231,c,typeof b));return b}var xc=!1;if(f)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{xc=!1}function J5(r,c,b,x,P,L,$,Z,ee){var ce=Array.prototype.slice.call(arguments,3);try{c.apply(b,ce)}catch(ye){this.onError(ye)}}var Us=!1,ro=null,io=!1,Sc=null,e4={onError:function(r){Us=!0,ro=r}};function t4(r,c,b,x,P,L,$,Z,ee){Us=!1,ro=null,J5.apply(e4,arguments)}function n4(r,c,b,x,P,L,$,Z,ee){if(t4.apply(this,arguments),Us){if(Us){var ce=ro;Us=!1,ro=null}else throw Error(t(198));io||(io=!0,Sc=ce)}}function pi(r){var c=r,b=r;if(r.alternate)for(;c.return;)c=c.return;else{r=c;do c=r,c.flags&4098&&(b=c.return),r=c.return;while(r)}return c.tag===3?b:null}function F1(r){if(r.tag===13){var c=r.memoizedState;if(c===null&&(r=r.alternate,r!==null&&(c=r.memoizedState)),c!==null)return c.dehydrated}return null}function B1(r){if(pi(r)!==r)throw Error(t(188))}function r4(r){var c=r.alternate;if(!c){if(c=pi(r),c===null)throw Error(t(188));return c!==r?null:r}for(var b=r,x=c;;){var P=b.return;if(P===null)break;var L=P.alternate;if(L===null){if(x=P.return,x!==null){b=x;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===b)return B1(P),r;if(L===x)return B1(P),c;L=L.sibling}throw Error(t(188))}if(b.return!==x.return)b=P,x=L;else{for(var $=!1,Z=P.child;Z;){if(Z===b){$=!0,b=P,x=L;break}if(Z===x){$=!0,x=P,b=L;break}Z=Z.sibling}if(!$){for(Z=L.child;Z;){if(Z===b){$=!0,b=L,x=P;break}if(Z===x){$=!0,x=L,b=P;break}Z=Z.sibling}if(!$)throw Error(t(189))}}if(b.alternate!==x)throw Error(t(190))}if(b.tag!==3)throw Error(t(188));return b.stateNode.current===b?r:c}function q1(r){return r=r4(r),r!==null?z1(r):null}function z1(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var c=z1(r);if(c!==null)return c;r=r.sibling}return null}var V1=e.unstable_scheduleCallback,j1=e.unstable_cancelCallback,i4=e.unstable_shouldYield,s4=e.unstable_requestPaint,kt=e.unstable_now,a4=e.unstable_getCurrentPriorityLevel,kc=e.unstable_ImmediatePriority,H1=e.unstable_UserBlockingPriority,so=e.unstable_NormalPriority,o4=e.unstable_LowPriority,W1=e.unstable_IdlePriority,ao=null,tr=null;function c4(r){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ao,r,void 0,(r.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:h4,l4=Math.log,u4=Math.LN2;function h4(r){return r>>>=0,r===0?32:31-(l4(r)/u4|0)|0}var oo=64,co=4194304;function Gs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function lo(r,c){var b=r.pendingLanes;if(b===0)return 0;var x=0,P=r.suspendedLanes,L=r.pingedLanes,$=b&268435455;if($!==0){var Z=$&~P;Z!==0?x=Gs(Z):(L&=$,L!==0&&(x=Gs(L)))}else $=b&~P,$!==0?x=Gs($):L!==0&&(x=Gs(L));if(x===0)return 0;if(c!==0&&c!==x&&!(c&P)&&(P=x&-x,L=c&-c,P>=L||P===16&&(L&4194240)!==0))return c;if(x&4&&(x|=b&16),c=r.entangledLanes,c!==0)for(r=r.entanglements,c&=x;0<c;)b=31-qn(c),P=1<<b,x|=r[b],c&=~P;return x}function f4(r,c){switch(r){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d4(r,c){for(var b=r.suspendedLanes,x=r.pingedLanes,P=r.expirationTimes,L=r.pendingLanes;0<L;){var $=31-qn(L),Z=1<<$,ee=P[$];ee===-1?(!(Z&b)||Z&x)&&(P[$]=f4(Z,c)):ee<=c&&(r.expiredLanes|=Z),L&=~Z}}function Tc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function U1(){var r=oo;return oo<<=1,!(oo&4194240)&&(oo=64),r}function Ec(r){for(var c=[],b=0;31>b;b++)c.push(r);return c}function $s(r,c,b){r.pendingLanes|=c,c!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,c=31-qn(c),r[c]=b}function p4(r,c){var b=r.pendingLanes&~c;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=c,r.mutableReadLanes&=c,r.entangledLanes&=c,c=r.entanglements;var x=r.eventTimes;for(r=r.expirationTimes;0<b;){var P=31-qn(b),L=1<<P;c[P]=0,x[P]=-1,r[P]=-1,b&=~L}}function Mc(r,c){var b=r.entangledLanes|=c;for(r=r.entanglements;b;){var x=31-qn(b),P=1<<x;P&c|r[x]&c&&(r[x]|=c),b&=~P}}var et=0;function G1(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var $1,Ac,Y1,X1,Q1,Pc=!1,uo=[],Lr=null,Fr=null,Br=null,Ys=new Map,Xs=new Map,qr=[],m4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K1(r,c){switch(r){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Ys.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(c.pointerId)}}function Qs(r,c,b,x,P,L){return r===null||r.nativeEvent!==L?(r={blockedOn:c,domEventName:b,eventSystemFlags:x,nativeEvent:L,targetContainers:[P]},c!==null&&(c=ua(c),c!==null&&Ac(c)),r):(r.eventSystemFlags|=x,c=r.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),r)}function g4(r,c,b,x,P){switch(c){case"focusin":return Lr=Qs(Lr,r,c,b,x,P),!0;case"dragenter":return Fr=Qs(Fr,r,c,b,x,P),!0;case"mouseover":return Br=Qs(Br,r,c,b,x,P),!0;case"pointerover":var L=P.pointerId;return Ys.set(L,Qs(Ys.get(L)||null,r,c,b,x,P)),!0;case"gotpointercapture":return L=P.pointerId,Xs.set(L,Qs(Xs.get(L)||null,r,c,b,x,P)),!0}return!1}function Z1(r){var c=mi(r.target);if(c!==null){var b=pi(c);if(b!==null){if(c=b.tag,c===13){if(c=F1(b),c!==null){r.blockedOn=c,Q1(r.priority,function(){Y1(b)});return}}else if(c===3&&b.stateNode.current.memoizedState.isDehydrated){r.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ho(r){if(r.blockedOn!==null)return!1;for(var c=r.targetContainers;0<c.length;){var b=Oc(r.domEventName,r.eventSystemFlags,c[0],r.nativeEvent);if(b===null){b=r.nativeEvent;var x=new b.constructor(b.type,b);jt=x,b.target.dispatchEvent(x),jt=null}else return c=ua(b),c!==null&&Ac(c),r.blockedOn=b,!1;c.shift()}return!0}function J1(r,c,b){ho(r)&&b.delete(c)}function v4(){Pc=!1,Lr!==null&&ho(Lr)&&(Lr=null),Fr!==null&&ho(Fr)&&(Fr=null),Br!==null&&ho(Br)&&(Br=null),Ys.forEach(J1),Xs.forEach(J1)}function Ks(r,c){r.blockedOn===c&&(r.blockedOn=null,Pc||(Pc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v4)))}function Zs(r){function c(P){return Ks(P,r)}if(0<uo.length){Ks(uo[0],r);for(var b=1;b<uo.length;b++){var x=uo[b];x.blockedOn===r&&(x.blockedOn=null)}}for(Lr!==null&&Ks(Lr,r),Fr!==null&&Ks(Fr,r),Br!==null&&Ks(Br,r),Ys.forEach(c),Xs.forEach(c),b=0;b<qr.length;b++)x=qr[b],x.blockedOn===r&&(x.blockedOn=null);for(;0<qr.length&&(b=qr[0],b.blockedOn===null);)Z1(b),b.blockedOn===null&&qr.shift()}var ji=I.ReactCurrentBatchConfig,fo=!0;function y4(r,c,b,x){var P=et,L=ji.transition;ji.transition=null;try{et=1,Nc(r,c,b,x)}finally{et=P,ji.transition=L}}function b4(r,c,b,x){var P=et,L=ji.transition;ji.transition=null;try{et=4,Nc(r,c,b,x)}finally{et=P,ji.transition=L}}function Nc(r,c,b,x){if(fo){var P=Oc(r,c,b,x);if(P===null)Xc(r,c,x,po,b),K1(r,x);else if(g4(P,r,c,b,x))x.stopPropagation();else if(K1(r,x),c&4&&-1<m4.indexOf(r)){for(;P!==null;){var L=ua(P);if(L!==null&&$1(L),L=Oc(r,c,b,x),L===null&&Xc(r,c,x,po,b),L===P)break;P=L}P!==null&&x.stopPropagation()}else Xc(r,c,x,null,b)}}var po=null;function Oc(r,c,b,x){if(po=null,r=En(x),r=mi(r),r!==null)if(c=pi(r),c===null)r=null;else if(b=c.tag,b===13){if(r=F1(c),r!==null)return r;r=null}else if(b===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;r=null}else c!==r&&(r=null);return po=r,null}function ep(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a4()){case kc:return 1;case H1:return 4;case so:case o4:return 16;case W1:return 536870912;default:return 16}default:return 16}}var zr=null,Ic=null,mo=null;function tp(){if(mo)return mo;var r,c=Ic,b=c.length,x,P="value"in zr?zr.value:zr.textContent,L=P.length;for(r=0;r<b&&c[r]===P[r];r++);var $=b-r;for(x=1;x<=$&&c[b-x]===P[L-x];x++);return mo=P.slice(r,1<x?1-x:void 0)}function go(r){var c=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&c===13&&(r=13)):r=c,r===10&&(r=13),32<=r||r===13?r:0}function vo(){return!0}function np(){return!1}function yn(r){function c(b,x,P,L,$){this._reactName=b,this._targetInst=P,this.type=x,this.nativeEvent=L,this.target=$,this.currentTarget=null;for(var Z in r)r.hasOwnProperty(Z)&&(b=r[Z],this[Z]=b?b(L):L[Z]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?vo:np,this.isPropagationStopped=np,this}return O(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),c}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=yn(Hi),Js=O({},Hi,{view:0,detail:0}),_4=yn(Js),Dc,Lc,ea,yo=O({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ea&&(ea&&r.type==="mousemove"?(Dc=r.screenX-ea.screenX,Lc=r.screenY-ea.screenY):Lc=Dc=0,ea=r),Dc)},movementY:function(r){return"movementY"in r?r.movementY:Lc}}),rp=yn(yo),w4=O({},yo,{dataTransfer:0}),C4=yn(w4),x4=O({},Js,{relatedTarget:0}),Fc=yn(x4),S4=O({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),k4=yn(S4),T4=O({},Hi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),E4=yn(T4),M4=O({},Hi,{data:0}),ip=yn(M4),A4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(r){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(r):(r=N4[r])?!!c[r]:!1}function Bc(){return O4}var I4=O({},Js,{key:function(r){if(r.key){var c=A4[r.key]||r.key;if(c!=="Unidentified")return c}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?P4[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),R4=yn(I4),D4=O({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=yn(D4),L4=O({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),F4=yn(L4),B4=O({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),q4=yn(B4),z4=O({},yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),V4=yn(z4),j4=[9,13,27,32],qc=f&&"CompositionEvent"in window,ta=null;f&&"documentMode"in document&&(ta=document.documentMode);var H4=f&&"TextEvent"in window&&!ta,ap=f&&(!qc||ta&&8<ta&&11>=ta),op=" ",cp=!1;function lp(r,c){switch(r){case"keyup":return j4.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Wi=!1;function W4(r,c){switch(r){case"compositionend":return up(c);case"keypress":return c.which!==32?null:(cp=!0,op);case"textInput":return r=c.data,r===op&&cp?null:r;default:return null}}function U4(r,c){if(Wi)return r==="compositionend"||!qc&&lp(r,c)?(r=tp(),mo=Ic=zr=null,Wi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ap&&c.locale!=="ko"?null:c.data;default:return null}}var G4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(r){var c=r&&r.nodeName&&r.nodeName.toLowerCase();return c==="input"?!!G4[r.type]:c==="textarea"}function fp(r,c,b,x){Ir(x),c=xo(c,"onChange"),0<c.length&&(b=new Rc("onChange","change",null,b,x),r.push({event:b,listeners:c}))}var na=null,ra=null;function $4(r){Pp(r,0)}function bo(r){var c=Xi(r);if(Se(c))return r}function Y4(r,c){if(r==="change")return c}var dp=!1;if(f){var zc;if(f){var Vc="oninput"in document;if(!Vc){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Vc=typeof pp.oninput=="function"}zc=Vc}else zc=!1;dp=zc&&(!document.documentMode||9<document.documentMode)}function mp(){na&&(na.detachEvent("onpropertychange",gp),ra=na=null)}function gp(r){if(r.propertyName==="value"&&bo(ra)){var c=[];fp(c,ra,r,En(r)),L1($4,c)}}function X4(r,c,b){r==="focusin"?(mp(),na=c,ra=b,na.attachEvent("onpropertychange",gp)):r==="focusout"&&mp()}function Q4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bo(ra)}function K4(r,c){if(r==="click")return bo(c)}function Z4(r,c){if(r==="input"||r==="change")return bo(c)}function J4(r,c){return r===c&&(r!==0||1/r===1/c)||r!==r&&c!==c}var zn=typeof Object.is=="function"?Object.is:J4;function ia(r,c){if(zn(r,c))return!0;if(typeof r!="object"||r===null||typeof c!="object"||c===null)return!1;var b=Object.keys(r),x=Object.keys(c);if(b.length!==x.length)return!1;for(x=0;x<b.length;x++){var P=b[x];if(!d.call(c,P)||!zn(r[P],c[P]))return!1}return!0}function vp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function yp(r,c){var b=vp(r);r=0;for(var x;b;){if(b.nodeType===3){if(x=r+b.textContent.length,r<=c&&x>=c)return{node:b,offset:c-r};r=x}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=vp(b)}}function bp(r,c){return r&&c?r===c?!0:r&&r.nodeType===3?!1:c&&c.nodeType===3?bp(r,c.parentNode):"contains"in r?r.contains(c):r.compareDocumentPosition?!!(r.compareDocumentPosition(c)&16):!1:!1}function _p(){for(var r=window,c=xe();c instanceof r.HTMLIFrameElement;){try{var b=typeof c.contentWindow.location.href=="string"}catch{b=!1}if(b)r=c.contentWindow;else break;c=xe(r.document)}return c}function jc(r){var c=r&&r.nodeName&&r.nodeName.toLowerCase();return c&&(c==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||c==="textarea"||r.contentEditable==="true")}function eb(r){var c=_p(),b=r.focusedElem,x=r.selectionRange;if(c!==b&&b&&b.ownerDocument&&bp(b.ownerDocument.documentElement,b)){if(x!==null&&jc(b)){if(c=x.start,r=x.end,r===void 0&&(r=c),"selectionStart"in b)b.selectionStart=c,b.selectionEnd=Math.min(r,b.value.length);else if(r=(c=b.ownerDocument||document)&&c.defaultView||window,r.getSelection){r=r.getSelection();var P=b.textContent.length,L=Math.min(x.start,P);x=x.end===void 0?L:Math.min(x.end,P),!r.extend&&L>x&&(P=x,x=L,L=P),P=yp(b,L);var $=yp(b,x);P&&$&&(r.rangeCount!==1||r.anchorNode!==P.node||r.anchorOffset!==P.offset||r.focusNode!==$.node||r.focusOffset!==$.offset)&&(c=c.createRange(),c.setStart(P.node,P.offset),r.removeAllRanges(),L>x?(r.addRange(c),r.extend($.node,$.offset)):(c.setEnd($.node,$.offset),r.addRange(c)))}}for(c=[],r=b;r=r.parentNode;)r.nodeType===1&&c.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<c.length;b++)r=c[b],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tb=f&&"documentMode"in document&&11>=document.documentMode,Ui=null,Hc=null,sa=null,Wc=!1;function wp(r,c,b){var x=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Wc||Ui==null||Ui!==xe(x)||(x=Ui,"selectionStart"in x&&jc(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),sa&&ia(sa,x)||(sa=x,x=xo(Hc,"onSelect"),0<x.length&&(c=new Rc("onSelect","select",null,c,b),r.push({event:c,listeners:x}),c.target=Ui)))}function _o(r,c){var b={};return b[r.toLowerCase()]=c.toLowerCase(),b["Webkit"+r]="webkit"+c,b["Moz"+r]="moz"+c,b}var Gi={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},Uc={},Cp={};f&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function wo(r){if(Uc[r])return Uc[r];if(!Gi[r])return r;var c=Gi[r],b;for(b in c)if(c.hasOwnProperty(b)&&b in Cp)return Uc[r]=c[b];return r}var xp=wo("animationend"),Sp=wo("animationiteration"),kp=wo("animationstart"),Tp=wo("transitionend"),Ep=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(r,c){Ep.set(r,c),l(c,[r])}for(var Gc=0;Gc<Mp.length;Gc++){var $c=Mp[Gc],nb=$c.toLowerCase(),rb=$c[0].toUpperCase()+$c.slice(1);Vr(nb,"on"+rb)}Vr(xp,"onAnimationEnd"),Vr(Sp,"onAnimationIteration"),Vr(kp,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Tp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Ap(r,c,b){var x=r.type||"unknown-event";r.currentTarget=b,n4(x,c,void 0,r),r.currentTarget=null}function Pp(r,c){c=(c&4)!==0;for(var b=0;b<r.length;b++){var x=r[b],P=x.event;x=x.listeners;e:{var L=void 0;if(c)for(var $=x.length-1;0<=$;$--){var Z=x[$],ee=Z.instance,ce=Z.currentTarget;if(Z=Z.listener,ee!==L&&P.isPropagationStopped())break e;Ap(P,Z,ce),L=ee}else for($=0;$<x.length;$++){if(Z=x[$],ee=Z.instance,ce=Z.currentTarget,Z=Z.listener,ee!==L&&P.isPropagationStopped())break e;Ap(P,Z,ce),L=ee}}}if(io)throw r=Sc,io=!1,Sc=null,r}function ht(r,c){var b=c[tl];b===void 0&&(b=c[tl]=new Set);var x=r+"__bubble";b.has(x)||(Np(c,r,2,!1),b.add(x))}function Yc(r,c,b){var x=0;c&&(x|=4),Np(b,r,x,c)}var Co="_reactListening"+Math.random().toString(36).slice(2);function oa(r){if(!r[Co]){r[Co]=!0,n.forEach(function(b){b!=="selectionchange"&&(ib.has(b)||Yc(b,!1,r),Yc(b,!0,r))});var c=r.nodeType===9?r:r.ownerDocument;c===null||c[Co]||(c[Co]=!0,Yc("selectionchange",!1,c))}}function Np(r,c,b,x){switch(ep(c)){case 1:var P=y4;break;case 4:P=b4;break;default:P=Nc}b=P.bind(null,c,b,r),P=void 0,!xc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),x?P!==void 0?r.addEventListener(c,b,{capture:!0,passive:P}):r.addEventListener(c,b,!0):P!==void 0?r.addEventListener(c,b,{passive:P}):r.addEventListener(c,b,!1)}function Xc(r,c,b,x,P){var L=x;if(!(c&1)&&!(c&2)&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var Z=x.stateNode.containerInfo;if(Z===P||Z.nodeType===8&&Z.parentNode===P)break;if($===4)for($=x.return;$!==null;){var ee=$.tag;if((ee===3||ee===4)&&(ee=$.stateNode.containerInfo,ee===P||ee.nodeType===8&&ee.parentNode===P))return;$=$.return}for(;Z!==null;){if($=mi(Z),$===null)return;if(ee=$.tag,ee===5||ee===6){x=L=$;continue e}Z=Z.parentNode}}x=x.return}L1(function(){var ce=L,ye=En(b),be=[];e:{var me=Ep.get(r);if(me!==void 0){var ke=Rc,Pe=r;switch(r){case"keypress":if(go(b)===0)break e;case"keydown":case"keyup":ke=R4;break;case"focusin":Pe="focus",ke=Fc;break;case"focusout":Pe="blur",ke=Fc;break;case"beforeblur":case"afterblur":ke=Fc;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=F4;break;case xp:case Sp:case kp:ke=k4;break;case Tp:ke=q4;break;case"scroll":ke=_4;break;case"wheel":ke=V4;break;case"copy":case"cut":case"paste":ke=E4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=sp}var Ne=(c&4)!==0,Tt=!Ne&&r==="scroll",ae=Ne?me!==null?me+"Capture":null:me;Ne=[];for(var te=ce,oe;te!==null;){oe=te;var we=oe.stateNode;if(oe.tag===5&&we!==null&&(oe=we,ae!==null&&(we=Hs(te,ae),we!=null&&Ne.push(ca(te,we,oe)))),Tt)break;te=te.return}0<Ne.length&&(me=new ke(me,Pe,null,b,ye),be.push({event:me,listeners:Ne}))}}if(!(c&7)){e:{if(me=r==="mouseover"||r==="pointerover",ke=r==="mouseout"||r==="pointerout",me&&b!==jt&&(Pe=b.relatedTarget||b.fromElement)&&(mi(Pe)||Pe[pr]))break e;if((ke||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,ke?(Pe=b.relatedTarget||b.toElement,ke=ce,Pe=Pe?mi(Pe):null,Pe!==null&&(Tt=pi(Pe),Pe!==Tt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=ce),ke!==Pe)){if(Ne=rp,we="onMouseLeave",ae="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=sp,we="onPointerLeave",ae="onPointerEnter",te="pointer"),Tt=ke==null?me:Xi(ke),oe=Pe==null?me:Xi(Pe),me=new Ne(we,te+"leave",ke,b,ye),me.target=Tt,me.relatedTarget=oe,we=null,mi(ye)===ce&&(Ne=new Ne(ae,te+"enter",Pe,b,ye),Ne.target=oe,Ne.relatedTarget=Tt,we=Ne),Tt=we,ke&&Pe)t:{for(Ne=ke,ae=Pe,te=0,oe=Ne;oe;oe=$i(oe))te++;for(oe=0,we=ae;we;we=$i(we))oe++;for(;0<te-oe;)Ne=$i(Ne),te--;for(;0<oe-te;)ae=$i(ae),oe--;for(;te--;){if(Ne===ae||ae!==null&&Ne===ae.alternate)break t;Ne=$i(Ne),ae=$i(ae)}Ne=null}else Ne=null;ke!==null&&Op(be,me,ke,Ne,!1),Pe!==null&&Tt!==null&&Op(be,Tt,Pe,Ne,!0)}}e:{if(me=ce?Xi(ce):window,ke=me.nodeName&&me.nodeName.toLowerCase(),ke==="select"||ke==="input"&&me.type==="file")var Oe=Y4;else if(hp(me))if(dp)Oe=Z4;else{Oe=Q4;var Be=X4}else(ke=me.nodeName)&&ke.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Oe=K4);if(Oe&&(Oe=Oe(r,ce))){fp(be,Oe,b,ye);break e}Be&&Be(r,me,ce),r==="focusout"&&(Be=me._wrapperState)&&Be.controlled&&me.type==="number"&&Re(me,"number",me.value)}switch(Be=ce?Xi(ce):window,r){case"focusin":(hp(Be)||Be.contentEditable==="true")&&(Ui=Be,Hc=ce,sa=null);break;case"focusout":sa=Hc=Ui=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,wp(be,b,ye);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":wp(be,b,ye)}var qe;if(qc)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Wi?lp(r,b)&&(je="onCompositionEnd"):r==="keydown"&&b.keyCode===229&&(je="onCompositionStart");je&&(ap&&b.locale!=="ko"&&(Wi||je!=="onCompositionStart"?je==="onCompositionEnd"&&Wi&&(qe=tp()):(zr=ye,Ic="value"in zr?zr.value:zr.textContent,Wi=!0)),Be=xo(ce,je),0<Be.length&&(je=new ip(je,r,null,b,ye),be.push({event:je,listeners:Be}),qe?je.data=qe:(qe=up(b),qe!==null&&(je.data=qe)))),(qe=H4?W4(r,b):U4(r,b))&&(ce=xo(ce,"onBeforeInput"),0<ce.length&&(ye=new ip("onBeforeInput","beforeinput",null,b,ye),be.push({event:ye,listeners:ce}),ye.data=qe))}Pp(be,c)})}function ca(r,c,b){return{instance:r,listener:c,currentTarget:b}}function xo(r,c){for(var b=c+"Capture",x=[];r!==null;){var P=r,L=P.stateNode;P.tag===5&&L!==null&&(P=L,L=Hs(r,b),L!=null&&x.unshift(ca(r,L,P)),L=Hs(r,c),L!=null&&x.push(ca(r,L,P))),r=r.return}return x}function $i(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Op(r,c,b,x,P){for(var L=c._reactName,$=[];b!==null&&b!==x;){var Z=b,ee=Z.alternate,ce=Z.stateNode;if(ee!==null&&ee===x)break;Z.tag===5&&ce!==null&&(Z=ce,P?(ee=Hs(b,L),ee!=null&&$.unshift(ca(b,ee,Z))):P||(ee=Hs(b,L),ee!=null&&$.push(ca(b,ee,Z)))),b=b.return}$.length!==0&&r.push({event:c,listeners:$})}var sb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Ip(r){return(typeof r=="string"?r:""+r).replace(sb,`
`).replace(ab,"")}function So(r,c,b){if(c=Ip(c),Ip(r)!==c&&b)throw Error(t(425))}function ko(){}var Qc=null,Kc=null;function Zc(r,c){return r==="textarea"||r==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(r){return Rp.resolve(null).then(r).catch(lb)}:Jc;function lb(r){setTimeout(function(){throw r})}function el(r,c){var b=c,x=0;do{var P=b.nextSibling;if(r.removeChild(b),P&&P.nodeType===8)if(b=P.data,b==="/$"){if(x===0){r.removeChild(P),Zs(c);return}x--}else b!=="$"&&b!=="$?"&&b!=="$!"||x++;b=P}while(b);Zs(c)}function jr(r){for(;r!=null;r=r.nextSibling){var c=r.nodeType;if(c===1||c===3)break;if(c===8){if(c=r.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return r}function Dp(r){r=r.previousSibling;for(var c=0;r;){if(r.nodeType===8){var b=r.data;if(b==="$"||b==="$!"||b==="$?"){if(c===0)return r;c--}else b==="/$"&&c++}r=r.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),nr="__reactFiber$"+Yi,la="__reactProps$"+Yi,pr="__reactContainer$"+Yi,tl="__reactEvents$"+Yi,ub="__reactListeners$"+Yi,hb="__reactHandles$"+Yi;function mi(r){var c=r[nr];if(c)return c;for(var b=r.parentNode;b;){if(c=b[pr]||b[nr]){if(b=c.alternate,c.child!==null||b!==null&&b.child!==null)for(r=Dp(r);r!==null;){if(b=r[nr])return b;r=Dp(r)}return c}r=b,b=r.parentNode}return null}function ua(r){return r=r[nr]||r[pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function To(r){return r[la]||null}var nl=[],Qi=-1;function Hr(r){return{current:r}}function ft(r){0>Qi||(r.current=nl[Qi],nl[Qi]=null,Qi--)}function at(r,c){Qi++,nl[Qi]=r.current,r.current=c}var Wr={},$t=Hr(Wr),cn=Hr(!1),gi=Wr;function Ki(r,c){var b=r.type.contextTypes;if(!b)return Wr;var x=r.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in b)P[L]=c[L];return x&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=c,r.__reactInternalMemoizedMaskedChildContext=P),P}function ln(r){return r=r.childContextTypes,r!=null}function Eo(){ft(cn),ft($t)}function Lp(r,c,b){if($t.current!==Wr)throw Error(t(168));at($t,c),at(cn,b)}function Fp(r,c,b){var x=r.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return b;x=x.getChildContext();for(var P in x)if(!(P in c))throw Error(t(108,he(r)||"Unknown",P));return O({},b,x)}function Mo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wr,gi=$t.current,at($t,r),at(cn,cn.current),!0}function Bp(r,c,b){var x=r.stateNode;if(!x)throw Error(t(169));b?(r=Fp(r,c,gi),x.__reactInternalMemoizedMergedChildContext=r,ft(cn),ft($t),at($t,r)):ft(cn),at(cn,b)}var mr=null,Ao=!1,rl=!1;function qp(r){mr===null?mr=[r]:mr.push(r)}function fb(r){Ao=!0,qp(r)}function Ur(){if(!rl&&mr!==null){rl=!0;var r=0,c=et;try{var b=mr;for(et=1;r<b.length;r++){var x=b[r];do x=x(!0);while(x!==null)}mr=null,Ao=!1}catch(P){throw mr!==null&&(mr=mr.slice(r+1)),V1(kc,Ur),P}finally{et=c,rl=!1}}return null}var Zi=[],Ji=0,Po=null,No=0,Mn=[],An=0,vi=null,gr=1,vr="";function yi(r,c){Zi[Ji++]=No,Zi[Ji++]=Po,Po=r,No=c}function zp(r,c,b){Mn[An++]=gr,Mn[An++]=vr,Mn[An++]=vi,vi=r;var x=gr;r=vr;var P=32-qn(x)-1;x&=~(1<<P),b+=1;var L=32-qn(c)+P;if(30<L){var $=P-P%5;L=(x&(1<<$)-1).toString(32),x>>=$,P-=$,gr=1<<32-qn(c)+P|b<<P|x,vr=L+r}else gr=1<<L|b<<P|x,vr=r}function il(r){r.return!==null&&(yi(r,1),zp(r,1,0))}function sl(r){for(;r===Po;)Po=Zi[--Ji],Zi[Ji]=null,No=Zi[--Ji],Zi[Ji]=null;for(;r===vi;)vi=Mn[--An],Mn[An]=null,vr=Mn[--An],Mn[An]=null,gr=Mn[--An],Mn[An]=null}var bn=null,_n=null,gt=!1,Vn=null;function Vp(r,c){var b=In(5,null,null,0);b.elementType="DELETED",b.stateNode=c,b.return=r,c=r.deletions,c===null?(r.deletions=[b],r.flags|=16):c.push(b)}function jp(r,c){switch(r.tag){case 5:var b=r.type;return c=c.nodeType!==1||b.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(r.stateNode=c,bn=r,_n=jr(c.firstChild),!0):!1;case 6:return c=r.pendingProps===""||c.nodeType!==3?null:c,c!==null?(r.stateNode=c,bn=r,_n=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(b=vi!==null?{id:gr,overflow:vr}:null,r.memoizedState={dehydrated:c,treeContext:b,retryLane:1073741824},b=In(18,null,null,0),b.stateNode=c,b.return=r,r.child=b,bn=r,_n=null,!0):!1;default:return!1}}function al(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ol(r){if(gt){var c=_n;if(c){var b=c;if(!jp(r,c)){if(al(r))throw Error(t(418));c=jr(b.nextSibling);var x=bn;c&&jp(r,c)?Vp(x,b):(r.flags=r.flags&-4097|2,gt=!1,bn=r)}}else{if(al(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,bn=r}}}function Hp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function Oo(r){if(r!==bn)return!1;if(!gt)return Hp(r),gt=!0,!1;var c;if((c=r.tag!==3)&&!(c=r.tag!==5)&&(c=r.type,c=c!=="head"&&c!=="body"&&!Zc(r.type,r.memoizedProps)),c&&(c=_n)){if(al(r))throw Wp(),Error(t(418));for(;c;)Vp(r,c),c=jr(c.nextSibling)}if(Hp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,c=0;r;){if(r.nodeType===8){var b=r.data;if(b==="/$"){if(c===0){_n=jr(r.nextSibling);break e}c--}else b!=="$"&&b!=="$!"&&b!=="$?"||c++}r=r.nextSibling}_n=null}}else _n=bn?jr(r.stateNode.nextSibling):null;return!0}function Wp(){for(var r=_n;r;)r=jr(r.nextSibling)}function es(){_n=bn=null,gt=!1}function cl(r){Vn===null?Vn=[r]:Vn.push(r)}var db=I.ReactCurrentBatchConfig;function ha(r,c,b){if(r=b.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(t(309));var x=b.stateNode}if(!x)throw Error(t(147,r));var P=x,L=""+r;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===L?c.ref:(c=function($){var Z=P.refs;$===null?delete Z[L]:Z[L]=$},c._stringRef=L,c)}if(typeof r!="string")throw Error(t(284));if(!b._owner)throw Error(t(290,r))}return r}function Io(r,c){throw r=Object.prototype.toString.call(c),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":r))}function Up(r){var c=r._init;return c(r._payload)}function Gp(r){function c(ae,te){if(r){var oe=ae.deletions;oe===null?(ae.deletions=[te],ae.flags|=16):oe.push(te)}}function b(ae,te){if(!r)return null;for(;te!==null;)c(ae,te),te=te.sibling;return null}function x(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function P(ae,te){return ae=Jr(ae,te),ae.index=0,ae.sibling=null,ae}function L(ae,te,oe){return ae.index=oe,r?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<te?(ae.flags|=2,te):oe):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function $(ae){return r&&ae.alternate===null&&(ae.flags|=2),ae}function Z(ae,te,oe,we){return te===null||te.tag!==6?(te=Jl(oe,ae.mode,we),te.return=ae,te):(te=P(te,oe),te.return=ae,te)}function ee(ae,te,oe,we){var Oe=oe.type;return Oe===j?ye(ae,te,oe.props.children,we,oe.key):te!==null&&(te.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&Up(Oe)===te.type)?(we=P(te,oe.props),we.ref=ha(ae,te,oe),we.return=ae,we):(we=r0(oe.type,oe.key,oe.props,null,ae.mode,we),we.ref=ha(ae,te,oe),we.return=ae,we)}function ce(ae,te,oe,we){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=eu(oe,ae.mode,we),te.return=ae,te):(te=P(te,oe.children||[]),te.return=ae,te)}function ye(ae,te,oe,we,Oe){return te===null||te.tag!==7?(te=Ti(oe,ae.mode,we,Oe),te.return=ae,te):(te=P(te,oe),te.return=ae,te)}function be(ae,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Jl(""+te,ae.mode,oe),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return oe=r0(te.type,te.key,te.props,null,ae.mode,oe),oe.ref=ha(ae,null,te),oe.return=ae,oe;case z:return te=eu(te,ae.mode,oe),te.return=ae,te;case U:var we=te._init;return be(ae,we(te._payload),oe)}if(Fe(te)||A(te))return te=Ti(te,ae.mode,oe,null),te.return=ae,te;Io(ae,te)}return null}function me(ae,te,oe,we){var Oe=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Oe!==null?null:Z(ae,te,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return oe.key===Oe?ee(ae,te,oe,we):null;case z:return oe.key===Oe?ce(ae,te,oe,we):null;case U:return Oe=oe._init,me(ae,te,Oe(oe._payload),we)}if(Fe(oe)||A(oe))return Oe!==null?null:ye(ae,te,oe,we,null);Io(ae,oe)}return null}function ke(ae,te,oe,we,Oe){if(typeof we=="string"&&we!==""||typeof we=="number")return ae=ae.get(oe)||null,Z(te,ae,""+we,Oe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case N:return ae=ae.get(we.key===null?oe:we.key)||null,ee(te,ae,we,Oe);case z:return ae=ae.get(we.key===null?oe:we.key)||null,ce(te,ae,we,Oe);case U:var Be=we._init;return ke(ae,te,oe,Be(we._payload),Oe)}if(Fe(we)||A(we))return ae=ae.get(oe)||null,ye(te,ae,we,Oe,null);Io(te,we)}return null}function Pe(ae,te,oe,we){for(var Oe=null,Be=null,qe=te,je=te=0,Bt=null;qe!==null&&je<oe.length;je++){qe.index>je?(Bt=qe,qe=null):Bt=qe.sibling;var Ze=me(ae,qe,oe[je],we);if(Ze===null){qe===null&&(qe=Bt);break}r&&qe&&Ze.alternate===null&&c(ae,qe),te=L(Ze,te,je),Be===null?Oe=Ze:Be.sibling=Ze,Be=Ze,qe=Bt}if(je===oe.length)return b(ae,qe),gt&&yi(ae,je),Oe;if(qe===null){for(;je<oe.length;je++)qe=be(ae,oe[je],we),qe!==null&&(te=L(qe,te,je),Be===null?Oe=qe:Be.sibling=qe,Be=qe);return gt&&yi(ae,je),Oe}for(qe=x(ae,qe);je<oe.length;je++)Bt=ke(qe,ae,je,oe[je],we),Bt!==null&&(r&&Bt.alternate!==null&&qe.delete(Bt.key===null?je:Bt.key),te=L(Bt,te,je),Be===null?Oe=Bt:Be.sibling=Bt,Be=Bt);return r&&qe.forEach(function(ei){return c(ae,ei)}),gt&&yi(ae,je),Oe}function Ne(ae,te,oe,we){var Oe=A(oe);if(typeof Oe!="function")throw Error(t(150));if(oe=Oe.call(oe),oe==null)throw Error(t(151));for(var Be=Oe=null,qe=te,je=te=0,Bt=null,Ze=oe.next();qe!==null&&!Ze.done;je++,Ze=oe.next()){qe.index>je?(Bt=qe,qe=null):Bt=qe.sibling;var ei=me(ae,qe,Ze.value,we);if(ei===null){qe===null&&(qe=Bt);break}r&&qe&&ei.alternate===null&&c(ae,qe),te=L(ei,te,je),Be===null?Oe=ei:Be.sibling=ei,Be=ei,qe=Bt}if(Ze.done)return b(ae,qe),gt&&yi(ae,je),Oe;if(qe===null){for(;!Ze.done;je++,Ze=oe.next())Ze=be(ae,Ze.value,we),Ze!==null&&(te=L(Ze,te,je),Be===null?Oe=Ze:Be.sibling=Ze,Be=Ze);return gt&&yi(ae,je),Oe}for(qe=x(ae,qe);!Ze.done;je++,Ze=oe.next())Ze=ke(qe,ae,je,Ze.value,we),Ze!==null&&(r&&Ze.alternate!==null&&qe.delete(Ze.key===null?je:Ze.key),te=L(Ze,te,je),Be===null?Oe=Ze:Be.sibling=Ze,Be=Ze);return r&&qe.forEach(function(Ub){return c(ae,Ub)}),gt&&yi(ae,je),Oe}function Tt(ae,te,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===j&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:e:{for(var Oe=oe.key,Be=te;Be!==null;){if(Be.key===Oe){if(Oe=oe.type,Oe===j){if(Be.tag===7){b(ae,Be.sibling),te=P(Be,oe.props.children),te.return=ae,ae=te;break e}}else if(Be.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&Up(Oe)===Be.type){b(ae,Be.sibling),te=P(Be,oe.props),te.ref=ha(ae,Be,oe),te.return=ae,ae=te;break e}b(ae,Be);break}else c(ae,Be);Be=Be.sibling}oe.type===j?(te=Ti(oe.props.children,ae.mode,we,oe.key),te.return=ae,ae=te):(we=r0(oe.type,oe.key,oe.props,null,ae.mode,we),we.ref=ha(ae,te,oe),we.return=ae,ae=we)}return $(ae);case z:e:{for(Be=oe.key;te!==null;){if(te.key===Be)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){b(ae,te.sibling),te=P(te,oe.children||[]),te.return=ae,ae=te;break e}else{b(ae,te);break}else c(ae,te);te=te.sibling}te=eu(oe,ae.mode,we),te.return=ae,ae=te}return $(ae);case U:return Be=oe._init,Tt(ae,te,Be(oe._payload),we)}if(Fe(oe))return Pe(ae,te,oe,we);if(A(oe))return Ne(ae,te,oe,we);Io(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(b(ae,te.sibling),te=P(te,oe),te.return=ae,ae=te):(b(ae,te),te=Jl(oe,ae.mode,we),te.return=ae,ae=te),$(ae)):b(ae,te)}return Tt}var ts=Gp(!0),$p=Gp(!1),Ro=Hr(null),Do=null,ns=null,ll=null;function ul(){ll=ns=Do=null}function hl(r){var c=Ro.current;ft(Ro),r._currentValue=c}function fl(r,c,b){for(;r!==null;){var x=r.alternate;if((r.childLanes&c)!==c?(r.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),r===b)break;r=r.return}}function rs(r,c){Do=r,ll=ns=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&c&&(un=!0),r.firstContext=null)}function Pn(r){var c=r._currentValue;if(ll!==r)if(r={context:r,memoizedValue:c,next:null},ns===null){if(Do===null)throw Error(t(308));ns=r,Do.dependencies={lanes:0,firstContext:r}}else ns=ns.next=r;return c}var bi=null;function dl(r){bi===null?bi=[r]:bi.push(r)}function Yp(r,c,b,x){var P=c.interleaved;return P===null?(b.next=b,dl(c)):(b.next=P.next,P.next=b),c.interleaved=b,yr(r,x)}function yr(r,c){r.lanes|=c;var b=r.alternate;for(b!==null&&(b.lanes|=c),b=r,r=r.return;r!==null;)r.childLanes|=c,b=r.alternate,b!==null&&(b.childLanes|=c),b=r,r=r.return;return b.tag===3?b.stateNode:null}var Gr=!1;function pl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(r,c){r=r.updateQueue,c.updateQueue===r&&(c.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function br(r,c){return{eventTime:r,lane:c,tag:0,payload:null,callback:null,next:null}}function $r(r,c,b){var x=r.updateQueue;if(x===null)return null;if(x=x.shared,Ke&2){var P=x.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),x.pending=c,yr(r,b)}return P=x.interleaved,P===null?(c.next=c,dl(x)):(c.next=P.next,P.next=c),x.interleaved=c,yr(r,b)}function Lo(r,c,b){if(c=c.updateQueue,c!==null&&(c=c.shared,(b&4194240)!==0)){var x=c.lanes;x&=r.pendingLanes,b|=x,c.lanes=b,Mc(r,b)}}function Qp(r,c){var b=r.updateQueue,x=r.alternate;if(x!==null&&(x=x.updateQueue,b===x)){var P=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var $={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};L===null?P=L=$:L=L.next=$,b=b.next}while(b!==null);L===null?P=L=c:L=L.next=c}else P=L=c;b={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:x.shared,effects:x.effects},r.updateQueue=b;return}r=b.lastBaseUpdate,r===null?b.firstBaseUpdate=c:r.next=c,b.lastBaseUpdate=c}function Fo(r,c,b,x){var P=r.updateQueue;Gr=!1;var L=P.firstBaseUpdate,$=P.lastBaseUpdate,Z=P.shared.pending;if(Z!==null){P.shared.pending=null;var ee=Z,ce=ee.next;ee.next=null,$===null?L=ce:$.next=ce,$=ee;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,Z=ye.lastBaseUpdate,Z!==$&&(Z===null?ye.firstBaseUpdate=ce:Z.next=ce,ye.lastBaseUpdate=ee))}if(L!==null){var be=P.baseState;$=0,ye=ce=ee=null,Z=L;do{var me=Z.lane,ke=Z.eventTime;if((x&me)===me){ye!==null&&(ye=ye.next={eventTime:ke,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Pe=r,Ne=Z;switch(me=c,ke=b,Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){be=Pe.call(ke,be,me);break e}be=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,me=typeof Pe=="function"?Pe.call(ke,be,me):Pe,me==null)break e;be=O({},be,me);break e;case 2:Gr=!0}}Z.callback!==null&&Z.lane!==0&&(r.flags|=64,me=P.effects,me===null?P.effects=[Z]:me.push(Z))}else ke={eventTime:ke,lane:me,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ye===null?(ce=ye=ke,ee=be):ye=ye.next=ke,$|=me;if(Z=Z.next,Z===null){if(Z=P.shared.pending,Z===null)break;me=Z,Z=me.next,me.next=null,P.lastBaseUpdate=me,P.shared.pending=null}}while(!0);if(ye===null&&(ee=be),P.baseState=ee,P.firstBaseUpdate=ce,P.lastBaseUpdate=ye,c=P.shared.interleaved,c!==null){P=c;do $|=P.lane,P=P.next;while(P!==c)}else L===null&&(P.shared.lanes=0);Ci|=$,r.lanes=$,r.memoizedState=be}}function Kp(r,c,b){if(r=c.effects,c.effects=null,r!==null)for(c=0;c<r.length;c++){var x=r[c],P=x.callback;if(P!==null){if(x.callback=null,x=b,typeof P!="function")throw Error(t(191,P));P.call(x)}}}var fa={},rr=Hr(fa),da=Hr(fa),pa=Hr(fa);function _i(r){if(r===fa)throw Error(t(174));return r}function ml(r,c){switch(at(pa,c),at(da,r),at(rr,fa),r=c.nodeType,r){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ze(null,"");break;default:r=r===8?c.parentNode:c,c=r.namespaceURI||null,r=r.tagName,c=ze(c,r)}ft(rr),at(rr,c)}function is(){ft(rr),ft(da),ft(pa)}function Zp(r){_i(pa.current);var c=_i(rr.current),b=ze(c,r.type);c!==b&&(at(da,r),at(rr,b))}function gl(r){da.current===r&&(ft(rr),ft(da))}var yt=Hr(0);function Bo(r){for(var c=r;c!==null;){if(c.tag===13){var b=c.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var vl=[];function yl(){for(var r=0;r<vl.length;r++)vl[r]._workInProgressVersionPrimary=null;vl.length=0}var qo=I.ReactCurrentDispatcher,bl=I.ReactCurrentBatchConfig,wi=0,bt=null,It=null,Lt=null,zo=!1,ma=!1,ga=0,pb=0;function Yt(){throw Error(t(321))}function _l(r,c){if(c===null)return!1;for(var b=0;b<c.length&&b<r.length;b++)if(!zn(r[b],c[b]))return!1;return!0}function wl(r,c,b,x,P,L){if(wi=L,bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,qo.current=r===null||r.memoizedState===null?yb:bb,r=b(x,P),ma){L=0;do{if(ma=!1,ga=0,25<=L)throw Error(t(301));L+=1,Lt=It=null,c.updateQueue=null,qo.current=_b,r=b(x,P)}while(ma)}if(qo.current=Ho,c=It!==null&&It.next!==null,wi=0,Lt=It=bt=null,zo=!1,c)throw Error(t(300));return r}function Cl(){var r=ga!==0;return ga=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?bt.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Nn(){if(It===null){var r=bt.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var c=Lt===null?bt.memoizedState:Lt.next;if(c!==null)Lt=c,It=r;else{if(r===null)throw Error(t(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Lt===null?bt.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function va(r,c){return typeof c=="function"?c(r):c}function xl(r){var c=Nn(),b=c.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=r;var x=It,P=x.baseQueue,L=b.pending;if(L!==null){if(P!==null){var $=P.next;P.next=L.next,L.next=$}x.baseQueue=P=L,b.pending=null}if(P!==null){L=P.next,x=x.baseState;var Z=$=null,ee=null,ce=L;do{var ye=ce.lane;if((wi&ye)===ye)ee!==null&&(ee=ee.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),x=ce.hasEagerState?ce.eagerState:r(x,ce.action);else{var be={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ee===null?(Z=ee=be,$=x):ee=ee.next=be,bt.lanes|=ye,Ci|=ye}ce=ce.next}while(ce!==null&&ce!==L);ee===null?$=x:ee.next=Z,zn(x,c.memoizedState)||(un=!0),c.memoizedState=x,c.baseState=$,c.baseQueue=ee,b.lastRenderedState=x}if(r=b.interleaved,r!==null){P=r;do L=P.lane,bt.lanes|=L,Ci|=L,P=P.next;while(P!==r)}else P===null&&(b.lanes=0);return[c.memoizedState,b.dispatch]}function Sl(r){var c=Nn(),b=c.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=r;var x=b.dispatch,P=b.pending,L=c.memoizedState;if(P!==null){b.pending=null;var $=P=P.next;do L=r(L,$.action),$=$.next;while($!==P);zn(L,c.memoizedState)||(un=!0),c.memoizedState=L,c.baseQueue===null&&(c.baseState=L),b.lastRenderedState=L}return[L,x]}function Jp(){}function em(r,c){var b=bt,x=Nn(),P=c(),L=!zn(x.memoizedState,P);if(L&&(x.memoizedState=P,un=!0),x=x.queue,kl(rm.bind(null,b,x,r),[r]),x.getSnapshot!==c||L||Lt!==null&&Lt.memoizedState.tag&1){if(b.flags|=2048,ya(9,nm.bind(null,b,x,P,c),void 0,null),Ft===null)throw Error(t(349));wi&30||tm(b,c,P)}return P}function tm(r,c,b){r.flags|=16384,r={getSnapshot:c,value:b},c=bt.updateQueue,c===null?(c={lastEffect:null,stores:null},bt.updateQueue=c,c.stores=[r]):(b=c.stores,b===null?c.stores=[r]:b.push(r))}function nm(r,c,b,x){c.value=b,c.getSnapshot=x,im(c)&&sm(r)}function rm(r,c,b){return b(function(){im(c)&&sm(r)})}function im(r){var c=r.getSnapshot;r=r.value;try{var b=c();return!zn(r,b)}catch{return!0}}function sm(r){var c=yr(r,1);c!==null&&Un(c,r,1,-1)}function am(r){var c=ir();return typeof r=="function"&&(r=r()),c.memoizedState=c.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:r},c.queue=r,r=r.dispatch=vb.bind(null,bt,r),[c.memoizedState,r]}function ya(r,c,b,x){return r={tag:r,create:c,destroy:b,deps:x,next:null},c=bt.updateQueue,c===null?(c={lastEffect:null,stores:null},bt.updateQueue=c,c.lastEffect=r.next=r):(b=c.lastEffect,b===null?c.lastEffect=r.next=r:(x=b.next,b.next=r,r.next=x,c.lastEffect=r)),r}function om(){return Nn().memoizedState}function Vo(r,c,b,x){var P=ir();bt.flags|=r,P.memoizedState=ya(1|c,b,void 0,x===void 0?null:x)}function jo(r,c,b,x){var P=Nn();x=x===void 0?null:x;var L=void 0;if(It!==null){var $=It.memoizedState;if(L=$.destroy,x!==null&&_l(x,$.deps)){P.memoizedState=ya(c,b,L,x);return}}bt.flags|=r,P.memoizedState=ya(1|c,b,L,x)}function cm(r,c){return Vo(8390656,8,r,c)}function kl(r,c){return jo(2048,8,r,c)}function lm(r,c){return jo(4,2,r,c)}function um(r,c){return jo(4,4,r,c)}function hm(r,c){if(typeof c=="function")return r=r(),c(r),function(){c(null)};if(c!=null)return r=r(),c.current=r,function(){c.current=null}}function fm(r,c,b){return b=b!=null?b.concat([r]):null,jo(4,4,hm.bind(null,c,r),b)}function Tl(){}function dm(r,c){var b=Nn();c=c===void 0?null:c;var x=b.memoizedState;return x!==null&&c!==null&&_l(c,x[1])?x[0]:(b.memoizedState=[r,c],r)}function pm(r,c){var b=Nn();c=c===void 0?null:c;var x=b.memoizedState;return x!==null&&c!==null&&_l(c,x[1])?x[0]:(r=r(),b.memoizedState=[r,c],r)}function mm(r,c,b){return wi&21?(zn(b,c)||(b=U1(),bt.lanes|=b,Ci|=b,r.baseState=!0),c):(r.baseState&&(r.baseState=!1,un=!0),r.memoizedState=b)}function mb(r,c){var b=et;et=b!==0&&4>b?b:4,r(!0);var x=bl.transition;bl.transition={};try{r(!1),c()}finally{et=b,bl.transition=x}}function gm(){return Nn().memoizedState}function gb(r,c,b){var x=Kr(r);if(b={lane:x,action:b,hasEagerState:!1,eagerState:null,next:null},vm(r))ym(c,b);else if(b=Yp(r,c,b,x),b!==null){var P=nn();Un(b,r,x,P),bm(b,c,x)}}function vb(r,c,b){var x=Kr(r),P={lane:x,action:b,hasEagerState:!1,eagerState:null,next:null};if(vm(r))ym(c,P);else{var L=r.alternate;if(r.lanes===0&&(L===null||L.lanes===0)&&(L=c.lastRenderedReducer,L!==null))try{var $=c.lastRenderedState,Z=L($,b);if(P.hasEagerState=!0,P.eagerState=Z,zn(Z,$)){var ee=c.interleaved;ee===null?(P.next=P,dl(c)):(P.next=ee.next,ee.next=P),c.interleaved=P;return}}catch{}finally{}b=Yp(r,c,P,x),b!==null&&(P=nn(),Un(b,r,x,P),bm(b,c,x))}}function vm(r){var c=r.alternate;return r===bt||c!==null&&c===bt}function ym(r,c){ma=zo=!0;var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}function bm(r,c,b){if(b&4194240){var x=c.lanes;x&=r.pendingLanes,b|=x,c.lanes=b,Mc(r,b)}}var Ho={readContext:Pn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},yb={readContext:Pn,useCallback:function(r,c){return ir().memoizedState=[r,c===void 0?null:c],r},useContext:Pn,useEffect:cm,useImperativeHandle:function(r,c,b){return b=b!=null?b.concat([r]):null,Vo(4194308,4,hm.bind(null,c,r),b)},useLayoutEffect:function(r,c){return Vo(4194308,4,r,c)},useInsertionEffect:function(r,c){return Vo(4,2,r,c)},useMemo:function(r,c){var b=ir();return c=c===void 0?null:c,r=r(),b.memoizedState=[r,c],r},useReducer:function(r,c,b){var x=ir();return c=b!==void 0?b(c):c,x.memoizedState=x.baseState=c,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:c},x.queue=r,r=r.dispatch=gb.bind(null,bt,r),[x.memoizedState,r]},useRef:function(r){var c=ir();return r={current:r},c.memoizedState=r},useState:am,useDebugValue:Tl,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=am(!1),c=r[0];return r=mb.bind(null,r[1]),ir().memoizedState=r,[c,r]},useMutableSource:function(){},useSyncExternalStore:function(r,c,b){var x=bt,P=ir();if(gt){if(b===void 0)throw Error(t(407));b=b()}else{if(b=c(),Ft===null)throw Error(t(349));wi&30||tm(x,c,b)}P.memoizedState=b;var L={value:b,getSnapshot:c};return P.queue=L,cm(rm.bind(null,x,L,r),[r]),x.flags|=2048,ya(9,nm.bind(null,x,L,b,c),void 0,null),b},useId:function(){var r=ir(),c=Ft.identifierPrefix;if(gt){var b=vr,x=gr;b=(x&~(1<<32-qn(x)-1)).toString(32)+b,c=":"+c+"R"+b,b=ga++,0<b&&(c+="H"+b.toString(32)),c+=":"}else b=pb++,c=":"+c+"r"+b.toString(32)+":";return r.memoizedState=c},unstable_isNewReconciler:!1},bb={readContext:Pn,useCallback:dm,useContext:Pn,useEffect:kl,useImperativeHandle:fm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:pm,useReducer:xl,useRef:om,useState:function(){return xl(va)},useDebugValue:Tl,useDeferredValue:function(r){var c=Nn();return mm(c,It.memoizedState,r)},useTransition:function(){var r=xl(va)[0],c=Nn().memoizedState;return[r,c]},useMutableSource:Jp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},_b={readContext:Pn,useCallback:dm,useContext:Pn,useEffect:kl,useImperativeHandle:fm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:pm,useReducer:Sl,useRef:om,useState:function(){return Sl(va)},useDebugValue:Tl,useDeferredValue:function(r){var c=Nn();return It===null?c.memoizedState=r:mm(c,It.memoizedState,r)},useTransition:function(){var r=Sl(va)[0],c=Nn().memoizedState;return[r,c]},useMutableSource:Jp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function jn(r,c){if(r&&r.defaultProps){c=O({},c),r=r.defaultProps;for(var b in r)c[b]===void 0&&(c[b]=r[b]);return c}return c}function El(r,c,b,x){c=r.memoizedState,b=b(x,c),b=b==null?c:O({},c,b),r.memoizedState=b,r.lanes===0&&(r.updateQueue.baseState=b)}var Wo={isMounted:function(r){return(r=r._reactInternals)?pi(r)===r:!1},enqueueSetState:function(r,c,b){r=r._reactInternals;var x=nn(),P=Kr(r),L=br(x,P);L.payload=c,b!=null&&(L.callback=b),c=$r(r,L,P),c!==null&&(Un(c,r,P,x),Lo(c,r,P))},enqueueReplaceState:function(r,c,b){r=r._reactInternals;var x=nn(),P=Kr(r),L=br(x,P);L.tag=1,L.payload=c,b!=null&&(L.callback=b),c=$r(r,L,P),c!==null&&(Un(c,r,P,x),Lo(c,r,P))},enqueueForceUpdate:function(r,c){r=r._reactInternals;var b=nn(),x=Kr(r),P=br(b,x);P.tag=2,c!=null&&(P.callback=c),c=$r(r,P,x),c!==null&&(Un(c,r,x,b),Lo(c,r,x))}};function _m(r,c,b,x,P,L,$){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(x,L,$):c.prototype&&c.prototype.isPureReactComponent?!ia(b,x)||!ia(P,L):!0}function wm(r,c,b){var x=!1,P=Wr,L=c.contextType;return typeof L=="object"&&L!==null?L=Pn(L):(P=ln(c)?gi:$t.current,x=c.contextTypes,L=(x=x!=null)?Ki(r,P):Wr),c=new c(b,L),r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Wo,r.stateNode=c,c._reactInternals=r,x&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=P,r.__reactInternalMemoizedMaskedChildContext=L),c}function Cm(r,c,b,x){r=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(b,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(b,x),c.state!==r&&Wo.enqueueReplaceState(c,c.state,null)}function Ml(r,c,b,x){var P=r.stateNode;P.props=b,P.state=r.memoizedState,P.refs={},pl(r);var L=c.contextType;typeof L=="object"&&L!==null?P.context=Pn(L):(L=ln(c)?gi:$t.current,P.context=Ki(r,L)),P.state=r.memoizedState,L=c.getDerivedStateFromProps,typeof L=="function"&&(El(r,c,L,b),P.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(c=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),c!==P.state&&Wo.enqueueReplaceState(P,P.state,null),Fo(r,b,P,x),P.state=r.memoizedState),typeof P.componentDidMount=="function"&&(r.flags|=4194308)}function ss(r,c){try{var b="",x=c;do b+=Q(x),x=x.return;while(x);var P=b}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:r,source:c,stack:P,digest:null}}function Al(r,c,b){return{value:r,source:null,stack:b??null,digest:c??null}}function Pl(r,c){try{console.error(c.value)}catch(b){setTimeout(function(){throw b})}}var wb=typeof WeakMap=="function"?WeakMap:Map;function xm(r,c,b){b=br(-1,b),b.tag=3,b.payload={element:null};var x=c.value;return b.callback=function(){Ko||(Ko=!0,Ul=x),Pl(r,c)},b}function Sm(r,c,b){b=br(-1,b),b.tag=3;var x=r.type.getDerivedStateFromError;if(typeof x=="function"){var P=c.value;b.payload=function(){return x(P)},b.callback=function(){Pl(r,c)}}var L=r.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(b.callback=function(){Pl(r,c),typeof x!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})}),b}function km(r,c,b){var x=r.pingCache;if(x===null){x=r.pingCache=new wb;var P=new Set;x.set(c,P)}else P=x.get(c),P===void 0&&(P=new Set,x.set(c,P));P.has(b)||(P.add(b),r=Db.bind(null,r,c,b),c.then(r,r))}function Tm(r){do{var c;if((c=r.tag===13)&&(c=r.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return r;r=r.return}while(r!==null);return null}function Em(r,c,b,x,P){return r.mode&1?(r.flags|=65536,r.lanes=P,r):(r===c?r.flags|=65536:(r.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(c=br(-1,1),c.tag=2,$r(b,c,1))),b.lanes|=1),r)}var Cb=I.ReactCurrentOwner,un=!1;function tn(r,c,b,x){c.child=r===null?$p(c,null,b,x):ts(c,r.child,b,x)}function Mm(r,c,b,x,P){b=b.render;var L=c.ref;return rs(c,P),x=wl(r,c,b,x,L,P),b=Cl(),r!==null&&!un?(c.updateQueue=r.updateQueue,c.flags&=-2053,r.lanes&=~P,_r(r,c,P)):(gt&&b&&il(c),c.flags|=1,tn(r,c,x,P),c.child)}function Am(r,c,b,x,P){if(r===null){var L=b.type;return typeof L=="function"&&!Zl(L)&&L.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(c.tag=15,c.type=L,Pm(r,c,L,x,P)):(r=r0(b.type,null,x,c,c.mode,P),r.ref=c.ref,r.return=c,c.child=r)}if(L=r.child,!(r.lanes&P)){var $=L.memoizedProps;if(b=b.compare,b=b!==null?b:ia,b($,x)&&r.ref===c.ref)return _r(r,c,P)}return c.flags|=1,r=Jr(L,x),r.ref=c.ref,r.return=c,c.child=r}function Pm(r,c,b,x,P){if(r!==null){var L=r.memoizedProps;if(ia(L,x)&&r.ref===c.ref)if(un=!1,c.pendingProps=x=L,(r.lanes&P)!==0)r.flags&131072&&(un=!0);else return c.lanes=r.lanes,_r(r,c,P)}return Nl(r,c,b,x,P)}function Nm(r,c,b){var x=c.pendingProps,P=x.children,L=r!==null?r.memoizedState:null;if(x.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(os,wn),wn|=b;else{if(!(b&1073741824))return r=L!==null?L.baseLanes|b:b,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:r,cachePool:null,transitions:null},c.updateQueue=null,at(os,wn),wn|=r,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=L!==null?L.baseLanes:b,at(os,wn),wn|=x}else L!==null?(x=L.baseLanes|b,c.memoizedState=null):x=b,at(os,wn),wn|=x;return tn(r,c,P,b),c.child}function Om(r,c){var b=c.ref;(r===null&&b!==null||r!==null&&r.ref!==b)&&(c.flags|=512,c.flags|=2097152)}function Nl(r,c,b,x,P){var L=ln(b)?gi:$t.current;return L=Ki(c,L),rs(c,P),b=wl(r,c,b,x,L,P),x=Cl(),r!==null&&!un?(c.updateQueue=r.updateQueue,c.flags&=-2053,r.lanes&=~P,_r(r,c,P)):(gt&&x&&il(c),c.flags|=1,tn(r,c,b,P),c.child)}function Im(r,c,b,x,P){if(ln(b)){var L=!0;Mo(c)}else L=!1;if(rs(c,P),c.stateNode===null)Go(r,c),wm(c,b,x),Ml(c,b,x,P),x=!0;else if(r===null){var $=c.stateNode,Z=c.memoizedProps;$.props=Z;var ee=$.context,ce=b.contextType;typeof ce=="object"&&ce!==null?ce=Pn(ce):(ce=ln(b)?gi:$t.current,ce=Ki(c,ce));var ye=b.getDerivedStateFromProps,be=typeof ye=="function"||typeof $.getSnapshotBeforeUpdate=="function";be||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==x||ee!==ce)&&Cm(c,$,x,ce),Gr=!1;var me=c.memoizedState;$.state=me,Fo(c,x,$,P),ee=c.memoizedState,Z!==x||me!==ee||cn.current||Gr?(typeof ye=="function"&&(El(c,b,ye,x),ee=c.memoizedState),(Z=Gr||_m(c,b,Z,x,me,ee,ce))?(be||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(c.flags|=4194308)):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ee),$.props=x,$.state=ee,$.context=ce,x=Z):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{$=c.stateNode,Xp(r,c),Z=c.memoizedProps,ce=c.type===c.elementType?Z:jn(c.type,Z),$.props=ce,be=c.pendingProps,me=$.context,ee=b.contextType,typeof ee=="object"&&ee!==null?ee=Pn(ee):(ee=ln(b)?gi:$t.current,ee=Ki(c,ee));var ke=b.getDerivedStateFromProps;(ye=typeof ke=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==be||me!==ee)&&Cm(c,$,x,ee),Gr=!1,me=c.memoizedState,$.state=me,Fo(c,x,$,P);var Pe=c.memoizedState;Z!==be||me!==Pe||cn.current||Gr?(typeof ke=="function"&&(El(c,b,ke,x),Pe=c.memoizedState),(ce=Gr||_m(c,b,ce,x,me,Pe,ee)||!1)?(ye||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(x,Pe,ee),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(x,Pe,ee)),typeof $.componentDidUpdate=="function"&&(c.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof $.componentDidUpdate!="function"||Z===r.memoizedProps&&me===r.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===r.memoizedProps&&me===r.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Pe),$.props=x,$.state=Pe,$.context=ee,x=ce):(typeof $.componentDidUpdate!="function"||Z===r.memoizedProps&&me===r.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===r.memoizedProps&&me===r.memoizedState||(c.flags|=1024),x=!1)}return Ol(r,c,b,x,L,P)}function Ol(r,c,b,x,P,L){Om(r,c);var $=(c.flags&128)!==0;if(!x&&!$)return P&&Bp(c,b,!1),_r(r,c,L);x=c.stateNode,Cb.current=c;var Z=$&&typeof b.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,r!==null&&$?(c.child=ts(c,r.child,null,L),c.child=ts(c,null,Z,L)):tn(r,c,Z,L),c.memoizedState=x.state,P&&Bp(c,b,!0),c.child}function Rm(r){var c=r.stateNode;c.pendingContext?Lp(r,c.pendingContext,c.pendingContext!==c.context):c.context&&Lp(r,c.context,!1),ml(r,c.containerInfo)}function Dm(r,c,b,x,P){return es(),cl(P),c.flags|=256,tn(r,c,b,x),c.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Rl(r){return{baseLanes:r,cachePool:null,transitions:null}}function Lm(r,c,b){var x=c.pendingProps,P=yt.current,L=!1,$=(c.flags&128)!==0,Z;if((Z=$)||(Z=r!==null&&r.memoizedState===null?!1:(P&2)!==0),Z?(L=!0,c.flags&=-129):(r===null||r.memoizedState!==null)&&(P|=1),at(yt,P&1),r===null)return ol(c),r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(c.mode&1?r.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):($=x.children,r=x.fallback,L?(x=c.mode,L=c.child,$={mode:"hidden",children:$},!(x&1)&&L!==null?(L.childLanes=0,L.pendingProps=$):L=i0($,x,0,null),r=Ti(r,x,b,null),L.return=c,r.return=c,L.sibling=r,c.child=L,c.child.memoizedState=Rl(b),c.memoizedState=Il,r):Dl(c,$));if(P=r.memoizedState,P!==null&&(Z=P.dehydrated,Z!==null))return xb(r,c,$,x,Z,P,b);if(L){L=x.fallback,$=c.mode,P=r.child,Z=P.sibling;var ee={mode:"hidden",children:x.children};return!($&1)&&c.child!==P?(x=c.child,x.childLanes=0,x.pendingProps=ee,c.deletions=null):(x=Jr(P,ee),x.subtreeFlags=P.subtreeFlags&14680064),Z!==null?L=Jr(Z,L):(L=Ti(L,$,b,null),L.flags|=2),L.return=c,x.return=c,x.sibling=L,c.child=x,x=L,L=c.child,$=r.child.memoizedState,$=$===null?Rl(b):{baseLanes:$.baseLanes|b,cachePool:null,transitions:$.transitions},L.memoizedState=$,L.childLanes=r.childLanes&~b,c.memoizedState=Il,x}return L=r.child,r=L.sibling,x=Jr(L,{mode:"visible",children:x.children}),!(c.mode&1)&&(x.lanes=b),x.return=c,x.sibling=null,r!==null&&(b=c.deletions,b===null?(c.deletions=[r],c.flags|=16):b.push(r)),c.child=x,c.memoizedState=null,x}function Dl(r,c){return c=i0({mode:"visible",children:c},r.mode,0,null),c.return=r,r.child=c}function Uo(r,c,b,x){return x!==null&&cl(x),ts(c,r.child,null,b),r=Dl(c,c.pendingProps.children),r.flags|=2,c.memoizedState=null,r}function xb(r,c,b,x,P,L,$){if(b)return c.flags&256?(c.flags&=-257,x=Al(Error(t(422))),Uo(r,c,$,x)):c.memoizedState!==null?(c.child=r.child,c.flags|=128,null):(L=x.fallback,P=c.mode,x=i0({mode:"visible",children:x.children},P,0,null),L=Ti(L,P,$,null),L.flags|=2,x.return=c,L.return=c,x.sibling=L,c.child=x,c.mode&1&&ts(c,r.child,null,$),c.child.memoizedState=Rl($),c.memoizedState=Il,L);if(!(c.mode&1))return Uo(r,c,$,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var Z=x.dgst;return x=Z,L=Error(t(419)),x=Al(L,x,void 0),Uo(r,c,$,x)}if(Z=($&r.childLanes)!==0,un||Z){if(x=Ft,x!==null){switch($&-$){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=P&(x.suspendedLanes|$)?0:P,P!==0&&P!==L.retryLane&&(L.retryLane=P,yr(r,P),Un(x,r,P,-1))}return Kl(),x=Al(Error(t(421))),Uo(r,c,$,x)}return P.data==="$?"?(c.flags|=128,c.child=r.child,c=Lb.bind(null,r),P._reactRetry=c,null):(r=L.treeContext,_n=jr(P.nextSibling),bn=c,gt=!0,Vn=null,r!==null&&(Mn[An++]=gr,Mn[An++]=vr,Mn[An++]=vi,gr=r.id,vr=r.overflow,vi=c),c=Dl(c,x.children),c.flags|=4096,c)}function Fm(r,c,b){r.lanes|=c;var x=r.alternate;x!==null&&(x.lanes|=c),fl(r.return,c,b)}function Ll(r,c,b,x,P){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:b,tailMode:P}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=x,L.tail=b,L.tailMode=P)}function Bm(r,c,b){var x=c.pendingProps,P=x.revealOrder,L=x.tail;if(tn(r,c,x.children,b),x=yt.current,x&2)x=x&1|2,c.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=c.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fm(r,b,c);else if(r.tag===19)Fm(r,b,c);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===c)break e;for(;r.sibling===null;){if(r.return===null||r.return===c)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}x&=1}if(at(yt,x),!(c.mode&1))c.memoizedState=null;else switch(P){case"forwards":for(b=c.child,P=null;b!==null;)r=b.alternate,r!==null&&Bo(r)===null&&(P=b),b=b.sibling;b=P,b===null?(P=c.child,c.child=null):(P=b.sibling,b.sibling=null),Ll(c,!1,P,b,L);break;case"backwards":for(b=null,P=c.child,c.child=null;P!==null;){if(r=P.alternate,r!==null&&Bo(r)===null){c.child=P;break}r=P.sibling,P.sibling=b,b=P,P=r}Ll(c,!0,b,null,L);break;case"together":Ll(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Go(r,c){!(c.mode&1)&&r!==null&&(r.alternate=null,c.alternate=null,c.flags|=2)}function _r(r,c,b){if(r!==null&&(c.dependencies=r.dependencies),Ci|=c.lanes,!(b&c.childLanes))return null;if(r!==null&&c.child!==r.child)throw Error(t(153));if(c.child!==null){for(r=c.child,b=Jr(r,r.pendingProps),c.child=b,b.return=c;r.sibling!==null;)r=r.sibling,b=b.sibling=Jr(r,r.pendingProps),b.return=c;b.sibling=null}return c.child}function Sb(r,c,b){switch(c.tag){case 3:Rm(c),es();break;case 5:Zp(c);break;case 1:ln(c.type)&&Mo(c);break;case 4:ml(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,P=c.memoizedProps.value;at(Ro,x._currentValue),x._currentValue=P;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(at(yt,yt.current&1),c.flags|=128,null):b&c.child.childLanes?Lm(r,c,b):(at(yt,yt.current&1),r=_r(r,c,b),r!==null?r.sibling:null);at(yt,yt.current&1);break;case 19:if(x=(b&c.childLanes)!==0,r.flags&128){if(x)return Bm(r,c,b);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),at(yt,yt.current),x)break;return null;case 22:case 23:return c.lanes=0,Nm(r,c,b)}return _r(r,c,b)}var qm,Fl,zm,Vm;qm=function(r,c){for(var b=c.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break;for(;b.sibling===null;){if(b.return===null||b.return===c)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Fl=function(){},zm=function(r,c,b,x){var P=r.memoizedProps;if(P!==x){r=c.stateNode,_i(rr.current);var L=null;switch(b){case"input":P=de(r,P),x=de(r,x),L=[];break;case"select":P=O({},P,{value:void 0}),x=O({},x,{value:void 0}),L=[];break;case"textarea":P=le(r,P),x=le(r,x),L=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(r.onclick=ko)}Qe(b,x);var $;b=null;for(ce in P)if(!x.hasOwnProperty(ce)&&P.hasOwnProperty(ce)&&P[ce]!=null)if(ce==="style"){var Z=P[ce];for($ in Z)Z.hasOwnProperty($)&&(b||(b={}),b[$]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?L||(L=[]):(L=L||[]).push(ce,null));for(ce in x){var ee=x[ce];if(Z=P!=null?P[ce]:void 0,x.hasOwnProperty(ce)&&ee!==Z&&(ee!=null||Z!=null))if(ce==="style")if(Z){for($ in Z)!Z.hasOwnProperty($)||ee&&ee.hasOwnProperty($)||(b||(b={}),b[$]="");for($ in ee)ee.hasOwnProperty($)&&Z[$]!==ee[$]&&(b||(b={}),b[$]=ee[$])}else b||(L||(L=[]),L.push(ce,b)),b=ee;else ce==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Z=Z?Z.__html:void 0,ee!=null&&Z!==ee&&(L=L||[]).push(ce,ee)):ce==="children"?typeof ee!="string"&&typeof ee!="number"||(L=L||[]).push(ce,""+ee):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ee!=null&&ce==="onScroll"&&ht("scroll",r),L||Z===ee||(L=[])):(L=L||[]).push(ce,ee))}b&&(L=L||[]).push("style",b);var ce=L;(c.updateQueue=ce)&&(c.flags|=4)}},Vm=function(r,c,b,x){b!==x&&(c.flags|=4)};function ba(r,c){if(!gt)switch(r.tailMode){case"hidden":c=r.tail;for(var b=null;c!==null;)c.alternate!==null&&(b=c),c=c.sibling;b===null?r.tail=null:b.sibling=null;break;case"collapsed":b=r.tail;for(var x=null;b!==null;)b.alternate!==null&&(x=b),b=b.sibling;x===null?c||r.tail===null?r.tail=null:r.tail.sibling=null:x.sibling=null}}function Xt(r){var c=r.alternate!==null&&r.alternate.child===r.child,b=0,x=0;if(c)for(var P=r.child;P!==null;)b|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=r,P=P.sibling;else for(P=r.child;P!==null;)b|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=r,P=P.sibling;return r.subtreeFlags|=x,r.childLanes=b,c}function kb(r,c,b){var x=c.pendingProps;switch(sl(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return ln(c.type)&&Eo(),Xt(c),null;case 3:return x=c.stateNode,is(),ft(cn),ft($t),yl(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(r===null||r.child===null)&&(Oo(c)?c.flags|=4:r===null||r.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Vn!==null&&(Yl(Vn),Vn=null))),Fl(r,c),Xt(c),null;case 5:gl(c);var P=_i(pa.current);if(b=c.type,r!==null&&c.stateNode!=null)zm(r,c,b,x,P),r.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(t(166));return Xt(c),null}if(r=_i(rr.current),Oo(c)){x=c.stateNode,b=c.type;var L=c.memoizedProps;switch(x[nr]=c,x[la]=L,r=(c.mode&1)!==0,b){case"dialog":ht("cancel",x),ht("close",x);break;case"iframe":case"object":case"embed":ht("load",x);break;case"video":case"audio":for(P=0;P<aa.length;P++)ht(aa[P],x);break;case"source":ht("error",x);break;case"img":case"image":case"link":ht("error",x),ht("load",x);break;case"details":ht("toggle",x);break;case"input":ve(x,L),ht("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!L.multiple},ht("invalid",x);break;case"textarea":se(x,L),ht("invalid",x)}Qe(b,L),P=null;for(var $ in L)if(L.hasOwnProperty($)){var Z=L[$];$==="children"?typeof Z=="string"?x.textContent!==Z&&(L.suppressHydrationWarning!==!0&&So(x.textContent,Z,r),P=["children",Z]):typeof Z=="number"&&x.textContent!==""+Z&&(L.suppressHydrationWarning!==!0&&So(x.textContent,Z,r),P=["children",""+Z]):o.hasOwnProperty($)&&Z!=null&&$==="onScroll"&&ht("scroll",x)}switch(b){case"input":fe(x),Ie(x,L,!0);break;case"textarea":fe(x),pe(x);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(x.onclick=ko)}x=P,c.updateQueue=x,x!==null&&(c.flags|=4)}else{$=P.nodeType===9?P:P.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ee(b)),r==="http://www.w3.org/1999/xhtml"?b==="script"?(r=$.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof x.is=="string"?r=$.createElement(b,{is:x.is}):(r=$.createElement(b),b==="select"&&($=r,x.multiple?$.multiple=!0:x.size&&($.size=x.size))):r=$.createElementNS(r,b),r[nr]=c,r[la]=x,qm(r,c,!1,!1),c.stateNode=r;e:{switch($=tt(b,x),b){case"dialog":ht("cancel",r),ht("close",r),P=x;break;case"iframe":case"object":case"embed":ht("load",r),P=x;break;case"video":case"audio":for(P=0;P<aa.length;P++)ht(aa[P],r);P=x;break;case"source":ht("error",r),P=x;break;case"img":case"image":case"link":ht("error",r),ht("load",r),P=x;break;case"details":ht("toggle",r),P=x;break;case"input":ve(r,x),P=de(r,x),ht("invalid",r);break;case"option":P=x;break;case"select":r._wrapperState={wasMultiple:!!x.multiple},P=O({},x,{value:void 0}),ht("invalid",r);break;case"textarea":se(r,x),P=le(r,x),ht("invalid",r);break;default:P=x}Qe(b,P),Z=P;for(L in Z)if(Z.hasOwnProperty(L)){var ee=Z[L];L==="style"?st(r,ee):L==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Me(r,ee)):L==="children"?typeof ee=="string"?(b!=="textarea"||ee!=="")&&Le(r,ee):typeof ee=="number"&&Le(r,""+ee):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?ee!=null&&L==="onScroll"&&ht("scroll",r):ee!=null&&M(r,L,ee,$))}switch(b){case"input":fe(r),Ie(r,x,!1);break;case"textarea":fe(r),pe(r);break;case"option":x.value!=null&&r.setAttribute("value",""+J(x.value));break;case"select":r.multiple=!!x.multiple,L=x.value,L!=null?ne(r,!!x.multiple,L,!1):x.defaultValue!=null&&ne(r,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(r.onclick=ko)}switch(b){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Xt(c),null;case 6:if(r&&c.stateNode!=null)Vm(r,c,r.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(t(166));if(b=_i(pa.current),_i(rr.current),Oo(c)){if(x=c.stateNode,b=c.memoizedProps,x[nr]=c,(L=x.nodeValue!==b)&&(r=bn,r!==null))switch(r.tag){case 3:So(x.nodeValue,b,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&So(x.nodeValue,b,(r.mode&1)!==0)}L&&(c.flags|=4)}else x=(b.nodeType===9?b:b.ownerDocument).createTextNode(x),x[nr]=c,c.stateNode=x}return Xt(c),null;case 13:if(ft(yt),x=c.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&_n!==null&&c.mode&1&&!(c.flags&128))Wp(),es(),c.flags|=98560,L=!1;else if(L=Oo(c),x!==null&&x.dehydrated!==null){if(r===null){if(!L)throw Error(t(318));if(L=c.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(t(317));L[nr]=c}else es(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Xt(c),L=!1}else Vn!==null&&(Yl(Vn),Vn=null),L=!0;if(!L)return c.flags&65536?c:null}return c.flags&128?(c.lanes=b,c):(x=x!==null,x!==(r!==null&&r.memoizedState!==null)&&x&&(c.child.flags|=8192,c.mode&1&&(r===null||yt.current&1?Rt===0&&(Rt=3):Kl())),c.updateQueue!==null&&(c.flags|=4),Xt(c),null);case 4:return is(),Fl(r,c),r===null&&oa(c.stateNode.containerInfo),Xt(c),null;case 10:return hl(c.type._context),Xt(c),null;case 17:return ln(c.type)&&Eo(),Xt(c),null;case 19:if(ft(yt),L=c.memoizedState,L===null)return Xt(c),null;if(x=(c.flags&128)!==0,$=L.rendering,$===null)if(x)ba(L,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=c.child;r!==null;){if($=Bo(r),$!==null){for(c.flags|=128,ba(L,!1),x=$.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=b,b=c.child;b!==null;)L=b,r=x,L.flags&=14680066,$=L.alternate,$===null?(L.childLanes=0,L.lanes=r,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=$.childLanes,L.lanes=$.lanes,L.child=$.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=$.memoizedProps,L.memoizedState=$.memoizedState,L.updateQueue=$.updateQueue,L.type=$.type,r=$.dependencies,L.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),b=b.sibling;return at(yt,yt.current&1|2),c.child}r=r.sibling}L.tail!==null&&kt()>cs&&(c.flags|=128,x=!0,ba(L,!1),c.lanes=4194304)}else{if(!x)if(r=Bo($),r!==null){if(c.flags|=128,x=!0,b=r.updateQueue,b!==null&&(c.updateQueue=b,c.flags|=4),ba(L,!0),L.tail===null&&L.tailMode==="hidden"&&!$.alternate&&!gt)return Xt(c),null}else 2*kt()-L.renderingStartTime>cs&&b!==1073741824&&(c.flags|=128,x=!0,ba(L,!1),c.lanes=4194304);L.isBackwards?($.sibling=c.child,c.child=$):(b=L.last,b!==null?b.sibling=$:c.child=$,L.last=$)}return L.tail!==null?(c=L.tail,L.rendering=c,L.tail=c.sibling,L.renderingStartTime=kt(),c.sibling=null,b=yt.current,at(yt,x?b&1|2:b&1),c):(Xt(c),null);case 22:case 23:return Ql(),x=c.memoizedState!==null,r!==null&&r.memoizedState!==null!==x&&(c.flags|=8192),x&&c.mode&1?wn&1073741824&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function Tb(r,c){switch(sl(c),c.tag){case 1:return ln(c.type)&&Eo(),r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 3:return is(),ft(cn),ft($t),yl(),r=c.flags,r&65536&&!(r&128)?(c.flags=r&-65537|128,c):null;case 5:return gl(c),null;case 13:if(ft(yt),r=c.memoizedState,r!==null&&r.dehydrated!==null){if(c.alternate===null)throw Error(t(340));es()}return r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 19:return ft(yt),null;case 4:return is(),null;case 10:return hl(c.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var $o=!1,Qt=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function as(r,c){var b=r.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(x){Ct(r,c,x)}else b.current=null}function Bl(r,c,b){try{b()}catch(x){Ct(r,c,x)}}var jm=!1;function Mb(r,c){if(Qc=fo,r=_p(),jc(r)){if("selectionStart"in r)var b={start:r.selectionStart,end:r.selectionEnd};else e:{b=(b=r.ownerDocument)&&b.defaultView||window;var x=b.getSelection&&b.getSelection();if(x&&x.rangeCount!==0){b=x.anchorNode;var P=x.anchorOffset,L=x.focusNode;x=x.focusOffset;try{b.nodeType,L.nodeType}catch{b=null;break e}var $=0,Z=-1,ee=-1,ce=0,ye=0,be=r,me=null;t:for(;;){for(var ke;be!==b||P!==0&&be.nodeType!==3||(Z=$+P),be!==L||x!==0&&be.nodeType!==3||(ee=$+x),be.nodeType===3&&($+=be.nodeValue.length),(ke=be.firstChild)!==null;)me=be,be=ke;for(;;){if(be===r)break t;if(me===b&&++ce===P&&(Z=$),me===L&&++ye===x&&(ee=$),(ke=be.nextSibling)!==null)break;be=me,me=be.parentNode}be=ke}b=Z===-1||ee===-1?null:{start:Z,end:ee}}else b=null}b=b||{start:0,end:0}}else b=null;for(Kc={focusedElem:r,selectionRange:b},fo=!1,Ae=c;Ae!==null;)if(c=Ae,r=c.child,(c.subtreeFlags&1028)!==0&&r!==null)r.return=c,Ae=r;else for(;Ae!==null;){c=Ae;try{var Pe=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ne=Pe.memoizedProps,Tt=Pe.memoizedState,ae=c.stateNode,te=ae.getSnapshotBeforeUpdate(c.elementType===c.type?Ne:jn(c.type,Ne),Tt);ae.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=c.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(we){Ct(c,c.return,we)}if(r=c.sibling,r!==null){r.return=c.return,Ae=r;break}Ae=c.return}return Pe=jm,jm=!1,Pe}function _a(r,c,b){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&r)===r){var L=P.destroy;P.destroy=void 0,L!==void 0&&Bl(c,b,L)}P=P.next}while(P!==x)}}function Yo(r,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var b=c=c.next;do{if((b.tag&r)===r){var x=b.create;b.destroy=x()}b=b.next}while(b!==c)}}function ql(r){var c=r.ref;if(c!==null){var b=r.stateNode;switch(r.tag){case 5:r=b;break;default:r=b}typeof c=="function"?c(r):c.current=r}}function Hm(r){var c=r.alternate;c!==null&&(r.alternate=null,Hm(c)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(c=r.stateNode,c!==null&&(delete c[nr],delete c[la],delete c[tl],delete c[ub],delete c[hb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wm(r){return r.tag===5||r.tag===3||r.tag===4}function Um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zl(r,c,b){var x=r.tag;if(x===5||x===6)r=r.stateNode,c?b.nodeType===8?b.parentNode.insertBefore(r,c):b.insertBefore(r,c):(b.nodeType===8?(c=b.parentNode,c.insertBefore(r,b)):(c=b,c.appendChild(r)),b=b._reactRootContainer,b!=null||c.onclick!==null||(c.onclick=ko));else if(x!==4&&(r=r.child,r!==null))for(zl(r,c,b),r=r.sibling;r!==null;)zl(r,c,b),r=r.sibling}function Vl(r,c,b){var x=r.tag;if(x===5||x===6)r=r.stateNode,c?b.insertBefore(r,c):b.appendChild(r);else if(x!==4&&(r=r.child,r!==null))for(Vl(r,c,b),r=r.sibling;r!==null;)Vl(r,c,b),r=r.sibling}var Wt=null,Hn=!1;function Yr(r,c,b){for(b=b.child;b!==null;)Gm(r,c,b),b=b.sibling}function Gm(r,c,b){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ao,b)}catch{}switch(b.tag){case 5:Qt||as(b,c);case 6:var x=Wt,P=Hn;Wt=null,Yr(r,c,b),Wt=x,Hn=P,Wt!==null&&(Hn?(r=Wt,b=b.stateNode,r.nodeType===8?r.parentNode.removeChild(b):r.removeChild(b)):Wt.removeChild(b.stateNode));break;case 18:Wt!==null&&(Hn?(r=Wt,b=b.stateNode,r.nodeType===8?el(r.parentNode,b):r.nodeType===1&&el(r,b),Zs(r)):el(Wt,b.stateNode));break;case 4:x=Wt,P=Hn,Wt=b.stateNode.containerInfo,Hn=!0,Yr(r,c,b),Wt=x,Hn=P;break;case 0:case 11:case 14:case 15:if(!Qt&&(x=b.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var L=P,$=L.destroy;L=L.tag,$!==void 0&&(L&2||L&4)&&Bl(b,c,$),P=P.next}while(P!==x)}Yr(r,c,b);break;case 1:if(!Qt&&(as(b,c),x=b.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=b.memoizedProps,x.state=b.memoizedState,x.componentWillUnmount()}catch(Z){Ct(b,c,Z)}Yr(r,c,b);break;case 21:Yr(r,c,b);break;case 22:b.mode&1?(Qt=(x=Qt)||b.memoizedState!==null,Yr(r,c,b),Qt=x):Yr(r,c,b);break;default:Yr(r,c,b)}}function $m(r){var c=r.updateQueue;if(c!==null){r.updateQueue=null;var b=r.stateNode;b===null&&(b=r.stateNode=new Eb),c.forEach(function(x){var P=Fb.bind(null,r,x);b.has(x)||(b.add(x),x.then(P,P))})}}function Wn(r,c){var b=c.deletions;if(b!==null)for(var x=0;x<b.length;x++){var P=b[x];try{var L=r,$=c,Z=$;e:for(;Z!==null;){switch(Z.tag){case 5:Wt=Z.stateNode,Hn=!1;break e;case 3:Wt=Z.stateNode.containerInfo,Hn=!0;break e;case 4:Wt=Z.stateNode.containerInfo,Hn=!0;break e}Z=Z.return}if(Wt===null)throw Error(t(160));Gm(L,$,P),Wt=null,Hn=!1;var ee=P.alternate;ee!==null&&(ee.return=null),P.return=null}catch(ce){Ct(P,c,ce)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Ym(c,r),c=c.sibling}function Ym(r,c){var b=r.alternate,x=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(c,r),sr(r),x&4){try{_a(3,r,r.return),Yo(3,r)}catch(Ne){Ct(r,r.return,Ne)}try{_a(5,r,r.return)}catch(Ne){Ct(r,r.return,Ne)}}break;case 1:Wn(c,r),sr(r),x&512&&b!==null&&as(b,b.return);break;case 5:if(Wn(c,r),sr(r),x&512&&b!==null&&as(b,b.return),r.flags&32){var P=r.stateNode;try{Le(P,"")}catch(Ne){Ct(r,r.return,Ne)}}if(x&4&&(P=r.stateNode,P!=null)){var L=r.memoizedProps,$=b!==null?b.memoizedProps:L,Z=r.type,ee=r.updateQueue;if(r.updateQueue=null,ee!==null)try{Z==="input"&&L.type==="radio"&&L.name!=null&&_e(P,L),tt(Z,$);var ce=tt(Z,L);for($=0;$<ee.length;$+=2){var ye=ee[$],be=ee[$+1];ye==="style"?st(P,be):ye==="dangerouslySetInnerHTML"?Me(P,be):ye==="children"?Le(P,be):M(P,ye,be,ce)}switch(Z){case"input":De(P,L);break;case"textarea":re(P,L);break;case"select":var me=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!L.multiple;var ke=L.value;ke!=null?ne(P,!!L.multiple,ke,!1):me!==!!L.multiple&&(L.defaultValue!=null?ne(P,!!L.multiple,L.defaultValue,!0):ne(P,!!L.multiple,L.multiple?[]:"",!1))}P[la]=L}catch(Ne){Ct(r,r.return,Ne)}}break;case 6:if(Wn(c,r),sr(r),x&4){if(r.stateNode===null)throw Error(t(162));P=r.stateNode,L=r.memoizedProps;try{P.nodeValue=L}catch(Ne){Ct(r,r.return,Ne)}}break;case 3:if(Wn(c,r),sr(r),x&4&&b!==null&&b.memoizedState.isDehydrated)try{Zs(c.containerInfo)}catch(Ne){Ct(r,r.return,Ne)}break;case 4:Wn(c,r),sr(r);break;case 13:Wn(c,r),sr(r),P=r.child,P.flags&8192&&(L=P.memoizedState!==null,P.stateNode.isHidden=L,!L||P.alternate!==null&&P.alternate.memoizedState!==null||(Wl=kt())),x&4&&$m(r);break;case 22:if(ye=b!==null&&b.memoizedState!==null,r.mode&1?(Qt=(ce=Qt)||ye,Wn(c,r),Qt=ce):Wn(c,r),sr(r),x&8192){if(ce=r.memoizedState!==null,(r.stateNode.isHidden=ce)&&!ye&&r.mode&1)for(Ae=r,ye=r.child;ye!==null;){for(be=Ae=ye;Ae!==null;){switch(me=Ae,ke=me.child,me.tag){case 0:case 11:case 14:case 15:_a(4,me,me.return);break;case 1:as(me,me.return);var Pe=me.stateNode;if(typeof Pe.componentWillUnmount=="function"){x=me,b=me.return;try{c=x,Pe.props=c.memoizedProps,Pe.state=c.memoizedState,Pe.componentWillUnmount()}catch(Ne){Ct(x,b,Ne)}}break;case 5:as(me,me.return);break;case 22:if(me.memoizedState!==null){Km(be);continue}}ke!==null?(ke.return=me,Ae=ke):Km(be)}ye=ye.sibling}e:for(ye=null,be=r;;){if(be.tag===5){if(ye===null){ye=be;try{P=be.stateNode,ce?(L=P.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(Z=be.stateNode,ee=be.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Z.style.display=Ve("display",$))}catch(Ne){Ct(r,r.return,Ne)}}}else if(be.tag===6){if(ye===null)try{be.stateNode.nodeValue=ce?"":be.memoizedProps}catch(Ne){Ct(r,r.return,Ne)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===r)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===r)break e;for(;be.sibling===null;){if(be.return===null||be.return===r)break e;ye===be&&(ye=null),be=be.return}ye===be&&(ye=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Wn(c,r),sr(r),x&4&&$m(r);break;case 21:break;default:Wn(c,r),sr(r)}}function sr(r){var c=r.flags;if(c&2){try{e:{for(var b=r.return;b!==null;){if(Wm(b)){var x=b;break e}b=b.return}throw Error(t(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(Le(P,""),x.flags&=-33);var L=Um(r);Vl(r,L,P);break;case 3:case 4:var $=x.stateNode.containerInfo,Z=Um(r);zl(r,Z,$);break;default:throw Error(t(161))}}catch(ee){Ct(r,r.return,ee)}r.flags&=-3}c&4096&&(r.flags&=-4097)}function Ab(r,c,b){Ae=r,Xm(r)}function Xm(r,c,b){for(var x=(r.mode&1)!==0;Ae!==null;){var P=Ae,L=P.child;if(P.tag===22&&x){var $=P.memoizedState!==null||$o;if(!$){var Z=P.alternate,ee=Z!==null&&Z.memoizedState!==null||Qt;Z=$o;var ce=Qt;if($o=$,(Qt=ee)&&!ce)for(Ae=P;Ae!==null;)$=Ae,ee=$.child,$.tag===22&&$.memoizedState!==null?Zm(P):ee!==null?(ee.return=$,Ae=ee):Zm(P);for(;L!==null;)Ae=L,Xm(L),L=L.sibling;Ae=P,$o=Z,Qt=ce}Qm(r)}else P.subtreeFlags&8772&&L!==null?(L.return=P,Ae=L):Qm(r)}}function Qm(r){for(;Ae!==null;){var c=Ae;if(c.flags&8772){var b=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:Qt||Yo(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Qt)if(b===null)x.componentDidMount();else{var P=c.elementType===c.type?b.memoizedProps:jn(c.type,b.memoizedProps);x.componentDidUpdate(P,b.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var L=c.updateQueue;L!==null&&Kp(c,L,x);break;case 3:var $=c.updateQueue;if($!==null){if(b=null,c.child!==null)switch(c.child.tag){case 5:b=c.child.stateNode;break;case 1:b=c.child.stateNode}Kp(c,$,b)}break;case 5:var Z=c.stateNode;if(b===null&&c.flags&4){b=Z;var ee=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&b.focus();break;case"img":ee.src&&(b.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ce=c.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var be=ye.dehydrated;be!==null&&Zs(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||c.flags&512&&ql(c)}catch(me){Ct(c,c.return,me)}}if(c===r){Ae=null;break}if(b=c.sibling,b!==null){b.return=c.return,Ae=b;break}Ae=c.return}}function Km(r){for(;Ae!==null;){var c=Ae;if(c===r){Ae=null;break}var b=c.sibling;if(b!==null){b.return=c.return,Ae=b;break}Ae=c.return}}function Zm(r){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var b=c.return;try{Yo(4,c)}catch(ee){Ct(c,b,ee)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var P=c.return;try{x.componentDidMount()}catch(ee){Ct(c,P,ee)}}var L=c.return;try{ql(c)}catch(ee){Ct(c,L,ee)}break;case 5:var $=c.return;try{ql(c)}catch(ee){Ct(c,$,ee)}}}catch(ee){Ct(c,c.return,ee)}if(c===r){Ae=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,Ae=Z;break}Ae=c.return}}var Pb=Math.ceil,Xo=I.ReactCurrentDispatcher,jl=I.ReactCurrentOwner,On=I.ReactCurrentBatchConfig,Ke=0,Ft=null,Mt=null,Ut=0,wn=0,os=Hr(0),Rt=0,wa=null,Ci=0,Qo=0,Hl=0,Ca=null,hn=null,Wl=0,cs=1/0,wr=null,Ko=!1,Ul=null,Xr=null,Zo=!1,Qr=null,Jo=0,xa=0,Gl=null,e0=-1,t0=0;function nn(){return Ke&6?kt():e0!==-1?e0:e0=kt()}function Kr(r){return r.mode&1?Ke&2&&Ut!==0?Ut&-Ut:db.transition!==null?(t0===0&&(t0=U1()),t0):(r=et,r!==0||(r=window.event,r=r===void 0?16:ep(r.type)),r):1}function Un(r,c,b,x){if(50<xa)throw xa=0,Gl=null,Error(t(185));$s(r,b,x),(!(Ke&2)||r!==Ft)&&(r===Ft&&(!(Ke&2)&&(Qo|=b),Rt===4&&Zr(r,Ut)),fn(r,x),b===1&&Ke===0&&!(c.mode&1)&&(cs=kt()+500,Ao&&Ur()))}function fn(r,c){var b=r.callbackNode;d4(r,c);var x=lo(r,r===Ft?Ut:0);if(x===0)b!==null&&j1(b),r.callbackNode=null,r.callbackPriority=0;else if(c=x&-x,r.callbackPriority!==c){if(b!=null&&j1(b),c===1)r.tag===0?fb(eg.bind(null,r)):qp(eg.bind(null,r)),cb(function(){!(Ke&6)&&Ur()}),b=null;else{switch(G1(x)){case 1:b=kc;break;case 4:b=H1;break;case 16:b=so;break;case 536870912:b=W1;break;default:b=so}b=cg(b,Jm.bind(null,r))}r.callbackPriority=c,r.callbackNode=b}}function Jm(r,c){if(e0=-1,t0=0,Ke&6)throw Error(t(327));var b=r.callbackNode;if(ls()&&r.callbackNode!==b)return null;var x=lo(r,r===Ft?Ut:0);if(x===0)return null;if(x&30||x&r.expiredLanes||c)c=n0(r,x);else{c=x;var P=Ke;Ke|=2;var L=ng();(Ft!==r||Ut!==c)&&(wr=null,cs=kt()+500,Si(r,c));do try{Ib();break}catch(Z){tg(r,Z)}while(!0);ul(),Xo.current=L,Ke=P,Mt!==null?c=0:(Ft=null,Ut=0,c=Rt)}if(c!==0){if(c===2&&(P=Tc(r),P!==0&&(x=P,c=$l(r,P))),c===1)throw b=wa,Si(r,0),Zr(r,x),fn(r,kt()),b;if(c===6)Zr(r,x);else{if(P=r.current.alternate,!(x&30)&&!Nb(P)&&(c=n0(r,x),c===2&&(L=Tc(r),L!==0&&(x=L,c=$l(r,L))),c===1))throw b=wa,Si(r,0),Zr(r,x),fn(r,kt()),b;switch(r.finishedWork=P,r.finishedLanes=x,c){case 0:case 1:throw Error(t(345));case 2:ki(r,hn,wr);break;case 3:if(Zr(r,x),(x&130023424)===x&&(c=Wl+500-kt(),10<c)){if(lo(r,0)!==0)break;if(P=r.suspendedLanes,(P&x)!==x){nn(),r.pingedLanes|=r.suspendedLanes&P;break}r.timeoutHandle=Jc(ki.bind(null,r,hn,wr),c);break}ki(r,hn,wr);break;case 4:if(Zr(r,x),(x&4194240)===x)break;for(c=r.eventTimes,P=-1;0<x;){var $=31-qn(x);L=1<<$,$=c[$],$>P&&(P=$),x&=~L}if(x=P,x=kt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*Pb(x/1960))-x,10<x){r.timeoutHandle=Jc(ki.bind(null,r,hn,wr),x);break}ki(r,hn,wr);break;case 5:ki(r,hn,wr);break;default:throw Error(t(329))}}}return fn(r,kt()),r.callbackNode===b?Jm.bind(null,r):null}function $l(r,c){var b=Ca;return r.current.memoizedState.isDehydrated&&(Si(r,c).flags|=256),r=n0(r,c),r!==2&&(c=hn,hn=b,c!==null&&Yl(c)),r}function Yl(r){hn===null?hn=r:hn.push.apply(hn,r)}function Nb(r){for(var c=r;;){if(c.flags&16384){var b=c.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var x=0;x<b.length;x++){var P=b[x],L=P.getSnapshot;P=P.value;try{if(!zn(L(),P))return!1}catch{return!1}}}if(b=c.child,c.subtreeFlags&16384&&b!==null)b.return=c,c=b;else{if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Zr(r,c){for(c&=~Hl,c&=~Qo,r.suspendedLanes|=c,r.pingedLanes&=~c,r=r.expirationTimes;0<c;){var b=31-qn(c),x=1<<b;r[b]=-1,c&=~x}}function eg(r){if(Ke&6)throw Error(t(327));ls();var c=lo(r,0);if(!(c&1))return fn(r,kt()),null;var b=n0(r,c);if(r.tag!==0&&b===2){var x=Tc(r);x!==0&&(c=x,b=$l(r,x))}if(b===1)throw b=wa,Si(r,0),Zr(r,c),fn(r,kt()),b;if(b===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=c,ki(r,hn,wr),fn(r,kt()),null}function Xl(r,c){var b=Ke;Ke|=1;try{return r(c)}finally{Ke=b,Ke===0&&(cs=kt()+500,Ao&&Ur())}}function xi(r){Qr!==null&&Qr.tag===0&&!(Ke&6)&&ls();var c=Ke;Ke|=1;var b=On.transition,x=et;try{if(On.transition=null,et=1,r)return r()}finally{et=x,On.transition=b,Ke=c,!(Ke&6)&&Ur()}}function Ql(){wn=os.current,ft(os)}function Si(r,c){r.finishedWork=null,r.finishedLanes=0;var b=r.timeoutHandle;if(b!==-1&&(r.timeoutHandle=-1,ob(b)),Mt!==null)for(b=Mt.return;b!==null;){var x=b;switch(sl(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Eo();break;case 3:is(),ft(cn),ft($t),yl();break;case 5:gl(x);break;case 4:is();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:hl(x.type._context);break;case 22:case 23:Ql()}b=b.return}if(Ft=r,Mt=r=Jr(r.current,null),Ut=wn=c,Rt=0,wa=null,Hl=Qo=Ci=0,hn=Ca=null,bi!==null){for(c=0;c<bi.length;c++)if(b=bi[c],x=b.interleaved,x!==null){b.interleaved=null;var P=x.next,L=b.pending;if(L!==null){var $=L.next;L.next=P,x.next=$}b.pending=x}bi=null}return r}function tg(r,c){do{var b=Mt;try{if(ul(),qo.current=Ho,zo){for(var x=bt.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}zo=!1}if(wi=0,Lt=It=bt=null,ma=!1,ga=0,jl.current=null,b===null||b.return===null){Rt=1,wa=c,Mt=null;break}e:{var L=r,$=b.return,Z=b,ee=c;if(c=Ut,Z.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ce=ee,ye=Z,be=ye.tag;if(!(ye.mode&1)&&(be===0||be===11||be===15)){var me=ye.alternate;me?(ye.updateQueue=me.updateQueue,ye.memoizedState=me.memoizedState,ye.lanes=me.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var ke=Tm($);if(ke!==null){ke.flags&=-257,Em(ke,$,Z,L,c),ke.mode&1&&km(L,ce,c),c=ke,ee=ce;var Pe=c.updateQueue;if(Pe===null){var Ne=new Set;Ne.add(ee),c.updateQueue=Ne}else Pe.add(ee);break e}else{if(!(c&1)){km(L,ce,c),Kl();break e}ee=Error(t(426))}}else if(gt&&Z.mode&1){var Tt=Tm($);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),Em(Tt,$,Z,L,c),cl(ss(ee,Z));break e}}L=ee=ss(ee,Z),Rt!==4&&(Rt=2),Ca===null?Ca=[L]:Ca.push(L),L=$;do{switch(L.tag){case 3:L.flags|=65536,c&=-c,L.lanes|=c;var ae=xm(L,ee,c);Qp(L,ae);break e;case 1:Z=ee;var te=L.type,oe=L.stateNode;if(!(L.flags&128)&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Xr===null||!Xr.has(oe)))){L.flags|=65536,c&=-c,L.lanes|=c;var we=Sm(L,Z,c);Qp(L,we);break e}}L=L.return}while(L!==null)}ig(b)}catch(Oe){c=Oe,Mt===b&&b!==null&&(Mt=b=b.return);continue}break}while(!0)}function ng(){var r=Xo.current;return Xo.current=Ho,r===null?Ho:r}function Kl(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ft===null||!(Ci&268435455)&&!(Qo&268435455)||Zr(Ft,Ut)}function n0(r,c){var b=Ke;Ke|=2;var x=ng();(Ft!==r||Ut!==c)&&(wr=null,Si(r,c));do try{Ob();break}catch(P){tg(r,P)}while(!0);if(ul(),Ke=b,Xo.current=x,Mt!==null)throw Error(t(261));return Ft=null,Ut=0,Rt}function Ob(){for(;Mt!==null;)rg(Mt)}function Ib(){for(;Mt!==null&&!i4();)rg(Mt)}function rg(r){var c=og(r.alternate,r,wn);r.memoizedProps=r.pendingProps,c===null?ig(r):Mt=c,jl.current=null}function ig(r){var c=r;do{var b=c.alternate;if(r=c.return,c.flags&32768){if(b=Tb(b,c),b!==null){b.flags&=32767,Mt=b;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,Mt=null;return}}else if(b=kb(b,c,wn),b!==null){Mt=b;return}if(c=c.sibling,c!==null){Mt=c;return}Mt=c=r}while(c!==null);Rt===0&&(Rt=5)}function ki(r,c,b){var x=et,P=On.transition;try{On.transition=null,et=1,Rb(r,c,b,x)}finally{On.transition=P,et=x}return null}function Rb(r,c,b,x){do ls();while(Qr!==null);if(Ke&6)throw Error(t(327));b=r.finishedWork;var P=r.finishedLanes;if(b===null)return null;if(r.finishedWork=null,r.finishedLanes=0,b===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var L=b.lanes|b.childLanes;if(p4(r,L),r===Ft&&(Mt=Ft=null,Ut=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Zo||(Zo=!0,cg(so,function(){return ls(),null})),L=(b.flags&15990)!==0,b.subtreeFlags&15990||L){L=On.transition,On.transition=null;var $=et;et=1;var Z=Ke;Ke|=4,jl.current=null,Mb(r,b),Ym(b,r),eb(Kc),fo=!!Qc,Kc=Qc=null,r.current=b,Ab(b),s4(),Ke=Z,et=$,On.transition=L}else r.current=b;if(Zo&&(Zo=!1,Qr=r,Jo=P),L=r.pendingLanes,L===0&&(Xr=null),c4(b.stateNode),fn(r,kt()),c!==null)for(x=r.onRecoverableError,b=0;b<c.length;b++)P=c[b],x(P.value,{componentStack:P.stack,digest:P.digest});if(Ko)throw Ko=!1,r=Ul,Ul=null,r;return Jo&1&&r.tag!==0&&ls(),L=r.pendingLanes,L&1?r===Gl?xa++:(xa=0,Gl=r):xa=0,Ur(),null}function ls(){if(Qr!==null){var r=G1(Jo),c=On.transition,b=et;try{if(On.transition=null,et=16>r?16:r,Qr===null)var x=!1;else{if(r=Qr,Qr=null,Jo=0,Ke&6)throw Error(t(331));var P=Ke;for(Ke|=4,Ae=r.current;Ae!==null;){var L=Ae,$=L.child;if(Ae.flags&16){var Z=L.deletions;if(Z!==null){for(var ee=0;ee<Z.length;ee++){var ce=Z[ee];for(Ae=ce;Ae!==null;){var ye=Ae;switch(ye.tag){case 0:case 11:case 15:_a(8,ye,L)}var be=ye.child;if(be!==null)be.return=ye,Ae=be;else for(;Ae!==null;){ye=Ae;var me=ye.sibling,ke=ye.return;if(Hm(ye),ye===ce){Ae=null;break}if(me!==null){me.return=ke,Ae=me;break}Ae=ke}}}var Pe=L.alternate;if(Pe!==null){var Ne=Pe.child;if(Ne!==null){Pe.child=null;do{var Tt=Ne.sibling;Ne.sibling=null,Ne=Tt}while(Ne!==null)}}Ae=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,Ae=$;else e:for(;Ae!==null;){if(L=Ae,L.flags&2048)switch(L.tag){case 0:case 11:case 15:_a(9,L,L.return)}var ae=L.sibling;if(ae!==null){ae.return=L.return,Ae=ae;break e}Ae=L.return}}var te=r.current;for(Ae=te;Ae!==null;){$=Ae;var oe=$.child;if($.subtreeFlags&2064&&oe!==null)oe.return=$,Ae=oe;else e:for($=te;Ae!==null;){if(Z=Ae,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:Yo(9,Z)}}catch(Oe){Ct(Z,Z.return,Oe)}if(Z===$){Ae=null;break e}var we=Z.sibling;if(we!==null){we.return=Z.return,Ae=we;break e}Ae=Z.return}}if(Ke=P,Ur(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ao,r)}catch{}x=!0}return x}finally{et=b,On.transition=c}}return!1}function sg(r,c,b){c=ss(b,c),c=xm(r,c,1),r=$r(r,c,1),c=nn(),r!==null&&($s(r,1,c),fn(r,c))}function Ct(r,c,b){if(r.tag===3)sg(r,r,b);else for(;c!==null;){if(c.tag===3){sg(c,r,b);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Xr===null||!Xr.has(x))){r=ss(b,r),r=Sm(c,r,1),c=$r(c,r,1),r=nn(),c!==null&&($s(c,1,r),fn(c,r));break}}c=c.return}}function Db(r,c,b){var x=r.pingCache;x!==null&&x.delete(c),c=nn(),r.pingedLanes|=r.suspendedLanes&b,Ft===r&&(Ut&b)===b&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>kt()-Wl?Si(r,0):Hl|=b),fn(r,c)}function ag(r,c){c===0&&(r.mode&1?(c=co,co<<=1,!(co&130023424)&&(co=4194304)):c=1);var b=nn();r=yr(r,c),r!==null&&($s(r,c,b),fn(r,b))}function Lb(r){var c=r.memoizedState,b=0;c!==null&&(b=c.retryLane),ag(r,b)}function Fb(r,c){var b=0;switch(r.tag){case 13:var x=r.stateNode,P=r.memoizedState;P!==null&&(b=P.retryLane);break;case 19:x=r.stateNode;break;default:throw Error(t(314))}x!==null&&x.delete(c),ag(r,b)}var og;og=function(r,c,b){if(r!==null)if(r.memoizedProps!==c.pendingProps||cn.current)un=!0;else{if(!(r.lanes&b)&&!(c.flags&128))return un=!1,Sb(r,c,b);un=!!(r.flags&131072)}else un=!1,gt&&c.flags&1048576&&zp(c,No,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Go(r,c),r=c.pendingProps;var P=Ki(c,$t.current);rs(c,b),P=wl(null,c,x,r,P,b);var L=Cl();return c.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ln(x)?(L=!0,Mo(c)):L=!1,c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,pl(c),P.updater=Wo,c.stateNode=P,P._reactInternals=c,Ml(c,x,r,b),c=Ol(null,c,x,!0,L,b)):(c.tag=0,gt&&L&&il(c),tn(null,c,P,b),c=c.child),c;case 16:x=c.elementType;e:{switch(Go(r,c),r=c.pendingProps,P=x._init,x=P(x._payload),c.type=x,P=c.tag=qb(x),r=jn(x,r),P){case 0:c=Nl(null,c,x,r,b);break e;case 1:c=Im(null,c,x,r,b);break e;case 11:c=Mm(null,c,x,r,b);break e;case 14:c=Am(null,c,x,jn(x.type,r),b);break e}throw Error(t(306,x,""))}return c;case 0:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:jn(x,P),Nl(r,c,x,P,b);case 1:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:jn(x,P),Im(r,c,x,P,b);case 3:e:{if(Rm(c),r===null)throw Error(t(387));x=c.pendingProps,L=c.memoizedState,P=L.element,Xp(r,c),Fo(c,x,null,b);var $=c.memoizedState;if(x=$.element,L.isDehydrated)if(L={element:x,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},c.updateQueue.baseState=L,c.memoizedState=L,c.flags&256){P=ss(Error(t(423)),c),c=Dm(r,c,x,b,P);break e}else if(x!==P){P=ss(Error(t(424)),c),c=Dm(r,c,x,b,P);break e}else for(_n=jr(c.stateNode.containerInfo.firstChild),bn=c,gt=!0,Vn=null,b=$p(c,null,x,b),c.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(es(),x===P){c=_r(r,c,b);break e}tn(r,c,x,b)}c=c.child}return c;case 5:return Zp(c),r===null&&ol(c),x=c.type,P=c.pendingProps,L=r!==null?r.memoizedProps:null,$=P.children,Zc(x,P)?$=null:L!==null&&Zc(x,L)&&(c.flags|=32),Om(r,c),tn(r,c,$,b),c.child;case 6:return r===null&&ol(c),null;case 13:return Lm(r,c,b);case 4:return ml(c,c.stateNode.containerInfo),x=c.pendingProps,r===null?c.child=ts(c,null,x,b):tn(r,c,x,b),c.child;case 11:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:jn(x,P),Mm(r,c,x,P,b);case 7:return tn(r,c,c.pendingProps,b),c.child;case 8:return tn(r,c,c.pendingProps.children,b),c.child;case 12:return tn(r,c,c.pendingProps.children,b),c.child;case 10:e:{if(x=c.type._context,P=c.pendingProps,L=c.memoizedProps,$=P.value,at(Ro,x._currentValue),x._currentValue=$,L!==null)if(zn(L.value,$)){if(L.children===P.children&&!cn.current){c=_r(r,c,b);break e}}else for(L=c.child,L!==null&&(L.return=c);L!==null;){var Z=L.dependencies;if(Z!==null){$=L.child;for(var ee=Z.firstContext;ee!==null;){if(ee.context===x){if(L.tag===1){ee=br(-1,b&-b),ee.tag=2;var ce=L.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?ee.next=ee:(ee.next=ye.next,ye.next=ee),ce.pending=ee}}L.lanes|=b,ee=L.alternate,ee!==null&&(ee.lanes|=b),fl(L.return,b,c),Z.lanes|=b;break}ee=ee.next}}else if(L.tag===10)$=L.type===c.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(t(341));$.lanes|=b,Z=$.alternate,Z!==null&&(Z.lanes|=b),fl($,b,c),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===c){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}tn(r,c,P.children,b),c=c.child}return c;case 9:return P=c.type,x=c.pendingProps.children,rs(c,b),P=Pn(P),x=x(P),c.flags|=1,tn(r,c,x,b),c.child;case 14:return x=c.type,P=jn(x,c.pendingProps),P=jn(x.type,P),Am(r,c,x,P,b);case 15:return Pm(r,c,c.type,c.pendingProps,b);case 17:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:jn(x,P),Go(r,c),c.tag=1,ln(x)?(r=!0,Mo(c)):r=!1,rs(c,b),wm(c,x,P),Ml(c,x,P,b),Ol(null,c,x,!0,r,b);case 19:return Bm(r,c,b);case 22:return Nm(r,c,b)}throw Error(t(156,c.tag))};function cg(r,c){return V1(r,c)}function Bb(r,c,b,x){this.tag=r,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,c,b,x){return new Bb(r,c,b,x)}function Zl(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qb(r){if(typeof r=="function")return Zl(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===R)return 14}return 2}function Jr(r,c){var b=r.alternate;return b===null?(b=In(r.tag,c,r.key,r.mode),b.elementType=r.elementType,b.type=r.type,b.stateNode=r.stateNode,b.alternate=r,r.alternate=b):(b.pendingProps=c,b.type=r.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=r.flags&14680064,b.childLanes=r.childLanes,b.lanes=r.lanes,b.child=r.child,b.memoizedProps=r.memoizedProps,b.memoizedState=r.memoizedState,b.updateQueue=r.updateQueue,c=r.dependencies,b.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},b.sibling=r.sibling,b.index=r.index,b.ref=r.ref,b}function r0(r,c,b,x,P,L){var $=2;if(x=r,typeof r=="function")Zl(r)&&($=1);else if(typeof r=="string")$=5;else e:switch(r){case j:return Ti(b.children,P,L,c);case T:$=8,P|=8;break;case F:return r=In(12,b,c,P|2),r.elementType=F,r.lanes=L,r;case H:return r=In(13,b,c,P),r.elementType=H,r.lanes=L,r;case D:return r=In(19,b,c,P),r.elementType=D,r.lanes=L,r;case Y:return i0(b,P,L,c);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:$=10;break e;case B:$=9;break e;case V:$=11;break e;case R:$=14;break e;case U:$=16,x=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return c=In($,b,c,P),c.elementType=r,c.type=x,c.lanes=L,c}function Ti(r,c,b,x){return r=In(7,r,x,c),r.lanes=b,r}function i0(r,c,b,x){return r=In(22,r,x,c),r.elementType=Y,r.lanes=b,r.stateNode={isHidden:!1},r}function Jl(r,c,b){return r=In(6,r,null,c),r.lanes=b,r}function eu(r,c,b){return c=In(4,r.children!==null?r.children:[],r.key,c),c.lanes=b,c.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},c}function zb(r,c,b,x,P){this.tag=c,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function tu(r,c,b,x,P,L,$,Z,ee){return r=new zb(r,c,b,Z,ee),c===1?(c=1,L===!0&&(c|=8)):c=0,L=In(3,null,null,c),r.current=L,L.stateNode=r,L.memoizedState={element:x,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(L),r}function Vb(r,c,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:x==null?null:""+x,children:r,containerInfo:c,implementation:b}}function lg(r){if(!r)return Wr;r=r._reactInternals;e:{if(pi(r)!==r||r.tag!==1)throw Error(t(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ln(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(r.tag===1){var b=r.type;if(ln(b))return Fp(r,b,c)}return c}function ug(r,c,b,x,P,L,$,Z,ee){return r=tu(b,x,!0,r,P,L,$,Z,ee),r.context=lg(null),b=r.current,x=nn(),P=Kr(b),L=br(x,P),L.callback=c??null,$r(b,L,P),r.current.lanes=P,$s(r,P,x),fn(r,x),r}function s0(r,c,b,x){var P=c.current,L=nn(),$=Kr(P);return b=lg(b),c.context===null?c.context=b:c.pendingContext=b,c=br(L,$),c.payload={element:r},x=x===void 0?null:x,x!==null&&(c.callback=x),r=$r(P,c,$),r!==null&&(Un(r,P,$,L),Lo(r,P,$)),$}function a0(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hg(r,c){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var b=r.retryLane;r.retryLane=b!==0&&b<c?b:c}}function nu(r,c){hg(r,c),(r=r.alternate)&&hg(r,c)}var fg=typeof reportError=="function"?reportError:function(r){console.error(r)};function ru(r){this._internalRoot=r}o0.prototype.render=ru.prototype.render=function(r){var c=this._internalRoot;if(c===null)throw Error(t(409));s0(r,c,null,null)},o0.prototype.unmount=ru.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var c=r.containerInfo;xi(function(){s0(null,r,null,null)}),c[pr]=null}};function o0(r){this._internalRoot=r}o0.prototype.unstable_scheduleHydration=function(r){if(r){var c=X1();r={blockedOn:null,target:r,priority:c};for(var b=0;b<qr.length&&c!==0&&c<qr[b].priority;b++);qr.splice(b,0,r),b===0&&Z1(r)}};function iu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c0(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dg(){}function jb(r,c,b,x,P){if(P){if(typeof x=="function"){var L=x;x=function(){var ce=a0($);L.call(ce)}}var $=ug(c,x,r,0,null,!1,!1,"",dg);return r._reactRootContainer=$,r[pr]=$.current,oa(r.nodeType===8?r.parentNode:r),xi(),$}for(;P=r.lastChild;)r.removeChild(P);if(typeof x=="function"){var Z=x;x=function(){var ce=a0(ee);Z.call(ce)}}var ee=tu(r,0,!1,null,null,!1,!1,"",dg);return r._reactRootContainer=ee,r[pr]=ee.current,oa(r.nodeType===8?r.parentNode:r),xi(function(){s0(c,ee,b,x)}),ee}function l0(r,c,b,x,P){var L=b._reactRootContainer;if(L){var $=L;if(typeof P=="function"){var Z=P;P=function(){var ee=a0($);Z.call(ee)}}s0(c,$,r,P)}else $=jb(b,c,r,P,x);return a0($)}$1=function(r){switch(r.tag){case 3:var c=r.stateNode;if(c.current.memoizedState.isDehydrated){var b=Gs(c.pendingLanes);b!==0&&(Mc(c,b|1),fn(c,kt()),!(Ke&6)&&(cs=kt()+500,Ur()))}break;case 13:xi(function(){var x=yr(r,1);if(x!==null){var P=nn();Un(x,r,1,P)}}),nu(r,1)}},Ac=function(r){if(r.tag===13){var c=yr(r,134217728);if(c!==null){var b=nn();Un(c,r,134217728,b)}nu(r,134217728)}},Y1=function(r){if(r.tag===13){var c=Kr(r),b=yr(r,c);if(b!==null){var x=nn();Un(b,r,c,x)}nu(r,c)}},X1=function(){return et},Q1=function(r,c){var b=et;try{return et=r,c()}finally{et=b}},lt=function(r,c,b){switch(c){case"input":if(De(r,b),c=b.name,b.type==="radio"&&c!=null){for(b=r;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<b.length;c++){var x=b[c];if(x!==r&&x.form===r.form){var P=To(x);if(!P)throw Error(t(90));Se(x),De(x,P)}}}break;case"textarea":re(r,b);break;case"select":c=b.value,c!=null&&ne(r,!!b.multiple,c,!1)}},Dr=Xl,on=xi;var Hb={usingClientEntryPoint:!1,Events:[ua,Xi,To,Ir,Rr,Xl]},Sa={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wb={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=q1(r),r===null?null:r.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{ao=u0.inject(Wb),tr=u0}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb,dn.createPortal=function(r,c){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(c))throw Error(t(200));return Vb(r,c,null,b)},dn.createRoot=function(r,c){if(!iu(r))throw Error(t(299));var b=!1,x="",P=fg;return c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=tu(r,1,!1,null,null,b,!1,x,P),r[pr]=c.current,oa(r.nodeType===8?r.parentNode:r),new ru(c)},dn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var c=r._reactInternals;if(c===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=q1(c),r=r===null?null:r.stateNode,r},dn.flushSync=function(r){return xi(r)},dn.hydrate=function(r,c,b){if(!c0(c))throw Error(t(200));return l0(null,r,c,!0,b)},dn.hydrateRoot=function(r,c,b){if(!iu(r))throw Error(t(405));var x=b!=null&&b.hydratedSources||null,P=!1,L="",$=fg;if(b!=null&&(b.unstable_strictMode===!0&&(P=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&($=b.onRecoverableError)),c=ug(c,null,r,1,b??null,P,!1,L,$),r[pr]=c.current,oa(r),x)for(r=0;r<x.length;r++)b=x[r],P=b._getVersion,P=P(b._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[b,P]:c.mutableSourceEagerHydrationData.push(b,P);return new o0(c)},dn.render=function(r,c,b){if(!c0(c))throw Error(t(200));return l0(null,r,c,!1,b)},dn.unmountComponentAtNode=function(r){if(!c0(r))throw Error(t(40));return r._reactRootContainer?(xi(function(){l0(null,null,r,!1,function(){r._reactRootContainer=null,r[pr]=null})}),!0):!1},dn.unstable_batchedUpdates=Xl,dn.unstable_renderSubtreeIntoContainer=function(r,c,b,x){if(!c0(b))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return l0(r,c,b,!1,x)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var wg;function Zb(){if(wg)return ou.exports;wg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ou.exports=Kb(),ou.exports}var Cg;function Jb(){if(Cg)return h0;Cg=1;var a=Zb();return h0.createRoot=a.createRoot,h0.hydrateRoot=a.hydrateRoot,h0}var e_=Jb(),pn=function(){return pn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pn.apply(this,arguments)};function Zn(a,e,t,n){var o=arguments.length,l=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(a,e,t,n);else for(var f=a.length-1;f>=0;f--)(u=a[f])&&(l=(o<3?u(l):o>3?u(e,t,l):u(e,t))||l);return o>3&&l&&Object.defineProperty(e,t,l),l}function Ot(a,e,t,n){function o(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(w){try{y(n.next(w))}catch(_){u(_)}}function d(w){try{y(n.throw(w))}catch(_){u(_)}}function y(w){w.done?l(w.value):o(w.value).then(f,d)}y((n=n.apply(a,e||[])).next())})}function P0(a,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return a.concat(l||Array.prototype.slice.call(e))}var dt="-ms-",Pa="-moz-",Je="-webkit-",uy="comm",$0="rule",Ad="decl",t_="@import",hy="@keyframes",n_="@layer",fy=Math.abs,Pd=String.fromCharCode,ad=Object.assign;function r_(a,e){return qt(a,0)^45?(((e<<2^qt(a,0))<<2^qt(a,1))<<2^qt(a,2))<<2^qt(a,3):0}function dy(a){return a.trim()}function Cr(a,e){return(a=e.exec(a))?a[0]:a}function Ue(a,e,t){return a.replace(e,t)}function _0(a,e,t){return a.indexOf(e,t)}function qt(a,e){return a.charCodeAt(e)|0}function bs(a,e,t){return a.slice(e,t)}function ar(a){return a.length}function py(a){return a.length}function Ma(a,e){return e.push(a),a}function i_(a,e){return a.map(e).join("")}function xg(a,e){return a.filter(function(t){return!Cr(t,e)})}var Y0=1,_s=1,my=0,Bn=0,Pt=0,Os="";function X0(a,e,t,n,o,l,u,f){return{value:a,root:e,parent:t,type:n,props:o,children:l,line:Y0,column:_s,length:u,return:"",siblings:f}}function ni(a,e){return ad(X0("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},e)}function us(a){for(;a.root;)a=ni(a.root,{children:[a]});Ma(a,a.siblings)}function s_(){return Pt}function a_(){return Pt=Bn>0?qt(Os,--Bn):0,_s--,Pt===10&&(_s=1,Y0--),Pt}function Yn(){return Pt=Bn<my?qt(Os,Bn++):0,_s++,Pt===10&&(_s=1,Y0++),Pt}function Mi(){return qt(Os,Bn)}function w0(){return Bn}function Q0(a,e){return bs(Os,a,e)}function od(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function o_(a){return Y0=_s=1,my=ar(Os=a),Bn=0,[]}function c_(a){return Os="",a}function uu(a){return dy(Q0(Bn-1,cd(a===91?a+2:a===40?a+1:a)))}function l_(a){for(;(Pt=Mi())&&Pt<33;)Yn();return od(a)>2||od(Pt)>3?"":" "}function u_(a,e){for(;--e&&Yn()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return Q0(a,w0()+(e<6&&Mi()==32&&Yn()==32))}function cd(a){for(;Yn();)switch(Pt){case a:return Bn;case 34:case 39:a!==34&&a!==39&&cd(Pt);break;case 40:a===41&&cd(a);break;case 92:Yn();break}return Bn}function h_(a,e){for(;Yn()&&a+Pt!==57;)if(a+Pt===84&&Mi()===47)break;return"/*"+Q0(e,Bn-1)+"*"+Pd(a===47?a:Yn())}function f_(a){for(;!od(Mi());)Yn();return Q0(a,Bn)}function d_(a){return c_(C0("",null,null,null,[""],a=o_(a),0,[0],a))}function C0(a,e,t,n,o,l,u,f,d){for(var y=0,w=0,_=u,m=0,p=0,g=0,h=1,C=1,S=1,k=0,M="",I=o,N=l,z=n,j=M;C;)switch(g=k,k=Yn()){case 40:if(g!=108&&qt(j,_-1)==58){_0(j+=Ue(uu(k),"&","&\f"),"&\f",fy(y?f[y-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:j+=uu(k);break;case 9:case 10:case 13:case 32:j+=l_(g);break;case 92:j+=u_(w0()-1,7);continue;case 47:switch(Mi()){case 42:case 47:Ma(p_(h_(Yn(),w0()),e,t,d),d);break;default:j+="/"}break;case 123*h:f[y++]=ar(j)*S;case 125*h:case 59:case 0:switch(k){case 0:case 125:C=0;case 59+w:S==-1&&(j=Ue(j,/\f/g,"")),p>0&&ar(j)-_&&Ma(p>32?kg(j+";",n,t,_-1,d):kg(Ue(j," ","")+";",n,t,_-2,d),d);break;case 59:j+=";";default:if(Ma(z=Sg(j,e,t,y,w,o,f,M,I=[],N=[],_,l),l),k===123)if(w===0)C0(j,e,z,z,I,l,_,f,N);else switch(m===99&&qt(j,3)===110?100:m){case 100:case 108:case 109:case 115:C0(a,z,z,n&&Ma(Sg(a,z,z,0,0,o,f,M,o,I=[],_,N),N),o,N,_,f,n?I:N);break;default:C0(j,z,z,z,[""],N,0,f,N)}}y=w=p=0,h=S=1,M=j="",_=u;break;case 58:_=1+ar(j),p=g;default:if(h<1){if(k==123)--h;else if(k==125&&h++==0&&a_()==125)continue}switch(j+=Pd(k),k*h){case 38:S=w>0?1:(j+="\f",-1);break;case 44:f[y++]=(ar(j)-1)*S,S=1;break;case 64:Mi()===45&&(j+=uu(Yn())),m=Mi(),w=_=ar(M=j+=f_(w0())),k++;break;case 45:g===45&&ar(j)==2&&(h=0)}}return l}function Sg(a,e,t,n,o,l,u,f,d,y,w,_){for(var m=o-1,p=o===0?l:[""],g=py(p),h=0,C=0,S=0;h<n;++h)for(var k=0,M=bs(a,m+1,m=fy(C=u[h])),I=a;k<g;++k)(I=dy(C>0?p[k]+" "+M:Ue(M,/&\f/g,p[k])))&&(d[S++]=I);return X0(a,e,t,o===0?$0:f,d,y,w,_)}function p_(a,e,t,n){return X0(a,e,t,uy,Pd(s_()),bs(a,2,-2),0,n)}function kg(a,e,t,n,o){return X0(a,e,t,Ad,bs(a,0,n),bs(a,n+1,-1),n,o)}function gy(a,e,t){switch(r_(a,e)){case 5103:return Je+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+a+a;case 4789:return Pa+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+a+Pa+a+dt+a+a;case 5936:switch(qt(a,e+11)){case 114:return Je+a+dt+Ue(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Je+a+dt+Ue(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Je+a+dt+Ue(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Je+a+dt+a+a;case 6165:return Je+a+dt+"flex-"+a+a;case 5187:return Je+a+Ue(a,/(\w+).+(:[^]+)/,Je+"box-$1$2"+dt+"flex-$1$2")+a;case 5443:return Je+a+dt+"flex-item-"+Ue(a,/flex-|-self/g,"")+(Cr(a,/flex-|baseline/)?"":dt+"grid-row-"+Ue(a,/flex-|-self/g,""))+a;case 4675:return Je+a+dt+"flex-line-pack"+Ue(a,/align-content|flex-|-self/g,"")+a;case 5548:return Je+a+dt+Ue(a,"shrink","negative")+a;case 5292:return Je+a+dt+Ue(a,"basis","preferred-size")+a;case 6060:return Je+"box-"+Ue(a,"-grow","")+Je+a+dt+Ue(a,"grow","positive")+a;case 4554:return Je+Ue(a,/([^-])(transform)/g,"$1"+Je+"$2")+a;case 6187:return Ue(Ue(Ue(a,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),a,"")+a;case 5495:case 3959:return Ue(a,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Ue(Ue(a,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+a+a;case 4200:if(!Cr(a,/flex-|baseline/))return dt+"grid-column-align"+bs(a,e)+a;break;case 2592:case 3360:return dt+Ue(a,"template-","")+a;case 4384:case 3616:return t&&t.some(function(n,o){return e=o,Cr(n.props,/grid-\w+-end/)})?~_0(a+(t=t[e].value),"span",0)?a:dt+Ue(a,"-start","")+a+dt+"grid-row-span:"+(~_0(t,"span",0)?Cr(t,/\d+/):+Cr(t,/\d+/)-+Cr(a,/\d+/))+";":dt+Ue(a,"-start","")+a;case 4896:case 4128:return t&&t.some(function(n){return Cr(n.props,/grid-\w+-start/)})?a:dt+Ue(Ue(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return Ue(a,/(.+)-inline(.+)/,Je+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(a)-1-e>6)switch(qt(a,e+1)){case 109:if(qt(a,e+4)!==45)break;case 102:return Ue(a,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+Pa+(qt(a,e+3)==108?"$3":"$2-$3"))+a;case 115:return~_0(a,"stretch",0)?gy(Ue(a,"stretch","fill-available"),e,t)+a:a}break;case 5152:case 5920:return Ue(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,o,l,u,f,d,y){return dt+o+":"+l+y+(u?dt+o+"-span:"+(f?d:+d-+l)+y:"")+a});case 4949:if(qt(a,e+6)===121)return Ue(a,":",":"+Je)+a;break;case 6444:switch(qt(a,qt(a,14)===45?18:11)){case 120:return Ue(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Je+(qt(a,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+dt+"$2box$3")+a;case 100:return Ue(a,":",":"+dt)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ue(a,"scroll-","scroll-snap-")+a}return a}function N0(a,e){for(var t="",n=0;n<a.length;n++)t+=e(a[n],n,a,e)||"";return t}function m_(a,e,t,n){switch(a.type){case n_:if(a.children.length)break;case t_:case Ad:return a.return=a.return||a.value;case uy:return"";case hy:return a.return=a.value+"{"+N0(a.children,n)+"}";case $0:if(!ar(a.value=a.props.join(",")))return""}return ar(t=N0(a.children,n))?a.return=a.value+"{"+t+"}":""}function g_(a){var e=py(a);return function(t,n,o,l){for(var u="",f=0;f<e;f++)u+=a[f](t,n,o,l)||"";return u}}function v_(a){return function(e){e.root||(e=e.return)&&a(e)}}function y_(a,e,t,n){if(a.length>-1&&!a.return)switch(a.type){case Ad:a.return=gy(a.value,a.length,t);return;case hy:return N0([ni(a,{value:Ue(a.value,"@","@"+Je)})],n);case $0:if(a.length)return i_(t=a.props,function(o){switch(Cr(o,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":us(ni(a,{props:[Ue(o,/:(read-\w+)/,":"+Pa+"$1")]})),us(ni(a,{props:[o]})),ad(a,{props:xg(t,n)});break;case"::placeholder":us(ni(a,{props:[Ue(o,/:(plac\w+)/,":"+Je+"input-$1")]})),us(ni(a,{props:[Ue(o,/:(plac\w+)/,":"+Pa+"$1")]})),us(ni(a,{props:[Ue(o,/:(plac\w+)/,dt+"input-$1")]})),us(ni(a,{props:[o]})),ad(a,{props:xg(t,n)});break}return""})}}var b_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xn={},ws=typeof process<"u"&&xn!==void 0&&(xn.REACT_APP_SC_ATTR||xn.SC_ATTR)||"data-styled",vy="active",yy="data-styled-version",K0="6.1.14",Nd=`/*!sc*/
`,O0=typeof window<"u"&&"HTMLElement"in window,__=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==""?xn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.SC_DISABLE_SPEEDY!==void 0&&xn.SC_DISABLE_SPEEDY!==""&&xn.SC_DISABLE_SPEEDY!=="false"&&xn.SC_DISABLE_SPEEDY),Z0=Object.freeze([]),Cs=Object.freeze({});function w_(a,e,t){return t===void 0&&(t=Cs),a.theme!==t.theme&&a.theme||e||t.theme}var by=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),C_=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x_=/(^-|-$)/g;function Tg(a){return a.replace(C_,"-").replace(x_,"")}var S_=/(a)(d)/gi,f0=52,Eg=function(a){return String.fromCharCode(a+(a>25?39:97))};function ld(a){var e,t="";for(e=Math.abs(a);e>f0;e=e/f0|0)t=Eg(e%f0)+t;return(Eg(e%f0)+t).replace(S_,"$1-$2")}var hu,_y=5381,fs=function(a,e){for(var t=e.length;t;)a=33*a^e.charCodeAt(--t);return a},wy=function(a){return fs(_y,a)};function k_(a){return ld(wy(a)>>>0)}function T_(a){return a.displayName||a.name||"Component"}function fu(a){return typeof a=="string"&&!0}var Cy=typeof Symbol=="function"&&Symbol.for,xy=Cy?Symbol.for("react.memo"):60115,E_=Cy?Symbol.for("react.forward_ref"):60112,M_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},A_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Sy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},P_=((hu={})[E_]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hu[xy]=Sy,hu);function Mg(a){return("type"in(e=a)&&e.type.$$typeof)===xy?Sy:"$$typeof"in a?P_[a.$$typeof]:M_;var e}var N_=Object.defineProperty,O_=Object.getOwnPropertyNames,Ag=Object.getOwnPropertySymbols,I_=Object.getOwnPropertyDescriptor,R_=Object.getPrototypeOf,Pg=Object.prototype;function ky(a,e,t){if(typeof e!="string"){if(Pg){var n=R_(e);n&&n!==Pg&&ky(a,n,t)}var o=O_(e);Ag&&(o=o.concat(Ag(e)));for(var l=Mg(a),u=Mg(e),f=0;f<o.length;++f){var d=o[f];if(!(d in A_||t&&t[d]||u&&d in u||l&&d in l)){var y=I_(e,d);try{N_(a,d,y)}catch{}}}}return a}function xs(a){return typeof a=="function"}function Od(a){return typeof a=="object"&&"styledComponentId"in a}function Ei(a,e){return a&&e?"".concat(a," ").concat(e):a||e||""}function Ng(a,e){if(a.length===0)return"";for(var t=a[0],n=1;n<a.length;n++)t+=a[n];return t}function Ra(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function ud(a,e,t){if(t===void 0&&(t=!1),!t&&!Ra(a)&&!Array.isArray(a))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)a[n]=ud(a[n],e[n]);else if(Ra(e))for(var n in e)a[n]=ud(a[n],e[n]);return a}function Id(a,e){Object.defineProperty(a,"toString",{value:e})}function za(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var D_=function(){function a(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return a.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},a.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,l=o;e>=l;)if((l<<=1)<0)throw za(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(n),this.length=l;for(var u=o;u<l;u++)this.groupSizes[u]=0}for(var f=this.indexOfGroup(e+1),d=(u=0,t.length);u<d;u++)this.tag.insertRule(f,t[u])&&(this.groupSizes[e]++,f++)},a.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),o=n+t;this.groupSizes[e]=0;for(var l=n;l<o;l++)this.tag.deleteRule(n)}},a.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var n=this.groupSizes[e],o=this.indexOfGroup(e),l=o+n,u=o;u<l;u++)t+="".concat(this.tag.getRule(u)).concat(Nd);return t},a}(),x0=new Map,I0=new Map,S0=1,d0=function(a){if(x0.has(a))return x0.get(a);for(;I0.has(S0);)S0++;var e=S0++;return x0.set(a,e),I0.set(e,a),e},L_=function(a,e){S0=e+1,x0.set(a,e),I0.set(e,a)},F_="style[".concat(ws,"][").concat(yy,'="').concat(K0,'"]'),B_=new RegExp("^".concat(ws,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),q_=function(a,e,t){for(var n,o=t.split(","),l=0,u=o.length;l<u;l++)(n=o[l])&&a.registerName(e,n)},z_=function(a,e){for(var t,n=((t=e.textContent)!==null&&t!==void 0?t:"").split(Nd),o=[],l=0,u=n.length;l<u;l++){var f=n[l].trim();if(f){var d=f.match(B_);if(d){var y=0|parseInt(d[1],10),w=d[2];y!==0&&(L_(w,y),q_(a,w,d[3]),a.getTag().insertRules(y,o)),o.length=0}else o.push(f)}}},Og=function(a){for(var e=document.querySelectorAll(F_),t=0,n=e.length;t<n;t++){var o=e[t];o&&o.getAttribute(ws)!==vy&&(z_(a,o),o.parentNode&&o.parentNode.removeChild(o))}};function V_(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ty=function(a){var e=document.head,t=a||e,n=document.createElement("style"),o=function(f){var d=Array.from(f.querySelectorAll("style[".concat(ws,"]")));return d[d.length-1]}(t),l=o!==void 0?o.nextSibling:null;n.setAttribute(ws,vy),n.setAttribute(yy,K0);var u=V_();return u&&n.setAttribute("nonce",u),t.insertBefore(n,l),n},j_=function(){function a(e){this.element=Ty(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var n=document.styleSheets,o=0,l=n.length;o<l;o++){var u=n[o];if(u.ownerNode===t)return u}throw za(17)}(this.element),this.length=0}return a.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},a.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},a}(),H_=function(){function a(e){this.element=Ty(e),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},a.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},a}(),W_=function(){function a(e){this.rules=[],this.length=0}return a.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},a.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},a.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},a}(),Ig=O0,U_={isServer:!O0,useCSSOMInjection:!__},Ey=function(){function a(e,t,n){e===void 0&&(e=Cs),t===void 0&&(t={});var o=this;this.options=pn(pn({},U_),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&O0&&Ig&&(Ig=!1,Og(this)),Id(this,function(){return function(l){for(var u=l.getTag(),f=u.length,d="",y=function(_){var m=function(S){return I0.get(S)}(_);if(m===void 0)return"continue";var p=l.names.get(m),g=u.getGroup(_);if(p===void 0||!p.size||g.length===0)return"continue";var h="".concat(ws,".g").concat(_,'[id="').concat(m,'"]'),C="";p!==void 0&&p.forEach(function(S){S.length>0&&(C+="".concat(S,","))}),d+="".concat(g).concat(h,'{content:"').concat(C,'"}').concat(Nd)},w=0;w<f;w++)y(w);return d}(o)})}return a.registerId=function(e){return d0(e)},a.prototype.rehydrate=function(){!this.server&&O0&&Og(this)},a.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new a(pn(pn({},this.options),e),this.gs,t&&this.names||void 0)},a.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var n=t.useCSSOMInjection,o=t.target;return t.isServer?new W_(o):n?new j_(o):new H_(o)}(this.options),new D_(e)));var e},a.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},a.prototype.registerName=function(e,t){if(d0(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},a.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(d0(e),n)},a.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},a.prototype.clearRules=function(e){this.getTag().clearGroup(d0(e)),this.clearNames(e)},a.prototype.clearTag=function(){this.tag=void 0},a}(),G_=/&/g,$_=/^\s*\/\/.*$/gm;function My(a,e){return a.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=My(t.children,e)),t})}function Y_(a){var e,t,n,o=Cs,l=o.options,u=l===void 0?Cs:l,f=o.plugins,d=f===void 0?Z0:f,y=function(m,p,g){return g.startsWith(t)&&g.endsWith(t)&&g.replaceAll(t,"").length>0?".".concat(e):m},w=d.slice();w.push(function(m){m.type===$0&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(G_,t).replace(n,y))}),u.prefix&&w.push(y_),w.push(m_);var _=function(m,p,g,h){p===void 0&&(p=""),g===void 0&&(g=""),h===void 0&&(h="&"),e=h,t=p,n=new RegExp("\\".concat(t,"\\b"),"g");var C=m.replace($_,""),S=d_(g||p?"".concat(g," ").concat(p," { ").concat(C," }"):C);u.namespace&&(S=My(S,u.namespace));var k=[];return N0(S,g_(w.concat(v_(function(M){return k.push(M)})))),k};return _.hash=d.length?d.reduce(function(m,p){return p.name||za(15),fs(m,p.name)},_y).toString():"",_}var X_=new Ey,hd=Y_(),Ay=Ia.createContext({shouldForwardProp:void 0,styleSheet:X_,stylis:hd});Ay.Consumer;Ia.createContext(void 0);function Rg(){return ue.useContext(Ay)}var Q_=function(){function a(e,t){var n=this;this.inject=function(o,l){l===void 0&&(l=hd);var u=n.name+l.hash;o.hasNameForId(n.id,u)||o.insertRules(n.id,u,l(n.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Id(this,function(){throw za(12,String(n.name))})}return a.prototype.getName=function(e){return e===void 0&&(e=hd),this.name+e.hash},a}(),K_=function(a){return a>="A"&&a<="Z"};function Dg(a){for(var e="",t=0;t<a.length;t++){var n=a[t];if(t===1&&n==="-"&&a[0]==="-")return a;K_(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var Py=function(a){return a==null||a===!1||a===""},Ny=function(a){var e,t,n=[];for(var o in a){var l=a[o];a.hasOwnProperty(o)&&!Py(l)&&(Array.isArray(l)&&l.isCss||xs(l)?n.push("".concat(Dg(o),":"),l,";"):Ra(l)?n.push.apply(n,P0(P0(["".concat(o," {")],Ny(l),!1),["}"],!1)):n.push("".concat(Dg(o),": ").concat((e=o,(t=l)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in b_||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return n};function Ai(a,e,t,n){if(Py(a))return[];if(Od(a))return[".".concat(a.styledComponentId)];if(xs(a)){if(!xs(l=a)||l.prototype&&l.prototype.isReactComponent||!e)return[a];var o=a(e);return Ai(o,e,t,n)}var l;return a instanceof Q_?t?(a.inject(t,n),[a.getName(n)]):[a]:Ra(a)?Ny(a):Array.isArray(a)?Array.prototype.concat.apply(Z0,a.map(function(u){return Ai(u,e,t,n)})):[a.toString()]}function Z_(a){for(var e=0;e<a.length;e+=1){var t=a[e];if(xs(t)&&!Od(t))return!1}return!0}var J_=wy(K0),ew=function(){function a(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Z_(e),this.componentId=t,this.baseHash=fs(J_,t),this.baseStyle=n,Ey.registerId(t)}return a.prototype.generateAndInjectStyles=function(e,t,n){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=Ei(o,this.staticRulesId);else{var l=Ng(Ai(this.rules,e,t,n)),u=ld(fs(this.baseHash,l)>>>0);if(!t.hasNameForId(this.componentId,u)){var f=n(l,".".concat(u),void 0,this.componentId);t.insertRules(this.componentId,u,f)}o=Ei(o,u),this.staticRulesId=u}else{for(var d=fs(this.baseHash,n.hash),y="",w=0;w<this.rules.length;w++){var _=this.rules[w];if(typeof _=="string")y+=_;else if(_){var m=Ng(Ai(_,e,t,n));d=fs(d,m+w),y+=m}}if(y){var p=ld(d>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(y,".".concat(p),void 0,this.componentId)),o=Ei(o,p)}}return o},a}(),Oy=Ia.createContext(void 0);Oy.Consumer;var du={};function tw(a,e,t){var n=Od(a),o=a,l=!fu(a),u=e.attrs,f=u===void 0?Z0:u,d=e.componentId,y=d===void 0?function(I,N){var z=typeof I!="string"?"sc":Tg(I);du[z]=(du[z]||0)+1;var j="".concat(z,"-").concat(k_(K0+z+du[z]));return N?"".concat(N,"-").concat(j):j}(e.displayName,e.parentComponentId):d,w=e.displayName,_=w===void 0?function(I){return fu(I)?"styled.".concat(I):"Styled(".concat(T_(I),")")}(a):w,m=e.displayName&&e.componentId?"".concat(Tg(e.displayName),"-").concat(e.componentId):e.componentId||y,p=n&&o.attrs?o.attrs.concat(f).filter(Boolean):f,g=e.shouldForwardProp;if(n&&o.shouldForwardProp){var h=o.shouldForwardProp;if(e.shouldForwardProp){var C=e.shouldForwardProp;g=function(I,N){return h(I,N)&&C(I,N)}}else g=h}var S=new ew(t,m,n?o.componentStyle:void 0);function k(I,N){return function(z,j,T){var F=z.attrs,q=z.componentStyle,B=z.defaultProps,V=z.foldedComponentIds,H=z.styledComponentId,D=z.target,R=Ia.useContext(Oy),U=Rg(),Y=z.shouldForwardProp||U.shouldForwardProp,G=w_(j,R,B)||Cs,A=function(Q,ie,he){for(var J,ge=pn(pn({},ie),{className:void 0,theme:he}),Ce=0;Ce<Q.length;Ce+=1){var fe=xs(J=Q[Ce])?J(ge):J;for(var Se in fe)ge[Se]=Se==="className"?Ei(ge[Se],fe[Se]):Se==="style"?pn(pn({},ge[Se]),fe[Se]):fe[Se]}return ie.className&&(ge.className=Ei(ge.className,ie.className)),ge}(F,j,G),O=A.as||D,E={};for(var W in A)A[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&A.theme===G||(W==="forwardedAs"?E.as=A.forwardedAs:Y&&!Y(W,O)||(E[W]=A[W]));var X=function(Q,ie){var he=Rg(),J=Q.generateAndInjectStyles(ie,he.styleSheet,he.stylis);return J}(q,A),K=Ei(V,H);return X&&(K+=" "+X),A.className&&(K+=" "+A.className),E[fu(O)&&!by.has(O)?"class":"className"]=K,T&&(E.ref=T),ue.createElement(O,E)}(M,I,N)}k.displayName=_;var M=Ia.forwardRef(k);return M.attrs=p,M.componentStyle=S,M.displayName=_,M.shouldForwardProp=g,M.foldedComponentIds=n?Ei(o.foldedComponentIds,o.styledComponentId):"",M.styledComponentId=m,M.target=n?o.target:a,Object.defineProperty(M,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=n?function(N){for(var z=[],j=1;j<arguments.length;j++)z[j-1]=arguments[j];for(var T=0,F=z;T<F.length;T++)ud(N,F[T],!0);return N}({},o.defaultProps,I):I}}),Id(M,function(){return".".concat(M.styledComponentId)}),l&&ky(M,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),M}function Lg(a,e){for(var t=[a[0]],n=0,o=e.length;n<o;n+=1)t.push(e[n],a[n+1]);return t}var Fg=function(a){return Object.assign(a,{isCss:!0})};function nw(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(xs(a)||Ra(a))return Fg(Ai(Lg(Z0,P0([a],e,!0))));var n=a;return e.length===0&&n.length===1&&typeof n[0]=="string"?Ai(n):Fg(Ai(Lg(n,e)))}function fd(a,e,t){if(t===void 0&&(t=Cs),!e)throw za(1,e);var n=function(o){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return a(e,t,nw.apply(void 0,P0([o],l,!1)))};return n.attrs=function(o){return fd(a,e,pn(pn({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},n.withConfig=function(o){return fd(a,e,pn(pn({},t),o))},n}var Iy=function(a){return fd(tw,a)},Zt=Iy;by.forEach(function(a){Zt[a]=Iy(a)});const rw=Zt.footer`
  margin-top: auto;
  bottom: 0;
  width: 100%;
  text-align: center;
  background-color: #242424;
  padding: 0.5rem 0;
  font-size: 0.9rem;
  color: #888;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
`,Ry=()=>Te.jsx(rw,{children:Te.jsxs("p",{children:[" ",new Date().getFullYear()," Hibiki TAKEMURA. All rights reserved."]})}),Dy=Zt.div`
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
`,pu=a=>Te.jsx(Te.Fragment,{children:Te.jsxs(Dy,{children:[a.children,Te.jsx(Ry,{})]})}),iw="/music-system/assets/react-CHdo91hT.svg",sw="/music-system/vite.svg",Rd=Zt.div`
  text-align: center;
`,aw=()=>{const[a,e]=ue.useState(0);return Te.jsxs(Rd,{children:[Te.jsxs("div",{children:[Te.jsx("a",{href:"https://vite.dev",target:"_blank",children:Te.jsx("img",{src:sw,className:"logo",alt:"Vite logo"})}),Te.jsx("a",{href:"https://react.dev",target:"_blank",children:Te.jsx("img",{src:iw,className:"logo react",alt:"React logo"})})]}),Te.jsx("h1",{children:"Vite + React"}),Te.jsxs("div",{className:"card",children:[Te.jsxs("button",{onClick:()=>e(t=>t+1),children:["count is ",a]}),Te.jsxs("p",{children:["Edit ",Te.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),Te.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})};function Ly(a){return a!==null&&typeof a=="object"&&"name"in a&&typeof a.name=="string"}function Fy(a){return a!==null&&typeof a=="object"&&"step"in a&&typeof a.step=="number"&&"alt"in a&&typeof a.alt=="number"&&!isNaN(a.step)&&!isNaN(a.alt)}var By=[0,2,4,-1,1,3,5],qy=By.map(a=>Math.floor(a*7/12));function zy(a){const{step:e,alt:t,oct:n,dir:o=1}=a,l=By[e]+7*t;if(n===void 0)return[o*l];const u=n-qy[e]-4*t;return[o*l,o*u]}var ow=[3,0,4,1,5,2,6];function cw(a){const[e,t,n]=a,o=ow[lw(e)],l=Math.floor((e+1)/7);if(t===void 0)return{step:o,alt:l,dir:n};const u=t+4*l+qy[o];return{step:o,alt:l,oct:u,dir:n}}function lw(a){const e=(a+1)%7;return e<0?7+e:e}var Bg=(a,e)=>Array(Math.abs(e)+1).join(a),dd=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),uw="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",hw="(AA|A|P|M|m|d|dd)([-+]?\\d+)",fw=new RegExp("^"+uw+"|"+hw+"$");function dw(a){const e=fw.exec(`${a}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var qg={};function R0(a){return typeof a=="string"?qg[a]||(qg[a]=pw(a)):Fy(a)?R0(gw(a)):Ly(a)?R0(a.name):dd}var zg=[0,2,4,5,7,9,11],Vy="PMMPPMM";function pw(a){const e=dw(a);if(e[0]==="")return dd;const t=+e[0],n=e[1],o=(Math.abs(t)-1)%7,l=Vy[o];if(l==="M"&&n==="P")return dd;const u=l==="M"?"majorable":"perfectable",f=""+t+n,d=t<0?-1:1,y=t===8||t===-8?t:d*(o+1),w=mw(u,n),_=Math.floor((Math.abs(t)-1)/7),m=d*(zg[o]+w+12*_),p=(d*(zg[o]+w)%12+12)%12,g=zy({step:o,alt:w,oct:_,dir:d});return{empty:!1,name:f,num:t,q:n,step:o,alt:w,dir:d,type:u,simple:y,semitones:m,chroma:p,coord:g,oct:_}}function mw(a,e){return e==="M"&&a==="majorable"||e==="P"&&a==="perfectable"?0:e==="m"&&a==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(a==="perfectable"?e.length:e.length+1):0}function gw(a){const{step:e,alt:t,oct:n=0,dir:o}=a;if(!o)return"";const l=e+1+7*n,u=l===0?e+1:l,f=o<0?"-":"",d=Vy[e]==="M"?"majorable":"perfectable";return f+u+vw(d,t)}function vw(a,e){return e===0?a==="majorable"?"M":"P":e===-1&&a==="majorable"?"m":e>0?Bg("A",e):Bg("d",a==="perfectable"?e:e+1)}var Vg=(a,e)=>Array(Math.abs(e)+1).join(a),jy=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),jg=new Map,yw=a=>"CDEFGAB".charAt(a),bw=a=>a<0?Vg("b",-a):Vg("#",a),_w=a=>a[0]==="b"?-a.length:a.length;function si(a){const e=JSON.stringify(a),t=jg.get(e);if(t)return t;const n=typeof a=="string"?kw(a):Fy(a)?si(Tw(a)):Ly(a)?si(a.name):jy;return jg.set(e,n),n}var ww=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Cw(a){const e=ww.exec(a);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function xw(a){return si(cw(a))}var Sw=(a,e)=>(a%e+e)%e,mu=[0,2,4,5,7,9,11];function kw(a){const e=Cw(a);if(e[0]===""||e[3]!=="")return jy;const t=e[0],n=e[1],o=e[2],l=(t.charCodeAt(0)+3)%7,u=_w(n),f=o.length?+o:void 0,d=zy({step:l,alt:u,oct:f}),y=t+n+o,w=t+n,_=(mu[l]+u+120)%12,m=f===void 0?Sw(mu[l]+u,12)-12*99:mu[l]+u+12*(f+1),p=m>=0&&m<=127?m:null,g=f===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:n,alt:u,chroma:_,coord:d,freq:g,height:m,letter:t,midi:p,name:y,oct:f,pc:w,step:l}}function Tw(a){const{step:e,alt:t,oct:n}=a,o=yw(e);if(!o)return"";const l=o+bw(t);return n||n===0?l+n:l}function Hy(a,e){const t=si(a),n=Array.isArray(e)?e:R0(e).coord;if(t.empty||!n||n.length<2)return"";const o=t.coord,l=o.length===1?[o[0]+n[0]]:[o[0]+n[0],o[1]+n[1]];return xw(l).name}function Wy(a,e){const t=e.length,n=(a%t+t)%t;return e.slice(n,t).concat(e.slice(0,n))}var Ni={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Uy=a=>Number(a).toString(2).padStart(12,"0"),Hg=a=>parseInt(a,2),Ew=/^[01]{12}$/;function Gy(a){return Ew.test(a)}var Mw=a=>typeof a=="number"&&a>=0&&a<=4095,Aw=a=>a&&Gy(a.chroma),Wg={[Ni.chroma]:Ni};function $y(a){const e=Gy(a)?a:Mw(a)?Uy(a):Array.isArray(a)?Rw(a):Aw(a)?a.chroma:Ni.chroma;return Wg[e]=Wg[e]||Iw(e)}var Pw=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Nw(a){const e=[];for(let t=0;t<12;t++)a.charAt(t)==="1"&&e.push(Pw[t]);return e}function Ow(a){const e=a.split("");return e.map((t,n)=>Wy(n,e).join(""))}function Iw(a){const e=Hg(a),t=Ow(a).map(Hg).filter(l=>l>=2048).sort()[0],n=Uy(t),o=Nw(a);return{empty:!1,name:"",setNum:e,chroma:a,normalized:n,intervals:o}}function Rw(a){if(a.length===0)return Ni.chroma;let e;const t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let n=0;n<a.length;n++)e=si(a[n]),e.empty&&(e=R0(a[n])),e.empty||(t[e.chroma]=1);return t.join("")}var Dw=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Lw=Dw;({...Ni});var Yy=[],k0={};function Fw(a,e,t){const n=qw(a),o={...$y(a),name:t||"",quality:n,intervals:a,aliases:e};Yy.push(o),o.name&&(k0[o.name]=o),k0[o.setNum]=o,k0[o.chroma]=o,o.aliases.forEach(l=>Bw(o,l))}function Bw(a,e){k0[e]=a}function qw(a){const e=t=>a.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Lw.forEach(([a,e,t])=>Fw(a.split(" "),t.split(" "),e));Yy.sort((a,e)=>a.setNum-e.setNum);var zw=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Vw=zw,jw={...Ni,intervals:[],aliases:[]},Na={};function Xy(a){return Na[a]||jw}function Hw(a,e,t=[]){const n={...$y(a),name:e,intervals:a,aliases:t};return Na[n.name]=n,Na[n.setNum]=n,Na[n.chroma]=n,n.aliases.forEach(o=>Ww(n,o)),n}function Ww(a,e){Na[e]=a}Vw.forEach(([a,e,...t])=>Hw(a.split(" "),e,t));var Dd=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Ug={...Ni,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Uw=Dd.map(Gw),pd={};Uw.forEach(a=>{pd[a.name]=a,a.aliases.forEach(e=>{pd[e]=a})});function Qy(a){return typeof a=="string"?pd[a.toLowerCase()]||Ug:a&&a.name?Qy(a.name):Ug}function Gw(a){const[e,t,n,o,l,u,f]=a,d=f?[f]:[],y=Number(t).toString(2);return{empty:!1,intervals:Xy(o).intervals,modeNum:e,chroma:y,normalized:y,name:o,setNum:t,alt:n,triad:l,seventh:u,aliases:d}}function Ky(a){return(e,t)=>{const n=Qy(e);if(n.empty)return[];const o=Wy(n.modeNum,a),l=n.intervals.map(u=>Hy(t,u));return o.map((u,f)=>l[f]+u)}}Ky(Dd.map(a=>a[4]));Ky(Dd.map(a=>a[5]));var $w={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Yw(a){if(typeof a!="string")return["",""];const e=a.indexOf(" "),t=si(a.substring(0,e));if(t.empty){const o=si(a);return o.empty?["",a]:[o.name,""]}const n=a.substring(t.name.length+1).toLowerCase();return[t.name,n.length?n:""]}function gu(a){const e=Array.isArray(a)?a:Yw(a),t=si(e[0]).name,n=Xy(e[1]);if(n.empty)return $w;const o=n.name,l=t?n.intervals.map(f=>Hy(t,f)):[],u=t?t+" "+o:o;return{...n,name:u,type:o,tonic:t,notes:l}}const Zy="15.0.4",Gg=(a,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:a}),$g=(a,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:a}),md=(a,e)=>({startTime:e,type:"setValue",value:a}),Jy=(a,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:a}),e6=(a,e,{startTime:t,target:n,timeConstant:o})=>n+(e-n)*Math.exp((t-a)/o),ds=a=>a.type==="exponentialRampToValue",D0=a=>a.type==="linearRampToValue",ri=a=>ds(a)||D0(a),Ld=a=>a.type==="setValue",xr=a=>a.type==="setValueCurve",L0=(a,e,t,n)=>{const o=a[e];return o===void 0?n:ri(o)||Ld(o)?o.value:xr(o)?o.values[o.values.length-1]:e6(t,L0(a,e-1,o.startTime,n),o)},Yg=(a,e,t,n,o)=>t===void 0?[n.insertTime,o]:ri(t)?[t.endTime,t.value]:Ld(t)?[t.startTime,t.value]:xr(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,L0(a,e-1,t.startTime,o)],gd=a=>a.type==="cancelAndHold",vd=a=>a.type==="cancelScheduledValues",ti=a=>gd(a)||vd(a)?a.cancelTime:ds(a)||D0(a)?a.endTime:a.startTime,Xg=(a,e,t,{endTime:n,value:o})=>t===o?o:0<t&&0<o||t<0&&o<0?t*(o/t)**((a-e)/(n-e)):0,Qg=(a,e,t,{endTime:n,value:o})=>t+(a-e)/(n-e)*(o-t),Xw=(a,e)=>{const t=Math.floor(e),n=Math.ceil(e);return t===n?a[t]:(1-(e-t))*a[t]+(1-(n-e))*a[n]},Qw=(a,{duration:e,startTime:t,values:n})=>{const o=(a-t)/e*(n.length-1);return Xw(n,o)},p0=a=>a.type==="setTarget";class Kw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ti(e);if(gd(e)||vd(e)){const n=this._automationEvents.findIndex(l=>vd(e)&&xr(l)?l.startTime+l.duration>=t:ti(l)>=t),o=this._automationEvents[n];if(n!==-1&&(this._automationEvents=this._automationEvents.slice(0,n)),gd(e)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ri(o)){if(l!==void 0&&p0(l))throw new Error("The internal list is malformed.");const u=l===void 0?o.insertTime:xr(l)?l.startTime+l.duration:ti(l),f=l===void 0?this._defaultValue:xr(l)?l.values[l.values.length-1]:l.value,d=ds(o)?Xg(t,u,f,o):Qg(t,u,f,o),y=ds(o)?Gg(d,t,this._currenTime):$g(d,t,this._currenTime);this._automationEvents.push(y)}if(l!==void 0&&p0(l)&&this._automationEvents.push(md(this.getValue(t),t)),l!==void 0&&xr(l)&&l.startTime+l.duration>t){const u=t-l.startTime,f=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(u*f)),y=u/(d-1)*f,w=l.values.slice(0,d);if(y<1)for(let _=1;_<d;_+=1){const m=y*_%1;w[_]=l.values[_-1]*(1-m)+l.values[_]*m}this._automationEvents[this._automationEvents.length-1]=Jy(w,l.startTime,u)}}}else{const n=this._automationEvents.findIndex(u=>ti(u)>t),o=n===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(o!==void 0&&xr(o)&&ti(o)+o.duration>t)return!1;const l=ds(e)?Gg(e.value,e.endTime,this._currenTime):D0(e)?$g(e.value,t,this._currenTime):e;if(n===-1)this._automationEvents.push(l);else{if(xr(e)&&t+e.duration>ti(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,l)}}return!0}flush(e){const t=this._automationEvents.findIndex(n=>ti(n)>e);if(t>1){const n=this._automationEvents.slice(t-1),o=n[0];p0(o)&&n.unshift(md(L0(this._automationEvents,t-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=n}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>ti(u)>e),n=this._automationEvents[t],o=(t===-1?this._automationEvents.length:t)-1,l=this._automationEvents[o];if(l!==void 0&&p0(l)&&(n===void 0||!ri(n)||n.insertTime>e))return e6(e,L0(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&Ld(l)&&(n===void 0||!ri(n)))return l.value;if(l!==void 0&&xr(l)&&(n===void 0||!ri(n)||l.startTime+l.duration>e))return e<l.startTime+l.duration?Qw(e,l):l.values[l.values.length-1];if(l!==void 0&&ri(l)&&(n===void 0||!ri(n)))return l.value;if(n!==void 0&&ds(n)){const[u,f]=Yg(this._automationEvents,o,l,n,this._defaultValue);return Xg(e,u,f,n)}if(n!==void 0&&D0(n)){const[u,f]=Yg(this._automationEvents,o,l,n,this._defaultValue);return Qg(e,u,f,n)}return this._defaultValue}}const Zw=a=>({cancelTime:a,type:"cancelAndHold"}),Jw=a=>({cancelTime:a,type:"cancelScheduledValues"}),e9=(a,e)=>({endTime:e,type:"exponentialRampToValue",value:a}),t9=(a,e)=>({endTime:e,type:"linearRampToValue",value:a}),n9=(a,e,t)=>({startTime:e,target:a,timeConstant:t,type:"setTarget"}),r9=()=>new DOMException("","AbortError"),i9=a=>(e,t,[n,o,l],u)=>{a(e[o],[t,n,l],f=>f[0]===t&&f[1]===n,u)},s9=a=>(e,t,n)=>{const o=[];for(let l=0;l<n.numberOfInputs;l+=1)o.push(new Set);a.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},a9=a=>(e,t)=>{a.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Ss=new WeakSet,t6=new WeakMap,Fd=new WeakMap,n6=new WeakMap,Bd=new WeakMap,J0=new WeakMap,r6=new WeakMap,yd=new WeakMap,bd=new WeakMap,_d=new WeakMap,i6={construct(){return i6}},o9=a=>{try{const e=new Proxy(a,i6);new e}catch{return!1}return!0},Kg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Zg=(a,e)=>{const t=[];let n=a.replace(/^[\s]+/,""),o=n.match(Kg);for(;o!==null;){const l=o[1].slice(1,-1),u=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());t.push(u),n=n.slice(o[0].length).replace(/^[\s]+/,""),o=n.match(Kg)}return[t.join(";"),n]},Jg=a=>{if(a!==void 0&&!Array.isArray(a))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ev=a=>{if(!o9(a))throw new TypeError("The given value for processorCtor should be a constructor.");if(a.prototype===null||typeof a.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},c9=(a,e,t,n,o,l,u,f,d,y,w,_,m)=>{let p=0;return(g,h,C={credentials:"omit"})=>{const S=w.get(g);if(S!==void 0&&S.has(h))return Promise.resolve();const k=y.get(g);if(k!==void 0){const N=k.get(h);if(N!==void 0)return N}const M=l(g),I=M.audioWorklet===void 0?o(h).then(([N,z])=>{const[j,T]=Zg(N,z),F=`${j};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return t(F)}).then(()=>{const N=m._AWGS.pop();if(N===void 0)throw new SyntaxError;n(M.currentTime,M.sampleRate,()=>N(class{},void 0,(z,j)=>{if(z.trim()==="")throw e();const T=bd.get(M);if(T!==void 0){if(T.has(z))throw e();ev(j),Jg(j.parameterDescriptors),T.set(z,j)}else ev(j),Jg(j.parameterDescriptors),bd.set(M,new Map([[z,j]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(h),Promise.resolve(a(_,_))]).then(([[N,z],j])=>{const T=p+1;p=T;const[F,q]=Zg(N,z),D=`${F};((AudioWorkletProcessor,registerProcessor)=>{${q}
})(${j?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${j?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${j?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,R=new Blob([D],{type:"application/javascript; charset=utf-8"}),U=URL.createObjectURL(R);return M.audioWorklet.addModule(U,C).then(()=>{if(f(M))return M;const Y=u(M);return Y.audioWorklet.addModule(U,C).then(()=>Y)}).then(Y=>{if(d===null)throw new SyntaxError;try{new d(Y,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(U))});return k===void 0?y.set(g,new Map([[h,I]])):k.set(h,I),I.then(()=>{const N=w.get(g);N===void 0?w.set(g,new Set([h])):N.add(h)}).finally(()=>{const N=y.get(g);N!==void 0&&N.delete(h)}),I}},Qn=(a,e)=>{const t=a.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},ec=(a,e)=>{const t=Array.from(a).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[n]=t;return a.delete(n),n},s6=(a,e,t,n)=>{const o=Qn(a,e),l=ec(o,u=>u[0]===t&&u[1]===n);return o.size===0&&a.delete(e),l},Va=a=>Qn(r6,a),ks=a=>{if(Ss.has(a))throw new Error("The AudioNode is already stored.");Ss.add(a),Va(a).forEach(e=>e(!0))},a6=a=>"port"in a,ja=a=>{if(!Ss.has(a))throw new Error("The AudioNode is not stored.");Ss.delete(a),Va(a).forEach(e=>e(!1))},wd=(a,e)=>{!a6(a)&&e.every(t=>t.size===0)&&ja(a)},l9=(a,e,t,n,o,l,u,f,d,y,w,_,m)=>{const p=new WeakMap;return(g,h,C,S,k)=>{const{activeInputs:M,passiveInputs:I}=l(h),{outputs:N}=l(g),z=f(g),j=T=>{const F=d(h),q=d(g);if(T){const B=s6(I,g,C,S);a(M,g,B,!1),!k&&!_(g)&&t(q,F,C,S),m(h)&&ks(h)}else{const B=n(M,g,C,S);e(I,S,B,!1),!k&&!_(g)&&o(q,F,C,S);const V=u(h);if(V===0)w(h)&&wd(h,M);else{const H=p.get(h);H!==void 0&&clearTimeout(H),p.set(h,setTimeout(()=>{w(h)&&wd(h,M)},V*1e3))}}};return y(N,[h,C,S],T=>T[0]===h&&T[1]===C&&T[2]===S,!0)?(z.add(j),w(g)?a(M,g,[C,S,j],!0):e(I,S,[g,C,j],!0),!0):!1}},u9=a=>(e,t,[n,o,l],u)=>{const f=e.get(n);f===void 0?e.set(n,new Set([[o,t,l]])):a(f,[o,t,l],d=>d[0]===o&&d[1]===t,u)},h9=a=>(e,t)=>{const n=a(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(n).connect(e.destination);const o=()=>{t.removeEventListener("ended",o),t.disconnect(n),n.disconnect()};t.addEventListener("ended",o)},f9=a=>(e,t)=>{a(e).add(t)},d9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},p9=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=o(f),w={...d9,...d},_=n(y,w),m=l(y)?e():null;super(f,!1,_,m),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=d,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},Jt=(a,e)=>a.context===e,m9=(a,e,t)=>()=>{const n=new WeakMap,o=async(l,u)=>{let f=e(l);if(!Jt(f,u)){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=a(u,y)}return n.set(u,f),await t(l,u,f),f};return{render(l,u){const f=n.get(u);return f!==void 0?Promise.resolve(f):o(l,u)}}},F0=a=>{try{a.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},cr=()=>new DOMException("","IndexSizeError"),qd=a=>{a.getChannelData=(e=>t=>{try{return e.call(a,t)}catch(n){throw n.code===12?cr():n}})(a.getChannelData)},g9={numberOfChannels:1},v9=(a,e,t,n,o,l,u,f)=>{let d=null;return class o6{constructor(w){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:m,sampleRate:p}={...g9,...w};d===null&&(d=new o(1,1,44100));const g=n!==null&&e(l,l)?new n({length:_,numberOfChannels:m,sampleRate:p}):d.createBuffer(m,_,p);if(g.numberOfChannels===0)throw t();return typeof g.copyFromChannel!="function"?(u(g),qd(g)):e(F0,()=>F0(g))||f(g),a.add(g),g}static[Symbol.hasInstance](w){return w!==null&&typeof w=="object"&&Object.getPrototypeOf(w)===o6.prototype||a.has(w)}}},Sn=-34028234663852886e22,rn=34028234663852886e22,Sr=a=>Ss.has(a),y9={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},b9=(a,e,t,n,o,l,u,f)=>class extends a{constructor(y,w){const _=l(y),m={...y9,...w},p=o(_,m),g=u(_),h=g?e():null;super(y,!1,p,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=t(this,g,p.playbackRate,rn,Sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(y){if(this._nativeAudioBufferSourceNode.buffer=y,y!==null){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(y){this._nativeAudioBufferSourceNode.loop=y}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(y){this._nativeAudioBufferSourceNode.loopEnd=y}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(y){this._nativeAudioBufferSourceNode.loopStart=y}get onended(){return this._onended}set onended(y){const w=typeof y=="function"?f(this,y):null;this._nativeAudioBufferSourceNode.onended=w;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===w?y:_}get playbackRate(){return this._playbackRate}start(y=0,w=0,_){if(this._nativeAudioBufferSourceNode.start(y,w,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[y,w]:[y,w,_]),this.context.state!=="closed"){ks(this);const m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),Sr(this)&&ja(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(y=0){this._nativeAudioBufferSourceNode.stop(y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=y)}},_9=(a,e,t,n,o)=>()=>{const l=new WeakMap;let u=null,f=null;const d=async(y,w)=>{let _=t(y);const m=Jt(_,w);if(!m){const p={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=e(w,p),u!==null&&_.start(...u),f!==null&&_.stop(f)}return l.set(w,_),m?await a(w,y.playbackRate,_.playbackRate):await n(w,y.playbackRate,_.playbackRate),await o(y,w,_),_};return{set start(y){u=y},set stop(y){f=y},render(y,w){const _=l.get(w);return _!==void 0?Promise.resolve(_):d(y,w)}}},w9=a=>"playbackRate"in a,C9=a=>"frequency"in a&&"gain"in a,x9=a=>"offset"in a,S9=a=>!("frequency"in a)&&"gain"in a,k9=a=>"detune"in a&&"frequency"in a&&!("gain"in a),T9=a=>"pan"in a,sn=a=>Qn(t6,a),Ha=a=>Qn(n6,a),Cd=(a,e)=>{const{activeInputs:t}=sn(a);t.forEach(o=>o.forEach(([l])=>{e.includes(a)||Cd(l,[...e,a])}));const n=w9(a)?[a.playbackRate]:a6(a)?Array.from(a.parameters.values()):C9(a)?[a.Q,a.detune,a.frequency,a.gain]:x9(a)?[a.offset]:S9(a)?[a.gain]:k9(a)?[a.detune,a.frequency]:T9(a)?[a.pan]:[];for(const o of n){const l=Ha(o);l!==void 0&&l.activeInputs.forEach(([u])=>Cd(u,e))}Sr(a)&&ja(a)},c6=a=>{Cd(a.destination,[])},E9=a=>a===void 0||typeof a=="number"||typeof a=="string"&&(a==="balanced"||a==="interactive"||a==="playback"),M9=(a,e,t,n,o,l,u,f,d)=>class extends a{constructor(w={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new d(w)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?t():g}if(_===null)throw n();if(!E9(w.latencyHint))throw new TypeError(`The provided value '${w.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(w.sampleRate!==void 0&&_.sampleRate!==w.sampleRate)throw t();super(_,2);const{latencyHint:m}=w,{sampleRate:p}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:m==="balanced"?512/p:m==="interactive"||m===void 0?256/p:m==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(m*p/128)))*128/p,this._nativeAudioContext=_,d.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",g)};_.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),c6(this)}))}createMediaElementSource(w){return new o(this,{mediaElement:w})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(w){return new u(this,{mediaStream:w})}createMediaStreamTrackSource(w){return new f(this,{mediaStreamTrack:w})}resume(){return this._state==="suspended"?new Promise((w,_)=>{const m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?w():this.resume().then(w,_)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(w=>{throw w===void 0||w.code===15?e():w})}suspend(){return this._nativeAudioContext.suspend().catch(w=>{throw w===void 0?e():w})}},A9=(a,e,t,n,o,l,u,f)=>class extends a{constructor(y,w){const _=l(y),m=u(_),p=o(_,w,m),g=m?e(f):null;super(y,!1,p,g),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(y){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(y>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=y}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(y){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=y}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},P9=a=>{const e=new WeakMap,t=async(n,o)=>{const l=o.destination;return e.set(o,l),await a(n,o,l),l};return{render(n,o){const l=e.get(o);return l!==void 0?Promise.resolve(l):t(n,o)}}},N9=(a,e,t,n,o,l,u,f)=>(d,y)=>{const w=y.listener,_=()=>{const N=new Float32Array(1),z=e(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),j=u(y);let T=!1,F=[0,0,-1,0,1,0],q=[0,0,0];const B=()=>{if(T)return;T=!0;const R=n(y,256,9,0);R.onaudioprocess=({inputBuffer:U})=>{const Y=[l(U,N,0),l(U,N,1),l(U,N,2),l(U,N,3),l(U,N,4),l(U,N,5)];Y.some((A,O)=>A!==F[O])&&(w.setOrientation(...Y),F=Y);const G=[l(U,N,6),l(U,N,7),l(U,N,8)];G.some((A,O)=>A!==q[O])&&(w.setPosition(...G),q=G)},z.connect(R)},V=R=>U=>{U!==F[R]&&(F[R]=U,w.setOrientation(...F))},H=R=>U=>{U!==q[R]&&(q[R]=U,w.setPosition(...q))},D=(R,U,Y)=>{const G=t(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U});G.connect(z,0,R),G.start(),Object.defineProperty(G.offset,"defaultValue",{get(){return U}});const A=a({context:d},j,G.offset,rn,Sn);return f(A,"value",O=>()=>O.call(A),O=>E=>{try{O.call(A,E)}catch(W){if(W.code!==9)throw W}B(),j&&Y(E)}),A.cancelAndHoldAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.cancelAndHoldAtTime),A.cancelScheduledValues=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.cancelScheduledValues),A.exponentialRampToValueAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.exponentialRampToValueAtTime),A.linearRampToValueAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.linearRampToValueAtTime),A.setTargetAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.setTargetAtTime),A.setValueAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.setValueAtTime),A.setValueCurveAtTime=(O=>j?()=>{throw o()}:(...E)=>{const W=O.apply(A,E);return B(),W})(A.setValueCurveAtTime),A};return{forwardX:D(0,0,V(0)),forwardY:D(1,0,V(1)),forwardZ:D(2,-1,V(2)),positionX:D(6,0,H(0)),positionY:D(7,0,H(1)),positionZ:D(8,0,H(2)),upX:D(3,0,V(3)),upY:D(4,1,V(4)),upZ:D(5,0,V(5))}},{forwardX:m,forwardY:p,forwardZ:g,positionX:h,positionY:C,positionZ:S,upX:k,upY:M,upZ:I}=w.forwardX===void 0?_():w;return{get forwardX(){return m},get forwardY(){return p},get forwardZ(){return g},get positionX(){return h},get positionY(){return C},get positionZ(){return S},get upX(){return k},get upY(){return M},get upZ(){return I}}},B0=a=>"context"in a,Wa=a=>B0(a[0]),Di=(a,e,t,n)=>{for(const o of a)if(t(o)){if(n)return!1;throw Error("The set contains at least one similar element.")}return a.add(e),!0},tv=(a,e,[t,n],o)=>{Di(a,[e,t,n],l=>l[0]===e&&l[1]===t,o)},nv=(a,[e,t,n],o)=>{const l=a.get(e);l===void 0?a.set(e,new Set([[t,n]])):Di(l,[t,n],u=>u[0]===t,o)},Is=a=>"inputs"in a,q0=(a,e,t,n)=>{if(Is(e)){const o=e.inputs[n];return a.connect(o,t,0),[o,t,0]}return a.connect(e,t,n),[e,t,n]},l6=(a,e,t)=>{for(const n of a)if(n[0]===e&&n[1]===t)return a.delete(n),n;return null},O9=(a,e,t)=>ec(a,n=>n[0]===e&&n[1]===t),u6=(a,e)=>{if(!Va(a).delete(e))throw new Error("Missing the expected event listener.")},h6=(a,e,t)=>{const n=Qn(a,e),o=ec(n,l=>l[0]===t);return n.size===0&&a.delete(e),o},z0=(a,e,t,n)=>{Is(e)?a.disconnect(e.inputs[n],t,0):a.disconnect(e,t,n)},mt=a=>Qn(Fd,a),Da=a=>Qn(Bd,a),Oi=a=>yd.has(a),T0=a=>!Ss.has(a),rv=(a,e)=>new Promise(t=>{if(e!==null)t(!0);else{const n=a.createScriptProcessor(256,1,1),o=a.createGain(),l=a.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const f=a.createBufferSource();f.buffer=l,f.loop=!0,f.connect(n).connect(a.destination),f.connect(o),f.disconnect(o),n.onaudioprocess=d=>{const y=d.inputBuffer.getChannelData(0);Array.prototype.some.call(y,w=>w===1)?t(!0):t(!1),f.stop(),n.onaudioprocess=null,f.disconnect(n),n.disconnect(a.destination)},f.start()}}),vu=(a,e)=>{const t=new Map;for(const n of a)for(const o of n){const l=t.get(o);t.set(o,l===void 0?1:l+1)}t.forEach((n,o)=>e(o,n))},V0=a=>"context"in a,I9=a=>{const e=new Map;a.connect=(t=>(n,o=0,l=0)=>{const u=V0(n)?t(n,o,l):t(n,o),f=e.get(n);return f===void 0?e.set(n,[{input:l,output:o}]):f.every(d=>d.input!==l||d.output!==o)&&f.push({input:l,output:o}),u})(a.connect.bind(a)),a.disconnect=(t=>(n,o,l)=>{if(t.apply(a),n===void 0)e.clear();else if(typeof n=="number")for(const[u,f]of e){const d=f.filter(y=>y.output!==n);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(n))if(o===void 0)e.delete(n);else{const u=e.get(n);if(u!==void 0){const f=u.filter(d=>d.output!==o&&(d.input!==l||l===void 0));f.length===0?e.delete(n):e.set(n,f)}}for(const[u,f]of e)f.forEach(d=>{V0(u)?a.connect(u,d.output,d.input):a.connect(u,d.output)})})(a.disconnect)},R9=(a,e,t,n)=>{const{activeInputs:o,passiveInputs:l}=Ha(e),{outputs:u}=sn(a),f=Va(a),d=y=>{const w=mt(a),_=Da(e);if(y){const m=h6(l,a,t);tv(o,a,m,!1),!n&&!Oi(a)&&w.connect(_,t)}else{const m=O9(o,a,t);nv(l,m,!1),!n&&!Oi(a)&&w.disconnect(_,t)}};return Di(u,[e,t],y=>y[0]===e&&y[1]===t,!0)?(f.add(d),Sr(a)?tv(o,a,[t,d],!0):nv(l,[a,t,d],!0),!0):!1},D9=(a,e,t,n)=>{const{activeInputs:o,passiveInputs:l}=sn(e),u=l6(o[n],a,t);return u===null?[s6(l,a,t,n)[2],!1]:[u[2],!0]},L9=(a,e,t)=>{const{activeInputs:n,passiveInputs:o}=Ha(e),l=l6(n,a,t);return l===null?[h6(o,a,t)[1],!1]:[l[2],!0]},zd=(a,e,t,n,o)=>{const[l,u]=D9(a,t,n,o);if(l!==null&&(u6(a,l),u&&!e&&!Oi(a)&&z0(mt(a),mt(t),n,o)),Sr(t)){const{activeInputs:f}=sn(t);wd(t,f)}},Vd=(a,e,t,n)=>{const[o,l]=L9(a,t,n);o!==null&&(u6(a,o),l&&!e&&!Oi(a)&&mt(a).disconnect(Da(t),n))},F9=(a,e)=>{const t=sn(a),n=[];for(const o of t.outputs)Wa(o)?zd(a,e,...o):Vd(a,e,...o),n.push(o[0]);return t.outputs.clear(),n},B9=(a,e,t)=>{const n=sn(a),o=[];for(const l of n.outputs)l[1]===t&&(Wa(l)?zd(a,e,...l):Vd(a,e,...l),o.push(l[0]),n.outputs.delete(l));return o},q9=(a,e,t,n,o)=>{const l=sn(a);return Array.from(l.outputs).filter(u=>u[0]===t&&(n===void 0||u[1]===n)&&(o===void 0||u[2]===o)).map(u=>(Wa(u)?zd(a,e,...u):Vd(a,e,...u),l.outputs.delete(u),u[0]))},z9=(a,e,t,n,o,l,u,f,d,y,w,_,m,p,g,h)=>class extends y{constructor(S,k,M,I){super(M),this._context=S,this._nativeAudioNode=M;const N=w(S);_(N)&&t(rv,()=>rv(N,h))!==!0&&I9(M),Fd.set(this,M),r6.set(this,new Set),S.state!=="closed"&&k&&ks(this),a(this,I,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(S){this._nativeAudioNode.channelCount=S}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(S){this._nativeAudioNode.channelCountMode=S}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(S){this._nativeAudioNode.channelInterpretation=S}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(S,k=0,M=0){if(k<0||k>=this._nativeAudioNode.numberOfOutputs)throw o();const I=w(this._context),N=g(I);if(m(S)||p(S))throw l();if(B0(S)){const T=mt(S);try{const q=q0(this._nativeAudioNode,T,k,M),B=T0(this);(N||B)&&this._nativeAudioNode.disconnect(...q),this.context.state!=="closed"&&!B&&T0(S)&&ks(S)}catch(q){throw q.code===12?l():q}if(e(this,S,k,M,N)){const q=d([this],S);vu(q,n(N))}return S}const z=Da(S);if(z.name==="playbackRate"&&z.maxValue===1024)throw u();try{this._nativeAudioNode.connect(z,k),(N||T0(this))&&this._nativeAudioNode.disconnect(z,k)}catch(T){throw T.code===12?l():T}if(R9(this,S,k,N)){const T=d([this],S);vu(T,n(N))}}disconnect(S,k,M){let I;const N=w(this._context),z=g(N);if(S===void 0)I=F9(this,z);else if(typeof S=="number"){if(S<0||S>=this.numberOfOutputs)throw o();I=B9(this,z,S)}else{if(k!==void 0&&(k<0||k>=this.numberOfOutputs)||B0(S)&&M!==void 0&&(M<0||M>=S.numberOfInputs))throw o();if(I=q9(this,z,S,k,M),I.length===0)throw l()}for(const j of I){const T=d([this],j);vu(T,f)}}},V9=(a,e,t,n,o,l,u,f,d,y,w,_,m)=>(p,g,h,C=null,S=null)=>{const k=h.value,M=new Kw(k),I=g?n(M):null,N={get defaultValue(){return k},get maxValue(){return C===null?h.maxValue:C},get minValue(){return S===null?h.minValue:S},get value(){return h.value},set value(z){h.value=z,N.setValueAtTime(z,p.context.currentTime)},cancelAndHoldAtTime(z){if(typeof h.cancelAndHoldAtTime=="function")I===null&&M.flush(p.context.currentTime),M.add(o(z)),h.cancelAndHoldAtTime(z);else{const j=Array.from(M).pop();I===null&&M.flush(p.context.currentTime),M.add(o(z));const T=Array.from(M).pop();h.cancelScheduledValues(z),j!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?h.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?h.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&h.setValueCurveAtTime(T.values,T.startTime,T.duration))}return N},cancelScheduledValues(z){return I===null&&M.flush(p.context.currentTime),M.add(l(z)),h.cancelScheduledValues(z),N},exponentialRampToValueAtTime(z,j){if(z===0)throw new RangeError;if(!Number.isFinite(j)||j<0)throw new RangeError;const T=p.context.currentTime;return I===null&&M.flush(T),Array.from(M).length===0&&(M.add(y(k,T)),h.setValueAtTime(k,T)),M.add(u(z,j)),h.exponentialRampToValueAtTime(z,j),N},linearRampToValueAtTime(z,j){const T=p.context.currentTime;return I===null&&M.flush(T),Array.from(M).length===0&&(M.add(y(k,T)),h.setValueAtTime(k,T)),M.add(f(z,j)),h.linearRampToValueAtTime(z,j),N},setTargetAtTime(z,j,T){return I===null&&M.flush(p.context.currentTime),M.add(d(z,j,T)),h.setTargetAtTime(z,j,T),N},setValueAtTime(z,j){return I===null&&M.flush(p.context.currentTime),M.add(y(z,j)),h.setValueAtTime(z,j),N},setValueCurveAtTime(z,j,T){const F=z instanceof Float32Array?z:new Float32Array(z);if(_!==null&&_.name==="webkitAudioContext"){const q=j+T,B=p.context.sampleRate,V=Math.ceil(j*B),H=Math.floor(q*B),D=H-V,R=new Float32Array(D);for(let Y=0;Y<D;Y+=1){const G=(F.length-1)/T*((V+Y)/B-j),A=Math.floor(G),O=Math.ceil(G);R[Y]=A===O?F[A]:(1-(G-A))*F[A]+(1-(O-G))*F[O]}I===null&&M.flush(p.context.currentTime),M.add(w(R,j,T)),h.setValueCurveAtTime(R,j,T);const U=H/B;U<q&&m(N,R[R.length-1],U),m(N,F[F.length-1],q)}else I===null&&M.flush(p.context.currentTime),M.add(w(F,j,T)),h.setValueCurveAtTime(F,j,T);return N}};return t.set(N,h),e.set(N,p),a(N,I),N},j9=a=>({replay(e){for(const t of a)if(t.type==="exponentialRampToValue"){const{endTime:n,value:o}=t;e.exponentialRampToValueAtTime(o,n)}else if(t.type==="linearRampToValue"){const{endTime:n,value:o}=t;e.linearRampToValueAtTime(o,n)}else if(t.type==="setTarget"){const{startTime:n,target:o,timeConstant:l}=t;e.setTargetAtTime(o,n,l)}else if(t.type==="setValue"){const{startTime:n,value:o}=t;e.setValueAtTime(o,n)}else if(t.type==="setValueCurve"){const{duration:n,startTime:o,values:l}=t;e.setValueCurveAtTime(l,o,n)}else throw new Error("Can't apply an unknown automation.")}});class f6{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((n,o)=>e.call(t,n,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const H9={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},W9=(a,e,t,n,o,l,u,f,d,y,w,_,m,p)=>class extends e{constructor(h,C,S){var k;const M=f(h),I=d(M),N=w({...H9,...S});m(N);const z=bd.get(M),j=z==null?void 0:z.get(C),T=I||M.state!=="closed"?M:(k=u(M))!==null&&k!==void 0?k:M,F=o(T,I?null:h.baseLatency,y,C,j,N),q=I?n(C,N,j):null;super(h,!0,F,q);const B=[];F.parameters.forEach((H,D)=>{const R=t(this,I,H);B.push([D,R])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new f6(B),I&&a(M,this);const{activeInputs:V}=l(this);_(F,V)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){const C=typeof h=="function"?p(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=C;const S=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=S!==null&&S===C?h:S}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function j0(a,e,t,n,o){if(typeof a.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),a.copyFromChannel(e[t],n,o);else{const l=a.getChannelData(n);if(e[t].byteLength===0)e[t]=l.slice(o,o+128);else{const u=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const d6=(a,e,t,n,o)=>{typeof a.copyToChannel=="function"?e[t].byteLength!==0&&a.copyToChannel(e[t],n,o):e[t].byteLength!==0&&a.getChannelData(n).set(e[t],o)},H0=(a,e)=>{const t=[];for(let n=0;n<a;n+=1){const o=[],l=typeof e=="number"?e:e[n];for(let u=0;u<l;u+=1)o.push(new Float32Array(128));t.push(o)}return t},U9=(a,e)=>{const t=Qn(_d,a),n=mt(e);return Qn(t,n)},G9=async(a,e,t,n,o,l,u)=>{const f=e===null?Math.ceil(a.context.length/128)*128:e.length,d=n.channelCount*n.numberOfInputs,y=o.reduce((C,S)=>C+S,0),w=y===0?null:t.createBuffer(y,f,t.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const _=sn(a),m=await U9(t,a),p=H0(n.numberOfInputs,n.channelCount),g=H0(n.numberOfOutputs,o),h=Array.from(a.parameters.keys()).reduce((C,S)=>({...C,[S]:new Float32Array(128)}),{});for(let C=0;C<f;C+=128){if(n.numberOfInputs>0&&e!==null)for(let S=0;S<n.numberOfInputs;S+=1)for(let k=0;k<n.channelCount;k+=1)j0(e,p[S],k,k,C);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:S},k)=>{j0(e,h,S,d+k,C)});for(let S=0;S<n.numberOfInputs;S+=1)for(let k=0;k<o[S];k+=1)g[S][k].byteLength===0&&(g[S][k]=new Float32Array(128));try{const S=p.map((M,I)=>_.activeInputs[I].size===0?[]:M),k=u(C/t.sampleRate,t.sampleRate,()=>m.process(S,g,h));if(w!==null)for(let M=0,I=0;M<n.numberOfOutputs;M+=1){for(let N=0;N<o[M];N+=1)d6(w,g[M],N,I+N,C);I+=o[M]}if(!k)break}catch(S){a.dispatchEvent(new ErrorEvent("processorerror",{colno:S.colno,filename:S.filename,lineno:S.lineno,message:S.message}));break}}return w},$9=(a,e,t,n,o,l,u,f,d,y,w,_,m,p,g,h)=>(C,S,k)=>{const M=new WeakMap;let I=null;const N=async(z,j)=>{let T=w(z),F=null;const q=Jt(T,j),B=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(_===null){const V=B.reduce((U,Y)=>U+Y,0),H=o(j,{channelCount:Math.max(1,V),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,V)}),D=[];for(let U=0;U<z.numberOfOutputs;U+=1)D.push(n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:B[U]}));const R=u(j,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1});R.connect=e.bind(null,D),R.disconnect=d.bind(null,D),F=[H,D,R]}else q||(T=new _(j,C));if(M.set(j,F===null?T:F[2]),F!==null){if(I===null){if(k===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=z.channelCount*z.numberOfInputs,G=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length,A=Y+G;I=G9(z,A===0?null:await(async()=>{const E=new m(A,Math.ceil(z.context.length/128)*128,j.sampleRate),W=[],X=[];for(let ie=0;ie<S.numberOfInputs;ie+=1)W.push(u(E,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),X.push(o(E,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const K=await Promise.all(Array.from(z.parameters.values()).map(async ie=>{const he=l(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ie.value});return await p(E,ie,he.offset),he})),Q=n(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+G)});for(let ie=0;ie<S.numberOfInputs;ie+=1){W[ie].connect(X[ie]);for(let he=0;he<S.channelCount;he+=1)X[ie].connect(Q,he,ie*S.channelCount+he)}for(const[ie,he]of K.entries())he.connect(Q,0,Y+ie),he.start(0);return Q.connect(E.destination),await Promise.all(W.map(ie=>g(z,E,ie))),h(E)})(),j,S,B,k,y)}const V=await I,H=t(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[D,R,U]=F;V!==null&&(H.buffer=V,H.start(0)),H.connect(D);for(let Y=0,G=0;Y<z.numberOfOutputs;Y+=1){const A=R[Y];for(let O=0;O<B[Y];O+=1)D.connect(A,G+O,O);G+=B[Y]}return U}if(q)for(const[V,H]of z.parameters.entries())await a(j,H,T.parameters.get(V));else for(const[V,H]of z.parameters.entries())await p(j,H,T.parameters.get(V));return await g(z,j,T),T};return{render(z,j){f(j,z);const T=M.get(j);return T!==void 0?Promise.resolve(T):N(z,j)}}},Y9=(a,e,t,n,o,l,u,f,d,y,w,_,m,p,g,h,C,S,k,M)=>class extends g{constructor(N,z){super(N,z),this._nativeContext=N,this._audioWorklet=a===void 0?void 0:{addModule:(j,T)=>a(this,j,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(N,z,j){return new t({length:z,numberOfChannels:N,sampleRate:j})}createBufferSource(){return new n(this)}createChannelMerger(N=6){return new l(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new u(this,{numberOfOutputs:N})}createConstantSource(){return new f(this)}createConvolver(){return new d(this)}createDelay(N=1){return new w(this,{maxDelayTime:N})}createDynamicsCompressor(){return new _(this)}createGain(){return new m(this)}createIIRFilter(N,z){return new p(this,{feedback:z,feedforward:N})}createOscillator(){return new h(this)}createPanner(){return new C(this)}createPeriodicWave(N,z,j={disableNormalization:!1}){return new S(this,{...j,imag:z,real:N})}createStereoPanner(){return new k(this)}createWaveShaper(){return new M(this)}decodeAudioData(N,z,j){return y(this._nativeContext,N).then(T=>(typeof z=="function"&&z(T),T),T=>{throw typeof j=="function"&&j(T),T})}},X9={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Q9=(a,e,t,n,o,l,u,f)=>class extends a{constructor(y,w){const _=l(y),m={...X9,...w},p=o(_,m),g=u(_),h=g?t():null;super(y,!1,p,h),this._Q=e(this,g,p.Q,rn,Sn),this._detune=e(this,g,p.detune,1200*Math.log2(rn),-1200*Math.log2(rn)),this._frequency=e(this,g,p.frequency,y.sampleRate/2,0),this._gain=e(this,g,p.gain,40*Math.log10(rn),Sn),this._nativeBiquadFilterNode=p,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(y){this._nativeBiquadFilterNode.type=y}getFrequencyResponse(y,w,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(y,w,_)}catch(m){throw m.code===11?n():m}if(y.length!==w.length||w.length!==_.length)throw n()}},K9=(a,e,t,n,o)=>()=>{const l=new WeakMap,u=async(f,d)=>{let y=t(f);const w=Jt(y,d);if(!w){const _={Q:y.Q.value,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,detune:y.detune.value,frequency:y.frequency.value,gain:y.gain.value,type:y.type};y=e(d,_)}return l.set(d,y),w?(await a(d,f.Q,y.Q),await a(d,f.detune,y.detune),await a(d,f.frequency,y.frequency),await a(d,f.gain,y.gain)):(await n(d,f.Q,y.Q),await n(d,f.detune,y.detune),await n(d,f.frequency,y.frequency),await n(d,f.gain,y.gain)),await o(f,d,y),y};return{render(f,d){const y=l.get(d);return y!==void 0?Promise.resolve(y):u(f,d)}}},Z9=(a,e)=>(t,n)=>{const o=e.get(t);if(o!==void 0)return o;const l=a.get(t);if(l!==void 0)return l;try{const u=n();return u instanceof Promise?(a.set(t,u),u.catch(()=>!1).then(f=>(a.delete(t),e.set(t,f),f))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},J9={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},e7=(a,e,t,n,o)=>class extends a{constructor(u,f){const d=n(u),y={...J9,...f},w=t(d,y),_=o(d)?e():null;super(u,!1,w,_)}},t7=(a,e,t)=>()=>{const n=new WeakMap,o=async(l,u)=>{let f=e(l);if(!Jt(f,u)){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=a(u,y)}return n.set(u,f),await t(l,u,f),f};return{render(l,u){const f=n.get(u);return f!==void 0?Promise.resolve(f):o(l,u)}}},n7={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},r7=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=n(f),w=l({...n7,...d}),_=t(y,w),m=o(y)?e():null;super(f,!1,_,m)}},i7=(a,e,t)=>()=>{const n=new WeakMap,o=async(l,u)=>{let f=e(l);if(!Jt(f,u)){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=a(u,y)}return n.set(u,f),await t(l,u,f),f};return{render(l,u){const f=n.get(u);return f!==void 0?Promise.resolve(f):o(l,u)}}},s7=a=>(e,t,n)=>a(t,e,n),a7=a=>(e,t,n=0,o=0)=>{const l=e[n];if(l===void 0)throw a();return V0(t)?l.connect(t,0,o):l.connect(t,0)},o7=a=>(e,t)=>{const n=a(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return n.buffer=o,n.loop=!0,n.connect(t),n.start(),()=>{n.stop(),n.disconnect(t)}},c7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},l7=(a,e,t,n,o,l,u)=>class extends a{constructor(d,y){const w=o(d),_={...c7,...y},m=n(w,_),p=l(w),g=p?t():null;super(d,!1,m,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=m,this._offset=e(this,p,m.offset,rn,Sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const y=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=y;const w=this._nativeConstantSourceNode.onended;this._onended=w!==null&&w===y?d:w}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){ks(this);const y=()=>{this._nativeConstantSourceNode.removeEventListener("ended",y),Sr(this)&&ja(this)};this._nativeConstantSourceNode.addEventListener("ended",y)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},u7=(a,e,t,n,o)=>()=>{const l=new WeakMap;let u=null,f=null;const d=async(y,w)=>{let _=t(y);const m=Jt(_,w);if(!m){const p={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=e(w,p),u!==null&&_.start(u),f!==null&&_.stop(f)}return l.set(w,_),m?await a(w,y.offset,_.offset):await n(w,y.offset,_.offset),await o(y,w,_),_};return{set start(y){u=y},set stop(y){f=y},render(y,w){const _=l.get(w);return _!==void 0?Promise.resolve(_):d(y,w)}}},h7=a=>e=>(a[0]=e,a[0]),f7={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},d7=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=n(f),w={...f7,...d},_=t(y,w),p=o(y)?e():null;super(f,!1,_,p),this._isBufferNullified=!1,this._nativeConvolverNode=_,w.buffer!==null&&l(this,w.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},p7=(a,e,t)=>()=>{const n=new WeakMap,o=async(l,u)=>{let f=e(l);if(!Jt(f,u)){const y={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=a(u,y)}return n.set(u,f),Is(f)?await t(l,u,f.inputs[0]):await t(l,u,f),f};return{render(l,u){const f=n.get(u);return f!==void 0?Promise.resolve(f):o(l,u)}}},m7=(a,e)=>(t,n,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,n,o)}catch(l){throw l.name==="SyntaxError"?a():l}},g7=()=>new DOMException("","DataCloneError"),iv=a=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(n=>{const o=()=>{t.onmessage=null,e.close(),t.close(),n()};t.onmessage=()=>o();try{e.postMessage(a,[a])}catch{}finally{o()}})},v7=(a,e,t,n,o,l,u,f,d,y,w)=>(_,m)=>{const p=u(_)?_:l(_);if(o.has(m)){const g=t();return Promise.reject(g)}try{o.add(m)}catch{}return e(d,()=>d(p))?p.decodeAudioData(m).then(g=>(iv(m).catch(()=>{}),e(f,()=>f(g))||w(g),a.add(g),g)):new Promise((g,h)=>{const C=async()=>{try{await iv(m)}catch{}},S=k=>{h(k),C()};try{p.decodeAudioData(m,k=>{typeof k.copyFromChannel!="function"&&(y(k),qd(k)),a.add(k),C().then(()=>g(k))},k=>{S(k===null?n():k)})}catch(k){S(k)}})},y7=(a,e,t,n,o,l,u,f)=>(d,y)=>{const w=e.get(d);if(w===void 0)throw new Error("Missing the expected cycle count.");const _=l(d.context),m=f(_);if(w===y){if(e.delete(d),!m&&u(d)){const p=n(d),{outputs:g}=t(d);for(const h of g)if(Wa(h)){const C=n(h[0]);a(p,C,h[1],h[2])}else{const C=o(h[0]);p.connect(C,h[1])}}}else e.set(d,w-y)},b7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},_7=(a,e,t,n,o,l,u)=>class extends a{constructor(d,y){const w=o(d),_={...b7,...y},m=n(w,_),p=l(w),g=p?t(_.maxDelayTime):null;super(d,!1,m,g),this._delayTime=e(this,p,m.delayTime),u(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},w7=(a,e,t,n,o)=>l=>{const u=new WeakMap,f=async(d,y)=>{let w=t(d);const _=Jt(w,y);if(!_){const m={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,delayTime:w.delayTime.value,maxDelayTime:l};w=e(y,m)}return u.set(y,w),_?await a(y,d.delayTime,w.delayTime):await n(y,d.delayTime,w.delayTime),await o(d,y,w),w};return{render(d,y){const w=u.get(y);return w!==void 0?Promise.resolve(w):f(d,y)}}},C7=a=>(e,t,n,o)=>a(e[o],l=>l[0]===t&&l[1]===n),x7=a=>(e,t)=>{a(e).delete(t)},S7=a=>"delayTime"in a,k7=(a,e,t)=>function n(o,l){const u=B0(l)?l:t(a,l);if(S7(u))return[];if(o[0]===u)return[o];if(o.includes(u))return[];const{outputs:f}=e(u);return Array.from(f).map(d=>n([...o,u],d[0])).reduce((d,y)=>d.concat(y),[])},m0=(a,e,t)=>{const n=e[t];if(n===void 0)throw a();return n},T7=a=>(e,t=void 0,n=void 0,o=0)=>t===void 0?e.forEach(l=>l.disconnect()):typeof t=="number"?m0(a,e,t).disconnect():V0(t)?n===void 0?e.forEach(l=>l.disconnect(t)):o===void 0?m0(a,e,n).disconnect(t,0):m0(a,e,n).disconnect(t,0,o):n===void 0?e.forEach(l=>l.disconnect(t)):m0(a,e,n).disconnect(t,0),E7={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},M7=(a,e,t,n,o,l,u,f)=>class extends a{constructor(y,w){const _=l(y),m={...E7,...w},p=n(_,m),g=u(_),h=g?t():null;super(y,!1,p,h),this._attack=e(this,g,p.attack),this._knee=e(this,g,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,g,p.ratio),this._release=e(this,g,p.release),this._threshold=e(this,g,p.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(y){const w=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=y,y>2)throw this._nativeDynamicsCompressorNode.channelCount=w,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(y){const w=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=y,y==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=w,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},A7=(a,e,t,n,o)=>()=>{const l=new WeakMap,u=async(f,d)=>{let y=t(f);const w=Jt(y,d);if(!w){const _={attack:y.attack.value,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,knee:y.knee.value,ratio:y.ratio.value,release:y.release.value,threshold:y.threshold.value};y=e(d,_)}return l.set(d,y),w?(await a(d,f.attack,y.attack),await a(d,f.knee,y.knee),await a(d,f.ratio,y.ratio),await a(d,f.release,y.release),await a(d,f.threshold,y.threshold)):(await n(d,f.attack,y.attack),await n(d,f.knee,y.knee),await n(d,f.ratio,y.ratio),await n(d,f.release,y.release),await n(d,f.threshold,y.threshold)),await o(f,d,y),y};return{render(f,d){const y=l.get(d);return y!==void 0?Promise.resolve(y):u(f,d)}}},P7=()=>new DOMException("","EncodingError"),N7=a=>e=>new Promise((t,n)=>{if(a===null){n(new SyntaxError);return}const o=a.document.head;if(o===null)n(new SyntaxError);else{const l=a.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),f=URL.createObjectURL(u),d=a.onerror,y=()=>{a.onerror=d,URL.revokeObjectURL(f)};a.onerror=(w,_,m,p,g)=>{if(_===f||_===a.location.href&&m===1&&p===1)return y(),n(g),!1;if(d!==null)return d(w,_,m,p,g)},l.onerror=()=>{y(),n(new SyntaxError)},l.onload=()=>{y(),t()},l.src=f,l.type="module",o.appendChild(l)}}),O7=a=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,o){if(n!==null){let l=this._listeners.get(n);l===void 0&&(l=a(this,n),typeof n=="function"&&this._listeners.set(n,l)),this._nativeEventTarget.addEventListener(t,l,o)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,o){const l=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,l===void 0?null:l,o)}},I7=a=>(e,t,n)=>{Object.defineProperties(a,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return n()}finally{a!==null&&(delete a.currentFrame,delete a.currentTime)}},R7=a=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw a()},D7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},L7=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=o(f),w={...D7,...d},_=n(y,w),m=l(y),p=m?t():null;super(f,!1,_,p),this._gain=e(this,m,_.gain,rn,Sn)}get gain(){return this._gain}},F7=(a,e,t,n,o)=>()=>{const l=new WeakMap,u=async(f,d)=>{let y=t(f);const w=Jt(y,d);if(!w){const _={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:y.gain.value};y=e(d,_)}return l.set(d,y),w?await a(d,f.gain,y.gain):await n(d,f.gain,y.gain),await o(f,d,y),y};return{render(f,d){const y=l.get(d);return y!==void 0?Promise.resolve(y):u(f,d)}}},B7=(a,e)=>t=>e(a,t),q7=a=>e=>{const t=a(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},z7=a=>e=>{var t;return(t=a.get(e))!==null&&t!==void 0?t:0},V7=a=>e=>{const t=a(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},j7=a=>e=>a.get(e),zt=()=>new DOMException("","InvalidStateError"),H7=a=>e=>{const t=a.get(e);if(t===void 0)throw zt();return t},W7=(a,e)=>t=>{let n=a.get(t);if(n!==void 0)return n;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new e(1,1,44100),a.set(t,n),n},U7=a=>e=>{const t=a.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},tc=()=>new DOMException("","InvalidAccessError"),G7=a=>{a.getFrequencyResponse=(e=>(t,n,o)=>{if(t.length!==n.length||n.length!==o.length)throw tc();return e.call(a,t,n,o)})(a.getFrequencyResponse)},$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Y7=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=n(f),w=o(y),_={...$7,...d},m=e(y,w?null:f.baseLatency,_),p=w?t(_.feedback,_.feedforward):null;super(f,!1,m,p),G7(m),this._nativeIIRFilterNode=m,l(this,1)}getFrequencyResponse(f,d,y){return this._nativeIIRFilterNode.getFrequencyResponse(f,d,y)}},p6=(a,e,t,n,o,l,u,f,d,y,w)=>{const _=y.length;let m=f;for(let p=0;p<_;p+=1){let g=t[0]*y[p];for(let h=1;h<o;h+=1){const C=m-h&d-1;g+=t[h]*l[C],g-=a[h]*u[C]}for(let h=o;h<n;h+=1)g+=t[h]*l[m-h&d-1];for(let h=o;h<e;h+=1)g-=a[h]*u[m-h&d-1];l[m]=y[p],u[m]=g,m=m+1&d-1,w[p]=g}return m},X7=(a,e,t,n)=>{const o=t instanceof Float64Array?t:new Float64Array(t),l=n instanceof Float64Array?n:new Float64Array(n),u=o.length,f=l.length,d=Math.min(u,f);if(o[0]!==1){for(let g=0;g<u;g+=1)l[g]/=o[0];for(let g=1;g<f;g+=1)o[g]/=o[0]}const y=32,w=new Float32Array(y),_=new Float32Array(y),m=e.createBuffer(a.numberOfChannels,a.length,a.sampleRate),p=a.numberOfChannels;for(let g=0;g<p;g+=1){const h=a.getChannelData(g),C=m.getChannelData(g);w.fill(0),_.fill(0),p6(o,u,l,f,d,w,_,0,y,h,C)}return m},Q7=(a,e,t,n,o)=>(l,u)=>{const f=new WeakMap;let d=null;const y=async(w,_)=>{let m=null,p=e(w);const g=Jt(p,_);if(_.createIIRFilter===void 0?m=a(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(p=_.createIIRFilter(u,l)),f.set(_,m===null?p:m),m!==null){if(d===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new t(w.context.destination.channelCount,w.context.length,_.sampleRate);d=(async()=>{await n(w,C,C.destination);const S=await o(C);return X7(S,_,l,u)})()}const h=await d;return m.buffer=h,m.start(0),m}return await n(w,_,p),p};return{render(w,_){const m=f.get(_);return m!==void 0?Promise.resolve(m):y(w,_)}}},K7=(a,e,t,n,o,l)=>u=>(f,d)=>{const y=a.get(f);if(y===void 0){if(!u&&l(f)){const w=n(f),{outputs:_}=t(f);for(const m of _)if(Wa(m)){const p=n(m[0]);e(w,p,m[1],m[2])}else{const p=o(m[0]);w.disconnect(p,m[1])}}a.set(f,d)}else a.set(f,y+d)},Z7=(a,e)=>t=>{const n=a.get(t);return e(n)||e(t)},J7=(a,e)=>t=>a.has(t)||e(t),e8=(a,e)=>t=>a.has(t)||e(t),t8=(a,e)=>t=>{const n=a.get(t);return e(n)||e(t)},n8=a=>e=>a!==null&&e instanceof a,r8=a=>e=>a!==null&&typeof a.AudioNode=="function"&&e instanceof a.AudioNode,i8=a=>e=>a!==null&&typeof a.AudioParam=="function"&&e instanceof a.AudioParam,s8=(a,e)=>t=>a(t)||e(t),a8=a=>e=>a!==null&&e instanceof a,o8=a=>a!==null&&a.isSecureContext,c8=(a,e,t,n)=>class extends a{constructor(l,u){const f=t(l),d=e(f,u);if(n(f))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},l8={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},u8=(a,e,t,n)=>class extends a{constructor(l,u){const f=t(l);if(n(f))throw new TypeError;const d={...l8,...u},y=e(f,d);super(l,!1,y,null),this._nativeMediaStreamAudioDestinationNode=y}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},h8=(a,e,t,n)=>class extends a{constructor(l,u){const f=t(l),d=e(f,u);if(n(f))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},f8=(a,e,t)=>class extends a{constructor(o,l){const u=t(o),f=e(u,l);super(o,!0,f,null)}},d8=(a,e,t,n,o,l)=>class extends t{constructor(f,d){super(f),this._nativeContext=f,J0.set(this,f),n(f)&&o.set(f,new Set),this._destination=new a(this,d),this._listener=e(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const d=typeof f=="function"?l(this,f):null;this._nativeContext.onstatechange=d;const y=this._nativeContext.onstatechange;this._onstatechange=y!==null&&y===d?f:y}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},La=a=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=a.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},p8=(a,e)=>(t,n,o)=>{const l=new Set;return t.connect=(u=>(f,d=0,y=0)=>{const w=l.size===0;if(e(f))return u.call(t,f,d,y),a(l,[f,d,y],_=>_[0]===f&&_[1]===d&&_[2]===y,!0),w&&n(),f;u.call(t,f,d),a(l,[f,d],_=>_[0]===f&&_[1]===d,!0),w&&n()})(t.connect),t.disconnect=(u=>(f,d,y)=>{const w=l.size>0;if(f===void 0)u.apply(t),l.clear();else if(typeof f=="number"){u.call(t,f);for(const m of l)m[1]===f&&l.delete(m)}else{e(f)?u.call(t,f,d,y):u.call(t,f,d);for(const m of l)m[0]===f&&(d===void 0||m[1]===d)&&(y===void 0||m[2]===y)&&l.delete(m)}const _=l.size===0;w&&_&&o()})(t.disconnect),t},vt=(a,e,t)=>{const n=e[t];n!==void 0&&n!==a[t]&&(a[t]=n)},Dt=(a,e)=>{vt(a,e,"channelCount"),vt(a,e,"channelCountMode"),vt(a,e,"channelInterpretation")},sv=a=>typeof a.getFloatTimeDomainData=="function",m8=a=>{a.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);a.getByteTimeDomainData(t);const n=Math.max(t.length,a.fftSize);for(let o=0;o<n;o+=1)e[o]=(t[o]-128)*.0078125;return e}},g8=(a,e)=>(t,n)=>{const o=t.createAnalyser();if(Dt(o,n),!(n.maxDecibels>n.minDecibels))throw e();return vt(o,n,"fftSize"),vt(o,n,"maxDecibels"),vt(o,n,"minDecibels"),vt(o,n,"smoothingTimeConstant"),a(sv,()=>sv(o))||m8(o),o},v8=a=>a===null?null:a.hasOwnProperty("AudioBuffer")?a.AudioBuffer:null,xt=(a,e,t)=>{const n=e[t];n!==void 0&&n!==a[t].value&&(a[t].value=n)},y8=a=>{a.start=(e=>{let t=!1;return(n=0,o=0,l)=>{if(t)throw zt();e.call(a,n,o,l),t=!0}})(a.start)},jd=a=>{a.start=(e=>(t=0,n=0,o)=>{if(typeof o=="number"&&o<0||n<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(a,t,n,o)})(a.start)},Hd=a=>{a.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(a,t)})(a.stop)},b8=(a,e,t,n,o,l,u,f,d,y,w)=>(_,m)=>{const p=_.createBufferSource();return Dt(p,m),xt(p,m,"playbackRate"),vt(p,m,"buffer"),vt(p,m,"loop"),vt(p,m,"loopEnd"),vt(p,m,"loopStart"),e(t,()=>t(_))||y8(p),e(n,()=>n(_))||d(p),e(o,()=>o(_))||y(p,_),e(l,()=>l(_))||jd(p),e(u,()=>u(_))||w(p,_),e(f,()=>f(_))||Hd(p),a(_,p),p},_8=a=>a===null?null:a.hasOwnProperty("AudioContext")?a.AudioContext:a.hasOwnProperty("webkitAudioContext")?a.webkitAudioContext:null,w8=(a,e)=>(t,n,o)=>{const l=t.destination;if(l.channelCount!==n)try{l.channelCount=n}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:n});const u=a(t,{channelCount:n,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",f=>()=>f.call(u),f=>d=>{f.call(u,d);try{l.channelCount=d}catch(y){if(d>l.maxChannelCount)throw y}}),e(u,"channelCountMode",f=>()=>f.call(u),f=>d=>{f.call(u,d),l.channelCountMode=d}),e(u,"channelInterpretation",f=>()=>f.call(u),f=>d=>{f.call(u,d),l.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},C8=a=>a===null?null:a.hasOwnProperty("AudioWorkletNode")?a.AudioWorkletNode:null,x8=a=>{const{port1:e}=new MessageChannel;try{e.postMessage(a)}finally{e.close()}},S8=(a,e,t,n,o)=>(l,u,f,d,y,w)=>{if(f!==null)try{const _=new f(l,d,w),m=new Map;let p=null;if(Object.defineProperties(_,{channelCount:{get:()=>w.channelCount,set:()=>{throw a()}},channelCountMode:{get:()=>"explicit",set:()=>{throw a()}},onprocessorerror:{get:()=>p,set:g=>{typeof p=="function"&&_.removeEventListener("processorerror",p),p=typeof g=="function"?g:null,typeof p=="function"&&_.addEventListener("processorerror",p)}}}),_.addEventListener=(g=>(...h)=>{if(h[0]==="processorerror"){const C=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(C!==null){const S=m.get(h[1]);S!==void 0?h[1]=S:(h[1]=k=>{k.type==="error"?(Object.defineProperties(k,{type:{value:"processorerror"}}),C(k)):C(new ErrorEvent(h[0],{...k}))},m.set(C,h[1]))}}return g.call(_,"error",h[1],h[2]),g.call(_,...h)})(_.addEventListener),_.removeEventListener=(g=>(...h)=>{if(h[0]==="processorerror"){const C=m.get(h[1]);C!==void 0&&(m.delete(h[1]),h[1]=C)}return g.call(_,"error",h[1],h[2]),g.call(_,h[0],h[1],h[2])})(_.removeEventListener),w.numberOfOutputs!==0){const g=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(g).connect(l.destination),o(_,()=>g.disconnect(),()=>g.connect(l.destination))}return _}catch(_){throw _.code===11?n():_}if(y===void 0)throw n();return x8(w),e(l,u,y,w)},m6=(a,e)=>a===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(a*e))))),k8=a=>new Promise((e,t)=>{const{port1:n,port2:o}=new MessageChannel;n.onmessage=({data:l})=>{n.close(),o.close(),e(l)},n.onmessageerror=({data:l})=>{n.close(),o.close(),t(l)},o.postMessage(a)}),T8=async(a,e)=>{const t=await k8(e);return new a(t)},E8=(a,e,t,n)=>{let o=_d.get(a);o===void 0&&(o=new WeakMap,_d.set(a,o));const l=T8(t,n);return o.set(e,l),l},M8=(a,e,t,n,o,l,u,f,d,y,w,_,m)=>(p,g,h,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw d();const S=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(S.some(ve=>ve<1))throw d();if(S.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw d();const k=C.channelCount*C.numberOfInputs,M=S.reduce((ve,_e)=>ve+_e,0),I=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(k+I>6||M>6)throw d();const N=new MessageChannel,z=[],j=[];for(let ve=0;ve<C.numberOfInputs;ve+=1)z.push(u(p,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),j.push(o(p,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const T=[];if(h.parameterDescriptors!==void 0)for(const{defaultValue:ve,maxValue:_e,minValue:De,name:Ie}of h.parameterDescriptors){const Re=l(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Ie]!==void 0?C.parameterData[Ie]:ve===void 0?0:ve});Object.defineProperties(Re.offset,{defaultValue:{get:()=>ve===void 0?0:ve},maxValue:{get:()=>_e===void 0?rn:_e},minValue:{get:()=>De===void 0?Sn:De}}),T.push(Re)}const F=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+I)}),q=m6(g,p.sampleRate),B=f(p,q,k+I,Math.max(1,M)),V=o(p,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),H=[];for(let ve=0;ve<C.numberOfOutputs;ve+=1)H.push(n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[ve]}));for(let ve=0;ve<C.numberOfInputs;ve+=1){z[ve].connect(j[ve]);for(let _e=0;_e<C.channelCount;_e+=1)j[ve].connect(F,_e,ve*C.channelCount+_e)}const D=new f6(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:ve},_e)=>{const De=T[_e];return De.connect(F,0,k+_e),De.start(0),[ve,De.offset]}));F.connect(B);let R=C.channelInterpretation,U=null;const Y=C.numberOfOutputs===0?[B]:H,G={get bufferSize(){return q},get channelCount(){return C.channelCount},set channelCount(ve){throw t()},get channelCountMode(){return C.channelCountMode},set channelCountMode(ve){throw t()},get channelInterpretation(){return R},set channelInterpretation(ve){for(const _e of z)_e.channelInterpretation=ve;R=ve},get context(){return B.context},get inputs(){return z},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return U},set onprocessorerror(ve){typeof U=="function"&&G.removeEventListener("processorerror",U),U=typeof ve=="function"?ve:null,typeof U=="function"&&G.addEventListener("processorerror",U)},get parameters(){return D},get port(){return N.port2},addEventListener(...ve){return B.addEventListener(ve[0],ve[1],ve[2])},connect:a.bind(null,Y),disconnect:y.bind(null,Y),dispatchEvent(...ve){return B.dispatchEvent(ve[0])},removeEventListener(...ve){return B.removeEventListener(ve[0],ve[1],ve[2])}},A=new Map;N.port1.addEventListener=(ve=>(..._e)=>{if(_e[0]==="message"){const De=typeof _e[1]=="function"?_e[1]:typeof _e[1]=="object"&&_e[1]!==null&&typeof _e[1].handleEvent=="function"?_e[1].handleEvent:null;if(De!==null){const Ie=A.get(_e[1]);Ie!==void 0?_e[1]=Ie:(_e[1]=Re=>{w(p.currentTime,p.sampleRate,()=>De(Re))},A.set(De,_e[1]))}}return ve.call(N.port1,_e[0],_e[1],_e[2])})(N.port1.addEventListener),N.port1.removeEventListener=(ve=>(..._e)=>{if(_e[0]==="message"){const De=A.get(_e[1]);De!==void 0&&(A.delete(_e[1]),_e[1]=De)}return ve.call(N.port1,_e[0],_e[1],_e[2])})(N.port1.removeEventListener);let O=null;Object.defineProperty(N.port1,"onmessage",{get:()=>O,set:ve=>{typeof O=="function"&&N.port1.removeEventListener("message",O),O=typeof ve=="function"?ve:null,typeof O=="function"&&(N.port1.addEventListener("message",O),N.port1.start())}}),h.prototype.port=N.port1;let E=null;E8(p,G,h,C).then(ve=>E=ve);const X=H0(C.numberOfInputs,C.channelCount),K=H0(C.numberOfOutputs,S),Q=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((ve,{name:_e})=>({...ve,[_e]:new Float32Array(128)}),{});let ie=!0;const he=()=>{C.numberOfOutputs>0&&B.disconnect(V);for(let ve=0,_e=0;ve<C.numberOfOutputs;ve+=1){const De=H[ve];for(let Ie=0;Ie<S[ve];Ie+=1)V.disconnect(De,_e+Ie,Ie);_e+=S[ve]}},J=new Map;B.onaudioprocess=({inputBuffer:ve,outputBuffer:_e})=>{if(E!==null){const De=_(G);for(let Ie=0;Ie<q;Ie+=128){for(let Re=0;Re<C.numberOfInputs;Re+=1)for(let Fe=0;Fe<C.channelCount;Fe+=1)j0(ve,X[Re],Fe,Fe,Ie);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:Re},Fe)=>{j0(ve,Q,Re,k+Fe,Ie)});for(let Re=0;Re<C.numberOfInputs;Re+=1)for(let Fe=0;Fe<S[Re];Fe+=1)K[Re][Fe].byteLength===0&&(K[Re][Fe]=new Float32Array(128));try{const Re=X.map((ne,le)=>{if(De[le].size>0)return J.set(le,q/128),ne;const re=J.get(le);return re===void 0?[]:(ne.every(pe=>pe.every(Ee=>Ee===0))&&(re===1?J.delete(le):J.set(le,re-1)),ne)});ie=w(p.currentTime+Ie/p.sampleRate,p.sampleRate,()=>E.process(Re,K,Q));for(let ne=0,le=0;ne<C.numberOfOutputs;ne+=1){for(let se=0;se<S[ne];se+=1)d6(_e,K[ne],se,le+se,Ie);le+=S[ne]}}catch(Re){ie=!1,G.dispatchEvent(new ErrorEvent("processorerror",{colno:Re.colno,filename:Re.filename,lineno:Re.lineno,message:Re.message}))}if(!ie){for(let Re=0;Re<C.numberOfInputs;Re+=1){z[Re].disconnect(j[Re]);for(let Fe=0;Fe<C.channelCount;Fe+=1)j[Ie].disconnect(F,Fe,Re*C.channelCount+Fe)}if(h.parameterDescriptors!==void 0){const Re=h.parameterDescriptors.length;for(let Fe=0;Fe<Re;Fe+=1){const ne=T[Fe];ne.disconnect(F,0,k+Fe),ne.stop()}}F.disconnect(B),B.onaudioprocess=null,ge?he():Se();break}}}};let ge=!1;const Ce=u(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),fe=()=>B.connect(Ce).connect(p.destination),Se=()=>{B.disconnect(Ce),Ce.disconnect()},xe=()=>{if(ie){Se(),C.numberOfOutputs>0&&B.connect(V);for(let ve=0,_e=0;ve<C.numberOfOutputs;ve+=1){const De=H[ve];for(let Ie=0;Ie<S[ve];Ie+=1)V.connect(De,_e+Ie,Ie);_e+=S[ve]}}ge=!0},de=()=>{ie&&(fe(),he()),ge=!1};return fe(),m(G,xe,de)},g6=(a,e)=>{const t=a.createBiquadFilter();return Dt(t,e),xt(t,e,"Q"),xt(t,e,"detune"),xt(t,e,"frequency"),xt(t,e,"gain"),vt(t,e,"type"),t},A8=(a,e)=>(t,n)=>{const o=t.createChannelMerger(n.numberOfInputs);return a!==null&&a.name==="webkitAudioContext"&&e(t,o),Dt(o,n),o},P8=a=>{const e=a.numberOfOutputs;Object.defineProperty(a,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw zt()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw zt()}}),Object.defineProperty(a,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw zt()}})},Ua=(a,e)=>{const t=a.createChannelSplitter(e.numberOfOutputs);return Dt(t,e),P8(t),t},N8=(a,e,t,n,o)=>(l,u)=>{if(l.createConstantSource===void 0)return t(l,u);const f=l.createConstantSource();return Dt(f,u),xt(f,u,"offset"),e(n,()=>n(l))||jd(f),e(o,()=>o(l))||Hd(f),a(l,f),f},Rs=(a,e)=>(a.connect=e.connect.bind(e),a.disconnect=e.disconnect.bind(e),a),O8=(a,e,t,n)=>(o,{offset:l,...u})=>{const f=o.createBuffer(1,2,44100),d=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),y=t(o,{...u,gain:l}),w=f.getChannelData(0);w[0]=1,w[1]=1,d.buffer=f,d.loop=!0;const _={get bufferSize(){},get channelCount(){return y.channelCount},set channelCount(g){y.channelCount=g},get channelCountMode(){return y.channelCountMode},set channelCountMode(g){y.channelCountMode=g},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(g){y.channelInterpretation=g},get context(){return y.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get offset(){return y.gain},get onended(){return d.onended},set onended(g){d.onended=g},addEventListener(...g){return d.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return d.dispatchEvent(g[0])},removeEventListener(...g){return d.removeEventListener(g[0],g[1],g[2])},start(g=0){d.start.call(d,g)},stop(g=0){d.stop.call(d,g)}},m=()=>d.connect(y),p=()=>d.disconnect(y);return a(o,d),n(Rs(_,y),m,p)},I8=(a,e)=>(t,n)=>{const o=t.createConvolver();if(Dt(o,n),n.disableNormalization===o.normalize&&(o.normalize=!n.disableNormalization),vt(o,n,"buffer"),n.channelCount>2||(e(o,"channelCount",l=>()=>l.call(o),l=>u=>{if(u>2)throw a();return l.call(o,u)}),n.channelCountMode==="max"))throw a();return e(o,"channelCountMode",l=>()=>l.call(o),l=>u=>{if(u==="max")throw a();return l.call(o,u)}),o},v6=(a,e)=>{const t=a.createDelay(e.maxDelayTime);return Dt(t,e),xt(t,e,"delayTime"),t},R8=a=>(e,t)=>{const n=e.createDynamicsCompressor();if(Dt(n,t),t.channelCount>2||t.channelCountMode==="max")throw a();return xt(n,t,"attack"),xt(n,t,"knee"),xt(n,t,"ratio"),xt(n,t,"release"),xt(n,t,"threshold"),n},gn=(a,e)=>{const t=a.createGain();return Dt(t,e),xt(t,e,"gain"),t},D8=a=>(e,t,n)=>{if(e.createIIRFilter===void 0)return a(e,t,n);const o=e.createIIRFilter(n.feedforward,n.feedback);return Dt(o,n),o};function L8(a,e){const t=e[0]*e[0]+e[1]*e[1];return[(a[0]*e[0]+a[1]*e[1])/t,(a[1]*e[0]-a[0]*e[1])/t]}function F8(a,e){return[a[0]*e[0]-a[1]*e[1],a[0]*e[1]+a[1]*e[0]]}function av(a,e){let t=[0,0];for(let n=a.length-1;n>=0;n-=1)t=F8(t,e),t[0]+=a[n];return t}const B8=(a,e,t,n)=>(o,l,{channelCount:u,channelCountMode:f,channelInterpretation:d,feedback:y,feedforward:w})=>{const _=m6(l,o.sampleRate),m=y instanceof Float64Array?y:new Float64Array(y),p=w instanceof Float64Array?w:new Float64Array(w),g=m.length,h=p.length,C=Math.min(g,h);if(g===0||g>20)throw n();if(m[0]===0)throw e();if(h===0||h>20)throw n();if(p[0]===0)throw e();if(m[0]!==1){for(let T=0;T<h;T+=1)p[T]/=m[0];for(let T=1;T<g;T+=1)m[T]/=m[0]}const S=t(o,_,u,u);S.channelCount=u,S.channelCountMode=f,S.channelInterpretation=d;const k=32,M=[],I=[],N=[];for(let T=0;T<u;T+=1){M.push(0);const F=new Float32Array(k),q=new Float32Array(k);F.fill(0),q.fill(0),I.push(F),N.push(q)}S.onaudioprocess=T=>{const F=T.inputBuffer,q=T.outputBuffer,B=F.numberOfChannels;for(let V=0;V<B;V+=1){const H=F.getChannelData(V),D=q.getChannelData(V);M[V]=p6(m,g,p,h,C,I[V],N[V],M[V],k,H,D)}};const z=o.sampleRate/2;return Rs({get bufferSize(){return _},get channelCount(){return S.channelCount},set channelCount(T){S.channelCount=T},get channelCountMode(){return S.channelCountMode},set channelCountMode(T){S.channelCountMode=T},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(T){S.channelInterpretation=T},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},addEventListener(...T){return S.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return S.dispatchEvent(T[0])},getFrequencyResponse(T,F,q){if(T.length!==F.length||F.length!==q.length)throw a();const B=T.length;for(let V=0;V<B;V+=1){const H=-Math.PI*(T[V]/z),D=[Math.cos(H),Math.sin(H)],R=av(p,D),U=av(m,D),Y=L8(R,U);F[V]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),q[V]=Math.atan2(Y[1],Y[0])}},removeEventListener(...T){return S.removeEventListener(T[0],T[1],T[2])}},S)},q8=(a,e)=>a.createMediaElementSource(e.mediaElement),z8=(a,e)=>{const t=a.createMediaStreamDestination();return Dt(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},V8=(a,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const n=t.slice(0,1),o=a.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(o,"mediaStream",{value:e}),o},j8=(a,e)=>(t,{mediaStreamTrack:n})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(n);const o=new MediaStream([n]),l=t.createMediaStreamSource(o);if(n.kind!=="audio")throw a();if(e(t))throw new TypeError;return l},H8=a=>a===null?null:a.hasOwnProperty("OfflineAudioContext")?a.OfflineAudioContext:a.hasOwnProperty("webkitOfflineAudioContext")?a.webkitOfflineAudioContext:null,W8=(a,e,t,n,o,l)=>(u,f)=>{const d=u.createOscillator();return Dt(d,f),xt(d,f,"detune"),xt(d,f,"frequency"),f.periodicWave!==void 0?d.setPeriodicWave(f.periodicWave):vt(d,f,"type"),e(t,()=>t(u))||jd(d),e(n,()=>n(u))||l(d,u),e(o,()=>o(u))||Hd(d),a(u,d),d},U8=a=>(e,t)=>{const n=e.createPanner();return n.orientationX===void 0?a(e,t):(Dt(n,t),xt(n,t,"orientationX"),xt(n,t,"orientationY"),xt(n,t,"orientationZ"),xt(n,t,"positionX"),xt(n,t,"positionY"),xt(n,t,"positionZ"),vt(n,t,"coneInnerAngle"),vt(n,t,"coneOuterAngle"),vt(n,t,"coneOuterGain"),vt(n,t,"distanceModel"),vt(n,t,"maxDistance"),vt(n,t,"panningModel"),vt(n,t,"refDistance"),vt(n,t,"rolloffFactor"),n)},G8=(a,e,t,n,o,l,u,f,d,y)=>(w,{coneInnerAngle:_,coneOuterAngle:m,coneOuterGain:p,distanceModel:g,maxDistance:h,orientationX:C,orientationY:S,orientationZ:k,panningModel:M,positionX:I,positionY:N,positionZ:z,refDistance:j,rolloffFactor:T,...F})=>{const q=w.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw u();Dt(q,F);const B={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},V=t(w,{...B,channelInterpretation:"speakers",numberOfInputs:6}),H=n(w,{...F,gain:1}),D=n(w,{...B,gain:1}),R=n(w,{...B,gain:0}),U=n(w,{...B,gain:0}),Y=n(w,{...B,gain:0}),G=n(w,{...B,gain:0}),A=n(w,{...B,gain:0}),O=o(w,256,6,1),E=l(w,{...B,curve:new Float32Array([1,1]),oversample:"none"});let W=[C,S,k],X=[I,N,z];const K=new Float32Array(1);O.onaudioprocess=({inputBuffer:J})=>{const ge=[d(J,K,0),d(J,K,1),d(J,K,2)];ge.some((fe,Se)=>fe!==W[Se])&&(q.setOrientation(...ge),W=ge);const Ce=[d(J,K,3),d(J,K,4),d(J,K,5)];Ce.some((fe,Se)=>fe!==X[Se])&&(q.setPosition(...Ce),X=Ce)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return q.channelCount},set channelCount(J){if(J>2)throw u();H.channelCount=J,q.channelCount=J},get channelCountMode(){return q.channelCountMode},set channelCountMode(J){if(J==="max")throw u();H.channelCountMode=J,q.channelCountMode=J},get channelInterpretation(){return q.channelInterpretation},set channelInterpretation(J){H.channelInterpretation=J,q.channelInterpretation=J},get coneInnerAngle(){return q.coneInnerAngle},set coneInnerAngle(J){q.coneInnerAngle=J},get coneOuterAngle(){return q.coneOuterAngle},set coneOuterAngle(J){q.coneOuterAngle=J},get coneOuterGain(){return q.coneOuterGain},set coneOuterGain(J){if(J<0||J>1)throw e();q.coneOuterGain=J},get context(){return q.context},get distanceModel(){return q.distanceModel},set distanceModel(J){q.distanceModel=J},get inputs(){return[H]},get maxDistance(){return q.maxDistance},set maxDistance(J){if(J<0)throw new RangeError;q.maxDistance=J},get numberOfInputs(){return q.numberOfInputs},get numberOfOutputs(){return q.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return R.gain},get orientationZ(){return U.gain},get panningModel(){return q.panningModel},set panningModel(J){q.panningModel=J},get positionX(){return Y.gain},get positionY(){return G.gain},get positionZ(){return A.gain},get refDistance(){return q.refDistance},set refDistance(J){if(J<0)throw new RangeError;q.refDistance=J},get rolloffFactor(){return q.rolloffFactor},set rolloffFactor(J){if(J<0)throw new RangeError;q.rolloffFactor=J},addEventListener(...J){return H.addEventListener(J[0],J[1],J[2])},dispatchEvent(...J){return H.dispatchEvent(J[0])},removeEventListener(...J){return H.removeEventListener(J[0],J[1],J[2])}};_!==Q.coneInnerAngle&&(Q.coneInnerAngle=_),m!==Q.coneOuterAngle&&(Q.coneOuterAngle=m),p!==Q.coneOuterGain&&(Q.coneOuterGain=p),g!==Q.distanceModel&&(Q.distanceModel=g),h!==Q.maxDistance&&(Q.maxDistance=h),C!==Q.orientationX.value&&(Q.orientationX.value=C),S!==Q.orientationY.value&&(Q.orientationY.value=S),k!==Q.orientationZ.value&&(Q.orientationZ.value=k),M!==Q.panningModel&&(Q.panningModel=M),I!==Q.positionX.value&&(Q.positionX.value=I),N!==Q.positionY.value&&(Q.positionY.value=N),z!==Q.positionZ.value&&(Q.positionZ.value=z),j!==Q.refDistance&&(Q.refDistance=j),T!==Q.rolloffFactor&&(Q.rolloffFactor=T),(W[0]!==1||W[1]!==0||W[2]!==0)&&q.setOrientation(...W),(X[0]!==0||X[1]!==0||X[2]!==0)&&q.setPosition(...X);const ie=()=>{H.connect(q),a(H,E,0,0),E.connect(D).connect(V,0,0),E.connect(R).connect(V,0,1),E.connect(U).connect(V,0,2),E.connect(Y).connect(V,0,3),E.connect(G).connect(V,0,4),E.connect(A).connect(V,0,5),V.connect(O).connect(w.destination)},he=()=>{H.disconnect(q),f(H,E,0,0),E.disconnect(D),D.disconnect(V),E.disconnect(R),R.disconnect(V),E.disconnect(U),U.disconnect(V),E.disconnect(Y),Y.disconnect(V),E.disconnect(G),G.disconnect(V),E.disconnect(A),A.disconnect(V),V.disconnect(O),O.disconnect(w.destination)};return y(Rs(Q,q),ie,he)},$8=a=>(e,{disableNormalization:t,imag:n,real:o})=>{const l=n instanceof Float32Array?n:new Float32Array(n),u=o instanceof Float32Array?o:new Float32Array(o),f=e.createPeriodicWave(u,l,{disableNormalization:t});if(Array.from(n).length<2)throw a();return f},Ga=(a,e,t,n)=>a.createScriptProcessor(e,t,n),Y8=(a,e)=>(t,n)=>{const o=n.channelCountMode;if(o==="clamped-max")throw e();if(t.createStereoPanner===void 0)return a(t,n);const l=t.createStereoPanner();return Dt(l,n),xt(l,n,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:u=>{if(u!==o)throw e()}}),l},X8=(a,e,t,n,o,l)=>{const f=new Float32Array([1,1]),d=Math.PI/2,y={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},w={...y,oversample:"none"},_=(g,h,C,S)=>{const k=new Float32Array(16385),M=new Float32Array(16385);for(let F=0;F<16385;F+=1){const q=F/16384*d;k[F]=Math.cos(q),M[F]=Math.sin(q)}const I=t(g,{...y,gain:0}),N=n(g,{...w,curve:k}),z=n(g,{...w,curve:f}),j=t(g,{...y,gain:0}),T=n(g,{...w,curve:M});return{connectGraph(){h.connect(I),h.connect(z.inputs===void 0?z:z.inputs[0]),h.connect(j),z.connect(C),C.connect(N.inputs===void 0?N:N.inputs[0]),C.connect(T.inputs===void 0?T:T.inputs[0]),N.connect(I.gain),T.connect(j.gain),I.connect(S,0,0),j.connect(S,0,1)},disconnectGraph(){h.disconnect(I),h.disconnect(z.inputs===void 0?z:z.inputs[0]),h.disconnect(j),z.disconnect(C),C.disconnect(N.inputs===void 0?N:N.inputs[0]),C.disconnect(T.inputs===void 0?T:T.inputs[0]),N.disconnect(I.gain),T.disconnect(j.gain),I.disconnect(S,0,0),j.disconnect(S,0,1)}}},m=(g,h,C,S)=>{const k=new Float32Array(16385),M=new Float32Array(16385),I=new Float32Array(16385),N=new Float32Array(16385),z=Math.floor(16385/2);for(let Y=0;Y<16385;Y+=1)if(Y>z){const G=(Y-z)/(16384-z)*d;k[Y]=Math.cos(G),M[Y]=Math.sin(G),I[Y]=0,N[Y]=1}else{const G=Y/(16384-z)*d;k[Y]=1,M[Y]=0,I[Y]=Math.cos(G),N[Y]=Math.sin(G)}const j=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=t(g,{...y,gain:0}),F=n(g,{...w,curve:k}),q=t(g,{...y,gain:0}),B=n(g,{...w,curve:M}),V=n(g,{...w,curve:f}),H=t(g,{...y,gain:0}),D=n(g,{...w,curve:I}),R=t(g,{...y,gain:0}),U=n(g,{...w,curve:N});return{connectGraph(){h.connect(j),h.connect(V.inputs===void 0?V:V.inputs[0]),j.connect(T,0),j.connect(q,0),j.connect(H,1),j.connect(R,1),V.connect(C),C.connect(F.inputs===void 0?F:F.inputs[0]),C.connect(B.inputs===void 0?B:B.inputs[0]),C.connect(D.inputs===void 0?D:D.inputs[0]),C.connect(U.inputs===void 0?U:U.inputs[0]),F.connect(T.gain),B.connect(q.gain),D.connect(H.gain),U.connect(R.gain),T.connect(S,0,0),H.connect(S,0,0),q.connect(S,0,1),R.connect(S,0,1)},disconnectGraph(){h.disconnect(j),h.disconnect(V.inputs===void 0?V:V.inputs[0]),j.disconnect(T,0),j.disconnect(q,0),j.disconnect(H,1),j.disconnect(R,1),V.disconnect(C),C.disconnect(F.inputs===void 0?F:F.inputs[0]),C.disconnect(B.inputs===void 0?B:B.inputs[0]),C.disconnect(D.inputs===void 0?D:D.inputs[0]),C.disconnect(U.inputs===void 0?U:U.inputs[0]),F.disconnect(T.gain),B.disconnect(q.gain),D.disconnect(H.gain),U.disconnect(R.gain),T.disconnect(S,0,0),H.disconnect(S,0,0),q.disconnect(S,0,1),R.disconnect(S,0,1)}}},p=(g,h,C,S,k)=>{if(h===1)return _(g,C,S,k);if(h===2)return m(g,C,S,k);throw o()};return(g,{channelCount:h,channelCountMode:C,pan:S,...k})=>{if(C==="max")throw o();const M=a(g,{...k,channelCount:1,channelCountMode:C,numberOfInputs:2}),I=t(g,{...k,channelCount:h,channelCountMode:C,gain:1}),N=t(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:S});let{connectGraph:z,disconnectGraph:j}=p(g,h,I,N,M);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(V){I.channelCount!==V&&(F&&j(),{connectGraph:z,disconnectGraph:j}=p(g,V,I,N,M),F&&z()),I.channelCount=V},get channelCountMode(){return I.channelCountMode},set channelCountMode(V){if(V==="clamped-max"||V==="max")throw o();I.channelCountMode=V},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(V){I.channelInterpretation=V},get context(){return I.context},get inputs(){return[I]},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get pan(){return N.gain},addEventListener(...V){return I.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return I.dispatchEvent(V[0])},removeEventListener(...V){return I.removeEventListener(V[0],V[1],V[2])}};let F=!1;const q=()=>{z(),F=!0},B=()=>{j(),F=!1};return l(Rs(T,M),q,B)}},Q8=(a,e,t,n,o,l,u)=>(f,d)=>{const y=f.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return t(f,d);Dt(y,d);const w=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(w!==null&&w.length<2)throw e();vt(y,{curve:w},"curve"),vt(y,d,"oversample");let _=null,m=!1;return u(y,"curve",h=>()=>h.call(y),h=>C=>(h.call(y,C),m&&(n(C)&&_===null?_=a(f,y):!n(C)&&_!==null&&(_(),_=null)),C)),o(y,()=>{m=!0,n(y.curve)&&(_=a(f,y))},()=>{m=!1,_!==null&&(_(),_=null)})},K8=(a,e,t,n,o)=>(l,{curve:u,oversample:f,...d})=>{const y=l.createWaveShaper(),w=l.createWaveShaper();Dt(y,d),Dt(w,d);const _=t(l,{...d,gain:1}),m=t(l,{...d,gain:-1}),p=t(l,{...d,gain:1}),g=t(l,{...d,gain:-1});let h=null,C=!1,S=null;const k={get bufferSize(){},get channelCount(){return y.channelCount},set channelCount(N){_.channelCount=N,m.channelCount=N,y.channelCount=N,p.channelCount=N,w.channelCount=N,g.channelCount=N},get channelCountMode(){return y.channelCountMode},set channelCountMode(N){_.channelCountMode=N,m.channelCountMode=N,y.channelCountMode=N,p.channelCountMode=N,w.channelCountMode=N,g.channelCountMode=N},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(N){_.channelInterpretation=N,m.channelInterpretation=N,y.channelInterpretation=N,p.channelInterpretation=N,w.channelInterpretation=N,g.channelInterpretation=N},get context(){return y.context},get curve(){return S},set curve(N){if(N!==null&&N.length<2)throw e();if(N===null)y.curve=N,w.curve=N;else{const z=N.length,j=new Float32Array(z+2-z%2),T=new Float32Array(z+2-z%2);j[0]=N[0],T[0]=-N[z-1];const F=Math.ceil((z+1)/2),q=(z+1)/2-1;for(let B=1;B<F;B+=1){const V=B/F*q,H=Math.floor(V),D=Math.ceil(V);j[B]=H===D?N[H]:(1-(V-H))*N[H]+(1-(D-V))*N[D],T[B]=H===D?-N[z-1-H]:-((1-(V-H))*N[z-1-H])-(1-(D-V))*N[z-1-D]}j[F]=z%2===1?N[F-1]:(N[F-2]+N[F-1])/2,y.curve=j,w.curve=T}S=N,C&&(n(S)&&h===null?h=a(l,_):h!==null&&(h(),h=null))},get inputs(){return[_]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get oversample(){return y.oversample},set oversample(N){y.oversample=N,w.oversample=N},addEventListener(...N){return _.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return _.dispatchEvent(N[0])},removeEventListener(...N){return _.removeEventListener(N[0],N[1],N[2])}};u!==null&&(k.curve=u instanceof Float32Array?u:new Float32Array(u)),f!==k.oversample&&(k.oversample=f);const M=()=>{_.connect(y).connect(p),_.connect(m).connect(w).connect(g).connect(p),C=!0,n(S)&&(h=a(l,_))},I=()=>{_.disconnect(y),y.disconnect(p),_.disconnect(m),m.disconnect(w),w.disconnect(g),g.disconnect(p),C=!1,h!==null&&(h(),h=null)};return o(Rs(k,p),M,I)},an=()=>new DOMException("","NotSupportedError"),Z8={numberOfChannels:1},J8=(a,e,t,n,o)=>class extends a{constructor(u,f,d){let y;if(typeof u=="number"&&f!==void 0&&d!==void 0)y={length:f,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")y=u;else throw new Error("The given parameters are not valid.");const{length:w,numberOfChannels:_,sampleRate:m}={...Z8,...y},p=n(_,w,m);e(La,()=>La(p))||p.addEventListener("statechange",(()=>{let g=0;const h=C=>{this._state==="running"&&(g>0?(p.removeEventListener("statechange",h),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):g+=1)};return h})()),super(p,_),this._length=w,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,c6(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},eC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},tC=(a,e,t,n,o,l,u)=>class extends a{constructor(d,y){const w=o(d),_={...eC,...y},m=t(w,_),p=l(w),g=p?n():null,h=d.sampleRate/2;super(d,!1,m,g),this._detune=e(this,p,m.detune,153600,-153600),this._frequency=e(this,p,m.frequency,h,-h),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const y=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=y;const w=this._nativeOscillatorNode.onended;this._onended=w!==null&&w===y?d:w}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){ks(this);const y=()=>{this._nativeOscillatorNode.removeEventListener("ended",y),Sr(this)&&ja(this)};this._nativeOscillatorNode.addEventListener("ended",y)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},nC=(a,e,t,n,o)=>()=>{const l=new WeakMap;let u=null,f=null,d=null;const y=async(w,_)=>{let m=t(w);const p=Jt(m,_);if(!p){const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:u===null?void 0:u,type:m.type};m=e(_,g),f!==null&&m.start(f),d!==null&&m.stop(d)}return l.set(_,m),p?(await a(_,w.detune,m.detune),await a(_,w.frequency,m.frequency)):(await n(_,w.detune,m.detune),await n(_,w.frequency,m.frequency)),await o(w,_,m),m};return{set periodicWave(w){u=w},set start(w){f=w},set stop(w){d=w},render(w,_){const m=l.get(_);return m!==void 0?Promise.resolve(m):y(w,_)}}},rC={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},iC=(a,e,t,n,o,l,u)=>class extends a{constructor(d,y){const w=o(d),_={...rC,...y},m=t(w,_),p=l(w),g=p?n():null;super(d,!1,m,g),this._nativePannerNode=m,this._orientationX=e(this,p,m.orientationX,rn,Sn),this._orientationY=e(this,p,m.orientationY,rn,Sn),this._orientationZ=e(this,p,m.orientationZ,rn,Sn),this._positionX=e(this,p,m.positionX,rn,Sn),this._positionY=e(this,p,m.positionY,rn,Sn),this._positionZ=e(this,p,m.positionZ,rn,Sn),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},sC=(a,e,t,n,o,l,u,f,d,y)=>()=>{const w=new WeakMap;let _=null;const m=async(p,g)=>{let h=null,C=l(p);const S={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},k={...S,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},M=Jt(C,g);if("bufferSize"in C)h=n(g,{...S,gain:1});else if(!M){const I={...k,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=o(g,I)}if(w.set(g,h===null?C:h),h!==null){if(_===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=new u(6,p.context.length,g.sampleRate),V=e(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});V.connect(B.destination),_=(async()=>{const H=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(D,R)=>{const U=t(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R===0?1:0});return await f(B,D,U.offset),U}));for(let D=0;D<6;D+=1)H[D].connect(V,0,D),H[D].start(0);return y(B)})()}const I=await _,N=n(g,{...S,gain:1});await d(p,g,N);const z=[];for(let B=0;B<I.numberOfChannels;B+=1)z.push(I.getChannelData(B));let j=[z[0][0],z[1][0],z[2][0]],T=[z[3][0],z[4][0],z[5][0]],F=n(g,{...S,gain:1}),q=o(g,{...k,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:T[0],positionY:T[1],positionZ:T[2]});N.connect(F).connect(q.inputs[0]),q.connect(h);for(let B=128;B<I.length;B+=128){const V=[z[0][B],z[1][B],z[2][B]],H=[z[3][B],z[4][B],z[5][B]];if(V.some((D,R)=>D!==j[R])||H.some((D,R)=>D!==T[R])){j=V,T=H;const D=B/g.sampleRate;F.gain.setValueAtTime(0,D),F=n(g,{...S,gain:0}),q=o(g,{...k,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),F.gain.setValueAtTime(1,D),N.connect(F).connect(q.inputs[0]),q.connect(h)}}return h}return M?(await a(g,p.orientationX,C.orientationX),await a(g,p.orientationY,C.orientationY),await a(g,p.orientationZ,C.orientationZ),await a(g,p.positionX,C.positionX),await a(g,p.positionY,C.positionY),await a(g,p.positionZ,C.positionZ)):(await f(g,p.orientationX,C.orientationX),await f(g,p.orientationY,C.orientationY),await f(g,p.orientationZ,C.orientationZ),await f(g,p.positionX,C.positionX),await f(g,p.positionY,C.positionY),await f(g,p.positionZ,C.positionZ)),Is(C)?await d(p,g,C.inputs[0]):await d(p,g,C),C};return{render(p,g){const h=w.get(g);return h!==void 0?Promise.resolve(h):m(p,g)}}},aC={disableNormalization:!1},oC=(a,e,t,n)=>class y6{constructor(l,u){const f=e(l),d=n({...aC,...u}),y=a(f,d);return t.add(y),y}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===y6.prototype||t.has(l)}},cC=(a,e)=>(t,n,o)=>(a(n).replay(o),e(n,t,o)),lC=(a,e,t)=>async(n,o,l)=>{const u=a(n);await Promise.all(u.activeInputs.map((f,d)=>Array.from(f).map(async([y,w])=>{const m=await e(y).render(y,o),p=n.context.destination;!t(y)&&(n!==p||!t(n))&&m.connect(l,w,d)})).reduce((f,d)=>[...f,...d],[]))},uC=(a,e,t)=>async(n,o,l)=>{const u=e(n);await Promise.all(Array.from(u.activeInputs).map(async([f,d])=>{const w=await a(f).render(f,o);t(f)||w.connect(l,d)}))},hC=(a,e,t,n)=>o=>a(La,()=>La(o))?Promise.resolve(a(n,n)).then(l=>{if(!l){const u=t(o,512,0,1);o.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>o.currentTime,u.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=f=>{u.disconnect(),l(f.renderedBuffer)},u.connect(o.destination),o.startRendering()}),fC=a=>(e,t)=>{a.set(e,t)},dC=a=>(e,t)=>a.set(e,t),pC=(a,e,t,n,o,l,u,f)=>(d,y)=>t(d).render(d,y).then(()=>Promise.all(Array.from(n(y)).map(w=>t(w).render(w,y)))).then(()=>o(y)).then(w=>(typeof w.copyFromChannel!="function"?(u(w),qd(w)):e(l,()=>l(w))||f(w),a.add(w),w)),mC={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},gC=(a,e,t,n,o,l)=>class extends a{constructor(f,d){const y=o(f),w={...mC,...d},_=t(y,w),m=l(y),p=m?n():null;super(f,!1,_,p),this._pan=e(this,m,_.pan)}get pan(){return this._pan}},vC=(a,e,t,n,o)=>()=>{const l=new WeakMap,u=async(f,d)=>{let y=t(f);const w=Jt(y,d);if(!w){const _={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,pan:y.pan.value};y=e(d,_)}return l.set(d,y),w?await a(d,f.pan,y.pan):await n(d,f.pan,y.pan),Is(y)?await o(f,d,y.inputs[0]):await o(f,d,y),y};return{render(f,d){const y=l.get(d);return y!==void 0?Promise.resolve(y):u(f,d)}}},yC=a=>()=>{if(a===null)return!1;try{new a({length:1,sampleRate:44100})}catch{return!1}return!0},bC=(a,e)=>async()=>{if(a===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new e(1,128,44100),o=URL.createObjectURL(t);let l=!1,u=!1;try{await n.audioWorklet.addModule(o);const f=new a(n,"a",{numberOfOutputs:0}),d=n.createOscillator();f.port.onmessage=()=>l=!0,f.onprocessorerror=()=>u=!0,d.connect(f),d.start(0),await n.startRendering(),await new Promise(y=>setTimeout(y))}catch{}finally{URL.revokeObjectURL(o)}return l&&!u},_C=(a,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),n=a(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{t.oncomplete=()=>{n.disconnect(),o(t.currentTime!==0)},t.startRendering()})},wC=()=>new DOMException("","UnknownError"),CC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},xC=(a,e,t,n,o,l,u)=>class extends a{constructor(d,y){const w=o(d),_={...CC,...y},m=t(w,_),g=l(w)?n():null;super(d,!0,m,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},SC=(a,e,t)=>()=>{const n=new WeakMap,o=async(l,u)=>{let f=e(l);if(!Jt(f,u)){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=a(u,y)}return n.set(u,f),Is(f)?await t(l,u,f.inputs[0]):await t(l,u,f),f};return{render(l,u){const f=n.get(u);return f!==void 0?Promise.resolve(f):o(l,u)}}},kC=()=>typeof window>"u"?null:window,TC=(a,e)=>t=>{t.copyFromChannel=(n,o,l=0)=>{const u=a(l),f=a(o);if(f>=t.numberOfChannels)throw e();const d=t.length,y=t.getChannelData(f),w=n.length;for(let _=u<0?-u:0;_+u<d&&_<w;_+=1)n[_]=y[_+u]},t.copyToChannel=(n,o,l=0)=>{const u=a(l),f=a(o);if(f>=t.numberOfChannels)throw e();const d=t.length,y=t.getChannelData(f),w=n.length;for(let _=u<0?-u:0;_+u<d&&_<w;_+=1)y[_+u]=n[_]}},EC=a=>e=>{e.copyFromChannel=(t=>(n,o,l=0)=>{const u=a(l),f=a(o);if(u<e.length)return t.call(e,n,f,u)})(e.copyFromChannel),e.copyToChannel=(t=>(n,o,l=0)=>{const u=a(l),f=a(o);if(u<e.length)return t.call(e,n,f,u)})(e.copyToChannel)},MC=a=>(e,t)=>{const n=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=n),a(e,"buffer",o=>()=>{const l=o.call(e);return l===n?null:l},o=>l=>o.call(e,l===null?n:l))},AC=(a,e)=>(t,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw a()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw a()}});const o=t.createBufferSource();e(n,()=>{const f=n.numberOfInputs;for(let d=0;d<f;d+=1)o.connect(n,0,d)},()=>o.disconnect(n))},b6=(a,e,t)=>a.copyFromChannel===void 0?a.getChannelData(t)[0]:(a.copyFromChannel(e,t),e[0]),_6=a=>{if(a===null)return!1;const e=a.length;return e%2!==0?a[Math.floor(e/2)]!==0:a[e/2-1]+a[e/2]!==0},$a=(a,e,t,n)=>{let o=a;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:l,set:u}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(a,e,{get:t(l),set:n(u)})},PC=a=>({...a,outputChannelCount:a.outputChannelCount!==void 0?a.outputChannelCount:a.numberOfInputs===1&&a.numberOfOutputs===1?[a.channelCount]:Array.from({length:a.numberOfOutputs},()=>1)}),NC=a=>({...a,channelCount:a.numberOfOutputs}),OC=a=>{const{imag:e,real:t}=a;return e===void 0?t===void 0?{...a,imag:[0,0],real:[0,0]}:{...a,imag:Array.from(t,()=>0),real:t}:t===void 0?{...a,imag:e,real:Array.from(e,()=>0)}:{...a,imag:e,real:t}},w6=(a,e,t)=>{try{a.setValueAtTime(e,t)}catch(n){if(n.code!==9)throw n;w6(a,e,t+1e-7)}},IC=a=>{const e=a.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},RC=a=>{const e=a.createBufferSource(),t=a.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},DC=a=>{const e=a.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Wd=a=>{const e=a.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},C6=a=>{const e=a.createBuffer(1,1,44100),t=a.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Ud=a=>{const e=a.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},LC=a=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(a)}finally{e.close(),t.close()}},FC=a=>{a.start=(e=>(t=0,n=0,o)=>{const l=a.buffer,u=l===null?n:Math.min(l.duration,n);l!==null&&u>l.duration-.5/a.context.sampleRate?e.call(a,t,0,0):e.call(a,t,u,o)})(a.start)},x6=(a,e)=>{const t=e.createGain();a.connect(t);const n=(o=>()=>{o.call(a,t),a.removeEventListener("ended",n)})(a.disconnect);a.addEventListener("ended",n),Rs(a,t),a.stop=(o=>{let l=!1;return(u=0)=>{if(l)try{o.call(a,u)}catch{t.gain.setValueAtTime(0,u)}else o.call(a,u),l=!0}})(a.stop)},Ds=(a,e)=>t=>{const n={value:a};return Object.defineProperties(t,{currentTarget:n,target:n}),typeof e=="function"?e.call(a,t):e.handleEvent.call(a,t)},BC=i9(Di),qC=u9(Di),zC=C7(ec),S6=new WeakMap,VC=z7(S6),Jn=Z9(new Map,new WeakMap),or=kC(),k6=g8(Jn,cr),Gd=q7(sn),Gt=lC(sn,Gd,Oi),jC=m9(k6,mt,Gt),ot=H7(J0),Er=H8(or),rt=a8(Er),T6=new WeakMap,E6=O7(Ds),Ya=_8(or),$d=n8(Ya),Yd=r8(or),M6=i8(or),Fa=C8(or),Et=z9(s9(t6),l9(BC,qC,q0,zC,z0,sn,VC,Va,mt,Di,Sr,Oi,T0),Jn,K7(yd,z0,sn,mt,Da,Sr),cr,tc,an,y7(q0,yd,sn,mt,Da,ot,Sr,rt),k7(T6,sn,Qn),E6,ot,$d,Yd,M6,rt,Fa),HC=p9(Et,jC,cr,k6,ot,rt),Xd=new WeakSet,ov=v8(or),A6=h7(new Uint32Array(1)),Qd=TC(A6,cr),Kd=EC(A6),P6=v9(Xd,Jn,an,ov,Er,yC(ov),Qd,Kd),nc=h9(gn),N6=uC(Gd,Ha,Oi),lr=s7(N6),Ls=b8(nc,Jn,IC,RC,DC,Wd,C6,Ud,FC,MC($a),x6),ur=cC(V7(Ha),N6),WC=_9(lr,Ls,mt,ur,Gt),er=V9(a9(n6),T6,Bd,j9,Zw,Jw,e9,t9,n9,md,Jy,Ya,w6),UC=b9(Et,WC,er,zt,Ls,ot,rt,Ds),GC=A9(Et,P9,cr,zt,w8(gn,$a),ot,rt,Gt),$C=K9(lr,g6,mt,ur,Gt),Li=dC(S6),YC=Q9(Et,er,$C,tc,g6,ot,rt,Li),li=p8(Di,Yd),XC=AC(zt,li),ui=A8(Ya,XC),QC=t7(ui,mt,Gt),KC=e7(Et,QC,ui,ot,rt),ZC=i7(Ua,mt,Gt),JC=r7(Et,ZC,Ua,ot,rt,NC),ex=O8(nc,Ls,gn,li),Fs=N8(nc,Jn,ex,Wd,Ud),tx=u7(lr,Fs,mt,ur,Gt),nx=l7(Et,er,tx,Fs,ot,rt,Ds),O6=I8(an,$a),rx=p7(O6,mt,Gt),ix=d7(Et,rx,O6,ot,rt,Li),sx=w7(lr,v6,mt,ur,Gt),ax=_7(Et,er,sx,v6,ot,rt,Li),I6=R8(an),ox=A7(lr,I6,mt,ur,Gt),cx=M7(Et,er,ox,I6,an,ot,rt,Li),lx=F7(lr,gn,mt,ur,Gt),ux=L7(Et,er,lx,gn,ot,rt),hx=B8(tc,zt,Ga,an),rc=hC(Jn,gn,Ga,_C(gn,Er)),fx=Q7(Ls,mt,Er,Gt,rc),dx=D8(hx),px=Y7(Et,dx,fx,ot,rt,Li),mx=N9(er,ui,Fs,Ga,an,b6,rt,$a),R6=new WeakMap,gx=d8(GC,mx,E6,rt,R6,Ds),D6=W8(nc,Jn,Wd,C6,Ud,x6),vx=nC(lr,D6,mt,ur,Gt),yx=tC(Et,er,D6,vx,ot,rt,Ds),L6=o7(Ls),bx=K8(L6,zt,gn,_6,li),ic=Q8(L6,zt,bx,_6,li,Ya,$a),_x=G8(q0,zt,ui,gn,Ga,ic,an,z0,b6,li),F6=U8(_x),wx=sC(lr,ui,Fs,gn,F6,mt,Er,ur,Gt,rc),Cx=iC(Et,er,F6,wx,ot,rt,Li),xx=$8(cr),Sx=oC(xx,ot,new WeakSet,OC),kx=X8(ui,Ua,gn,ic,an,li),B6=Y8(kx,an),Tx=vC(lr,B6,mt,ur,Gt),Ex=gC(Et,er,B6,Tx,ot,rt),Mx=SC(ic,mt,Gt),Ax=xC(Et,zt,ic,Mx,ot,rt,Li),q6=o8(or),Zd=I7(or),z6=new WeakMap,Px=W7(z6,Er),Nx=q6?c9(Jn,an,N7(or),Zd,R7(r9),ot,Px,rt,Fa,new WeakMap,new WeakMap,bC(Fa,Er),or):void 0,Ox=s8($d,rt),Ix=v7(Xd,Jn,g7,P7,new WeakSet,ot,Ox,F0,La,Qd,Kd),V6=Y9(Nx,HC,P6,UC,YC,KC,JC,nx,ix,Ix,ax,cx,ux,px,gx,yx,Cx,Sx,Ex,Ax),Rx=c8(Et,q8,ot,rt),Dx=u8(Et,z8,ot,rt),Lx=h8(Et,V8,ot,rt),Fx=j8(zt,rt),Bx=f8(Et,Fx,ot),qx=M9(V6,zt,an,wC,Rx,Dx,Lx,Bx,Ya),Jd=U7(R6),zx=f9(Jd),j6=a7(cr),Vx=x7(Jd),H6=T7(cr),W6=new WeakMap,jx=B7(W6,Qn),Hx=M8(j6,cr,zt,ui,Ua,Fs,gn,Ga,an,H6,Zd,jx,li),Wx=S8(zt,Hx,gn,an,li),Ux=$9(lr,j6,Ls,ui,Ua,Fs,gn,Vx,H6,Zd,mt,Fa,Er,ur,Gt,rc),Gx=j7(z6),$x=fC(W6),cv=q6?W9(zx,Et,er,Ux,Wx,sn,Gx,ot,rt,Fa,PC,$x,LC,Ds):void 0,Yx=m7(an,Er),Xx=pC(Xd,Jn,Gd,Jd,rc,F0,Qd,Kd),Qx=J8(V6,Jn,zt,Yx,Xx),Kx=Z7(J0,$d),Zx=J7(Fd,Yd),Jx=e8(Bd,M6),eS=t8(J0,rt);function Ln(a){return a===void 0}function Xe(a){return a!==void 0}function tS(a){return typeof a=="function"}function Ii(a){return typeof a=="number"}function Pi(a){return Object.prototype.toString.call(a)==="[object Object]"&&a.constructor===Object}function nS(a){return typeof a=="boolean"}function Xn(a){return Array.isArray(a)}function Tr(a){return typeof a=="string"}function g0(a){return Tr(a)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(a)}function Ge(a,e){if(!a)throw new Error(e)}function ai(a,e,t=1/0){if(!(e<=a&&a<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${a}`)}function U6(a){!a.isOffline&&a.state!=="running"&&e1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let G6=!1,lv=!1;function uv(a){G6=a}function rS(a){Ln(a)&&G6&&!lv&&(lv=!0,e1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let $6=console;function iS(...a){$6.log(...a)}function e1(...a){$6.warn(...a)}function sS(a){return new qx(a)}function aS(a,e,t){return new Qx(a,e,t)}const kn=typeof self=="object"?self:null,oS=kn&&(kn.hasOwnProperty("AudioContext")||kn.hasOwnProperty("webkitAudioContext"));function cS(a,e,t){return Ge(Xe(cv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(a instanceof(kn==null?void 0:kn.BaseAudioContext)?kn==null?void 0:kn.AudioWorkletNode:cv)(a,e,t)}class lS{constructor(e,t,n,o){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ri(a){return Jx(a)}function ii(a){return Zx(a)}function E0(a){return eS(a)}function hs(a){return Kx(a)}function uS(a){return a instanceof P6}function hS(a,e){return a==="value"||Ri(e)||ii(e)||uS(e)}function vs(a,...e){if(!e.length)return a;const t=e.shift();if(Pi(a)&&Pi(t))for(const n in t)hS(n,t[n])?a[n]=t[n]:Pi(t[n])?(a[n]||Object.assign(a,{[n]:{}}),vs(a[n],t[n])):Object.assign(a,{[n]:t[n]});return vs(a,...e)}function fS(a,e){return a.length===e.length&&a.every((t,n)=>e[n]===t)}function We(a,e,t=[],n){const o={},l=Array.from(e);if(Pi(l[0])&&n&&!Reflect.has(l[0],n)&&(Object.keys(l[0]).some(f=>Reflect.has(a,f))||(vs(o,{[n]:l[0]}),t.splice(t.indexOf(n),1),l.shift())),l.length===1&&Pi(l[0]))vs(o,l[0]);else for(let u=0;u<t.length;u++)Xe(l[u])&&(o[t[u]]=l[u]);return vs(a,o)}function dS(a){return a.constructor.getDefaults()}function ys(a,e){return Ln(a)?e:a}function hv(a,e){return e.forEach(t=>{Reflect.has(a,t)&&delete a[t]}),a}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Mr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||kn&&this.toString()===kn.TONE_DEBUG_CLASS)&&iS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Mr.version=Zy;const t1=1e-6;function Ts(a,e){return a>e+t1}function xd(a,e){return Ts(a,e)||Gn(a,e)}function W0(a,e){return a+t1<e}function Gn(a,e){return Math.abs(a-e)<t1}function pS(a,e,t){return Math.max(Math.min(a,t),e)}class Fn extends Mr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=We(Fn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ge(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Ge(xd(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return n!==-1?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Gn(this._timeline[t].time,e)){for(let n=t;n>=0&&Gn(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&xd(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let n=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][t]<=e)return o-1;for(;n<l;){let u=Math.floor(n+(l-n)/2);const f=this._timeline[u],d=this._timeline[u+1];if(Gn(f[t],e)){for(let y=u;y<this._timeline.length;y++){const w=this._timeline[y];if(Gn(w[t],e))u=y;else break}return u}else{if(W0(f[t],e)&&Ts(d[t],e))return u;Ts(f[t],e)?l=u:n=u+1}}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return n!==-1&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let o=this._search(e),l=this._search(t);return o!==-1&&l!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[l].time===t&&(l-=1),this._iterate(n,o,l)):o===-1&&this._iterate(n,0,l),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(n!==-1&&Gn(this._timeline[n].time,e)){let o=n;for(let l=n;l>=0&&Gn(this._timeline[l].time,e);l--)o=l;this._iterate(l=>{t(l)},o,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Y6=[];function sc(a){Y6.push(a)}function mS(a){Y6.forEach(e=>e(a))}const X6=[];function ac(a){X6.push(a)}function gS(a){X6.forEach(e=>e(a))}class Xa extends Mr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(o=>{Ln(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(t)}),this}once(e,t){const n=(...o)=>{t(...o),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach(o=>{if(Ln(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Ln(t))this._events[o]=[];else{const l=this._events[o];for(let u=l.length-1;u>=0;u--)l[u]===t&&l.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let o=0,l=n.length;o<l;o++)n[o].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const n=Object.getOwnPropertyDescriptor(Xa.prototype,t);Object.defineProperty(e.prototype,t,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class Q6 extends Xa{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Qa extends Q6{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Fn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=We(Qa.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=sS({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new lS(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(mS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Ge(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Ge(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Ge(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ge(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ge(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ge(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ge(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return cS(this.rawContext,e,t)}addAudioWorkletModule(e){return Ot(this,void 0,void 0,function*(){Ge(Xe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ot(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return hs(this._context)?this._context.resume():Promise.resolve()}close(){return Ot(this,void 0,void 0,function*(){hs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&gS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let l=0;l<n.length;l++)n[l]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=t,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),o()},id:n,time:l+t})};return o(),n}}class vS extends Q6{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ot(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function St(a,e){Xn(e)?e.forEach(t=>St(a,t)):Object.defineProperty(a,e,{enumerable:!0,writable:!1})}function K6(a,e){Xn(e)?e.forEach(t=>K6(a,t)):Object.defineProperty(a,e,{writable:!0})}const nt=()=>{};class pt extends Mr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=nt;const e=We(pt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Tr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:nt,onload:nt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Rn().sampleRate}set(e){return e instanceof pt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ot(this,void 0,void 0,function*(){const t=pt.load(e).then(n=>{this.set(n),this.onload(this)});pt.downloads.push(t);try{yield t}finally{const n=pt.downloads.indexOf(t);pt.downloads.splice(n,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Xn(e)&&e[0].length>0,n=t?e.length:1,o=t?e[0].length:e.length,l=Rn(),u=l.createBuffer(n,o,l.sampleRate),f=!t&&n===1?[e]:e;for(let d=0;d<n;d++)u.copyToChannel(f[d],d);return this._buffer=u,this}toMono(e){if(Ii(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const n=this.numberOfChannels;for(let o=0;o<n;o++){const l=this.toArray(o);for(let u=0;u<l.length;u++)t[u]+=l[u]}t=t.map(o=>o/n),this.fromArray(t)}return this}toArray(e){if(Ii(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let n=0;n<this.numberOfChannels;n++)t[n]=this.getChannelData(n);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Ge(this.loaded,"Buffer is not loaded");const n=Math.floor(e*this.sampleRate),o=Math.floor(t*this.sampleRate);Ge(n<o,"The start time must be less than the end time");const l=o-n,u=Rn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)u.copyToChannel(this.getChannelData(f).subarray(n,o),f);return new pt(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new pt().fromArray(e)}static fromUrl(e){return Ot(this,void 0,void 0,function*(){return yield new pt().load(e)})}static load(e){return Ot(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const d=t[1].split("|");let y=d[0];for(const w of d)if(pt.supportsType(w)){y=w;break}e=e.replace(t[0],y)}const n=pt.baseUrl===""||pt.baseUrl.endsWith("/")?pt.baseUrl:pt.baseUrl+"/",o=document.createElement("a");o.href=n+e,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const l=yield fetch(o.href);if(!l.ok)throw new Error(`could not load url: ${e}`);const u=yield l.arrayBuffer();return yield Rn().decodeAudioData(u)})}static supportsType(e){const t=e.split("."),n=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+n)!==""}static loaded(){return Ot(this,void 0,void 0,function*(){for(yield Promise.resolve();pt.downloads.length;)yield pt.downloads[0]})}}pt.baseUrl="";pt.downloads=[];class n1 extends Qa{constructor(){super({clockSource:"offline",context:E0(arguments[0])?arguments[0]:aS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:E0(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=E0(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ot(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ot(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new pt(t)})}close(){return Promise.resolve()}}const Z6=new vS;let ps=Z6;function Rn(){return ps===Z6&&oS&&yS(new Qa),ps}function yS(a,e=!1){e&&ps.dispose(),hs(a)?ps=new Qa(a):E0(a)?ps=new n1(a):ps=a}if(kn&&!kn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Zy} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function bS(a){return Math.pow(10,a/20)}function _S(a){return 20*(Math.log(a)/Math.LN10)}function J6(a){return Math.pow(2,a/12)}let oc=440;function wS(){return oc}function CS(a){oc=a}function Sd(a){return Math.round(e5(a))}function e5(a){return 69+12*Math.log2(a/oc)}function xS(a){return oc*Math.pow(2,(a-69)/12)}class r1 extends Mr{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),o=t==="."?1.5:1;return n===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/n)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o+=this._beatsToUnits(parseFloat(t))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof r1&&this.fromType(this._val),Ln(this._val))return this._noArg();if(Tr(this._val)&&Ln(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Pi(this._val)){let e=0;for(const t in this._val)if(Xe(this._val[t])){const n=this._val[t],o=new this.constructor(this.context,t).valueOf()*n;e+=o}return e}if(Xe(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Tr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class $n extends r1{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new $n(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),f=Math.round(o/n)*n-o;return o+f*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let n=t[0],o=new $n(this.context,t[0]).toSeconds();return t.forEach(l=>{const u=new $n(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(o-e)&&(n=l,o=u)}),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let o=t%1*4;t=Math.floor(t)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[n,t,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Sd(this.toFrequency())}_now(){return this.context.now()}}class Dn extends $n{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return wS()}static set A4(e){CS(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Dn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const o=SS[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?o:Dn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o*=this._beatsToUnits(parseFloat(t))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n)/4)),o}}})}transpose(e){return new Dn(this.context,this.valueOf()*J6(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Sd(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Dn.A4);let n=Math.round(12*t)+57;const o=Math.floor(n/12);return o<0&&(n+=-12*o),kS[n%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return xS(e)}static ftom(e){return Sd(e)}}const SS={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},kS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Oa extends $n{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class mn extends Mr{constructor(){super();const e=We(mn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Rn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return rS(e),new $n(this.context,e).toSeconds()}toFrequency(e){return new Dn(this.context,e).toFrequency()}toTicks(e){return new Oa(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(n=>{Ln(e[n])&&delete t[n]}),t}get(){const e=dS(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const n=this[t];Xe(n)&&Xe(n.value)&&Xe(n.setValueAtTime)?e[t]=n.value:n instanceof mn?e[t]=n._getPartialProperties(e[t]):Xn(n)||Ii(n)||Tr(n)||nS(n)?e[t]=n:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Xe(this[t])&&(this[t]&&Xe(this[t].value)&&Xe(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof mn?this[t].set(e[t]):this[t]=e[t])}),this}}class i1 extends Fn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,n){return ai(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){const n=this._search(t);for(let o=n;o>=0;o--){const l=this._timeline[o];if(l.state===e)return l}}getNextState(e,t){const n=this._search(t);if(n!==-1)for(let o=n;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===e)return l}}}class _t extends mn{constructor(){const e=We(_t.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ge(Xe(e.param)&&(Ri(e.param)||e.param instanceof _t),"param must be an AudioParam");!Ri(e.param);)e.param=e.param._param;this._swappable=Xe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Fn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Xe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(mn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Xe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Xe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Xe(this.maxValue)&&Xe(this.minValue)&&ai(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?bS(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?_S(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),o=this._fromType(e);return Ge(isFinite(o)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),o=this._events.get(t);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(n===null||n.type==="setValueAtTime")){const u=this._events.getBefore(o.time);let f;u===null?f=this._initialValue:f=u.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,f,o.value,o.constant,t))}else if(n===null)l=o.value;else if(n.type==="linearRampToValueAtTime"||n.type==="exponentialRampToValueAtTime"){let u=o.value;if(o.type==="setTargetAtTime"){const f=this._events.getBefore(o.time);f===null?u=this._initialValue:u=f.value}n.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,u,n.time,n.value,t):l=this._exponentialInterpolate(o.time,u,n.time,n.value,t)}else l=o.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),o=this.toSeconds(t);return Ge(isFinite(n)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:o,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(n,o),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=Gn(n,0)?this._minOutput:n,this._assertRange(n);const o=this.toSeconds(t);return Ge(isFinite(n)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(n,o),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const o=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,o),this.cancelAndHoldAtTime(t+n*.9),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const o=this._fromType(e);Ge(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(t);return this._assertRange(o),Ge(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,l,n),this._param.setTargetAtTime(o,l,n),this}setValueCurveAtTime(e,t,n,o=1){n=this.toSeconds(n),t=this.toSeconds(t);const l=this._fromType(e[0])*o;this.setValueAtTime(this._toType(l),t);const u=n/(e.length-1);for(let f=1;f<e.length;f++){const d=this._fromType(e[f])*o;this.linearRampToValueAtTime(this._toType(d),t+f*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Ge(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));Ge(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const o=this._events.get(t),l=this._events.getAfter(t);return o&&Gn(o.time,t)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(n),t):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&n.type==="setTargetAtTime"){const o=this._events.getAfter(n.time),l=o?o.time:t+2,u=(l-t)/10;for(let f=t;f<l;f+=u)e.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){Ge(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,o,l){return n+(t-n)*Math.exp(-(l-e)/o)}_linearInterpolate(e,t,n,o,l){return t+(o-t)*((l-e)/(n-e))}_exponentialInterpolate(e,t,n,o,l){return t*Math.pow(o/t,(l-e)/(n-e))}}class Ye extends mn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Xe(this.input)?Ri(this.input)||this.input instanceof _t?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Xe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Xe(e)&&(e instanceof Ye||ii(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(n=>{n.channelCount=e.channelCount,n.channelCountMode=e.channelCountMode,n.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Ge(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return Bs(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return e1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return TS(this,e,t,n),this}chain(...e){return kd(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Xe(this.input)&&(this.input instanceof Ye?this.input.dispose():ii(this.input)&&this.input.disconnect()),Xe(this.output)&&(this.output instanceof Ye?this.output.dispose():ii(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function kd(...a){const e=a.shift();a.reduce((t,n)=>(t instanceof Ye?t.connect(n):ii(t)&&Bs(t,n),n),e)}function Bs(a,e,t=0,n=0){for(Ge(Xe(a),"Cannot connect from undefined node"),Ge(Xe(e),"Cannot connect to undefined node"),(e instanceof Ye||ii(e))&&Ge(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ge(a.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ye||e instanceof _t;)Xe(e.input)&&(e=e.input);for(;a instanceof Ye;)Xe(a.output)&&(a=a.output);Ri(e)?a.connect(e,t):a.connect(e,t,n)}function TS(a,e,t=0,n=0){if(Xe(e))for(;e instanceof Ye;)e=e.input;for(;!ii(a);)Xe(a.output)&&(a=a.output);Ri(e)?a.disconnect(e,t):ii(e)?a.disconnect(e,t,n):a.disconnect()}class Kt extends Ye{constructor(){const e=We(Kt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new _t({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),St(this,"gain")}static getDefaults(){return Object.assign(Ye.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Es extends Ye{constructor(e){super(e),this.onended=nt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Kt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const n=this.toSeconds(t);return this._startTime!==-1&&n>=this._startTime&&(this._stopTime===-1||n<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ye.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:nt})}_startGain(e,t=1){Ge(this._startTime===-1,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ge(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const n=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+n),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==nt&&(this.onended(this),this.onended=nt,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ge(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=nt,this}}class s1 extends Es{constructor(){const e=We(s1.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Bs(this._source,this._gainNode),this.offset=new _t({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Es.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Vt extends Ye{constructor(){const e=We(Vt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new s1({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ye.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return a1(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,o){return this._param.setValueCurveAtTime(e,t,n,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function a1(a,e,t,n){(e instanceof _t||Ri(e)||e instanceof Vt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Vt&&(e.overridden=!0)),Bs(a,e,t,n)}class o1 extends _t{constructor(){const e=We(o1.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Fn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(_t.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const o=this._fromType(e),l=this._events.get(t),u=Math.round(Math.max(1/n,1));for(let f=0;f<=u;f++){const d=n*f+t,y=this._exponentialApproach(l.time,l.value,o,n,d);this.linearRampToValueAtTime(this._toType(y),d)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const o=this._events.get(n),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,n);return o.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const o=this._events.get(n),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,n);return o.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),o=this._events.get(t),l=Math.round(Math.max((t-o.time)*10,1)),u=(t-o.time)/l;for(let f=0;f<=l;f++){const d=u*f+o.time,y=this._exponentialInterpolate(o.time,o.value,t,n,d);this.linearRampToValueAtTime(this._toType(y),d)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ln(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(t));const l=this._events.get(t);return l&&l.time===t&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+o)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),o=this.getTicksAtTime(t);return this.getTimeOfTick(o+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&n.type==="linearRampToValueAtTime"&&t.value!==n.value){const o=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(n.time))-o)/(n.time-t.time),f=Math.sqrt(Math.pow(o,2)-2*u*(t.ticks-e)),d=(-o+f)/u,y=(-o-f)/u;return(d>0?d:y)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),o=this.toSeconds(e),l=this.getTicksAtTime(n);return this.getTicksAtTime(n+o)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class c1 extends Vt{constructor(){const e=We(c1.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new o1({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Vt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class l1 extends mn{constructor(){const e=We(l1.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new i1,this._tickOffset=new Fn,this._ticksAtTime=new Fn,this._secondsAtTime=new Fn,this.frequency=new c1({context:this.context,units:e.units,value:e.frequency}),St(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},mn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),Xe(t)&&this.setTicksAtTime(t,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const n=this._state.get(t);n&&n.time>0&&(this._tickOffset.cancel(n.time),this._state.cancel(n.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),o=this._ticksAtTime.get(t),l={state:"paused",time:t};this._state.add(l);let u=o||n,f=o?o.ticks:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,y=>{let w=u.time;const _=this._tickOffset.get(y.time);_&&_.time>=u.time&&(f=_.ticks,w=_.time),u.state==="started"&&y.state!=="started"&&(f+=this.frequency.getTicksAtTime(y.time)-this.frequency.getTicksAtTime(w),y.time!==l.time&&(d={state:y.state,time:y.time,ticks:f})),u=y}),this._state.remove(l),d&&this._ticksAtTime.add(d),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);const o=this._secondsAtTime.get(e);let l=o||t,u=o?o.seconds:0,f=null;return this._state.forEachBetween(l.time,e+this.sampleTime,d=>{let y=l.time;const w=this._tickOffset.get(d.time);w&&w.time>=l.time&&(u=w.seconds,y=w.time),l.state==="started"&&d.state!=="started"&&(u+=d.time-y,d.time!==n.time&&(f={state:d.state,time:d.time,seconds:u})),l=d}),this._state.remove(n),f&&this._secondsAtTime.add(f),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),o=this._state.get(t),l=Math.max(n.time,o.time),u=this.frequency.getTicksAtTime(l)+e-n.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,n){let o=this._state.get(e);this._state.forEachBetween(e,t,u=>{o&&o.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),u.time-this.sampleTime,n),o=u});let l=null;if(o&&o.state==="started"){const u=Math.max(o.time,e),f=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(o.time),y=f-d;let w=Math.ceil(y)-y;w=Gn(w,1)?0:w;let _=this.frequency.getTimeOfTick(f+w);for(;_<t;){try{n(_,Math.round(this.getTicksAtTime(_)))}catch(m){l=m;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class cc extends mn{constructor(){const e=We(cc.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=nt,this._lastUpdate=0,this._state=new i1("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new l1({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,St(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(mn.getDefaults(),{callback:nt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){U6(this.context);const n=this.toSeconds(e);return this.log("start",n),this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),o=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(o+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,n=>{switch(n.state){case"started":const o=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,o);break;case"stopped":n.time!==0&&this.emit("stop",n.time);break;case"paused":this.emit("pause",n.time);break}}),this._tickSource.forEachTickBetween(e,t,(n,o)=>{this.callback(n,o)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Xa.mixin(cc);class qs extends Ye{constructor(){const e=We(qs.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Kt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,St(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class u1 extends Ye{constructor(){const e=We(u1.getDefaults(),arguments);super(e),this.name="Destination",this.input=new qs({context:this.context}),this.output=new Kt({context:this.context}),this.volume=this.input.volume,kd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),kd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}sc(a=>{a.destination=new u1({context:a})});ac(a=>{a.destination.dispose()});class ES extends Ye{constructor(){super(...arguments),this.name="Listener",this.positionX=new _t({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new _t({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new _t({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new _t({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new _t({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new _t({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new _t({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new _t({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new _t({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ye.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}sc(a=>{a.listener=new ES({context:a})});ac(a=>{a.listener.dispose()});class h1 extends Mr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=We(h1.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:nt,onload:nt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ge(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,n=nt,o=nt){return Tr(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new pt(this.baseUrl+t,n,o))):this._buffers.set(e.toString(),new pt(t,n,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class ms extends Oa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class MS extends mn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Fn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}sc(a=>{a.draw=new MS({context:a})});ac(a=>{a.draw.dispose()});class AS extends Mr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ge(Xe(e.time),"Events must have a time property"),Ge(Xe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new PS(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let n,o=null;if(t>0)if(e.left.right===null)n=e.left,n.right=e.right,o=n;else{for(n=e.left.right;n.right!==null;)n=n.right;n.parent&&(n.parent.right=n.left,o=n.parent,n.left=e.left,n.right=e.right)}else if(e.right.left===null)n=e.right,n.left=e.left,o=n;else{for(n=e.right.left;n.left!==null;)n=n.left;n.parent&&(n.parent.left=n.right,o=n.parent,n.left=e.left,n.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=n:e.parent.right=n:this._setRoot(n),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),t!==null?n?t.left=o:t.right=o:this._setRoot(o)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),t!==null?n?t.left=o:t.right=o:this._setRoot(o)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let n=t[0];for(let o=1;o<t.length;o++)t[o].low>n.low&&(n=t[o]);return n.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(n=>t.push(n)),t.forEach(n=>{n.event&&e(n.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const n=[];this._root.search(e,n),n.forEach(o=>{o.event&&t(o.event)})}return this}forEachFrom(e,t){if(this._root!==null){const n=[];this._root.searchAfter(e,n),n.forEach(o=>{o.event&&t(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class PS{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class NS extends Mr{constructor(e){super(),this.name="TimelineValue",this._timeline=new Fn({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ms extends Ye{constructor(){super(We(Ms.getDefaults(),arguments,["context"]))}connect(e,t=0,n=0){return a1(this,e,t,n),this}}class Ka extends Ms{constructor(){const e=We(Ka.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Xn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):tS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Vt.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let o=0,l=t;o<l;o++){const u=o/(l-1)*2-1;n[o]=e(u,o)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(n=>n.includes(e));Ge(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class f1 extends Ms{constructor(){const e=We(f1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Ka({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ms.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class oi{constructor(e,t){this.id=oi._eventId++,this._remainderTime=0;const n=Object.assign(oi.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:nt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}oi._eventId=0;class d1 extends oi{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(d1.getDefaults(),t);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},oi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return W0(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ms(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){W0(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ms(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Ts(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class lc extends mn{constructor(){const e=We(lc.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new NS(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Fn,this._repeatedEvents=new AS,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new cc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),St(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(mn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const n=t%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(n*Math.PI)*this._swingAmount;e+=new ms(this.context,this._swingTicks*2/3).toSeconds()*o}uv(!0),this._timeline.forEachAtTime(t,n=>n.invoke(e)),uv(!1)}schedule(e,t){const n=new oi(this,{callback:e,time:new Oa(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,o=1/0){const l=new d1(this,{callback:e,duration:new $n(this.context,o).toTicks(),interval:new $n(this.context,t).toTicks(),time:new Oa(this.context,n).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,t){const n=new oi(this,{callback:e,once:!0,time:new Oa(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,n=>this.clear(n.id)),this._repeatedEvents.forEachFrom(t,n=>this.clear(n.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new ms(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let n;return Xe(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Xn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new $n(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new $n(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ms(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new ms(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const n=this._clock.getTicksAtTime(t),o=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t),l=t+o;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),n=this.getTicksAtTime(t),o=e-n%e;return this._clock.nextTickTime(o,t)}}syncSignal(e,t){const n=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(n)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/l,y=new Kt(d),w=new f1(-1),_=new Kt(d);o.chain(y,w,_),o=_,l=1/l,u=[y,w,_]}t||(e.getValueAtTime(n)!==0?t=e.getValueAtTime(n)/l:t=0);const f=new Kt(t);return o.connect(f),f.connect(e._param),u.push(f),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.nodes.forEach(o=>o.dispose()),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),K6(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Xa.mixin(lc);sc(a=>{a.transport=new lc({context:a})});ac(a=>{a.transport.dispose()});class Tn extends Ye{constructor(e){super(e),this.input=void 0,this._state=new i1("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=nt,this._syncedStop=nt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new qs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,St(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ye.getDefaults(),{mute:!1,onstop:nt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let o=Ln(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Ge(Ts(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,t,n);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(ys(t,0)),l.duration=n?this.toSeconds(n):void 0);const u=this.context.transport.schedule(f=>{this._start(f,t,n)},o);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else U6(this.context),this._start(o,t,n);return this}stop(e){let t=Ln(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Xe(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const n=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(n)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Ts(t,0)){const n=this._state.get(t);if(n&&n.state==="started"&&n.time!==t){const o=t-this.toSeconds(n.time);let l;n.duration&&(l=this.toSeconds(n.duration)-o),this._start(e,this.toSeconds(n.offset)+o,l)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=nt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class uc extends Es{constructor(){const e=We(uc.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Bs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new _t({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new pt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Es.getDefaults(),{url:new pt,loop:!1,loopEnd:0,loopStart:0,onload:nt,onerror:nt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,o=1){Ge(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,o),this.loop?t=ys(t,this.loopStart):t=ys(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),y=f-d;xd(u,f)&&(u=(u-d)%y+d),Gn(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,W0(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),Xe(n)){let f=this.toSeconds(n);f=Math.max(f,0),this.stop(l+f)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Fi(a,e){return Ot(this,void 0,void 0,function*(){const t=e/a.context.sampleRate,n=new n1(1,t,a.context.sampleRate);return new a.constructor(Object.assign(a.get(),{frequency:2/t,detune:0,context:n})).toDestination().start(0),(yield n.render()).getChannelData(0)})}class p1 extends Es{constructor(){const e=We(p1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Bs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new _t({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new _t({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),St(this,["frequency","detune"])}static getDefaults(){return Object.assign(Es.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Nt extends Tn{constructor(){const e=We(Nt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),St(this,"frequency"),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),St(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Tn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new p1({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Nt._periodicWaveCache.find(t=>t.phase===this._phase&&fS(t.partials,this._partials));{const e=Nt._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const n=this._getCachedPeriodicWave();if(Xe(n)){const{partials:o,wave:l}=n;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(o,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Nt._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Nt._periodicWaveCache.length>100&&Nt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ai(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const o=new Float32Array(e);this._partials.forEach((l,u)=>o[u]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,t){let o=2048;const l=new Float32Array(o),u=new Float32Array(o);let f=1;if(e==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,o=f,this._partials.length===0)return[l,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(f=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],f=Math.max(f,2),o=f):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const y=2/(d*Math.PI);let w;switch(e){case"sine":w=d<=f?1:0,this._partials[d-1]=w;break;case"square":w=d&1?2*y:0,this._partials[d-1]=w;break;case"sawtooth":w=y*(d&1?1:-1),this._partials[d-1]=w;break;case"triangle":d&1?w=2*(y*y)*(d-1>>1&1?-1:1):w=0,this._partials[d-1]=w;break;case"custom":w=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}w!==0?(l[d]=-w*Math.sin(t*d),u[d]=w*Math.cos(t*d)):(l[d]=0,u[d]=0)}return[l,u]}_inverseFFT(e,t,n){let o=0;const l=e.length;for(let u=0;u<l;u++)o+=e[u]*Math.cos(u*n)+t[u]*Math.sin(u*n);return o}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const o=Math.PI*2,l=32;for(let u=0;u<l;u++)n=Math.max(this._inverseFFT(e,t,u/l*o),n);return pS(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Nt._periodicWaveCache=[];class OS extends Ms{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ka({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class As extends Vt{constructor(){const e=We(As.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Kt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class hc extends Tn{constructor(){const e=We(hc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new OS({context:this.context}),this._modulationNode=new Kt({context:this.context}),this._carrier=new Nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new As({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),St(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class fc extends Tn{constructor(){const e=We(fc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Kt({context:this.context,gain:0}),this._carrier=new Nt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new As({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new As({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),St(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Za extends Tn{constructor(){const e=We(Za.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Kt({context:this.context,gain:0}),this._thresh=new Ka({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Vt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),St(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Tn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class dc extends Tn{constructor(){const e=We(dc.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,St(this,["frequency","detune"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=t+n*l)}}get count(){return this._oscillators.length}set count(e){if(ai(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const n=new Nt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):nt});this.type==="custom"&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,n)=>t.phase=this._phase+n/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class pc extends Tn{constructor(){const e=We(pc.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new As({context:this.context,value:2}),this._pulse=new Za({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),St(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Tn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const fv={am:hc,fat:dc,fm:fc,oscillator:Nt,pulse:Za,pwm:pc};class U0 extends Tn{constructor(){const e=We(U0.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),St(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Nt.getDefaults(),fc.getDefaults(),hc.getDefaults(),dc.getDefaults(),Za.getDefaults(),pc.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=fv[e],n=this.now();if(this._oscillator){const o=this._oscillator;o.stop(n),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof fv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Ii(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Ii(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Tr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ot(this,arguments,void 0,function*(e=1024){return Fi(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function t5(a,e=1/0){const t=new WeakMap;return function(n,o){Reflect.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){ai(l,a,e),t.set(this,l)}})}}function Ar(a,e=1/0){const t=new WeakMap;return function(n,o){Reflect.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){ai(this.toSeconds(l),a,e),t.set(this,l)}})}}class mc extends Tn{constructor(){const e=We(mc.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new pt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Tn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:nt,onerror:nt,playbackRate:1,reverse:!1})}load(e){return Ot(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=nt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){this._loop?t=ys(t,this._loopStart):t=ys(t,0);const o=this.toSeconds(t),l=n;n=ys(n,Math.max(this._buffer.duration-o,0));let u=this.toSeconds(n);u=u/this._playbackRate,e=this.toSeconds(e);const f=new uc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&Ln(l)?f.start(e,o):f.start(e,o,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(n=>n.stop(t))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if(this._state.getValueAtTime(n)==="started"){const o=this.toSeconds(e);this._stop(n),this._start(n,o)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ai(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ai(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Zn([Ar(0)],mc.prototype,"fadeIn",void 0);Zn([Ar(0)],mc.prototype,"fadeOut",void 0);class hi extends Ye{constructor(){const e=We(hi.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Vt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ye.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Tr(e))return e;{let n;for(n in v0)if(v0[n][t]===e)return n;return e}}_setCurve(e,t,n){if(Tr(n)&&Reflect.has(v0,n)){const o=v0[n];Pi(o)?e!=="_decayCurve"&&(this[e]=o[t]):this[e]=o}else if(Xn(n)&&e!=="_decayCurve")this[e]=n;else throw new Error("Envelope: invalid curve: "+n)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const f=1/o;o=(1-u)/f}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,o,e);else{this._sig.cancelAndHoldAtTime(e);let f=this._attackCurve;for(let d=1;d<f.length;d++)if(f[d-1]<=u&&u<=f[d]){f=this._attackCurve.slice(d),f[0]=u;break}this._sig.setValueCurveAtTime(f,e,o,t)}if(l&&this.sustain<1){const f=t*this.sustain,d=e+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,l+d):this._sig.exponentialApproachValueAtTime(f,d,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,n,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,n,e):(Ge(Xn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return a1(this,e,t,n),this}asArray(){return Ot(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,n=new n1(1,t,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),u=l*.1,f=l+u,d=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/f,decay:t*this.toSeconds(this.decay)/f,release:t*this.toSeconds(this.release)/f,context:n}));return d._sig.toDestination(),d.triggerAttackRelease(t*(o+u)/f,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Zn([Ar(0)],hi.prototype,"attack",void 0);Zn([Ar(0)],hi.prototype,"decay",void 0);Zn([t5(0,1)],hi.prototype,"sustain",void 0);Zn([Ar(0)],hi.prototype,"release",void 0);const v0=(()=>{let e,t;const n=[];for(e=0;e<128;e++)n[e]=Math.sin(e/127*(Math.PI/2));const o=[],l=6.4;for(e=0;e<127;e++){t=e/127;const m=Math.sin(t*(Math.PI*2)*l-Math.PI/2)+1;o[e]=m/10+t*.83}o[127]=1;const u=[],f=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*f)/f;const d=[];for(e=0;e<128;e++)t=e/127,d[e]=.5*(1-Math.cos(Math.PI*t));const y=[];for(e=0;e<128;e++){t=e/127;const m=Math.pow(t,3)*4+.2,p=Math.cos(m*Math.PI*2*t);y[e]=Math.abs(p*(1-t))}function w(m){const p=new Array(m.length);for(let g=0;g<m.length;g++)p[g]=1-m[g];return p}function _(m){return m.slice(0).reverse()}return{bounce:{In:w(y),Out:y},cosine:{In:n,Out:_(n)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:w(o)},sine:{In:d,Out:w(d)},step:{In:u,Out:w(u)}}})();class Ps extends Ye{constructor(){const e=We(Ps.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new qs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,St(this,"volume")}static getDefaults(){return Object.assign(Ye.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...o)=>{const l=o[t],u=this.context.transport.schedule(f=>{o[t]=f,n.apply(this,o)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,n,o){const l=this.toSeconds(n),u=this.toSeconds(t);return this.triggerAttack(e,l,o),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ns extends Ps{constructor(){const e=We(Ns.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,onsilence:nt,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const o=this.toSeconds(t);return this._triggerEnvelopeAttack(o,n),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),o=e instanceof Dn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,n)}else this.frequency.setValueAtTime(o,n);return this}}Zn([Ar(0)],Ns.prototype,"portamento",void 0);class m1 extends hi{constructor(){super(We(m1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Kt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ba extends Ns{constructor(){const e=We(Ba.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new U0(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new m1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),St(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ns.getDefaults(),{envelope:Object.assign(hv(hi.getDefaults(),Object.keys(Ye.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(hv(U0.getDefaults(),[...Object.keys(Tn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+n+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class gc extends Ba{constructor(){const e=We(gc.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,St(this,["oscillator","envelope"])}static getDefaults(){return vs(Ns.getDefaults(),Ba.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),o=this.toFrequency(e instanceof Dn?e.toFrequency():e),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,n),this.oscillator.frequency.exponentialRampToValueAtTime(o,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Zn([t5(0)],gc.prototype,"octaves",void 0);Zn([Ar(0)],gc.prototype,"pitchDecay",void 0);const n5=new Set;function g1(a){n5.add(a)}function r5(a,e){const t=`registerProcessor("${a}", ${e})`;n5.add(t)}const IS=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;g1(IS);const RS=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;g1(RS);const DS=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;g1(DS);const LS="feedback-comb-filter",FS=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;r5(LS,FS);class vc extends Ps{constructor(){const e=We(vc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(n=>{const o=parseInt(n,10);if(Ge(g0(n)||Ii(o)&&isFinite(o),`url key is neither a note or midi pitch: ${n}`),g0(n)){const l=new Dn(this.context,n).toMidi();t[l]=e.urls[n]}else Ii(o)&&isFinite(o)&&(t[o]=e.urls[o])}),this._buffers=new h1({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ps.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:nt,onerror:nt,release:.1,urls:{}})}_findClosest(e){let n=0;for(;n<96;){if(this._buffers.has(e+n))return-n;if(this._buffers.has(e-n))return n;n++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach(o=>{const l=e5(new Dn(this.context,o).toFrequency()),u=Math.round(l),f=l-u,d=this._findClosest(u),y=u-d,w=this._buffers.get(y),_=J6(d+f),m=new uc({url:w,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);m.start(t,0,w.duration/_,n),Xn(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(m),m.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const p=this._activeSources.get(u),g=p.indexOf(m);g!==-1&&p.splice(g,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(n=>{const o=new Dn(this.context,n).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);t=this.toSeconds(t),l.forEach(u=>{u.stop(t)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(n=>{for(;n.length;)n.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,o=1){const l=this.toSeconds(n);return this.triggerAttack(e,l,o),Xn(t)?(Ge(Xn(e),"notes must be an array when duration is array"),e.forEach((u,f)=>{const d=t[Math.min(f,t.length-1)];this.triggerRelease(u,l+this.toSeconds(d))})):this.triggerRelease(e,l+this.toSeconds(t)),this}add(e,t,n){if(Ge(g0(e)||isFinite(e),`note must be a pitch or midi: ${e}`),g0(e)){const o=new Dn(this.context,e).toMidi();this._buffers.add(o,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Zn([Ar(0)],vc.prototype,"attack",void 0);Zn([Ar(0)],vc.prototype,"release",void 0);class v1 extends Ye{constructor(){const e=We(v1.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new _t({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",St(this,"pan")}static getDefaults(){return Object.assign(Ye.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const BS="bit-crusher",qS=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;r5(BS,qS);class At extends Ye{constructor(){const e=We(At.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Kt({context:this.context}),At._allSolos.has(this.context)||At._allSolos.set(this.context,new Set),At._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ye.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),At._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){At._soloed.has(this.context)||At._soloed.set(this.context,new Set),At._soloed.get(this.context).add(this)}_removeSolo(){At._soloed.has(this.context)&&At._soloed.get(this.context).delete(this)}_isSoloed(){return At._soloed.has(this.context)&&At._soloed.get(this.context).has(this)}_noSolos(){return!At._soloed.has(this.context)||At._soloed.has(this.context)&&At._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),At._allSolos.get(this.context).delete(this),this._removeSolo(),this}}At._allSolos=new Map;At._soloed=new Map;class y1 extends Ye{constructor(){const e=We(y1.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new v1({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new qs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,St(this,["pan","volume"])}static getDefaults(){return Object.assign(Ye.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class gs extends Ye{constructor(){const e=We(gs.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new At({solo:e.solo,context:this.context}),this._panVol=this.output=new y1({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),St(this,["pan","volume"])}static getDefaults(){return Object.assign(Ye.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return gs.buses.has(e)||gs.buses.set(e,new Kt({context:this.context})),gs.buses.get(e)}send(e,t=0){const n=this._getBus(e),o=new Kt({context:this.context,units:"decibels",gain:t});return this.connect(o),o.connect(n),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}gs.buses=new Map;function zS(){return Rn().now()}Rn().transport;Rn().destination;Rn().destination;Rn().listener;Rn().draw;Rn();var yu,dv;function VS(){if(dv)return yu;dv=1;var a="6.4.4";return yu=a,yu}var bu,pv;function b1(){if(pv)return bu;pv=1;var a=function(t,n){var o=this;if(n||(n={}),o.qpm=n.qpm?parseInt(n.qpm,10):null,!o.qpm){var l=t.metaText?t.metaText.tempo:null;o.qpm=t.getBpm(l)}o.extraMeasuresAtBeginning=n.extraMeasuresAtBeginning?parseInt(n.extraMeasuresAtBeginning,10):0,o.beatCallback=n.beatCallback,o.eventCallback=n.eventCallback,o.lineEndCallback=n.lineEndCallback,o.lineEndAnticipation=n.lineEndAnticipation?parseInt(n.lineEndAnticipation,10):0,o.beatSubdivisions=n.beatSubdivisions?parseInt(n.beatSubdivisions,10):1,o.joggerTimer=null,o.replaceTarget=function(f){o.noteTimings=f.setTiming(o.qpm,o.extraMeasuresAtBeginning),f.noteTimings.length===0&&(o.noteTimings=f.setTiming(0,0)),o.lineEndCallback&&(o.lineEndTimings=e(f.noteTimings,o.lineEndAnticipation)),o.startTime=null,o.currentBeat=0,o.currentEvent=0,o.currentLine=0,o.currentTime=0,o.isPaused=!1,o.isRunning=!1,o.pausedPercent=null,o.justUnpaused=!1,o.newSeekPercent=0,o.lastTimestamp=0,o.noteTimings.length!==0&&(o.millisecondsPerBeat=1e3/(o.qpm/60)/o.beatSubdivisions,o.lastMoment=o.noteTimings[o.noteTimings.length-1].milliseconds,o.totalBeats=Math.round(o.lastMoment/o.millisecondsPerBeat))},o.replaceTarget(t),o.doTiming=function(f){if(o.lastTimestamp!==f&&(o.lastTimestamp=f,o.startTime||(o.startTime=f),!o.isPaused&&o.isRunning)){for(o.currentTime=f-o.startTime,o.currentTime+=16;o.noteTimings.length>o.currentEvent&&o.noteTimings[o.currentEvent].milliseconds<o.currentTime;){if(o.eventCallback&&o.noteTimings[o.currentEvent].type==="event"){var d=o.startTime;o.eventCallback(o.noteTimings[o.currentEvent]),d!==o.startTime&&(o.currentTime=f-o.startTime)}o.currentEvent++}if(o.lineEndCallback&&o.lineEndTimings.length>o.currentLine&&o.lineEndTimings[o.currentLine].milliseconds<o.currentTime&&o.currentEvent<o.noteTimings.length){var y=o.noteTimings[o.currentEvent].milliseconds===o.currentTime?o.noteTimings[o.currentEvent]:o.noteTimings[o.currentEvent-1];o.lineEndCallback(o.lineEndTimings[o.currentLine],y,{line:o.currentLine,endTimings:o.lineEndTimings,currentTime:o.currentTime}),o.currentLine++}if(o.currentTime<o.lastMoment){if(requestAnimationFrame(o.doTiming),o.currentBeat*o.millisecondsPerBeat<o.currentTime){var w=o.doBeatCallback(f);w!==null&&(o.currentTime=w)}}else if(o.currentBeat<=o.totalBeats&&o.beatCallback){var _=o.doBeatCallback(f);_!==null&&(o.currentTime=_),requestAnimationFrame(o.doTiming)}if(o.currentTime>=o.lastMoment)if(o.eventCallback){var m=o.eventCallback(null);o.shouldStop(m).then(function(p){p&&o.stop()})}else o.stop()}},o.shouldStop=function(f){return new Promise(function(d){if(!f)return d(!0);if(f==="continue")return d(!1);f.then&&f.then(function(y){d(y!=="continue")})})},o.doBeatCallback=function(f){if(o.beatCallback){for(var d=o.currentEvent;d<o.noteTimings.length&&o.noteTimings[d].left===null;)d++;var y,w;if(d<o.noteTimings.length){for(y=o.noteTimings[d].milliseconds,d=Math.max(0,o.currentEvent-1);d>=0&&o.noteTimings[d].left===null;)d--;w=o.noteTimings[d]}var _={},m={};if(w){_.top=w.top,_.height=w.height;var p=Math.max(0,f-o.startTime-w.milliseconds),g=y-w.milliseconds,h=w.endX-w.left,C=g?p*h/g:0;_.left=w.left+C,o.currentEvent===0&&w.milliseconds>f-o.startTime&&(_.left=void 0),m={timestamp:f,startTime:o.startTime,ev:w,endMs:y,offMs:p,offPx:C,gapMs:g,gapPx:h}}else m={timestamp:f,startTime:o.startTime};var S=o.startTime;if(o.beatCallback(o.currentBeat/o.beatSubdivisions,o.totalBeats/o.beatSubdivisions,o.lastMoment,_,m),S!==o.startTime)return f-o.startTime;o.currentBeat++}return null};var u=60;o.animationJogger=function(){o.isRunning&&(o.doTiming(performance.now()),o.joggerTimer=setTimeout(o.animationJogger,u))},o.start=function(f,d){if(o.isRunning=!0,o.isPaused&&(o.isPaused=!1,f===void 0&&(o.justUnpaused=!0)),f)o.setProgress(f,d);else if(f===0)o.reset();else if(o.pausedPercent!==null){var y=performance.now();o.currentTime=o.lastMoment*o.pausedPercent,o.startTime=y-o.currentTime,o.pausedPercent=null,o.reportNext=!0}requestAnimationFrame(o.doTiming),o.joggerTimer=setTimeout(o.animationJogger,u)},o.pause=function(){o.isPaused=!0;var f=performance.now();o.pausedPercent=(f-o.startTime)/o.lastMoment,o.isRunning=!1,o.joggerTimer&&(clearTimeout(o.joggerTimer),o.joggerTimer=null)},o.currentMillisecond=function(){return o.currentTime},o.reset=function(){o.currentBeat=0,o.currentEvent=0,o.currentLine=0,o.startTime=null,o.pausedPercent=null},o.stop=function(){o.pause(),o.reset()},o.setProgress=function(f,d){var y;switch(d){case"seconds":o.currentTime=f*1e3,o.currentTime<0&&(o.currentTime=0),o.currentTime>o.lastMoment&&(o.currentTime=o.lastMoment),y=o.currentTime/o.lastMoment;break;case"beats":o.currentTime=f*o.millisecondsPerBeat*o.beatSubdivisions,o.currentTime<0&&(o.currentTime=0),o.currentTime>o.lastMoment&&(o.currentTime=o.lastMoment),y=o.currentTime/o.lastMoment;break;default:y=f,y<0&&(y=0),y>1&&(y=1),o.currentTime=o.lastMoment*y;break}o.isRunning||(o.pausedPercent=y);var w=performance.now();for(o.startTime=w-o.currentTime,o.currentEvent,o.currentEvent=0;o.noteTimings.length>o.currentEvent&&o.noteTimings[o.currentEvent].milliseconds<o.currentTime;)o.currentEvent++;if(o.lineEndCallback)for(o.currentLine=0;o.lineEndTimings.length>o.currentLine&&o.lineEndTimings[o.currentLine].milliseconds+o.lineEndAnticipation<o.currentTime;)o.currentLine++;var _=o.currentBeat;o.currentBeat=Math.floor(o.currentTime/o.millisecondsPerBeat),o.beatCallback&&_!==o.currentBeat&&o.doBeatCallback(o.startTime+o.currentTime),o.eventCallback&&o.currentEvent>=0&&o.noteTimings[o.currentEvent].type==="event"&&o.eventCallback(o.noteTimings[o.currentEvent]),o.lineEndCallback&&o.lineEndCallback(o.lineEndTimings[o.currentLine],o.noteTimings[o.currentEvent],{line:o.currentLine,endTimings:o.lineEndTimings}),o.joggerTimer=setTimeout(o.animationJogger,u)}};function e(t,n){for(var o=[],l=null,u=0;u<t.length;u++){var f=t[u];f.type!=="end"&&f.top!==l&&(o.push({measureNumber:f.measureNumber,milliseconds:f.milliseconds-n,top:f.top,bottom:f.top+f.height}),l=f.top)}return o}return bu=a,bu}var _u,mv;function jS(){if(mv)return _u;mv=1;var a=b1(),e={};return function(){var t,n;e.startAnimation=function(o,l,u){t&&(t.stop(),t=void 0),u.showCursor&&(n=o.querySelector(".abcjs-cursor"),n||(n=document.createElement("DIV"),n.className="abcjs-cursor cursor",n.style.position="absolute",o.appendChild(n),o.style.position="relative"));function f(g){for(var h=0;h<g.length;h++){var C=g[h];C.classList.contains("abcjs-bar")||(C.style.display="none")}}var d;function y(g){if(d){var h=o.querySelectorAll(d);f(h)}d=g}function w(g){var h=o.querySelectorAll(g);f(h)}function _(g){u.hideCurrentMeasure?w(g):u.hideFinishedMeasures&&y(g)}function m(g){return".abcjs-l"+g.line+".abcjs-m"+g.measureNumber}function p(g){if(g){if(g.measureStart){var h=m(g);h&&_(h)}n&&(n.style.left=g.left+"px",n.style.top=g.top+"px",n.style.width=g.width+"px",n.style.height=g.height+"px")}else t.stop(),t=void 0}t=new a(l,{qpm:u.bpm,eventCallback:p}),t.start()},e.pauseAnimation=function(o){t&&(o?t.pause():t.start())},e.stopAnimation=function(){t&&(t.stop(),t=void 0)}}(),_u=e,_u}var wu,gv;function Pr(){if(gv)return wu;gv=1;var a={};return a.cloneArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(Object.assign({},e[n]));return t},a.cloneHashOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]));return t},a.cloneHashOfArrayOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=a.cloneArray(e[n]));return t},a.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},a.startsWith=function(e,t){return e.indexOf(t)===0},a.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n},a.last=function(e){return e.length===0?null:e[e.length-1]},wu=a,wu}var Cu,vv;function _1(){if(vv)return Cu;vv=1;var a=Pr(),e={};return function(){var t,n,o,l,u;e.initialize=function(A,O,E,W,X){t=A,n=O,o=E,l=W,u=X,f()};function f(){o.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},o.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},o.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},o.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},o.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},o.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},o.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},o.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},o.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},l.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},l.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},l.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},l.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},l.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},l.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},l.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},l.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},l.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},l.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},l.formatting.annotationfont=o.annotationfont,l.formatting.gchordfont=o.gchordfont,l.formatting.historyfont=o.historyfont,l.formatting.infofont=o.infofont,l.formatting.measurefont=o.measurefont,l.formatting.partsfont=o.partsfont,l.formatting.repeatfont=o.repeatfont,l.formatting.textfont=o.textfont,l.formatting.tripletfont=o.tripletfont,l.formatting.vocalfont=o.vocalfont,l.formatting.wordsfont=o.wordsfont}var d={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},y=function(A){switch(A){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},w=function(A,O,E,W,X){function K(){var De=parseInt(A[0].token);return A.shift(),O?A.length===0?{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:De}:A.length===1&&A[0].token==="box"&&d[X]?{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:De,box:!0}:(n("Extra parameters in font definition.",E,W),{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:De}):(n("Can't set just the size of the font since there is no default value.",E,W),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:De})}if(A[0].token==="*"){if(A.shift(),A[0].type==="number")return K();n("Expected font size number after *.",E,W)}if(A[0].type==="number")return K();for(var Q=[],ie,he="normal",J="normal",ge="none",Ce=!1,fe="face",Se=!1;A.length;){var xe=A.shift(),de=xe.token.toLowerCase();switch(fe){case"face":Se||de!=="utf"&&xe.type!=="number"&&de!=="bold"&&de!=="italic"&&de!=="underline"&&de!=="box"?Q.length>0&&xe.token==="-"?(Se=!0,Q[Q.length-1]=Q[Q.length-1]+xe.token):Se?(Se=!1,Q[Q.length-1]=Q[Q.length-1]+xe.token):Q.push(xe.token):xe.type==="number"?(ie?n("Font size specified twice in font definition.",E,W):ie=xe.token,fe="modifier"):de==="bold"?he="bold":de==="italic"?J="italic":de==="underline"?ge="underline":de==="box"?(d[X]?Ce=!0:n(`This font style doesn't support "box"`,E,W),fe="finished"):de==="utf"?(xe=A.shift(),fe="size"):n("Unknown parameter "+xe.token+" in font definition.",E,W);break;case"size":xe.type==="number"?ie?n("Font size specified twice in font definition.",E,W):ie=xe.token:n("Expected font size in font definition.",E,W),fe="modifier";break;case"modifier":de==="bold"?he="bold":de==="italic"?J="italic":de==="underline"?ge="underline":de==="box"?(d[X]?Ce=!0:n(`This font style doesn't support "box"`,E,W),fe="finished"):n("Unknown parameter "+xe.token+" in font definition.",E,W);break;case"finished":n('Extra characters found after "box" in font definition.',E,W);break}}ie===void 0?O?ie=O.size:(n("Must specify the size of the font since there is no default value.",E,W),ie=12):ie=parseFloat(ie),Q=Q.join(" "),Q===""&&(O?Q=O.face:(n("Must specify the name of the font since there is no default value.",E,W),Q="sans-serif"));var ve=y(Q),_e={};return ve?(_e.face=ve.face,_e.weight=ve.weight,_e.style=ve.style,_e.decoration=ve.decoration,_e.size=ie,Ce&&(_e.box=!0),_e):(_e.face=Q,_e.weight=he,_e.style=J,_e.decoration=ge,_e.size=ie,Ce&&(_e.box=!0),_e)},_=function(A,O,E){return O.length===0?'Directive "'+A+'" requires a font as a parameter.':(o[A]=w(O,o[A],E,0,A),o.is_in_header&&(l.formatting[A]=o[A]),null)},m=function(A,O,E){return O.length===0?'Directive "'+A+'" requires a font as a parameter.':(l.formatting[A]=w(O,l.formatting[A],E,0,A),null)},p=function(A,O){var E="";O.forEach(function(X){E+=X.token});var W=parseFloat(E);if(isNaN(W)||W===0)return'Directive "'+A+'" requires a number as a parameter.';l.formatting.scale=W},g=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],h=function(A){var O=A.split(/\s+/);if(O.length!==2&&O.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var E=O[0],W=parseInt(O[1],10);if((isNaN(W)||W<35||W>81)&&O[1]&&(W=g.indexOf(O[1].toLowerCase())+35),isNaN(W)||W<35||W>81)return{error:'Expected drum name, received "'+O[1]+'"'};var X={sound:W};return O.length===3&&(X.noteHead=O[2]),{key:E,value:X}},C=function(A,O){var E=t.getMeasurement(O);return E.used===0||O.length!==0?{error:'Directive "'+A+'" requires a measurement as a parameter.'}:E.value},S=function(A,O){var E=t.getMeasurement(O);return E.used===0||O.length!==0?'Directive "'+A+'" requires a measurement as a parameter.':(l.formatting[A]=E.value,null)},k=function(A,O,E,W,X){if(E.length!==1||E[0].type!=="number")return'Directive "'+O+'" requires a number as a parameter.';var K=E[0].intt;return W!==void 0&&K<W?'Directive "'+O+'" requires a number greater than or equal to '+W+" as a parameter.":X!==void 0&&K>X?'Directive "'+O+'" requires a number less than or equal to '+X+" as a parameter.":(o[A]=K,null)},M=function(A,O,E){if(E.length===1&&(E[0].token==="true"||E[0].token==="false"))return o[A]=E[0].token==="true",null;var W=k(A,O,E,0,1);return W!==null?W:(o[A]=o[A]===1,null)},I=function(A,O,E,W){if(E.length!==1)return'Directive "'+O+'" requires one of [ '+W.join(", ")+" ] as a parameter.";for(var X=E[0].token,K=!1,Q=0;!K&&Q<W.length;Q++)W[Q]===X&&(K=!0);return K?(o[A]=X,null):'Directive "'+O+'" requires one of [ '+W.join(", ")+" ] as a parameter."},N=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],z=["gchord","ptstress","beatstring"],j=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],T=["program"],F=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],q=["beat"],B=["drone"],V=["portamento"],H=["expand","grace","trim"],D=["drum","chordname"],R=["bassprog","chordprog"],U=function(A,O,E){var W=A.shift().token,X=[];if(N.indexOf(W)>=0)A.length!==0&&n("Unexpected parameter in MIDI "+W,E,0);else if(z.indexOf(W)>=0)A.length!==1?n("Expected one parameter in MIDI "+W,E,0):X.push(A[0].token);else if(j.indexOf(W)>=0)A.length!==1?n("Expected one parameter in MIDI "+W,E,0):A[0].type!=="number"?n("Expected one integer parameter in MIDI "+W,E,0):X.push(A[0].intt);else if(T.indexOf(W)>=0)A.length!==1&&A.length!==2?n("Expected one or two parameters in MIDI "+W,E,0):A[0].type!=="number"||A.length===2&&A[1].type!=="number"?n("Expected integer parameter in MIDI "+W,E,0):(X.push(A[0].intt),A.length===2&&X.push(A[1].intt));else if(F.indexOf(W)>=0)A.length!==2?n("Expected two parameters in MIDI "+W,E,0):A[0].type!=="number"||A[1].type!=="number"?n("Expected two integer parameters in MIDI "+W,E,0):(X.push(A[0].intt),X.push(A[1].intt));else if(V.indexOf(W)>=0)A.length!==2?n("Expected two parameters in MIDI "+W,E,0):A[0].type!=="alpha"||A[1].type!=="number"?n("Expected one string and one integer parameters in MIDI "+W,E,0):(X.push(A[0].token),X.push(A[1].intt));else if(W==="drummap")A.length===2&&A[0].type==="alpha"&&A[1].type==="number"?(O.formatting||(O.formatting={}),O.formatting.midi||(O.formatting.midi={}),O.formatting.midi.drummap||(O.formatting.midi.drummap={}),O.formatting.midi.drummap[A[0].token]=A[1].intt,X=O.formatting.midi.drummap):A.length===3&&A[0].type==="punct"&&A[1].type==="alpha"&&A[2].type==="number"?(O.formatting||(O.formatting={}),O.formatting.midi||(O.formatting.midi={}),O.formatting.midi.drummap||(O.formatting.midi.drummap={}),O.formatting.midi.drummap[A[0].token+A[1].token]=A[2].intt,X=O.formatting.midi.drummap):n("Expected one note name and one integer parameter in MIDI "+W,E,0);else if(H.indexOf(W)>=0)A.length!==3||A[0].type!=="number"||A[1].token!=="/"||A[2].type!=="number"?n("Expected fraction parameter in MIDI "+W,E,0):(X.push(A[0].intt),X.push(A[2].intt));else if(q.indexOf(W)>=0)A.length!==4?n("Expected four parameters in MIDI "+W,E,0):A[0].type!=="number"||A[1].type!=="number"||A[2].type!=="number"||A[3].type!=="number"?n("Expected four integer parameters in MIDI "+W,E,0):(X.push(A[0].intt),X.push(A[1].intt),X.push(A[2].intt),X.push(A[3].intt));else if(B.indexOf(W)>=0)A.length!==5?n("Expected five parameters in MIDI "+W,E,0):A[0].type!=="number"||A[1].type!=="number"||A[2].type!=="number"||A[3].type!=="number"||A[4].type!=="number"?n("Expected five integer parameters in MIDI "+W,E,0):(X.push(A[0].intt),X.push(A[1].intt),X.push(A[2].intt),X.push(A[3].intt),X.push(A[4].intt));else if(T.indexOf(W)>=0)A.length!==1||A.length!==4?n("Expected one or two parameters in MIDI "+W,E,0):A[0].type!=="number"?n("Expected integer parameter in MIDI "+W,E,0):A.length===4?(A[1].token!=="octave"&&n("Expected octave parameter in MIDI "+W,E,0),A[2].token!=="="&&n("Expected octave parameter in MIDI "+W,E,0),A[3].type!=="number"&&n("Expected integer parameter for octave in MIDI "+W,E,0)):(X.push(A[0].intt),A.length===4&&X.push(A[3].intt));else if(D.indexOf(W)>=0)if(A.length<2)n("Expected string parameter and at least one integer parameter in MIDI "+W,E,0);else if(A[0].type!=="alpha")n("Expected string parameter and at least one integer parameter in MIDI "+W,E,0);else{var K=A.shift();for(X.push(K.token);A.length>0;)K=A.shift(),K.type!=="number"&&n("Expected integer parameter in MIDI "+W,E,0),X.push(K.intt)}else if(R.indexOf(W)>=0){if(A.length!==1&&A.length!==2)n("Expected one or two parameters in MIDI "+W,E,0);else if(A[0].type!=="number")n("Expected integer parameter in MIDI "+W,E,0);else if(A.length===2&&A[1].type!=="alpha")n("Expected alpha parameter in MIDI "+W,E,0);else if(X.push(A[0].intt),A.length===2){var Q=A[1].token;Q.indexOf("octave=")!=-1?(Q=Q.replace("octave=",""),Q=parseInt(Q),isNaN(Q)?n("Expected octave value in MIDI"+W):(Q<-1&&(n("Expected octave= in MIDI "+W+" to be >= -1 (recv:"+Q+")"),Q=-1),Q>3&&(n("Expected octave= in MIDI "+W+" to be <= 3 (recv:"+Q+")"),Q=3),X.push(Q))):n("Expected octave= in MIDI"+W)}}u.hasBeginMusic()?u.appendElement("midi",-1,-1,{cmd:W,params:X}):(O.formatting.midi===void 0&&(O.formatting.midi={}),O.formatting.midi[W]=X)};e.parseFontChangeLine=function(A){A=A.replace(/\$\$/g,"");var O=A.split("$");if(O.length>1&&o.setfont){var E=[];O[0]!==""&&E.push({text:O[0]});for(var W=1;W<O.length;W++)if(O[W][0]==="0")E.push({text:O[W].substring(1).replace(/\x03/g,"$$")});else{var X=parseInt(O[W][0],10);o.setfont[X]?E.push({font:o.setfont[X],text:O[W].substring(1).replace(/\x03/g,"$$")}):E[E.length-1].text+="$"+O[W].replace(/\x03/g,"$$")}return E}return A.replace(/\x03/g,"$$")};var Y=["auto","above","below","hidden"];e.addDirective=function(A){var O=t.tokenize(A,0,A.length);if(O.length===0||O[0].type!=="alpha")return null;var E=A.substring(A.indexOf(O[0].token)+O[0].token.length);E=t.stripComment(E);var W=O.shift().token.toLowerCase(),X="",K;switch(W){case"bagpipes":l.formatting.bagpipes=!0;break;case"flatbeams":l.formatting.flatbeams=!0;break;case"jazzchords":l.formatting.jazzchords=!0;break;case"accentAbove":l.formatting.accentAbove=!0;break;case"germanAlphabet":l.formatting.germanAlphabet=!0;break;case"landscape":o.landscape=!0;break;case"papersize":o.papersize=E;break;case"graceslurs":if(O.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(O[0].token==="0"||O[0].token==="false")l.formatting.graceSlurs=!1;else if(O[0].token==="1"||O[0].token==="true")l.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+O[0].token+")";break;case"lineThickness":var Q=G(O);if(Q.value!==void 0&&(l.formatting.lineThickness=Q.value),Q.error)return Q.error;break;case"stretchlast":var ie=G(O);if(ie.value!==void 0&&(l.formatting.stretchlast=ie.value),ie.error)return ie.error;break;case"titlecaps":o.titlecaps=!0;break;case"titleleft":l.formatting.titleleft=!0;break;case"measurebox":l.formatting.measurebox=!0;break;case"vocal":return I("vocalPosition",W,O,Y);case"dynamic":return I("dynamicPosition",W,O,Y);case"gchord":return I("chordPosition",W,O,Y);case"ornament":return I("ornamentPosition",W,O,Y);case"volume":return I("volumePosition",W,O,Y);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return S(W,O);case"voicescale":if(O.length!==1||O[0].type!=="number")return"voicescale requires one float as a parameter";var he=O.shift();return o.currentVoice&&(o.currentVoice.scale=he.floatt,u.changeVoiceScale(o.currentVoice.scale)),null;case"voicecolor":if(O.length!==1)return"voicecolor requires one string as a parameter";var J=O.shift();return o.currentVoice&&(o.currentVoice.color=J.token,u.changeVoiceColor(o.currentVoice.color)),null;case"vskip":var ge=Math.round(C(W,O));return ge.error?ge.error:(u.addSpacing(ge),null);case"scale":p(W,O);break;case"sep":if(O.length===0)u.addSeparator(14,14,85,{startChar:o.iChar,endChar:o.iChar+5});else{var Ce=t.getMeasurement(O);if(Ce.used===0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var fe=Ce.value;if(Ce=t.getMeasurement(O),Ce.used===0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var Se=Ce.value;if(Ce=t.getMeasurement(O),Ce.used===0||O.length!==0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var xe=Ce.value;u.addSeparator(fe,Se,xe,{startChar:o.iChar,endChar:o.iChar+E.length})}break;case"barsperstaff":if(X=k("barsperstaff",W,O),X!==null)return X;break;case"staffnonote":if(O.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(O[0].token==="0")o.staffnonote=!0;else if(O[0].token==="1")o.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+O[0].token+")";break;case"printtempo":if(X=M("printTempo",W,O),X!==null)return X;break;case"partsbox":if(X=M("partsBox",W,O),X!==null)return X;o.partsfont.box=o.partsBox;break;case"freegchord":if(X=M("freegchord",W,O),X!==null)return X;break;case"measurenb":case"barnumbers":if(X=k("barNumbers",W,O),X!==null)return X;break;case"setbarnb":if(O.length!==1||O[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";o.currBarNumber=u.setBarNumberImmediate(O[0].intt);break;case"begintext":var de="";for(K=t.nextLine();K&&K.indexOf("%%endtext")!==0;)a.startsWith(K,"%%")?de+=K.substring(2)+`
`:de+=K+`
`,K=t.nextLine();u.addText(de,{startChar:o.iChar,endChar:o.iChar+de.length+7});break;case"continueall":o.continueall=!0;break;case"beginps":for(K=t.nextLine();K&&K.indexOf("%%endps")!==0;)t.nextLine();n("Postscript ignored",A,0);break;case"deco":E.length>0&&o.ignoredDecorations.push(E.substring(0,E.indexOf(" "))),n("Decoration redefinition ignored",A,0);break;case"text":var ve=t.translateString(E);u.addText(e.parseFontChangeLine(ve),{startChar:o.iChar,endChar:o.iChar+E.length+7});break;case"center":var _e=t.translateString(E);u.addCentered(e.parseFontChangeLine(_e));break;case"font":break;case"setfont":var De=t.tokenize(E,0,E.length);if(De.length>=4&&De[0].token==="-"&&De[1].type==="number"){var Ie=parseInt(De[1].token);Ie>=1&&Ie<=9&&(o.setfont||(o.setfont=[]),De.shift(),De.shift(),o.setfont[Ie]=w(De,o.setfont[Ie],A,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return _(W,O,A);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return m(W,O,A);case"barlabelfont":case"barnumberfont":case"barnumfont":return _("measurefont",O,A);case"staves":case"score":o.score_is_present=!0;for(var Re=function(ut,Or,Ir,Rr,Dr){(Or||o.staves.length===0)&&o.staves.push({index:o.staves.length,numVoices:0});var on=a.last(o.staves);Ir!==void 0&&on.bracket===void 0&&(on.bracket=Ir),Rr!==void 0&&on.brace===void 0&&(on.brace=Rr),Dr&&(on.connectBarLines="end"),o.voices[ut]===void 0&&(o.voices[ut]={staffNum:on.index,index:on.numVoices},on.numVoices++)},Fe=!1,ne=!1,le=!1,se=!1,re=!1,pe=!1,Ee=!1,ze,He=function(){if(Ee=!0,ze){var ut="start";ze.staffNum>0&&(o.staves[ze.staffNum-1].connectBarLines==="start"||o.staves[ze.staffNum-1].connectBarLines==="continue")&&(ut="continue"),o.staves[ze.staffNum].connectBarLines=ut}};O.length;){var Me=O.shift();switch(Me.token){case"(":Fe?n("Can't nest parenthesis in %%score",A,Me.start):(Fe=!0,se=!0);break;case")":!Fe||se?n("Unexpected close parenthesis in %%score",A,Me.start):Fe=!1;break;case"[":ne?n("Can't nest brackets in %%score",A,Me.start):(ne=!0,re=!0);break;case"]":!ne||re?n("Unexpected close bracket in %%score",A,Me.start):(ne=!1,o.staves[ze.staffNum].bracket="end");break;case"{":le?n("Can't nest braces in %%score",A,Me.start):(le=!0,pe=!0);break;case"}":!le||pe?n("Unexpected close brace in %%score",A,Me.start):(le=!1,o.staves[ze.staffNum].brace="end");break;case"|":He();break;default:for(var Le="";(Me.type==="alpha"||Me.type==="number")&&(Le+=Me.token,Me.continueId);)Me=O.shift();var it=!Fe||se,ct=re?"start":ne?"continue":void 0,Ve=pe?"start":le?"continue":void 0;Re(Le,it,ct,Ve,Ee),se=!1,re=!1,pe=!1,Ee=!1,ze=o.voices[Le],W==="staves"&&He();break}}break;case"newpage":var st=t.getInt(E);u.addNewPage(st.digits===0?-1:st.value);break;case"abc":var en=E.split(" ");switch(en[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Qe=en.shift();u.addMetaText(W+Qe,en.join(" "),{startChar:o.iChar,endChar:o.iChar+E.length+5});break;default:return"Unknown directive: "+W+en[0]}break;case"header":case"footer":var tt=t.getMeat(E,0,E.length);tt=E.substring(tt.start,tt.end),tt[0]==='"'&&tt[tt.length-1]==='"'&&(tt=tt.substring(1,tt.length-1));var jt=tt.split("	"),En={};jt.length===1?En={left:"",center:jt[0],right:""}:jt.length===2?En={left:jt[0],center:jt[1],right:""}:En={left:jt[0],center:jt[1],right:jt[2]},jt.length>3&&n("Too many tabs in "+W+": "+jt.length+" found.",E,0),u.addMetaTextObj(W,En,{startChar:o.iChar,endChar:o.iChar+A.length});break;case"midi":var lt=t.tokenize(E,0,E.length,!0);lt.length>0&&lt[0].token==="="&&lt.shift(),lt.length===0?n("Expected midi command",E,0):U(lt,l,E);break;case"percmap":var Ht=h(E);Ht.error?n(Ht.error,A,8):(l.formatting.percmap||(l.formatting.percmap={}),l.formatting.percmap[Ht.key]=Ht.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":l.formatting[W]=E;break;default:return"Unknown directive: "+W}return null},e.globalFormatting=function(A){for(var O in A)if(A.hasOwnProperty(O)){var E=""+A[O],W=t.tokenize(E,0,E.length),X;switch(O){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":_(O,W,E);break;case"scale":p(O,W);break;case"partsbox":X=M("partsBox",O,W),X!==null&&n(X),o.partsfont.box=o.partsBox;break;case"freegchord":X=M("freegchord",O,W),X!==null&&n(X);break;case"fontboxpadding":(W.length!==1||W[0].type!=="number")&&n('Directive "'+O+'" requires a number as a parameter.'),l.formatting.fontboxpadding=W[0].floatt;break;case"stafftopmargin":(W.length!==1||W[0].type!=="number")&&n('Directive "'+O+'" requires a number as a parameter.'),l.formatting.stafftopmargin=W[0].floatt;break;case"stretchlast":var K=G(W);if(K.value!==void 0&&(l.formatting.stretchlast=K.value),K.error)return K.error;break;default:n("Formatting directive unrecognized: ",O,0)}}};function G(A){if(A.length===0)return{value:1};if(A.length===1)if(A[0].type==="number"){if(A[0].floatt>=0||A[0].floatt<=1)return{value:A[0].floatt}}else{if(A[0].token==="false")return{value:0};if(A[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+A[0].token+")"}}}(),Cu=e,Cu}var xu,yv;function HS(){if(yv)return xu;yv=1;var a={};const e=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];return a.pitchIndex=function(t){return e.indexOf(t)},a.noteName=function(t){return e[t]},xu=a,xu}var Su,bv;function i5(){if(bv)return Su;bv=1;var a=["C","C","D","D","E","F","F","G","G","A","A","B"],e=["C","D","D","E","E","F","G","G","A","A","B","B"],t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function o(l,u,f,d){if(!u||u%12===0)return l;for(;u<0;)u+=12;u>11&&(u=u%12);var y=l.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!y)return l;var w=y[1],_=y[2],m=y[3],p=y[4],g=a.indexOf(w);if(g<0&&(g=e.indexOf(w)),g<0&&(g=t.indexOf(w)),g<0&&(g=n.indexOf(w)),g<0)return l;if(g+=u,g=g%12,f?d?l=n[g]:l=e[g]:d?l=t[g]:l=a[g],_&&(l+=_),m){var g=a.indexOf(m);g<0&&(g=e.indexOf(m)),g<0&&(g=t.indexOf(m)),g<0&&(g=n.indexOf(m)),l+="/",g>=0?(g+=u,g=g%12,f?d?l+=n[g]:l+=e[g]:d?l+=t[g]:l+=a[g]):l+=m}return p&&(l+=p),l}return Su=o,Su}var ku,_v;function s5(){if(_v)return ku;_v=1;var a={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},e=null;function t(){e={};for(var u=Object.keys(a),f=0;f<u.length;f++){var d=a[u[f]];e[u[f].toLowerCase()]=u[f];for(var y=0;y<d.modes.length;y++){var w=d.modes[y].toLowerCase();e[w]=u[f]}}}function n(u){e||t();var f=u.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!f||!f[2])return u;f=f[1]+f[2];var d=e[f];return d||u}function o(u,f){var d=a[u];if(!d||f==="")return u;var y=f.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!y)return u;for(var w=y[1],_=0;_<d.modes.length;_++){var m=d.modes[_],p=m.toLowerCase().indexOf(w);if(p!==-1&&p===m.length-w.length)return m.substring(0,m.length-w.length)}return u}function l(u,f){var d=a[u];if(!d)return u;for(;f<0;)f+=12;for(var y=(d.stepsFromC+f)%12,w=0;w<Object.keys(a).length;w++){var _=Object.keys(a)[w];if(a[_].stepsFromC===y)return _}return u}return ku={relativeMajor:n,relativeMode:o,transposeKey:l},ku}var Tu,wv;function a5(){if(wv)return Tu;wv=1;var{relativeMajor:a}=s5(),e={acc:"sharp",note:"f"},t={acc:"sharp",note:"c"},n={acc:"sharp",note:"g"},o={acc:"sharp",note:"d"},l={acc:"sharp",note:"A"},u={acc:"sharp",note:"e"},f={acc:"sharp",note:"B"},d={acc:"flat",note:"B"},y={acc:"flat",note:"e"},w={acc:"flat",note:"A"},_={acc:"flat",note:"d"},m={acc:"flat",note:"G"},p={acc:"flat",note:"c"},g={acc:"flat",note:"F"},h={"C#":[e,t,n,o,l,u,f],"F#":[e,t,n,o,l,u],B:[e,t,n,o,l],E:[e,t,n,o],A:[e,t,n],D:[e,t],G:[e],C:[],F:[d],Bb:[d,y],Eb:[d,y,w],Cm:[d,y,w],Ab:[d,y,w,_],Db:[d,y,w,_,m],Gb:[d,y,w,_,m,p],Cb:[d,y,w,_,m,p,g],"A#":[d,y],"B#":[],"D#":[d,y,w],"E#":[d],"G#":[d,y,w,_],none:[]};function C(S){var k=h[a(S)];return k?JSON.parse(JSON.stringify(k)):null}return Tu=C,Tu}var Eu,Cv;function o5(){if(Cv)return Eu;Cv=1;var a=HS(),e=i5(),t=a5(),n={},o={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},l=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],u=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];n.keySignature=function(m,p,g,h,C){if(m.clef.type==="perc"||m.clef.type==="none")return{accidentals:t(p),root:g,acc:h};C||(C=0),m.localTransposeVerticalMovement=0,m.localTransposePreferFlats=!1;var S=t(p);if(!S)return m.key;if(m.localTranspose=(m.globalTranspose?m.globalTranspose:0)+C,!m.localTranspose)return{accidentals:S,root:g,acc:h};if(m.globalTransposeOrigKeySig=S,m.localTranspose%12===0)return m.localTransposeVerticalMovement=m.localTranspose/12*7,{accidentals:S,root:g,acc:h};var k=p[0];p[1]==="b"||p[1]==="#"?(k+=p[1],p=p.substr(2)):p=p.substr(1);var M=o[k],I=M!==void 0;I||(M=0,k="C",p="");for(var N=M+m.localTranspose;N<0;)N+=12;N>11&&(N=N%12);var z=p[0]==="m"?u[N]:l[N],j=z+p,T=t(j);T.length>0&&T[0].acc==="flat"&&(m.localTransposePreferFlats=!0);var F=j.charCodeAt(0)-k.charCodeAt(0);return m.localTranspose>0?(F<0||F===0&&(k[1]==="#"||j[1]==="b"))&&(F+=7):m.localTranspose<0&&(F>0||F===0&&(k[1]==="b"||j[1]==="#"))&&(F-=7),m.localTranspose>0?m.localTransposeVerticalMovement=F+Math.floor(m.localTranspose/12)*7:m.localTransposeVerticalMovement=F+Math.ceil(m.localTranspose/12)*7,I?{accidentals:T,root:z[0],acc:z.length>1?z[1]:""}:{accidentals:[],root:g,acc:h}},n.chordName=function(m,p){return e(p,m.localTranspose,m.localTransposePreferFlats,m.freegchord)};var f=["c","d","e","f","g","a","b"];function d(m,p,g,h,C){for(var S=f[(m+49)%7],k=0,M=0;M<h.length;M++)h[M].note.toLowerCase()===S&&(k=y[h[M].acc]);for(var I=y[g],N=I-k,z=f[(p+49)%7],j=0,T=0;T<C.accidentals.length;T++)C.accidentals[T].note.toLowerCase()===z&&(j=y[C.accidentals[T].acc]);var F=N+j;return F<-2&&(p--,F+=z==="c"||z==="f"?1:2),F>2&&(p++,F-=z==="b"||z==="e"?1:2),[p,F]}var y={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},w={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},_={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};return n.note=function(m,p){if(!(!m.localTranspose||m.clef.type==="perc")){var g=p.pitch;if(m.localTransposeVerticalMovement&&(p.pitch=p.pitch+m.localTransposeVerticalMovement,p.name)){var h=p.accidental?p.name.substring(1):p.name,C=p.accidental?p.name[0]:"",S=a.pitchIndex(h);p.name=C+a.noteName(S+m.localTransposeVerticalMovement)}if(p.accidental){var k=d(g,p.pitch,p.accidental,m.globalTransposeOrigKeySig,m.targetKey);p.pitch=k[0],p.accidental=w[k[1]],p.name&&(p.name=_[k[1]]+p.name.replace(/[_^=]/g,""))}}},Eu=n,Eu}var Mu,xv;function w1(){if(xv)return Mu;xv=1;var a=_1(),e=o5(),t={};return function(){var n,o,l,u;t.initialize=function(p,g,h,C,S){n=p,o=g,l=h,u=S},t.standardKey=function(p,g,h,C){return e.keySignature(l,p,g,h,C)};var f={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},d=function(p,g){var h=f[p],C=h?h.mid:0;return C+g};t.fixClef=function(p){var g=f[p.type];g&&(p.clefPos=g.pitch,p.type=g.clef)},t.deepCopyKey=function(p){var g={accidentals:[],root:p.root,acc:p.acc,mode:p.mode};return p.accidentals.forEach(function(h){g.accidentals.push(Object.assign({},h))}),g};var y={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};t.addPosToKey=function(p,g){var h=p.verticalPos;g.accidentals.forEach(function(C){var S=y[C.note];S=S-h,C.verticalPos=S}),g.impliedNaturals&&g.impliedNaturals.forEach(function(C){var S=y[C.note];S=S-h,C.verticalPos=S}),h<-10?(g.accidentals.forEach(function(C){C.verticalPos-=7,(C.verticalPos>=11||C.verticalPos===10&&C.acc==="flat")&&(C.verticalPos-=7),C.note==="A"&&C.acc==="sharp"&&(C.verticalPos-=7),(C.note==="G"||C.note==="F")&&C.acc==="flat"&&(C.verticalPos-=7)}),g.impliedNaturals&&g.impliedNaturals.forEach(function(C){C.verticalPos-=7,(C.verticalPos>=11||C.verticalPos===10&&C.acc==="flat")&&(C.verticalPos-=7),C.note==="A"&&C.acc==="sharp"&&(C.verticalPos-=7),(C.note==="G"||C.note==="F")&&C.acc==="flat"&&(C.verticalPos-=7)})):h<-4?(g.accidentals.forEach(function(C){C.verticalPos-=7,h===-8&&(C.note==="f"||C.note==="g")&&C.acc==="sharp"&&(C.verticalPos-=7)}),g.impliedNaturals&&g.impliedNaturals.forEach(function(C){C.verticalPos-=7,h===-8&&(C.note==="f"||C.note==="g")&&C.acc==="sharp"&&(C.verticalPos-=7)})):h>=7&&(g.accidentals.forEach(function(C){C.verticalPos+=7}),g.impliedNaturals&&g.impliedNaturals.forEach(function(C){C.verticalPos+=7}))},t.fixKey=function(p,g){var h=Object.assign({},g);return t.addPosToKey(p,h),h};var w=function(p){var g=0,h=p[g++];(h==="^"||h==="_")&&(h=p[g++]);var C=y[h];for(C===void 0&&(C=6);g<p.length;g++)if(p[g]===",")C-=7;else if(p[g]==="'")C+=7;else break;return{mid:C-6,str:p.substring(g)}},_=function(p){for(var g=0;g<p.length;g++)p[g].note==="b"?p[g].note="B":p[g].note==="a"?p[g].note="A":p[g].note==="F"?p[g].note="f":p[g].note==="E"?p[g].note="e":p[g].note==="D"?p[g].note="d":p[g].note==="C"?p[g].note="c":p[g].note==="G"&&p[g].acc==="sharp"?p[g].note="g":p[g].note==="g"&&p[g].acc==="flat"&&(p[g].note="G")};t.parseKey=function(p,g){p.length===0&&(p="none");var h=n.tokenize(p,0,p.length),C={};if(h.length===0)return o("Must pass in key signature.",p,0),C;switch(h[0].token){case"HP":a.addDirective("bagpipes"),l.key={root:"HP",accidentals:[],acc:"",mode:""},C.foundKey=!0,h.shift();break;case"Hp":a.addDirective("bagpipes"),l.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},C.foundKey=!0,h.shift();break;case"none":l.key={root:"none",accidentals:[],acc:"",mode:""},C.foundKey=!0,h.shift();break;default:var S=n.getKeyPitch(h[0].token);if(S.len>0){C.foundKey=!0;var k="",M="";h[0].token.length>1?h[0].token=h[0].token.substring(1):h.shift();var I=S.token;if(h.length>0){var N=n.getSharpFlat(h[0].token);if(N.len>0&&(h[0].token.length>1?h[0].token=h[0].token.substring(1):h.shift(),I+=N.token,k=N.token),h.length>0){var z=n.getMode(h[0].token);z.len>0&&(h.shift(),I+=z.token,M=z.token)}if(t.standardKey(I,S.token,k,0)===void 0)return o("Unsupported key signature: "+I,p,0),C}var j=t.deepCopyKey(l.key),T=!g&&l.globalTranspose?-l.globalTranspose:0,F;if(g&&(F=l.globalTransposeOrigKeySig),l.key=t.deepCopyKey(t.standardKey(I,S.token,k,T)),g&&(l.globalTransposeOrigKeySig=F),l.key.mode=M,j){for(var q,B=0;B<l.key.accidentals.length;B++)for(q=0;q<j.accidentals.length;q++)j.accidentals[q].note&&l.key.accidentals[B].note.toLowerCase()===j.accidentals[q].note.toLowerCase()&&(j.accidentals[q].note=null);for(q=0;q<j.accidentals.length;q++)j.accidentals[q].note&&(l.key.impliedNaturals||(l.key.impliedNaturals=[]),l.key.impliedNaturals.push({acc:"natural",note:j.accidentals[q].note}))}}break}if(h.length===0||(h[0].token==="exp"&&h.shift(),h.length===0)||(h[0].token==="oct"&&h.shift(),h.length===0))return C;var V=n.getKeyAccidentals2(h);if(V.warn&&o(V.warn,p,0),V.accs){C.foundKey||(C.foundKey=!0,l.key={root:"none",acc:"",mode:"",accidentals:[]}),_(V.accs);for(var H=0;H<V.accs.length;H++){for(var D=!1,R=0;R<l.key.accidentals.length&&!D;R++)l.key.accidentals[R].note===V.accs[H].note&&(D=!0,l.key.accidentals[R].acc!==V.accs[H].acc&&(l.key.accidentals[R].acc=V.accs[H].acc,l.key.explicitAccidentals||(l.key.explicitAccidentals=[]),l.key.explicitAccidentals.push(V.accs[H])));if(!D&&(l.key.explicitAccidentals||(l.key.explicitAccidentals=[]),l.key.explicitAccidentals.push(V.accs[H]),l.key.accidentals.push(V.accs[H]),l.key.impliedNaturals))for(var U=0;U<l.key.impliedNaturals.length;U++)l.key.impliedNaturals[U].note===V.accs[H].note&&l.key.impliedNaturals.splice(U,1)}}for(var Y;h.length>0;)switch(h[0].token){case"m":case"middle":if(h.shift(),h.length===0)return o("Expected = after middle",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after middle",p,Y.start);break}if(h.length===0)return o("Expected parameter after middle=",p,0),C;var G=n.getPitchFromTokens(h);G.warn&&o(G.warn,p,0),G.position&&(l.clef.verticalPos=G.position-6);break;case"transpose":if(h.shift(),h.length===0)return o("Expected = after transpose",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after transpose",p,Y.start);break}if(h.length===0)return o("Expected parameter after transpose=",p,0),C;if(h[0].type!=="number"){o("Expected number after transpose",p,h[0].start);break}l.clef.transpose=h[0].intt,h.shift();break;case"stafflines":if(h.shift(),h.length===0)return o("Expected = after stafflines",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after stafflines",p,Y.start);break}if(h.length===0)return o("Expected parameter after stafflines=",p,0),C;if(h[0].type!=="number"){o("Expected number after stafflines",p,h[0].start);break}l.clef.stafflines=h[0].intt,h.shift();break;case"staffscale":if(h.shift(),h.length===0)return o("Expected = after staffscale",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after staffscale",p,Y.start);break}if(h.length===0)return o("Expected parameter after staffscale=",p,0),C;if(h[0].type!=="number"){o("Expected number after staffscale",p,h[0].start);break}l.clef.staffscale=h[0].floatt,h.shift();break;case"octave":if(h.shift(),h.length===0)return o("Expected = after octave",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after octave",p,Y.start);break}if(h.length===0)return o("Expected parameter after octave=",p,0),C;if(h[0].type!=="number"){o("Expected number after octave",p,h[0].start);break}l.octave=h[0].intt,h.shift();break;case"style":if(h.shift(),h.length===0)return o("Expected = after style",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after style",p,Y.start);break}if(h.length===0)return o("Expected parameter after style=",p,0),C;switch(h[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":l.style=h[0].token,h.shift();break;default:o("error parsing style element: "+h[0].token,p,h[0].start);break}break;case"clef":if(h.shift(),h.length===0)return o("Expected = after clef",p,0),C;if(Y=h.shift(),Y.token!=="="){o("Expected = after clef",p,Y.start);break}if(h.length===0)return o("Expected parameter after clef=",p,0),C;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var A=h.shift();switch(A.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":A.token="alto";break;case"F":A.token="bass";break;case"G":A.token="treble";break;case"c":A.token="alto";break;case"f":A.token="bass";break;case"g":A.token="treble";break;default:o("Expected clef name. Found "+A.token,p,A.start);break}h.length>0&&h[0].type==="number"&&(A.token+=h[0].token,h.shift()),h.length>1&&(h[0].token==="-"||h[0].token==="+"||h[0].token==="^"||h[0].token==="_")&&h[1].token==="8"&&(A.token+=h[0].token+h[1].token,h.shift(),h.shift()),l.clef={type:A.token,verticalPos:d(A.token,0)},l.currentVoice&&l.currentVoice.transpose!==void 0&&(l.clef.transpose=l.currentVoice.transpose),C.foundClef=!0;break;default:o("Unknown parameter: "+h[0].token,p,h[0].start),h.shift()}return C};var m=function(p){var g=l.voices[p];if(!(l.currentVoice&&l.currentVoice.index===g.index&&l.currentVoice.staffNum===g.staffNum))return l.currentVoice=g,u.setCurrentVoice(g.staffNum,g.index,p)};t.parseVoice=function(p,g,h){var C=n.getMeat(p,g,h),S=C.start,k=C.end,M=n.getToken(p,S,k);if(M.length===0){o("Expected a voice id",p,S);return}var I=!1;l.voices[M]===void 0&&(l.voices[M]={},I=!0,l.score_is_present&&o("Can't have an unknown V: id when the %score directive is present",p,S)),S+=M.length,S+=n.eatWhiteSpace(p,S);for(var N={startStaff:I},z=function(G){var A=n.getVoiceToken(p,S,k);A.warn!==void 0?o("Expected value for "+G+" in voice: "+A.warn,p,S):A.err!==void 0?o("Expected value for "+G+" in voice: "+A.err,p,S):A.token.length===0&&p[S]!=='"'?o("Expected value for "+G+" in voice",p,S):N[G]=A.token,S+=A.len},j=function(G,A,O){var E=n.getVoiceToken(p,S,k);E.warn!==void 0?o("Expected value for "+A+" in voice: "+E.warn,p,S):E.err!==void 0?o("Expected value for "+A+" in voice: "+E.err,p,S):E.token.length===0&&p[S]!=='"'?o("Expected value for "+A+" in voice",p,S):(E.token=parseFloat(E.token),l.voices[G][A]=E.token),S+=E.len},T=function(G,A){var O=n.getVoiceToken(p,S,k);if(O.warn!==void 0)o("Expected value for "+G+" in voice: "+O.warn,p,S);else if(O.err!==void 0)o("Expected value for "+G+" in voice: "+O.err,p,S);else if(O.token.length===0&&p[S]!=='"')o("Expected value for "+G+" in voice",p,S);else return O.token;S+=O.len},F=function(G,A){var O={_B:2,_E:9,_b:-10,_e:-3},E=n.getVoiceToken(p,S,k);if(E.warn!==void 0)o("Expected one of (_B, _E, _b, _e) for "+A+" in voice: "+E.warn,p,S);else if(E.token.length===0&&p[S]!=='"')o("Expected one of (_B, _E, _b, _e) for "+A+" in voice",p,S);else{var W=O[E.token];W?l.voices[G][A]=W:o("Expected one of (_B, _E, _b, _e) for "+A+" in voice",p,S)}S+=E.len};S<k;){var q=n.getVoiceToken(p,S,k);if(S+=q.len,q.warn)o("Error parsing voice: "+q.warn,p,S);else{var B=null;switch(q.token){case"clef":case"cl":z("clef");var V=0;N.clef!==void 0&&(N.clef=N.clef.replace(/[',]/g,""),N.clef.indexOf("+16")!==-1&&(V+=14,N.clef=N.clef.replace("+16","")),N.verticalPos=d(N.clef,V));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var H=0;N.clef=q.token.replace(/[',]/g,""),N.verticalPos=d(N.clef,H),l.voices[M].clef=q.token;break;case"staves":case"stave":case"stv":z("staves");break;case"brace":case"brc":z("brace");break;case"bracket":case"brk":z("bracket");break;case"name":case"nm":z("name");break;case"subname":case"sname":case"snm":z("subname");break;case"merge":N.startStaff=!1;break;case"stem":case"stems":B=n.getVoiceToken(p,S,k),B.warn!==void 0?o("Expected value for stems in voice: "+B.warn,p,S):B.err!==void 0?o("Expected value for stems in voice: "+B.err,p,S):B.token==="up"||B.token==="down"?l.voices[M].stem=B.token:o("Expected up or down for voice stem",p,S),S+=B.len;break;case"up":case"down":l.voices[M].stem=q.token;break;case"middle":case"m":z("verticalPos"),N.verticalPos=w(N.verticalPos).mid;break;case"gchords":case"gch":l.voices[M].suppressChords=!0,B=n.getVoiceToken(p,S,k),B.token==="0"&&(S=S+B.len);break;case"space":case"spc":z("spacing");break;case"scale":j(M,"scale");break;case"score":F(M,"scoreTranspose");break;case"transpose":j(M,"transpose");break;case"stafflines":j(M,"stafflines");break;case"staffscale":j(M,"staffscale");break;case"octave":j(M,"octave");break;case"volume":j(M,"volume");break;case"cue":var D=T("cue");D==="on"?l.voices[M].scale=.6:l.voices[M].scale=1;break;case"style":B=n.getVoiceToken(p,S,k),B.warn!==void 0?o("Expected value for style in voice: "+B.warn,p,S):B.err!==void 0?o("Expected value for style in voice: "+B.err,p,S):B.token==="normal"||B.token==="harmonic"||B.token==="rhythm"||B.token==="x"||B.token==="triangle"?l.voices[M].style=B.token:o("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",p,S),S+=B.len;break}}S+=n.eatWhiteSpace(p,S)}if((N.startStaff||l.staves.length===0)&&(l.staves.push({index:l.staves.length,meter:l.origMeter}),l.score_is_present||(l.staves[l.staves.length-1].numVoices=0)),l.voices[M].staffNum===void 0){l.voices[M].staffNum=l.staves.length-1;var R=0;for(var U in l.voices)l.voices.hasOwnProperty(U)&&l.voices[U].staffNum===l.voices[M].staffNum&&R++;l.voices[M].index=R-1}var Y=l.staves[l.voices[M].staffNum];return l.score_is_present||Y.numVoices++,N.clef&&(Y.clef={type:N.clef,verticalPos:N.verticalPos}),N.spacing&&(Y.spacing_below_offset=N.spacing),N.verticalPos&&(Y.verticalPos=N.verticalPos),N.name&&(Y.name?Y.name.push(N.name):Y.name=[N.name]),N.subname&&(Y.subname?Y.subname.push(N.subname):Y.subname=[N.subname]),m(M)}}(),Mu=t,Mu}var Au,Sv;function WS(){if(Sv)return Au;Sv=1;var a=Pr(),e=_1(),t=w1(),n=function(o,l,u,f,d){this.reset=function(_,m,p,g){t.initialize(_,m,p,g,d),e.initialize(_,m,p,g,d)},this.reset(o,l,u,f),this.setTitle=function(_,m){u.hasMainTitle?d.addSubtitle(_,{startChar:u.iChar,endChar:u.iChar+m+2}):(d.addMetaText("title",_,{startChar:u.iChar,endChar:u.iChar+m+2}),u.hasMainTitle=!0)},this.setMeter=function(_){if(_=o.stripComment(_),_==="C")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"common_time"};if(_==="C|")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"cut_time"};if(_==="o")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_perfectum"};if(_==="c")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_imperfectum"};if(_==="o.")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(_==="c.")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(_.length===0||_.toLowerCase()==="none")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),null;var m=o.tokenize(_,0,_.length);try{var p=function(){var M={value:0,num:""},I=m.shift();for(I.token==="("&&(I=m.shift());;){if(I.type!=="number")throw"Expected top number of meter";if(M.value+=parseInt(I.token),M.num+=I.token,m.length===0||m[0].token==="/")return M;if(I=m.shift(),I.token===")"){if(m.length===0||m[0].token==="/")return M;throw"Unexpected paren in meter"}if(I.token!=="."&&I.token!=="+"||(M.num+=I.token,m.length===0))throw"Expected top number of meter";I=m.shift()}return M},g=function(){var M=p();if(m.length===0)return M;var I=m.shift();if(I.token!=="/")throw"Expected slash in meter";if(I=m.shift(),I.type!=="number")throw"Expected bottom number of meter";return M.den=I.token,M.value=M.value/parseInt(M.den),M};if(m.length===0)throw"Expected meter definition in M: line";for(var h={type:"specified",value:[]},C=0;;){var S=g();C+=S.value;var k={num:S.num};if(S.den!==void 0&&(k.den=S.den),h.value.push(k),m.length===0)break}return u.havent_set_length===!0&&(u.default_length=C<.75?.0625:.125,u.havent_set_length=!1),h}catch(M){l(M,_,0)}return null},this.calcTempo=function(_){var m=.25;u.meter&&u.meter.type==="specified"?m=1/parseInt(u.meter.value[0].den):u.origMeter&&u.origMeter.type==="specified"&&(m=1/parseInt(u.origMeter.value[0].den));for(var p=0;p<_.duration;p++)_.duration[p]=m*_.duration[p];return _},this.resolveTempo=function(){u.tempo&&(this.calcTempo(u.tempo),f.metaText.tempo=u.tempo,delete u.tempo)},this.addUserDefinition=function(_,m,p){var g=_.indexOf("=",m);if(g===-1){l("Need an = in a macro definition",_,m);return}var h=a.strip(_.substring(m,g)),C=a.strip(_.substring(g+1));if(h.length!==1){l("Macro definitions can only be one character",_,m);return}var S="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(S.indexOf(h)===-1){l("Macro definitions must be H-Y, h-w, or tilde",_,m);return}if(C.length===0){l("Missing macro definition",_,m);return}u.macros===void 0&&(u.macros={}),u.macros[h]=C},this.setDefaultLength=function(_,m,p){var g=_.substring(m,p).replace(/ /g,""),h=g.split("/");if(h.length===2){var C=parseInt(h[0]),S=parseInt(h[1]);S>0&&(u.default_length=C/S,u.havent_set_length=!1)}else h.length===1&&h[0]==="1"&&(u.default_length=1,u.havent_set_length=!1)};var y={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(_,m,p,g){try{var h=o.tokenize(_,m,p);if(h.length===0)throw"Missing parameter in Q: field";var C={startChar:g+m-2,endChar:g+p},S=!0,k=h.shift();if(k.type==="quote"&&(C.preString=k.token,k=h.shift(),h.length===0))return y[C.preString.toLowerCase()]&&(C.bpm=y[C.preString.toLowerCase()],C.suppressBpm=!0),{type:"immediate",tempo:C};if(k.type==="alpha"&&k.token==="C"){if(h.length===0)throw"Missing tempo after C in Q: field";if(k=h.shift(),k.type==="punct"&&k.token==="="){if(h.length===0)throw"Missing tempo after = in Q: field";if(k=h.shift(),k.type!=="number")throw"Expected number after = in Q: field";C.duration=[1],C.bpm=parseInt(k.token)}else if(k.type==="number"){if(C.duration=[parseInt(k.token)],h.length===0)throw"Missing = after duration in Q: field";if(k=h.shift(),k.type!=="punct"||k.token!=="=")throw"Expected = after duration in Q: field";if(h.length===0)throw"Missing tempo after = in Q: field";if(k=h.shift(),k.type!=="number")throw"Expected number after = in Q: field";C.bpm=parseInt(k.token)}else throw"Expected number or equal after C in Q: field"}else if(k.type==="number"){var M=parseInt(k.token);if(h.length===0||h[0].type==="quote")C.duration=[1],C.bpm=M;else{if(S=!1,k=h.shift(),k.type!=="punct"&&k.token!=="/"||(k=h.shift(),k.type!=="number"))throw"Expected fraction in Q: field";var I=parseInt(k.token);for(C.duration=[M/I];h.length>0&&h[0].token!=="="&&h[0].type!=="quote";){if(k=h.shift(),k.type!=="number"||(M=parseInt(k.token),k=h.shift(),k.type!=="punct"&&k.token!=="/")||(k=h.shift(),k.type!=="number"))throw"Expected fraction in Q: field";I=parseInt(k.token),C.duration.push(M/I)}if(k=h.shift(),k.type!=="punct"&&k.token!=="=")throw"Expected = in Q: field";if(k=h.shift(),k.type!=="number")throw"Expected tempo in Q: field";C.bpm=parseInt(k.token)}}else throw"Unknown value in Q: field";if(h.length!==0&&(k=h.shift(),k.type==="quote"&&(C.postString=k.token,k=h.shift()),h.length!==0))throw"Unexpected string at end of Q: field";return u.printTempo===!1&&(C.suppress=!0),{type:S?"delaySet":"immediate",tempo:C}}catch(N){return l(N,_,m),{type:"none"}}},this.letter_to_inline_header=function(_,m,p){var g=!1,h=o.eatWhiteSpace(_,m);if(m+=h,_.length>=m+5&&_[m]==="["&&_[m+2]===":"){var C=_.indexOf("]",m),S=u.iChar+m,k=u.iChar+C+1;switch(_.substring(m,m+3)){case"[I:":var M=e.addDirective(_.substring(m+3,C));return M&&l(M,_,m),[C-m+1+h];case"[M:":var I=this.setMeter(_.substring(m+3,C));return d.hasBeginMusic()&&I?d.appendStartingElement("meter",S,k,I):u.meter=I,[C-m+1+h];case"[K:":var N=t.parseKey(_.substring(m+3,C),!0);return N.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",S,k,u.clef),N.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",S,k,t.fixKey(u.clef,u.key)),[C-m+1+h];case"[P:":var z=e.parseFontChangeLine(_.substring(m+3,C));return p||f.lines.length<=f.lineNum?u.partForNextLine={title:z,startChar:S,endChar:k}:d.appendElement("part",S,k,{title:z}),[C-m+1+h];case"[L:":return this.setDefaultLength(_,m+3,C),[C-m+1+h];case"[Q:":if(C>0){var j=this.setTempo(_,m+3,C,u.iChar);return j.type==="delaySet"?d.hasBeginMusic()?d.appendElement("tempo",S,k,this.calcTempo(j.tempo)):u.tempoForNextLine=["tempo",S,k,this.calcTempo(j.tempo)]:j.type==="immediate"&&(!p&&d.hasBeginMusic()?d.appendElement("tempo",S,k,j.tempo):u.tempoForNextLine=["tempo",S,k,j.tempo]),[C-m+1+h,_[m+1],_.substring(m+3,C)]}break;case"[V:":if(C>0)return g=t.parseVoice(_,m+3,C),[C-m+1+h,_[m+1],_.substring(m+3,C),g];break;case"[r:":return[C-m+1+h]}}return[0]},this.letter_to_body_header=function(_,m){var p=!1;if(_.length>=m+3)switch(_.substring(m,m+2)){case"I:":var g=e.addDirective(_.substring(m+2));return g&&l(g,_,m),[_.length];case"M:":var h=this.setMeter(_.substring(m+2));return d.hasBeginMusic()&&h&&d.appendStartingElement("meter",u.iChar+m,u.iChar+_.length,h),[_.length];case"K:":var C=t.parseKey(_.substring(m+2),d.hasBeginMusic());return C.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",u.iChar+m,u.iChar+_.length,u.clef),C.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",u.iChar+m,u.iChar+_.length,t.fixKey(u.clef,u.key)),[_.length];case"P:":return d.hasBeginMusic()&&d.appendElement("part",u.iChar+m,u.iChar+_.length,{title:_.substring(m+2)}),[_.length];case"L:":return this.setDefaultLength(_,m+2,_.length),[_.length];case"Q:":var S=_.indexOf("",m+2);S===-1&&(S=_.length);var k=this.setTempo(_,m+2,S,u.iChar);return k.type==="delaySet"?d.appendElement("tempo",u.iChar+m,u.iChar+_.length,this.calcTempo(k.tempo)):k.type==="immediate"&&d.appendElement("tempo",u.iChar+m,u.iChar+_.length,k.tempo),[S,_[m],a.strip(_.substring(m+2))];case"V:":return p=t.parseVoice(_,m+2,_.length),[_.length,_[m],a.strip(_.substring(m+2)),p]}return[0]};var w={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(_){var m=w[_[0]],p=_.length-2,g=o.translateString(o.stripComment(_.substring(2)));if(m==="unalignedWords"||m==="notes")d.addMetaTextArray(m,e.parseFontChangeLine(g),{startChar:u.iChar,endChar:u.iChar+_.length});else if(m!==void 0)d.addMetaText(m,e.parseFontChangeLine(g),{startChar:u.iChar,endChar:u.iChar+_.length});else{var h=u.iChar,C=h+_.length;switch(_[0]){case"H":for(d.addMetaTextArray("history",e.parseFontChangeLine(g),{startChar:u.iChar,endChar:u.iChar+_.length}),_=o.peekLine();_&&_[1]!==":";)o.nextLine(),d.addMetaTextArray("history",e.parseFontChangeLine(o.translateString(o.stripComment(_))),{startChar:u.iChar,endChar:u.iChar+_.length}),_=o.peekLine();break;case"K":this.resolveTempo();var S=t.parseKey(_.substring(2),!1);!u.is_in_header&&d.hasBeginMusic()&&(S.foundClef&&d.appendStartingElement("clef",h,C,u.clef),S.foundKey&&d.appendStartingElement("key",h,C,t.fixKey(u.clef,u.key))),u.is_in_header=!1;break;case"L":this.setDefaultLength(_,2,_.length);break;case"M":u.origMeter=u.meter=this.setMeter(_.substring(2));break;case"P":u.is_in_header?d.addMetaText("partOrder",e.parseFontChangeLine(g),{startChar:u.iChar,endChar:u.iChar+_.length}):u.partForNextLine={title:g,startChar:h,endChar:C};break;case"Q":var k=this.setTempo(_,2,_.length,u.iChar);k.type==="delaySet"?u.tempo=k.tempo:k.type==="immediate"&&(f.metaText.tempo?u.tempoForNextLine=["tempo",h,C,k.tempo]:f.metaText.tempo=k.tempo);break;case"T":u.titlecaps&&(g=g.toUpperCase()),this.setTitle(e.parseFontChangeLine(o.theReverser(g)),p);break;case"U":this.addUserDefinition(_,2,_.length);break;case"V":if(t.parseVoice(_,2,_.length),!u.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":l("Ignored header",_,0);break;default:return{regular:!0}}}return{}}};return Au=n,Au}var Cn={},kv;function US(){return kv||(kv=1,Cn.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],Cn.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],Cn.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],Cn.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],Cn.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],Cn.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",Cn.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],Cn.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},Cn.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},Cn.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},Cn.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}),Cn}var Pu,Tv;function GS(){if(Tv)return Pu;Tv=1;var a=w1(),e=o5(),t,n,o,l,u,f,{legalAccents:d,volumeDecorations:y,dynamicDecorations:w,accentPseudonyms:_,accentDynamicPseudonyms:m,nonDecorations:p,durations:g,pitches:h,rests:C,accMap:S,tripletQ:k}=US(),M=function(A,O,E,W,X,K){t=A,n=O,o=E,l=W,u=X,f=K,this.lineContinuation=!1},I=function(A,O,E){if(A.inTie[O]===void 0)return!1;var W=A.currentVoice?A.currentVoice.staffNum*100+A.currentVoice.index:0;return!!(A.inTie[O][W]&&(E.pitches!==void 0||E.rest.type!=="spacer"))},N={};M.prototype.parseMusic=function(A){f.resolveTempo(),o.is_in_header=!1;for(var O=0,E=o.iChar;t.isWhiteSpace(A[O])&&O<A.length;)O++;if(!(O===A.length||A[O]==="%")){var W=o.start_new_line;o.continueall===void 0?o.start_new_line=!0:o.start_new_line=!1;var X=0,K=f.letter_to_body_header(A,O);K[0]>0&&(O+=K[0],K[1]==="V"&&this.startNewLine());for(var Q=0;O<A.length;){var ie=O;if(A[O]==="%")break;var he=f.letter_to_inline_header(A,O,W);if(he[0]>0)O+=he[0],he[1]==="V"&&(W=!0);else{(!u.hasBeginMusic()||W&&!this.lineContinuation)&&(this.startNewLine(),W=!1);for(var J;;)if(J=t.eatWhiteSpace(A,O),J>0&&(O+=J),O>0&&A[O-1]===""&&(J=f.letter_to_body_header(A,O),J[0]>0&&(J[1]==="V"&&this.startNewLine(),O=J[0],o.start_new_line=!1)),J=V(A,O),J[0]>0&&(O+=J[0]),J=j(A,O),J[0]>0){N.chord||(N.chord=[]);var ge=t.translateString(J[1]);ge=ge.replace(/;/g,`
`);for(var Ce=!1,fe=0;fe<N.chord.length;fe++)N.chord[fe].position===J[2]&&(Ce=!0,N.chord[fe].name+=`
`+ge);Ce===!1&&(J[2]===null&&J[3]?N.chord.push({name:ge,rel_position:J[3]}):N.chord.push({name:ge,position:J[2]})),O+=J[0];var Se=t.skipWhiteSpace(A.substring(O));Se>0&&(N.force_end_beam_last=!0),O+=Se}else if(p.indexOf(A[O])===-1?J=B(A,O):J=[0],J[0]>0)J[1]===null?O+1<A.length&&this.startNewLine():J[1].length>0&&(J[1].indexOf("style=")===0?N.style=J[1].substr(6):(N.decoration===void 0&&(N.decoration=[]),J[1]==="beambr1"?N.beambr=1:J[1]==="beambr2"?N.beambr=2:N.decoration.push(J[1]))),O+=J[0];else if(J=T(A,O),J[0]>0)N.gracenotes=J[1],O+=J[0];else break;if(J=H(A,O),J[0]>0){Q=0,N.gracenotes!==void 0&&(N.rest={type:"spacer"},N.duration=.125,o.addFormattingOptions(N,l.formatting,"note"),u.appendElement("note",E+O,E+O+J[0],N),o.measureNotEmpty=!0,N={});var xe={type:J[1]};xe.type.length===0?n("Unknown bar type",A,O):(o.inEnding&&xe.type!=="bar_thin"&&(xe.endEnding=!0,o.inEnding=!1),J[2]&&(xe.startEnding=J[2],o.inEnding&&(xe.endEnding=!0),o.inEnding=!0,J[1]==="bar_right_repeat"?o.restoreStartEndingHoldOvers():o.duplicateStartEndingHoldOvers()),N.decoration!==void 0&&(xe.decoration=N.decoration),N.chord!==void 0&&(xe.chord=N.chord),xe.startEnding&&o.barFirstEndingNum===void 0?o.barFirstEndingNum=o.currBarNumber:xe.startEnding&&xe.endEnding&&o.barFirstEndingNum?o.currBarNumber=o.barFirstEndingNum:xe.endEnding&&(o.barFirstEndingNum=void 0),xe.type!=="bar_invisible"&&o.measureNotEmpty&&G()&&(o.currBarNumber++,o.barNumbers&&o.currBarNumber%o.barNumbers===0&&(xe.barNumber=o.currBarNumber)),o.addFormattingOptions(N,l.formatting,"bar"),u.appendElement("bar",E+ie,E+O+J[0],xe),o.measureNotEmpty=!1,N={}),O+=J[0]}else if(A[O]==="&")J=F(A,O),J[0]>0&&(u.appendElement("overlay",E,E+1,{}),O+=1,Q++);else{if(J=D(A,O),J.consumed>0&&(J.startSlur!==void 0&&(N.startSlur=J.startSlur),J.dottedSlur&&(N.dottedSlur=!0),J.triplet!==void 0&&(X>0?n("Can't nest triplets",A,O):(N.startTriplet=J.triplet,N.tripletMultiplier=J.tripletQ/J.triplet,N.tripletR=J.num_notes,X=J.num_notes===void 0?J.triplet:J.num_notes)),O+=J.consumed),A[O]==="["){O++;for(var de=null,ve=!1,_e=!1;!_e;){var De=B(A,O);De[0]>0&&(O+=De[0]);var Ie=U(A,O,{},!1);if(Ie!==null&&Ie.pitch!==void 0)De[0]>0&&De[1].indexOf("style=")!==0&&(N.decoration===void 0&&(N.decoration=[]),N.decoration.push(De[1])),Ie.end_beam&&(N.end_beam=!0,delete Ie.end_beam),N.pitches===void 0?(N.duration=Ie.duration,N.pitches=[Ie]):N.pitches.push(Ie),delete Ie.duration,De[0]>0&&De[1].indexOf("style=")===0&&(N.pitches[N.pitches.length-1].style=De[1].substr(6)),o.inTieChord[N.pitches.length]&&(Ie.endTie=!0,o.inTieChord[N.pitches.length]=void 0),Ie.startTie&&(o.inTieChord[N.pitches.length]=!0),O=Ie.endChar,delete Ie.endChar;else if(A[O]===" ")n("Spaces are not allowed in chords",A,O),O++;else{if(O<A.length&&A[O]==="]"){O++,o.next_note_duration!==0&&(N.duration=N.duration*o.next_note_duration,o.next_note_duration=0),I(o,Q,N)&&(N.pitches.forEach(function(Ee){Ee.endTie=!0}),z(o,Q,!1)),X>0&&!(N.rest&&N.rest.type==="spacer")&&(X--,X===0&&(N.endTriplet=!0));for(var Re=!1;O<A.length&&!Re;){switch(A[O]){case" ":case"	":R(N);break;case")":N.endSlur===void 0?N.endSlur=1:N.endSlur++;break;case"-":N.pitches.forEach(function(Ee){Ee.startTie={}}),z(o,Q,!0);break;case">":case"<":var Fe=Y(A,O);O+=Fe[0]-1,o.next_note_duration=Fe[2],de?de=de*Fe[1]:de=Fe[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var ne=t.getFraction(A,O);de=ne.value,O=ne.index;var le=A[O];le===" "&&(ve=!0),le==="-"||le===")"||le===" "||le==="<"||le===">"?O--:Re=!0;break;case"0":de=0;break;default:Re=!0;break}Re||O++}}else n("Expected ']' to end the chords",A,O);N.pitches!==void 0&&(de!==null&&(N.duration=N.duration*de,ve&&R(N)),o.addFormattingOptions(N,l.formatting,"note"),u.appendElement("note",E+ie,E+O,N),o.measureNotEmpty=!0,N={}),_e=!0}}}else{var se={},re=U(A,O,se,!0);if(se.endTie!==void 0&&z(o,Q,!0),re!==null){re.pitch!==void 0?(N.pitches=[{}],re.accidental!==void 0&&(N.pitches[0].accidental=re.accidental),N.pitches[0].pitch=re.pitch,N.pitches[0].name=re.name,(re.midipitch||re.midipitch===0)&&(N.pitches[0].midipitch=re.midipitch),re.endSlur!==void 0&&(N.pitches[0].endSlur=re.endSlur),re.endTie!==void 0&&(N.pitches[0].endTie=re.endTie),re.startSlur!==void 0&&(N.pitches[0].startSlur=re.startSlur),N.startSlur!==void 0&&(N.pitches[0].startSlur=N.startSlur),N.dottedSlur!==void 0&&(N.pitches[0].dottedSlur=!0),re.startTie!==void 0&&(N.pitches[0].startTie=re.startTie),N.startTie!==void 0&&(N.pitches[0].startTie=N.startTie)):(N.rest=re.rest,re.rest.type==="multimeasure"&&G()&&(o.currBarNumber+=re.rest.text-1),re.endSlur!==void 0&&(N.endSlur=re.endSlur),re.endTie!==void 0&&(N.rest.endTie=re.endTie),re.startSlur!==void 0&&(N.startSlur=re.startSlur),re.startTie!==void 0&&(N.rest.startTie=re.startTie),N.startTie!==void 0&&(N.rest.startTie=N.startTie)),re.chord!==void 0&&(N.chord=re.chord),re.duration!==void 0&&(N.duration=re.duration),re.decoration!==void 0&&(N.decoration=re.decoration),re.graceNotes!==void 0&&(N.graceNotes=re.graceNotes),delete N.startSlur,delete N.dottedSlur,I(o,Q,N)&&(N.pitches!==void 0?N.pitches[0].endTie=!0:N.rest.type!=="spacer"&&(N.rest.endTie=!0),z(o,Q,!1)),(re.startTie||N.startTie)&&z(o,Q,!0),O=re.endChar,X>0&&!(re.rest&&re.rest.type==="spacer")&&(X--,X===0&&(N.endTriplet=!0)),re.end_beam&&R(N),N.rest&&N.rest.type==="rest"&&N.duration===1&&q(o)<=1&&(N.rest.type="whole",N.duration=q(o)),N.duration<1&&g.indexOf(N.duration)===-1&&N.duration!==0&&(!N.rest||N.rest.type!=="spacer")&&n("Duration not representable: "+A.substring(ie,O),A,O),o.addFormattingOptions(N,l.formatting,"note");var pe=u.appendElement("note",E+ie,E+O,N);pe||(this.startNewLine(),u.appendElement("note",E+ie,E+O,N)),o.measureNotEmpty=!0,N={}}}O===ie&&(A[O]!==" "&&A[O]!=="`"&&n("Unknown character ignored",A,O),O++)}}}this.lineContinuation=A.indexOf("")>=0||K[0]>0,this.lineContinuation||(N={})}};var z=function(A,O,E){var W=A.currentVoice?A.currentVoice.staffNum*100+A.currentVoice.index:0;A.inTie[O]===void 0&&(A.inTie[O]=[]),A.inTie[O][W]=E},j=function(A,O){if(A[O]==='"'){var E=t.getBrackettedSubstring(A,O,5);if(E[2]||n("Missing the closing quote while parsing the chord symbol",A,O),E[0]>0&&E[1].length>0&&E[1][0]==="^")E[1]=E[1].substring(1),E[2]="above";else if(E[0]>0&&E[1].length>0&&E[1][0]==="_")E[1]=E[1].substring(1),E[2]="below";else if(E[0]>0&&E[1].length>0&&E[1][0]==="<")E[1]=E[1].substring(1),E[2]="left";else if(E[0]>0&&E[1].length>0&&E[1][0]===">")E[1]=E[1].substring(1),E[2]="right";else if(E[0]>0&&E[1].length>0&&E[1][0]==="@"){E[1]=E[1].substring(1);var W=t.getFloat(E[1]);if(W.digits===0)return n("Missing first position in absolutely positioned annotation.",A,O),E[1]=E[1].replace("@",""),E[2]="above",E;if(E[1]=E[1].substring(W.digits),E[1][0]!==",")return n("Missing comma absolutely positioned annotation.",A,O),E[1]=E[1].replace("@",""),E[2]="above",E;E[1]=E[1].substring(1);var X=t.getFloat(E[1]);if(X.digits===0)return n("Missing second position in absolutely positioned annotation.",A,O),E[1]=E[1].replace("@",""),E[2]="above",E;E[1]=E[1].substring(X.digits);var K=t.skipWhiteSpace(E[1]);E[1]=E[1].substring(K),E[2]=null,E[3]={x:W.value,y:X.value}}else o.freegchord!==!0&&(E[1]=E[1].replace(/([ABCDEFG0-9])b/g,"$1"),E[1]=E[1].replace(/([ABCDEFG0-9])#/g,"$1"),E[1]=E[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),E[1]=E[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),E[1]=E[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),E[1]=E[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),E[2]="default",E[1]=e.chordName(o,E[1]);return E}return[0,""]},T=function(A,O){if(A[O]==="{"){var E=t.getBrackettedSubstring(A,O,1,"}");E[2]||n("Missing the closing '}' while parsing grace note",A,O),A[O+E[0]]===")"&&(E[0]++,E[1]+=")");for(var W=[],X=0,K=!1;X<E[1].length;){var Q=!1;E[1][X]==="/"&&(Q=!0,X++);var ie=U(E[1],X,{},!1);ie!==null?(ie.duration=ie.duration/(o.default_length*8),Q&&(ie.acciaccatura=!0),ie.rest?n("Rests not allowed as grace notes '"+E[1][X]+"' while parsing grace note",A,O):W.push(ie),K&&(ie.endTie=!0,K=!1),ie.startTie&&(K=!0),X=ie.endChar,delete ie.endChar,ie.end_beam&&(ie.endBeam=!0,delete ie.end_beam)):(E[1][X]===" "?W.length>0&&(W[W.length-1].endBeam=!0):n("Unknown character '"+E[1][X]+"' while parsing grace note",A,O),X++)}if(W.length)return[E[0],W]}return[0]};function F(A,O){if(A[O]==="&"){for(var E=O;A[O]&&A[O]!==":"&&A[O]!=="|";)O++;return[O-E,A.substring(E+1,O)]}return[0]}function q(A){var O=A.origMeter;return!O||O.type!=="specified"||!O.value||O.value.length===0?1:parseInt(O.value[0].num,10)/parseInt(O.value[0].den,10)}var B=function(A,O){var E=o.macros[A[O]];if(E!==void 0)return(E[0]==="!"||E[0]==="+")&&(E=E.substring(1)),(E[E.length-1]==="!"||E[E.length-1]==="+")&&(E=E.substring(0,E.length-1)),d.includes(E)?[1,E]:y.includes(E)?(o.volumePosition==="hidden"&&(E=""),[1,E]):w.includes(E)?(o.dynamicPosition==="hidden"&&(E=""),[1,E]):(o.ignoredDecorations.includes(E)||n("Unknown macro: "+E,A,O),[1,""]);switch(A[O]){case".":if(A[O+1]==="("||A[O+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var W=t.getBrackettedSubstring(A,O,5);if(W[1].length>1&&(W[1][0]==="^"||W[1][0]==="_")&&(W[1]=W[1].substring(1)),d.includes(W[1]))return W;if(y.includes(W[1]))return o.volumePosition==="hidden"&&(W[1]=""),W;if(w.includes(W[1]))return o.dynamicPosition==="hidden"&&(W[1]=""),W;var X=_.findIndex(function(K){return W[1]===K[0]});return X>=0?(W[1]=_[X][1],W):(X=m.findIndex(function(K){return W[1]===K[0]}),X>=0?(W[1]=m[X][1],o.dynamicPosition==="hidden"&&(W[1]=""),W):A[O]==="!"&&(W[0]===1||A[O+W[0]-1]!=="!")?[1,null]:(n("Unknown decoration: "+W[1],A,O),W[1]="",W));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},V=function(A,O){for(var E=O;t.isWhiteSpace(A[O]);)O++;return[O-E]},H=function(A,O){var E=t.getBarLine(A,O);if(E.len===0)return[0,""];if(E.warn)return n(E.warn,A,O),[E.len,""];for(var W=0;W<A.length&&A[O+E.len+W]===" ";W++);var X=E.len;if(A[O+E.len+W]==="["&&(E.len+=W+1),A[O+E.len]==='"'&&A[O+E.len-1]==="["){var K=t.getBrackettedSubstring(A,O+E.len,5);return[E.len+K[0],E.token,K[1]]}var Q=t.getTokenOf(A.substring(O+E.len),"1234567890-,");return Q.len===0||Q.token[0]==="-"?[X,E.token]:[E.len+Q.len,E.token,Q.token]},D=function(A,O){var E={},W=O;for(A[O]==="."&&A[O+1]==="("&&(E.dottedSlur=!0,O++);A[O]==="("||t.isWhiteSpace(A[O]);)A[O]==="("&&(O+1<A.length&&A[O+1]>="2"&&A[O+1]<="9"?(E.triplet!==void 0?n("Can't nest triplets",A,O):(E.triplet=A[O+1]-"0",E.tripletQ=k[E.triplet],E.num_notes=E.triplet,O+2<A.length&&A[O+2]===":"&&(O+3<A.length&&A[O+3]===":"?O+4<A.length&&A[O+4]>="1"&&A[O+4]<="9"?(E.num_notes=A[O+4]-"0",O+=3):n("expected number after the two colons after the triplet to mark the duration",A,O):O+3<A.length&&A[O+3]>="1"&&A[O+3]<="9"?(E.tripletQ=A[O+3]-"0",O+4<A.length&&A[O+4]===":"?O+5<A.length&&A[O+5]>="1"&&A[O+5]<="9"&&(E.num_notes=A[O+5]-"0",O+=4):O+=2):n("expected number after the triplet to mark the duration",A,O))),O++):E.startSlur===void 0?E.startSlur=1:E.startSlur++),O++;return E.consumed=O-W,E};M.prototype.startNewLine=function(){var A={startChar:-1,endChar:-1};o.partForNextLine.title&&(A.part=o.partForNextLine),A.clef=o.currentVoice&&o.staves[o.currentVoice.staffNum].clef!==void 0?Object.assign({},o.staves[o.currentVoice.staffNum].clef):Object.assign({},o.clef);var O=o.currentVoice?o.currentVoice.scoreTranspose:0;if(A.key=a.standardKey(o.key.root+o.key.acc+o.key.mode,o.key.root,o.key.acc,O),A.key.mode=o.key.mode,o.key.impliedNaturals&&(A.key.impliedNaturals=o.key.impliedNaturals),o.key.explicitAccidentals)for(var E=0;E<o.key.explicitAccidentals.length;E++){for(var W=!1,X=0;X<A.key.accidentals.length;X++)A.key.accidentals[X].note===o.key.explicitAccidentals[E].note&&(A.key.accidentals[X].acc=o.key.explicitAccidentals[E].acc,W=!0);W||A.key.accidentals.push(o.key.explicitAccidentals[E])}if(o.targetKey=A.key,A.key.explicitAccidentals&&delete A.key.explicitAccidentals,a.addPosToKey(A.clef,A.key),o.meter!==null?(o.currentVoice?(o.staves.forEach(function(he){he.meter=o.meter}),A.meter=o.staves[o.currentVoice.staffNum].meter,o.staves[o.currentVoice.staffNum].meter=null):A.meter=o.meter,o.meter=null):o.currentVoice&&o.staves[o.currentVoice.staffNum].meter&&(A.meter=o.staves[o.currentVoice.staffNum].meter,o.staves[o.currentVoice.staffNum].meter=null),o.currentVoice&&o.currentVoice.name&&(A.name=o.currentVoice.name),o.vocalfont&&(A.vocalfont=o.vocalfont),o.tripletfont&&(A.tripletfont=o.tripletfont),o.gchordfont&&(A.gchordfont=o.gchordfont),o.style&&(A.style=o.style),o.currentVoice){var K=o.staves[o.currentVoice.staffNum];K.brace&&(A.brace=K.brace),K.bracket&&(A.bracket=K.bracket),K.connectBarLines&&(A.connectBarLines=K.connectBarLines),K.name&&(A.name=K.name[o.currentVoice.index]),K.subname&&(A.subname=K.subname[o.currentVoice.index]),o.currentVoice.stem&&(A.stem=o.currentVoice.stem),o.currentVoice.stafflines&&(A.stafflines=o.currentVoice.stafflines),o.currentVoice.staffscale&&(A.staffscale=o.currentVoice.staffscale),o.currentVoice.scale&&(A.scale=o.currentVoice.scale),o.currentVoice.color&&(A.color=o.currentVoice.color),o.currentVoice.style&&(A.style=o.currentVoice.style),o.currentVoice.transpose&&(A.clef.transpose=o.currentVoice.transpose),A.currentVoice=o.currentVoice;for(var Q=Object.keys(o.voices),ie=0;ie<Q.length;ie++)A.currentVoice.staffNum===o.voices[Q[ie]].staffNum&&A.currentVoice.index===o.voices[Q[ie]].index&&(A.currentVoiceName=Q[ie])}o.barNumbers===0&&G()&&o.currBarNumber!==1&&(A.barNumber=o.currBarNumber),u.startNewLine(A),o.key.impliedNaturals&&delete o.key.impliedNaturals,o.partForNextLine={},o.tempoForNextLine.length===4&&u.appendElement(o.tempoForNextLine[0],o.tempoForNextLine[1],o.tempoForNextLine[2],o.tempoForNextLine[3]),o.tempoForNextLine=[]};var R=function(A){return A.duration!==void 0&&A.duration<.25&&(A.end_beam=!0),A},U=function(A,O,E,W){var X=function(fe){return fe==="octave"||fe==="duration"||fe==="Zduration"||fe==="broken_rhythm"||fe==="end_slur"},K;A[O]==="."&&A[O+1]==="-"&&(K=!0,O++);for(var Q="startSlur",ie=!1;;){switch(A[O]){case"(":if(Q==="startSlur")E.startSlur===void 0?E.startSlur=1:E.startSlur++;else return X(Q)?(E.endChar=O,E):null;break;case")":if(X(Q))E.endSlur===void 0?E.endSlur=1:E.endSlur++;else return null;break;case"^":if(Q==="startSlur")E.accidental="sharp",Q="sharp2";else if(Q==="sharp2")E.accidental="dblsharp",Q="pitch";else return X(Q)?(E.endChar=O,E):null;break;case"_":if(Q==="startSlur")E.accidental="flat",Q="flat2";else if(Q==="flat2")E.accidental="dblflat",Q="pitch";else return X(Q)?(E.endChar=O,E):null;break;case"=":if(Q==="startSlur")E.accidental="natural",Q="pitch";else return X(Q)?(E.endChar=O,E):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(Q==="startSlur"||Q==="sharp2"||Q==="flat2"||Q==="pitch"){if(E.pitch=h[A[O]],E.pitch+=7*(o.currentVoice&&o.currentVoice.octave!==void 0?o.currentVoice.octave:o.octave),E.name=A[O],E.accidental&&(E.name=S[E.accidental]+E.name),e.note(o,E),Q="octave",W&&o.next_note_duration!==0?(E.duration=o.default_length*o.next_note_duration,o.next_note_duration=0,ie=!0):E.duration=o.default_length,o.clef&&o.clef.type==="perc"||o.currentVoice&&o.currentVoice.clef==="perc"){var he=A[O];E.accidental&&(he=S[E.accidental]+he),l.formatting&&l.formatting.midi&&l.formatting.midi.drummap&&(E.midipitch=l.formatting.midi.drummap[he])}}else return X(Q)?(E.endChar=O,E):null;break;case",":if(Q==="octave")E.pitch-=7,E.name+=",";else return X(Q)?(E.endChar=O,E):null;break;case"'":if(Q==="octave")E.pitch+=7,E.name+="'";else return X(Q)?(E.endChar=O,E):null;break;case"x":case"X":case"y":case"z":case"Z":if(Q==="startSlur")E.rest={type:C[A[O]]},delete E.accidental,delete E.startSlur,delete E.startTie,delete E.endSlur,delete E.endTie,delete E.end_beam,delete E.grace_notes,E.rest.type.indexOf("multimeasure")>=0?(E.duration=l.getBarLength(),E.rest.text=1,Q="Zduration"):(W&&o.next_note_duration!==0?(E.duration=o.default_length*o.next_note_duration,o.next_note_duration=0,ie=!0):E.duration=o.default_length,Q="duration");else return X(Q)?(E.endChar=O,E):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(Q==="octave"||Q==="duration"){var J=t.getFraction(A,O);for(E.duration=E.duration*J.value,E.endChar=J.index;J.index<A.length&&(t.isWhiteSpace(A[J.index])||A[J.index]==="-");)A[J.index]==="-"?E.startTie={}:E=R(E),J.index++;O=J.index-1,Q="broken_rhythm"}else if(Q==="sharp2")E.accidental="quartersharp",Q="pitch";else if(Q==="flat2")E.accidental="quarterflat",Q="pitch";else if(Q==="Zduration"){var ge=t.getNumber(A,O);return E.duration=ge.num*l.getBarLength(),E.rest.text=ge.num,E.endChar=ge.index,E}else return null;break;case"-":if(Q==="startSlur")u.addTieToLastNote(K),E.endTie=!0;else if(Q==="octave"||Q==="duration"||Q==="end_slur")if(E.startTie={},!ie&&W)Q="broken_rhythm";else return t.isWhiteSpace(A[O+1])&&R(E),E.endChar=O+1,E;else return Q==="broken_rhythm"?(E.endChar=O,E):null;break;case" ":case"	":if(X(Q)){E.end_beam=!0,K=!1;do A[O]==="."&&A[O+1]==="-"&&(K=!0,O++),A[O]==="-"&&(E.startTie={},K&&(E.startTie.style="dotted")),O++;while(O<A.length&&(t.isWhiteSpace(A[O])||A[O]==="-")||A[O]==="."&&A[O+1]==="-");if(E.endChar=O,!ie&&W&&(A[O]==="<"||A[O]===">"))O--,Q="broken_rhythm";else return E}else return null;break;case">":case"<":if(X(Q))if(W){var Ce=Y(A,O);O+=Ce[0]-1,o.next_note_duration=Ce[2],E.duration=Ce[1]*E.duration,Q="end_slur"}else return E.endChar=O,E;else return null;break;default:return X(Q)?(E.endChar=O,E):null}if(O++,O===A.length)return X(Q)?(E.endChar=O,E):null}return null},Y=function(A,O){switch(A[O]){case">":return O<A.length-2&&A[O+1]===">"&&A[O+2]===">"?[3,1.875,.125]:O<A.length-1&&A[O+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return O<A.length-2&&A[O+1]==="<"&&A[O+2]==="<"?[3,.125,1.875]:O<A.length-1&&A[O+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function G(){return o.currentVoice===void 0||o.currentVoice.staffNum===0&&o.currentVoice.index===0}return Pu=M,Pu}var Nu,Ev;function $S(){if(Ev)return Nu;Ev=1;var a=Pr(),e=function(t,n){this.lineIndex=0,this.lines=t,this.multilineVars=n,this.skipWhiteSpace=function(p){for(var g=0;g<p.length;g++)if(!this.isWhiteSpace(p[g]))return g;return p.length};var o=function(p,g){return g>=p.length};this.eatWhiteSpace=function(p,g){for(var h=g;h<p.length;h++)if(!this.isWhiteSpace(p[h]))return h-g;return h-g},this.getKeyPitch=function(p){var g=this.skipWhiteSpace(p);if(o(p,g))return{len:0};switch(p[g]){case"A":return{len:g+1,token:"A"};case"B":return{len:g+1,token:"B"};case"C":return{len:g+1,token:"C"};case"D":return{len:g+1,token:"D"};case"E":return{len:g+1,token:"E"};case"F":return{len:g+1,token:"F"};case"G":return{len:g+1,token:"G"}}return{len:0}},this.getSharpFlat=function(p){if(p==="bass")return{len:0};switch(p[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(p){var g=function(S,k){for(;k<S.length&&(S[k]>="a"&&S[k]<="z"||S[k]>="A"&&S[k]<="Z");)k++;return k},h=this.skipWhiteSpace(p);if(o(p,h))return{len:0};var C=p.substring(h,h+3).toLowerCase();switch((C.length>1&&C[1]===" "||C[1]==="^"||C[1]==="_"||C[1]==="=")&&(C=C[0]),C){case"mix":return{len:g(p,h),token:"Mix"};case"dor":return{len:g(p,h),token:"Dor"};case"phr":return{len:g(p,h),token:"Phr"};case"lyd":return{len:g(p,h),token:"Lyd"};case"loc":return{len:g(p,h),token:"Loc"};case"aeo":return{len:g(p,h),token:"m"};case"maj":return{len:g(p,h),token:""};case"ion":return{len:g(p,h),token:""};case"min":return{len:g(p,h),token:"m"};case"m":return{len:g(p,h),token:"m"}}return{len:0}},this.getClef=function(p,g){var h=p,C=this.skipWhiteSpace(p);if(o(p,C))return{len:0};var S=!1,k=p.substring(C);if(a.startsWith(k,"clef=")&&(S=!0,k=k.substring(5),C+=5),k.length===0&&S)return{len:C+5,warn:"No clef specified: "+h};var M=this.skipWhiteSpace(k);if(o(k,M))return{len:0};M>0&&(C+=M,k=k.substring(M));var I=null;if(a.startsWith(k,"treble"))I="treble";else if(a.startsWith(k,"bass3"))I="bass3";else if(a.startsWith(k,"bass"))I="bass";else if(a.startsWith(k,"tenor"))I="tenor";else if(a.startsWith(k,"alto2"))I="alto2";else if(a.startsWith(k,"alto1"))I="alto1";else if(a.startsWith(k,"alto"))I="alto";else if(!g&&S&&a.startsWith(k,"none"))I="none";else if(a.startsWith(k,"perc"))I="perc";else if(!g&&S&&a.startsWith(k,"C"))I="tenor";else if(!g&&S&&a.startsWith(k,"F"))I="bass";else if(!g&&S&&a.startsWith(k,"G"))I="treble";else return{len:C+5,warn:"Unknown clef specified: "+h};return k=k.substring(I.length),M=this.isMatch(k,"+8"),M>0?I+="+8":(M=this.isMatch(k,"-8"),M>0&&(I+="-8")),{len:C+I.length,token:I,explicit:S}},this.getBarLine=function(p,g){switch(p[g]){case"]":switch(++g,p[g]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++g,p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++g,p[g]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++g,p[g]){case"]":switch(++g,p[g]){case"|":return++g,p[g]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++g,p[g]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++g,p[g]==="|")switch(++g,p[g]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++g,p[g]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++g,p[g]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var h=0;p[g+h]===":";)h++;return{len:1+h,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(p,g){for(var h=0;h<p.length;h++)if(g.indexOf(p[h])<0)return{len:h,token:p.substring(0,h)};return{len:h,token:p}},this.getToken=function(p,g,h){for(var C=g;C<h&&!this.isWhiteSpace(p[C]);)C++;return p.substring(g,C)},this.isMatch=function(p,g){var h=this.skipWhiteSpace(p);return o(p,h)?0:a.startsWith(p.substring(h),g)?h+g.length:0},this.getPitchFromTokens=function(p){var g={},h={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(g.position=h[p[0].token],g.position===void 0)return{warn:"Pitch expected. Found: "+p[0].token};for(p.shift();p.length;)switch(p[0].token){case",":g.position-=7,p.shift();break;case"'":g.position+=7,p.shift();break;default:return g}return g},this.getKeyAccidentals2=function(p){for(var g;p.length>0;){var h;if(p[0].token==="^"){if(h="sharp",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+h};switch(p[0].token){case"^":h="dblsharp",p.shift();break;case"/":h="quartersharp",p.shift();break}}else if(p[0].token==="=")h="natural",p.shift();else if(p[0].token==="_"){if(h="flat",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+h};switch(p[0].token){case"_":h="dblflat",p.shift();break;case"/":h="quarterflat",p.shift();break}}else return{accs:g};if(p.length===0)return{accs:g,warn:"Expected note name after "+h};switch(p[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":g===void 0&&(g=[]),g.push({acc:h,note:p[0].token[0]}),p[0].token.length===1?p.shift():p[0].token=p[0].token.substring(1);break;default:return{accs:g,warn:"Expected note name after "+h+" Found: "+p[0].token}}}return{accs:g}},this.getKeyAccidental=function(p){var g={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},h=this.skipWhiteSpace(p);if(o(p,h))return{len:0};var C=null;switch(p[h]){case"^":case"_":case"=":C=p[h];break;default:return{len:0}}if(h++,o(p,h))return{len:1,warn:"Expected note name after accidental"};switch(p[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:g[C],note:p[h]}};case"^":case"_":case"/":if(C+=p[h],h++,o(p,h))return{len:2,warn:"Expected note name after accidental"};switch(p[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:g[C],note:p[h]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(p){return p===" "||p==="	"||p===""},this.getMeat=function(p,g,h){var C=p.indexOf("%",g);for(C>=0&&C<h&&(h=C);g<h&&(p[g]===" "||p[g]==="	"||p[g]==="");)g++;for(;g<h&&(p[h-1]===" "||p[h-1]==="	"||p[h-1]==="");)h--;return{start:g,end:h}};var l=function(p){return p>="A"&&p<="Z"||p>="a"&&p<="z"},u=function(p){return p>="0"&&p<="9"};this.tokenize=function(p,g,h,C){var S=this.getMeat(p,g,h);g=S.start,h=S.end;for(var k=[],M;g<h;){if(p[g]==='"'){for(M=g+1;M<h&&p[M]!=='"';)M++;k.push({type:"quote",token:p.substring(g+1,M),start:g+1,end:M}),M++}else if(l(p[g])){if(M=g+1,C)for(;M<h&&!this.isWhiteSpace(p[M]);)M++;else for(;M<h&&l(p[M]);)M++;k.push({type:"alpha",token:p.substring(g,M),continueId:u(p[M]),start:g,end:M}),g=M+1}else if(p[g]==="."&&u(p[M+1])){M=g+1;for(var I=null,N=null;M<h&&u(p[M]);)M++;N=parseFloat(p.substring(g,M)),k.push({type:"number",token:p.substring(g,M),intt:I,floatt:N,continueId:l(p[M]),start:g,end:M}),g=M+1}else if(u(p[g])||p[g]==="-"&&u(p[M+1])){M=g+1;for(var z=null,j=null;M<h&&u(p[M]);)M++;if(p[M]==="."&&u(p[M+1]))for(M++;M<h&&u(p[M]);)M++;else z=parseInt(p.substring(g,M));j=parseFloat(p.substring(g,M)),k.push({type:"number",token:p.substring(g,M),intt:z,floatt:j,continueId:l(p[M]),start:g,end:M}),g=M+1}else p[g]===" "||p[g]==="	"||k.push({type:"punct",token:p[g],start:g,end:g+1}),M=g+1;g=M}return k},this.getVoiceToken=function(p,g,h){for(var C=g;C<h&&this.isWhiteSpace(p[C])||p[C]==="=";)C++;if(p[C]==='"'){var S=p.indexOf('"',C+1);return S===-1||S>=h?{len:1,err:"Missing close quote"}:{len:S-g+1,token:this.translateString(p.substring(C+1,S))}}else{for(var k=C;k<h&&!this.isWhiteSpace(p[k])&&p[k]!=="=";)k++;return{len:k-g+1,token:p.substring(C,k)}}};var f={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},d={"#":"",b:"","=":""},y={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(p){var g=p.split("\\");if(g.length===1)return p;var h=null;return g.forEach(function(C){if(h===null)h=C;else{var S=f[C.substring(0,2)];S!==void 0?h+=S+C.substring(2):(S=y[C.substring(0,3)],S!==void 0?h+=S+C.substring(3):(S=d[C.substring(0,1)],S!==void 0?h+=S+C.substring(1):h+="\\"+C))}}),h},this.getNumber=function(p,g){for(var h=0;g<p.length;)switch(p[g]){case"0":h=h*10,g++;break;case"1":h=h*10+1,g++;break;case"2":h=h*10+2,g++;break;case"3":h=h*10+3,g++;break;case"4":h=h*10+4,g++;break;case"5":h=h*10+5,g++;break;case"6":h=h*10+6,g++;break;case"7":h=h*10+7,g++;break;case"8":h=h*10+8,g++;break;case"9":h=h*10+9,g++;break;default:return{num:h,index:g}}return{num:h,index:g}},this.getFraction=function(p,g){var h=1,C=1;if(p[g]!=="/"){var S=this.getNumber(p,g);h=S.num,g=S.index}if(p[g]==="/")if(g++,p[g]==="/"){for(var k=.5;p[g++]==="/";)k=k/2;return{value:h*k,index:g-1}}else{var M=g,I=this.getNumber(p,g);I.num===0&&M===g&&(I.num=2),I.num!==0&&(C=I.num),g=I.index}return{value:h/C,index:g}};function w(p){const h=/^(\d+)\./.exec(p);return h?h[1]:null}var _=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(p){for(var g=0;g<_.length;g++){var h=_[g],C=p.match(h.match);if(C){var S=w(p);S&&(p=p.replace(S+".",""),p=p.trim());var k=C[0].length,M=h.replace+p.substring(0,p.length-k);return S&&(M=S+". "+M),M}}return p},this.stripComment=function(p){var g=p.indexOf("%");return g>=0?a.strip(p.substring(0,g)):a.strip(p)},this.getInt=function(p){var g=parseInt(p);if(isNaN(g))return{digits:0};var h=""+g,C=p.indexOf(h);return{value:g,digits:C+h.length}},this.getFloat=function(p){var g=parseFloat(p);if(isNaN(g))return{digits:0};var h=""+g,C=p.indexOf(h);return{value:g,digits:C+h.length}},this.getMeasurement=function(p){if(p.length===0)return{used:0};var g=1,h="";if(p[0].token==="-")p.shift(),h="-",g++;else if(p[0].type!=="number")return{used:0};if(h+=p.shift().token,p.length===0)return{used:1,value:parseInt(h)};var C=p.shift();if(C.token==="."){if(g++,p.length===0)return{used:g,value:parseInt(h)};if(p[0].type==="number"&&(C=p.shift(),h=h+"."+C.token,g++,p.length===0))return{used:g,value:parseFloat(h)};C=p.shift()}switch(C.token){case"pt":return{used:g+1,value:parseFloat(h)};case"px":return{used:g+1,value:parseFloat(h)};case"cm":return{used:g+1,value:parseFloat(h)/2.54*72};case"in":return{used:g+1,value:parseFloat(h)*72};default:return p.unshift(C),{used:g,value:parseFloat(h)}}};var m=function(p){return p=p.replace(/\\n/g,`
`),p=p.replace(/\\"/g,'"'),p};this.getBrackettedSubstring=function(p,g,h,C){for(var S=C||p[g],k=g+1,M=!1;k<p.length&&(M||p[k]!==S);)M=p[k]==="\\",++k;return p[k]===S?[k-g+1,m(p.substring(g+1,k)),!0]:(k=g+h,k>p.length-1&&(k=p.length-1),[k-g+1,m(p.substring(g+1,k)),!1])}};return e.prototype.peekLine=function(){return this.lines[this.lineIndex]},e.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var t=this.lines[this.lineIndex];return this.lineIndex++,t}return null},Nu=e,Nu}var Ou,Mv;function c5(){if(Mv)return Ou;Mv=1;function a(w,_,m){if(!(!_||w.lines.length===0)){var p=w.deline({lineBreaks:!1}),g=t(p,_);w.lines=e(p,g,m),w.lineBreaks=g}}function e(w,_,m){for(var p=[],g=[],h=[],C=1,S=0;S<_.length;S++){var k=_[S];if(w[k.ogLine].staff){var M=w[k.ogLine].staff[k.staff];if(p[k.line]||(p[k.line]={staff:[]}),!p[k.line].staff[k.staff]){p[k.line].staff[k.staff]={voices:[]},m!==void 0&&k.staff===0&&k.line>0&&(p[k.line].staff[k.staff].barNumber=C);for(var I=Object.keys(M),N=0;N<I.length;N++){var z=I[N]==="voices";I[N]==="meter"&&k.line!==0&&(z=!0),z||(p[k.line].staff[k.staff][I[N]]=M[I[N]])}g[k.staff]&&(p[k.line].staff[k.staff].key=g[k.staff])}p[k.line].staff[k.staff].voices[k.voice]||(p[k.line].staff[k.staff].voices[k.voice]=[]),p[k.line].staff[k.staff].voices[k.voice]=w[k.ogLine].staff[k.staff].voices[k.voice].slice(k.start,k.end+1),h[k.staff*10+k.voice]&&p[k.line].staff[k.staff].voices[k.voice].unshift({el_type:"stem",direction:h[k.staff*10+k.voice].direction});for(var j=p[k.line].staff[k.staff].voices[k.voice],T=j.length-1;T>=0;T--)if(j[T].el_type==="key"){g[k.staff]={root:j[T].root,acc:j[T].acc,mode:j[T].mode,accidentals:j[T].accidentals.filter(function(q){return q.acc!=="natural"})};break}for(T=j.length-1;T>=0;T--)if(j[T].el_type==="stem"){h[k.staff*10+k.voice]={direction:j[T].direction};break}if(m!==void 0&&k.staff===0&&k.voice===0)for(T=0;T<j.length;T++)j[T].el_type==="bar"&&(C++,T===j.length-1?delete j[T].barNumber:j[T].barNumber=C)}else p[k.line]=w[k.ogLine]}for(var F=0;F<p.length;F++)p[F].staff&&(p[F].staff=p[F].staff.filter(function(q){return q!=null}));return p}function t(w,_){for(var m=[],p=0,g=0,h=0,C=0;C<w.length;C++){var S=w[C];if(S.staff){var k=g,M=_[p];p++;for(var I=0;I<S.staff.length;I++)for(var N=S.staff[I],z=0;z<N.voices.length;z++){h=k;for(var j=0,T=0,F=N.voices[z],q=0,B=0;B<F.length;B++){var V=F[B];V.el_type==="bar"&&(M[T]===j&&(m.push({ogLine:C,line:h,staff:I,voice:z,start:q,end:B}),q=B+1,h++,g=Math.max(g,h),T++),j++)}m.push({ogLine:C,line:h,staff:I,voice:z,start:q,end:F.length}),h++,g=Math.max(g,h)}}else m.push({ogLine:C,line:h}),h++,g=Math.max(g,h)}return m}function n(w,_){for(var m=[],p=[],g=0,h=0;h<w.length;h++){var C=w[h],S=g+C;if(S<_)g=S;else{var k=_-g,M=S-_;k<M&&g>0?(m.push(h-1),p.push(Math.round(g-C)),g=C):h<w.length-1&&(m.push(h),p.push(Math.round(g)),g=0)}}return p.push(Math.round(g)),{lineBreaks:m,totals:p}}function o(w){for(var _=[],m=0;m<w.length;m++)_.push(w[m]);return _}function l(w,_,m,p,g,h,C,S,k,M,I){for(var N=M;N<w.length;N++){var z=w[N];m+=z,p+=z;var j=Math.abs(m-_[S]),T=Math.abs(j-h)<_[0]/10;if(T)if(j<h){var F=o(g),q=o(k);q.push(N-1),F.push(p-z),I.push({accumulator:m,lineAccumulator:z,lineWidths:F,lastVariance:Math.abs(m-_[S+1]),highestVariance:Math.max(C,h),currLine:S+1,lineBreaks:q,startIndex:N+1})}else j>h&&N<w.length-1&&(F=o(g),q=o(k),I.push({accumulator:m,lineAccumulator:p,lineWidths:F,lastVariance:j,highestVariance:Math.max(C,j),currLine:S,lineBreaks:q,startIndex:N+1}));j>h?(k.push(N-1),S++,C=Math.max(C,h),h=Math.abs(m-_[S]),g.push(p-z),p=z):h=j}g.push(p)}function u(w,_,m,p){for(var g=Math.ceil(w.total/_),h=Math.floor(w.total/g),C=[],S=0;S<g;S++)C.push(h*(S+1));var k=[];k.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var M=0;M<k.length;)l(w.measureWidths,C,k[M].accumulator,k[M].lineAccumulator,k[M].lineWidths,k[M].lastVariance,k[M].highestVariance,k[M].currLine,k[M].lineBreaks,k[M].startIndex,k),M++;for(S=0;S<k.length;S++){var I=k[S];I.variances=[],I.aveVariance=0;for(var N=0;N<I.lineWidths.length;N++){var z=I.lineWidths[N];I.variances.push(z-C[0]),I.aveVariance+=Math.abs(z-C[0])}I.aveVariance=I.aveVariance/I.lineWidths.length,p.attempts.push({type:"optimizeLineWidths",lineBreaks:I.lineBreaks,variances:I.variances,aveVariance:I.aveVariance,widths:w.measureWidths})}var j=9999999,T=-1;for(S=0;S<k.length;S++)I=k[S],I.aveVariance<j&&(j=I.aveVariance,T=S);return{failed:!1,lineBreaks:k[T].lineBreaks,variance:k[T].highestVariance}}function f(w,_,m){for(var p=[],g=[],h=0,C=!1,S=0;S<w.length;S++)h+=w[S],h>_&&(C=!0),S%m===m-1&&(S!==w.length-1&&p.push(S),g.push(Math.round(h)),h=0);return{failed:C,totals:g,lineBreaks:p}}function d(w,_,m){var p={lineBreaks:w,staffwidth:_};for(var g in m)m.hasOwnProperty(g)&&g!=="wrap"&&g!=="staffwidth"&&(p[g]=m[g]);return{revisedParams:p}}function y(w,_,m){if(_.length===0||m.staffwidth<_[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:m};var p=m.scale?Math.max(m.scale,.1):1,g=m.wrap.minSpacing?Math.max(parseFloat(m.wrap.minSpacing),1):1,h=m.wrap.minSpacingLimit?Math.max(parseFloat(m.wrap.minSpacingLimit),1):g-.1,C=m.wrap.maxSpacing?Math.max(parseFloat(m.wrap.maxSpacing),1):void 0;m.wrap.lastLineLimit&&!C&&(C=Math.max(parseFloat(m.wrap.lastLineLimit),1));for(var S=m.wrap.preferredMeasuresPerLine?Math.max(parseInt(m.wrap.preferredMeasuresPerLine,10),0):void 0,k=[],M=[],I=0;I<_.length;I++){var N=_[I],z=m.staffwidth-N.left,j=z/g/p,T=z/C/p,F=z/h/p,q={widths:N,lineBreakPoint:j,minLineSize:T,attempts:[],staffWidth:m.staffwidth,minWidth:Math.round(F)},B=null;if(S){var V=f(N.measureWidths,j,S);q.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:S,lineBreaks:V.lineBreaks,failed:V.failed,totals:V.totals}),V.failed||(B=V.lineBreaks)}if(!B){var H=n(N.measureWidths,j);q.attempts.push({type:"Free Form",lineBreaks:H.lineBreaks,totals:H.totals}),B=H.lineBreaks,B.length>0&&N.measureWidths.length<25&&(H=u(N,j,B,q),q.attempts.push({type:"Optimize",failed:H.failed,reason:H.reason,lineBreaks:H.lineBreaks,totals:H.totals}),H.failed||(B=H.lineBreaks))}k.push(B),M.push(q)}var D=m.staffwidth,R=d(k,D,m);return R.explanation=M,R.reParse=!0,R}return Ou={wrapLines:a,calcLineWraps:y},Ou}var Iu,Av;function vn(){if(Av)return Iu;Av=1;var a={};return a.FONTEM=360,a.FONTSIZE=30,a.STEP=a.FONTSIZE*93/720,a.SPACE=10,a.TOPNOTE=15,a.STAVEHEIGHT=100,a.INDENT=50,Iu=a,Iu}var Ru,Pv;function l5(){if(Pv)return Ru;Pv=1;var a,e=Pr();return function(){var t=1,n=128;a=function(h,C){C=C||{};var S,k=C.program||0,M=C.midiTranspose||0;h.visualTranspose&&(M-=h.visualTranspose);var I=C.channel||0,N=!1,z=C.drum||"",j=C.drumBars||1,T=C.drumIntro||0,F=z!=="",q=!!C.drumOff,B=[],V=50;k=parseInt(k,10),M=parseInt(M,10),I=parseInt(I,10),I===10&&(k=n),z=z.split(" "),j=parseInt(j,10),T=parseInt(T,10);var H=h.formatting.bagpipes;H&&(k=71);var D=[];if(h.formatting.midi){var R=h.formatting.midi;R.program&&R.program.length>0&&(k=R.program[0],R.program.length>1&&(k=R.program[1],I=R.program[0]),N=!0),R.transpose&&(M=R.transpose[0]),R.channel&&(I=R.channel[0],N=!0),R.drum&&(z=R.drum),R.drumbars&&(j=R.drumbars[0]),R.drumon&&(F=!0),I===10&&(k=n),R.beat&&D.push({el_type:"beat",beats:R.beat}),R.nobeataccents&&D.push({el_type:"beataccents",value:!1})}C.qpm?S=parseInt(C.qpm,10):h.metaText.tempo?S=y(h.metaText.tempo,h.getBeatLength()):C.defaultQpm?S=C.defaultQpm:S=180;var U=[];H&&U.push({el_type:"bagpipes"}),U.push({el_type:"instrument",program:k}),I&&U.push({el_type:"channel",channel:I}),M&&U.push({el_type:"transpose",transpose:M}),U.push({el_type:"tempo",qpm:S});for(var Y=0;Y<D.length;Y++)U.push(D[Y]);var G=[],A=[],O=[],E=[0],W={};W[0]={el_type:"tempo",qpm:S,timing:0};for(var X,K=[],Q=[],ie=!1,he=h.lines,J=0;J<he.length;J++){var ge=he[J];if(ge.staff){let En=function(lt){var Ht={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},ut;if(lt.decoration)if(lt.decoration.indexOf("pppp")>=0?ut="pppp":lt.decoration.indexOf("ppp")>=0?ut="ppp":lt.decoration.indexOf("pp")>=0?ut="pp":lt.decoration.indexOf("p")>=0?ut="p":lt.decoration.indexOf("mp")>=0?ut="mp":lt.decoration.indexOf("mf")>=0?ut="mf":lt.decoration.indexOf("f")>=0?ut="f":lt.decoration.indexOf("ff")>=0?ut="ff":lt.decoration.indexOf("fff")>=0?ut="fff":lt.decoration.indexOf("ffff")>=0&&(ut="ffff"),ut&&(X=Ht[ut].slice(0),G[fe].push({el_type:"beat",beats:X.slice(0)}),A[de]=!1,O[de]=!1),lt.decoration.indexOf("crescendo(")>=0){var Or=o(ve,le,"crescendo)"),Ir=Math.min(127,X[0]+V),Rr=l(ve,le+Or+1,Object.keys(Ht));Rr&&(Ir=Ht[Rr][0]),Or>0?A[de]=Math.floor((Ir-X[0])/Or):A[de]=!1,O[de]=!1}else if(lt.decoration.indexOf("crescendo)")>=0)A[de]=!1;else if(lt.decoration.indexOf("diminuendo(")>=0){var Dr=o(ve,le,"diminuendo)"),on=Math.max(15,X[0]-V),Vi=l(ve,le+Dr+1,Object.keys(Ht));Vi&&(on=Ht[Vi][0]),A[de]=!1,Dr>0?O[de]=Math.floor((on-X[0])/Dr):O[de]=!1}else lt.decoration.indexOf("diminuendo)")>=0&&(O[de]=!1)};for(var jt=En,Ce=ge.staff,fe=0,Se=0;Se<Ce.length;Se++){var xe=Ce[Se];if(!(xe.clef&&xe.clef.type==="TAB"))for(var de=0;de<xe.voices.length;de++){var ve=xe.voices[de];if(!G[fe]){G[fe]=[].concat(JSON.parse(JSON.stringify(U)));var _e=d(ge.staff,fe);_e&&G[fe].unshift({el_type:"name",trackName:_e})}if(M&&xe.clef.type==="perc"&&G[fe].push({el_type:"transpose",transpose:0}),xe.clef&&xe.clef.type==="perc"&&!N)for(var De=0;De<G[fe].length;De++)G[fe][De].el_type==="instrument"&&(G[fe][De].program=n);else xe.key&&m(G[fe],xe.key);xe.meter&&p(G[fe],xe.meter),!ie&&F&&(G[fe].push({el_type:"drum",params:{pattern:z,bars:j,on:F,intro:T}}),ie=!0),xe.clef&&xe.clef.type!=="perc"&&xe.clef.transpose&&(xe.clef.el_type="clef",G[fe].push({el_type:"transpose",transpose:xe.clef.transpose})),xe.clef&&xe.clef.type&&(xe.clef.type.indexOf("-8")>=0?G[fe].push({el_type:"transpose",transpose:-12}):xe.clef.type.indexOf("+8")>=0&&G[fe].push({el_type:"transpose",transpose:12})),h.formatting.midi&&h.formatting.midi.drumoff&&(G[fe].push({el_type:"bar"}),G[fe].push({el_type:"drum",params:{pattern:"",on:!1}}));var Ie=0,Re=0,Fe=0,ne=0;X=[105,95,85,1];for(var le=0;le<ve.length;le++){var se=ve[le];switch(se.el_type){case"note":if(A[de]&&(X[0]+=A[de],X[1]+=A[de],X[2]+=A[de],G[fe].push({el_type:"beat",beats:X.slice(0)})),O[de]&&(X[0]+=O[de],X[1]+=O[de],X[2]+=O[de],G[fe].push({el_type:"beat",beats:X.slice(0)})),En(se),!se.rest||se.rest.type!=="spacer"){var re={elem:se,el_type:"note",timing:E[fe]};if(se.style?re.style=se.style:B[fe]&&(re.style=B[fe]),re.duration=se.duration===0?.25:se.duration,se.startTriplet){if(Re=se.tripletMultiplier,Fe=se.startTriplet*Re*se.duration,se.startTriplet!==se.tripletR&&le+se.tripletR<=ve.length){for(var pe=0,Ee=le;Ee<le+se.tripletR;Ee++)pe+=ve[Ee].duration;Fe=Re*pe}re.duration=re.duration*Re,re.duration=Math.round(re.duration*1e6)/1e6,ne=re.duration}else Re&&(se.endTriplet?(Re=0,re.duration=Math.round((Fe-ne)*1e6)/1e6):(re.duration=re.duration*Re,re.duration=Math.round(re.duration*1e6)/1e6,ne+=re.duration));se.rest&&(re.rest=se.rest),se.decoration&&(re.decoration=se.decoration.slice(0)),se.pitches&&(re.pitches=e.cloneArray(se.pitches)),se.gracenotes&&(re.gracenotes=e.cloneArray(se.gracenotes)),se.chord&&(re.chord=e.cloneArray(se.chord)),G[fe].push(re),se.style==="rhythm"&&f(G),Ie++,E[fe]+=re.duration}break;case"key":case"keySignature":m(G[fe],se);break;case"meter":p(G[fe],se);break;case"clef":se.transpose&&G[fe].push({el_type:"transpose",transpose:se.transpose}),se.type&&(se.type.indexOf("-8")>=0?G[fe].push({el_type:"transpose",transpose:-12}):se.type.indexOf("+8")>=0&&G[fe].push({el_type:"transpose",transpose:12}));break;case"tempo":S=y(se,h.getBeatLength()),G[fe].push({el_type:"tempo",qpm:S,timing:E[fe]}),W[""+E[fe]]={el_type:"tempo",qpm:S,timing:E[fe]};break;case"bar":Ie>0&&G[fe].push({el_type:"bar"}),En(se),Ie=0;var ze=se.type==="bar_right_repeat"||se.type==="bar_dbl_repeat",He=se.startEnding==="1",Me=se.type==="bar_left_repeat"||se.type==="bar_dbl_repeat"||se.type==="bar_right_repeat";if(ze){var Le=K[fe];Le||(Le=0);var it=Q[fe];it||(it=G[fe].length);for(var ct=Le;ct<it;ct++){var Ve=Object.assign({},G[fe][ct]);Ve.pitches&&(Ve.pitches=e.cloneArray(Ve.pitches)),G[fe].push(Ve)}Q[fe]=void 0,K[fe]=void 0}He&&(Q[fe]=G[fe].length),Me&&(K[fe]=G[fe].length);break;case"style":B[fe]=se.head;break;case"timeSignature":G[fe].push(w(se));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var st=!1;switch(se.cmd){case"drumon":F=!0,st=!0;break;case"drumoff":F=!1,st=!0;break;case"drum":z=se.params,st=!0;break;case"drumbars":j=se.params[0],st=!0;break;case"drummap":break;case"channel":se.params[0]===10&&G[fe].push({el_type:"instrument",program:n});break;case"program":g(G[fe],{el_type:"instrument",program:se.params[0]}),N=!0;break;case"transpose":G[fe].push({el_type:"transpose",transpose:se.params[0]});break;case"gchordoff":G[fe].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":G[fe].push({el_type:"gchordOn",tacet:!1});break;case"beat":G[fe].push({el_type:"beat",beats:se.params});break;case"nobeataccents":G[fe].push({el_type:"beataccents",value:!1});break;case"beataccents":G[fe].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":G[fe].push({el_type:se.cmd,volume:se.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":G[fe].push({el_type:se.cmd,param:se.params[0]});break;case"bassprog":case"chordprog":G[fe].push({el_type:se.cmd,value:se.params[0],octaveShift:se.params[1]});break;case"gchordbars":G[fe].push({el_type:se.cmd,param:se.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",se.cmd,se)}st&&(G[0].push({el_type:"drum",params:{pattern:z,bars:j,intro:T,on:F}}),ie=!0);break;default:console.log("MIDI: element type "+se.el_type+" not handled.")}}fe++,E[fe]||(E[fe]=0)}}}}if(u(G,W),T)for(var en=h.getPickupLength(),Qe=0;Qe<G.length;Qe++){for(var tt=0;G[Qe][tt].el_type!=="note"&&G[Qe].length>tt;)tt++;if(G[Qe].length>tt){for(var Ee=0;Ee<T;Ee++)en===0||Ee<T-1?(G[Qe].splice(tt,0,{el_type:"note",rest:{type:"rest"},duration:t},{el_type:"bar"}),tt+=2):G[Qe].splice(tt++,0,{el_type:"note",rest:{type:"rest"},duration:t-en});q&&(F=!1,G[Qe].splice(tt++,0,{el_type:"drum",params:{pattern:z,bars:j,intro:T,on:F}}),q=!1)}}return G.length>0&&G[0].length>0&&(G[0][0].pickupLength=h.getPickupLength()),G};function o(h,C,S){for(var k=0,M=C+1;M<h.length;M++)if(h[M].el_type==="note"&&k++,h[M].decoration&&h[M].decoration.indexOf(S)>=0)return k;return k}function l(h,C,S){for(var k=Math.min(h.length,C+3),M=C;M<k;M++)if(h[M].el_type==="note"&&h[M].decoration){for(var I=0;I<h[M].decoration.length;I++)if(S.indexOf(h[M].decoration[I])>=0)return h[M].decoration[I]}return null}function u(h,C){if(!(!C||C.length===0))for(var S=Object.keys(C),k=0;k<h.length;k++)for(var M=h[k],I=C[0]?C[0].qpm:0,N=0;N<M.length;N++){var z=M[N];z.el_type==="tempo"&&(I=z.qpm),S.indexOf(""+z.timing)>=0&&I!==C[""+z.timing].qpm&&(I=C[""+z.timing].qpm,z.el_type==="tempo"?(z.qpm=C[""+z.timing].qpm,N++):(h[k].splice(N,0,{el_type:"tempo",qpm:C[""+z.timing].qpm,timing:z.timing}),N+=2))}}function f(h){for(var C=0;C<h.length;C++)for(var S=h[C],k=S.length-1;k>=0&&S[k].el_type!=="bar";)S[k].noChordVoice=!0,k--}function d(h,C){if(!(!h||h.length<=C||!h[C].title))return h[C].title.join(" ")}function y(h,C){var S=.25;h.duration&&(S=h.duration[0]);var k=60;return h.bpm&&(k=h.bpm),S*k/C}function w(h){var C;switch(h.type){case"common_time":C={el_type:"meter",num:4,den:4};break;case"cut_time":C={el_type:"meter",num:2,den:2};break;case"specified":C={el_type:"meter",num:h.value[0].num,den:h.value[0].den};break;default:C={el_type:"meter"}}return t=C.num/C.den,C}function _(h){for(var C=[],S=0;S<h.length;S++)h[S].acc!=="natural"&&C.push(h[S]);return C}function m(h,C){var S;C.root==="HP"?S={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:S={el_type:"key",accidentals:_(C.accidentals)},g(h,S)}function p(h,C){var S=w(C);g(h,S)}function g(h,C){for(var S=h.length-1;S>=0;S--)if(h[S].el_type===C.el_type){JSON.stringify(h[S])!==JSON.stringify(C)&&h.push(C);return}h.push(C)}}(),Ru=a,Ru}var Du,Nv;function YS(){if(Nv)return Du;Nv=1;var a=function(y,w,_,m){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=y,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!w,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=m,this.tempoChangeFactor=1,this.bassInstrument=_.bassprog&&_.bassprog.length>=1?_.bassprog[0]:0,this.chordInstrument=_.chordprog&&_.chordprog.length>=1?_.chordprog[0]:0,this.bassOctaveShift=_.bassprog&&_.bassprog.length===2?_.bassprog[1]:0,this.chordOctaveShift=_.chordprog&&_.chordprog.length===2?_.chordprog[1]:0,this.boomVolume=_.bassvol&&_.bassvol.length===1?_.bassvol[0]:64,this.chickVolume=_.chordvol&&_.chordvol.length===1?_.chordvol[0]:48,_.gchord&&_.gchord.length>0?this.overridePattern=n(_.gchord[0]):this.overridePattern=void 0};a.prototype.setMeter=function(d){this.meter=d},a.prototype.setTempoChangeFactor=function(d){this.tempoChangeFactor=d},a.prototype.setLastBarTime=function(d){this.lastBarTime=d},a.prototype.setTranspose=function(d){this.transpose=d},a.prototype.setRhythmHead=function(d,y){this.hasRhythmHead=d;var w=[];if(d&&this.lastChord&&this.lastChord.chick)for(var _=0;_<this.lastChord.chick.length;_++){var m=Object.assign({},y.pitches[0]);m.actualPitch=this.lastChord.chick[_],w.push(m)}return w},a.prototype.barEnd=function(d){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,u(d.time)),this.currentChords=[]),this.chordLastBar=this.lastChord},a.prototype.gChordOn=function(d){this.chordsOff||(this.gChordTacet=d.tacet)},a.prototype.paramChange=function(d){switch(d.el_type){case"gchord":d.param&&d.param.length>0?this.overridePattern=n(d.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.bassOctaveShift=d.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.chordOctaveShift=d.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=d.param;break;case"chordvol":this.chickVolume=d.param;break;default:console.log("unhandled midi param",d)}},a.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)},a.prototype.addTrack=function(d){this.chordTrackEmpty()||d.push(this.chordTrack)},a.prototype.findChord=function(d){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!d.chord||d.chord.length===0)return null;for(var y=0;y<d.chord.length;y++){var w=d.chord[y];if(w.position==="default")return w.name;if(this.breakSynonyms.indexOf(w.name.toLowerCase())>=0)return"break"}return null},a.prototype.interpretChord=function(d){if(d.length!==0){if(d==="break")return{chick:[]};var y=d.substring(0,1);if(y==="("){if(d=d.substring(1,d.length-2),d.length===0)return;y=d.substring(0,1)}var w=this.basses[y];if(w){for(var _=this.transpose;_<-8;)_+=12;for(;_>8;)_-=12;w+=_,w<33?w+=12:w>44&&(w-=12);var m=w;w+=this.bassOctaveShift*12;var p=w-5,g;d.length===1&&(g=this.chordNotes(w,""));var h=d.substring(1),C=h.substring(0,1);C==="b"||C===""?(m--,w--,p--,h=h.substring(1)):(C==="#"||C==="")&&(m++,w++,p++,h=h.substring(1));var S=h.split("/");if(g=this.chordNotes(m,S[0]),g.length>=3){var k=g[2]-g[0];p=p+k-7}if(S.length===2){var M=this.basses[S[1].substring(0,1)];if(M){var I=S[1].substring(1),N={"#":1,"":1,b:-1,"":-1}[I]||0;w=this.basses[S[1].substring(0,1)]+N+_,w+=this.bassOctaveShift*12,p=w}}return{boom:w,boom2:p,chick:g}}}},a.prototype.chordNotes=function(d,y){var w=this.chordIntervals[y];w||(y.slice(0,2).toLowerCase()==="ma"||y[0]==="M"?w=this.chordIntervals.M:y[0]==="m"||y[0]==="-"?w=this.chordIntervals.m:w=this.chordIntervals.M),d+=12,d+=this.chordOctaveShift*12;for(var _=[],m=0;m<w.length;m++)_.push(d+w[m]);return _},a.prototype.writeNote=function(d,y,w,_,m,p){d!==void 0&&this.chordTrack.push({cmd:"note",pitch:d,volume:w,start:this.lastBarTime+_*f(y,this.tempoChangeFactor),duration:f(m,this.tempoChangeFactor),gap:0,instrument:p})},a.prototype.chordTrackEmpty=function(){for(var d=!0,y=0;y<this.chordTrack.length&&d;y++)this.chordTrack[y].cmd==="note"&&(d=!1);return d},a.prototype.resolveChords=function(d,y){if(!this.hasRhythmHead){var w=this.meter.num,_=this.meter.den,m=1/_,p=m/2,g=parseInt(w,10)/parseInt(_,10),h=g-(y-d)/this.tempoChangeFactor;Math.abs(h)<1e-5&&(h=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var C=o(this.currentChords,8*w/_),S=this.overridePattern?this.overridePattern:this.rhythmPatterns[w+"/"+_];if(h){S=[];for(var k=(y-d)/this.tempoChangeFactor*8,M=0;M<k/2;M+=2)S.push("chick"),S.push("")}if(!S){S=[];for(var M=0;M<8*w/_/2;M++)S.push("chick"),S.push("")}for(var I=!0,N=Math.min(S.length,C.length),M=0;M<N;M++){M>0&&C[M-1]&&C[M]&&C[M-1].boom!==C[M].boom&&(I=!0);var z=S[M],j=z.indexOf("boom")>=0,T=!j&&M!==0&&S[0].indexOf("boom")>=0&&(!C[M-1]||C[M-1].boom!==C[M].boom),F=e(C[M],z,I,T);j&&(I=!1);for(var q=0;q<F.length;q++)this.writeNote(F[q],.125,j||T?this.boomVolume:this.chickVolume,M,p,j||T?this.bassInstrument:this.chordInstrument),T?T=!1:j=!1}}},a.prototype.processChord=function(d){if(!this.chordTrackFinished){var y=this.findChord(d);if(y){var w=this.interpretChord(y);if(w){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=w;var _=l(this.lastBarTime,u(d.time));this.currentChords.push({chord:this.lastChord,beat:_,start:u(d.time)})}}}};function e(d,y,w,_){var m=[];if(!d)return m;y.indexOf("boom")>=0?m.push(w?d.boom:d.boom2):_&&m.push(d.boom);var p=d.chick.length;if(y.indexOf("chick")>=0)for(var g=0;g<p;g++)m.push(d.chick[g]);switch(y){case"DO":m.push(d.chick[0]);break;case"MI":m.push(d.chick[1]);break;case"SOL":m.push(t(d,2));break;case"TI":m.push(t(d,3));break;case"TOP":m.push(t(d,4));break;case"do":m.push(d.chick[0]+12);break;case"mi":m.push(d.chick[1]+12);break;case"sol":m.push(t(d,2)+12);break;case"ti":m.push(t(d,3)+12);break;case"top":m.push(t(d,4)+12);break}return m}function t(d,y){var w=Math.floor(y/d.chick.length),_=d.chick[y%d.chick.length];return _+w*12}function n(d){for(var y=[],w=0;w<d.length;w++){var _=d[w];switch(_){case"z":y.push("");break;case"2":y.push("");break;case"c":y.push("chick");break;case"b":y.push("boom&chick");break;case"f":y.push("boom");break;case"G":y.push("DO");break;case"H":y.push("MI");break;case"I":y.push("SOL");break;case"J":y.push("TI");break;case"K":y.push("TOP");break;case"g":y.push("do");break;case"h":y.push("mi");break;case"i":y.push("sol");break;case"j":y.push("ti");break;case"k":y.push("top");break}}return y}function o(d,y,w){var _=[];if(d.length===0)return _;for(var m=d[0].chord,p=1;p<d.length;p++){for(var g=d[p];_.length<g.beat;)_.push(m);m=g.chord}for(;_.length<y;)_.push(m);return _}function l(d,y){var w=y-d;return w*8}a.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"],a.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43},a.prototype.chordIntervals={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]},a.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function u(d){return d/1e6}function f(d,y){return Math.round(d*y*1e6)/1e6}return Du=a,Du}var Lu,Ov;function u5(){if(Ov)return Lu;Ov=1;var a={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function e(t){var n=(t.accidental?t.accidental[0]:"x")+t.verticalPos;return a[n]}return Lu=e,Lu}var Fu,Iv;function XS(){if(Iv)return Fu;Iv=1;var a,e=YS(),t=u5();return function(){var n,o,l,u,f,d=1,y,w,_,m,p,g,h={num:4,den:4},C=128,S,k=!0,M=105,I=95,N=85,z=.25,j,T,F=0,q,B={},V,H=0,D,R=0,U=-.001,Y=.4;a=function(ne,le,se,re){le||(le={}),re||(re={}),n=[],o=[0,0,0,0,0,0,0],u=[],f=le.qpm,d=1,y=void 0,w=void 0,_=void 0,m=void 0,p=0,D=se,h={num:4,den:4},k=!0,M=105,I=95,N=85,z=.25,j=void 0,T=void 0,F=0,q=[],B={},V=1,ne.length>0&&ne[0].length>0&&(H=ne[0][0].pickupLength),le.bassprog!==void 0&&!re.bassprog&&(re.bassprog=[le.bassprog]),le.bassvol!==void 0&&!re.bassvol&&(re.bassvol=[le.bassvol]),le.chordprog!==void 0&&!re.chordprog&&(re.chordprog=[le.chordprog]),le.chordvol!==void 0&&!re.chordvol&&(re.chordvol=[le.chordvol]),le.gchord!==void 0&&!re.gchord&&(re.gchord=[le.gchord]),g=new e(ne.length,le.chordsOff,re,h),E(ne,le);for(var pe=0;pe<ne.length;pe++){l=0,g.setTranspose(l);var Ee=ne[pe];_=[{cmd:"program",channel:pe,instrument:y}],m=void 0,S=0,g.setLastBarTime(0);var ze=!1;(le.voicesOff===!0||le.voicesOff&&le.voicesOff.length&&le.voicesOff.indexOf(pe)>=0)&&(ze=!0);for(var He=0;He<Ee.length;He++){var Me=Ee[He];switch(Me.el_type){case"name":m={cmd:"text",type:"name",text:Me.trackName};break;case"note":he(Me,ze);break;case"key":o=fe(Me);break;case"meter":h=Me,g.setMeter(h),z=W(h),Ie();break;case"tempo":f?d=Me.qpm?f/Me.qpm:1:f=Me.qpm,g.setTempoChangeFactor(d);break;case"transpose":l=Me.transpose,g.setTranspose(l);break;case"bar":g.barEnd(Me),n=[],pe===0&&Re(ne.length+1),g.setRhythmHead(!1),S=A(Me.time),g.setLastBarTime(S);break;case"bagpipes":break;case"instrument":if(y===void 0&&(y=Me.program),w=Me.program,_.length>0&&_[_.length-1].cmd==="program")_[_.length-1].instrument=Me.program;else{var Le;for(Le=_.length-1;Le>=0&&_[Le].cmd!=="program";Le--);(Le<0||_[Le].instrument!==Me.program)&&_.push({cmd:"program",channel:0,instrument:Me.program})}break;case"channel":G(Me.channel);break;case"drum":B=De(Me.params),Ie();break;case"gchordOn":g.gChordOn(Me);break;case"beat":M=Me.beats[0],I=Me.beats[1],N=Me.beats[2];break;case"vol":j=Me.volume;break;case"volinc":T=Me.volume;break;case"beataccents":k=Me.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":g.paramChange(Me);break;default:console.log("MIDI creation. Unknown el_type: "+Me.el_type+`
`);break}}_[0].instrument===void 0&&(_[0].instrument=y||0),m&&_.unshift(m),u.push(_),g.finish(),q.length>0}return le.detuneOctave&&Fe(u,parseInt(le.detuneOctave,10)),g.addTrack(u),q.length>0&&u.push(q),{tempo:f,instrument:y,tracks:u,totalDuration:p}};function G(ne){for(var le=_.length-1;le>=0;le--)if(_[le].cmd==="program"){_[le].channel=ne;return}}function A(ne){return ne/1e6}function O(ne){return Math.round(ne*d*1e6)/1e6}function E(ne,le){for(var se=0;se<ne.length;se++){for(var re=ne[se],pe={},Ee=le.qpm,ze=0,He=1,Me=0;Me<re.length;Me++){var Le=re[Me];if(Le.el_type==="tempo"){Ee?He=Le.qpm?Ee/Le.qpm:1:Ee=Le.qpm;continue}Le.time=ze;var it=Le.duration?Le.duration:0;if(ze+=Math.round(it*He*1e6),Le.pitches){for(var ct=0;ct<Le.pitches.length;ct++){var Ve=Le.pitches[ct];if(Ve){if(Ve.duration=Le.duration,Ve.startTie)pe[Ve.pitch]===void 0?pe[Ve.pitch]={el:Me,pitch:ct}:(re[pe[Ve.pitch].el].pitches[pe[Ve.pitch].pitch].duration+=Ve.duration,Le.pitches[ct]=null);else if(Ve.endTie){var st=pe[Ve.pitch];if(st){var en=Ve.duration;delete re[st.el].pitches[st.pitch].startTie,re[st.el].pitches[st.pitch].duration+=en,Le.pitches[ct]=null,delete pe[Ve.pitch]}else delete Ve.endTie}}}delete Le.duration}}for(var Qe in pe)if(pe.hasOwnProperty(Qe)){var tt=pe[Qe];delete re[tt.el].pitches[tt.pitch].startTie}}}function W(ne){switch(parseInt(ne.den,10)){case 2:return .5;case 4:return .25;case 8:return ne.num%3===0?.375:.125;case 16:return .125}return .25}function X(ne,le,se){var re=se-ne;return re/le}function K(ne,le){if(le)return 0;var se;if(j!=null)se=j,j=void 0;else if(!k)se=I;else if(H>ne)se=N;else{var re=X(S,W(h),ne);re===0?se=M:parseInt(re,10)===re?se=I:se=N}return T&&(se+=T,T=void 0),se<0&&(se=0),se>127&&(se=127),le?0:se}function Q(ne,le){var se={};if(ne.decoration)for(var re=0;re<ne.decoration.length;re++)ne.decoration[re]==="staccato"?se.thisBreakBetweenNotes="staccato":ne.decoration[re]==="tenuto"?se.thisBreakBetweenNotes="tenuto":ne.decoration[re]==="accent"?se.velocity=Math.min(127,le*1.5):ne.decoration[re]==="trill"?se.noteModification="trill":ne.decoration[re]==="lowermordent"?se.noteModification="lowermordent":ne.decoration[re]==="uppermordent"||ne.decoration[re]==="mordent"?se.noteModification="mordent":ne.decoration[re]==="turn"?se.noteModification="turn":ne.decoration[re]==="roll"&&(se.noteModification="roll");return se}function ie(ne,le){var se=le.start,re=le.duration,pe=O(1/32);switch(ne){case"trill":for(var Ee=2;re>0;)_.push({cmd:"note",pitch:le.pitch+Ee,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),Ee=Ee===2?0:2,re-=pe,se+=pe;break;case"mordent":_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),re-=pe,se+=pe,_.push({cmd:"note",pitch:le.pitch+2,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),re-=pe,se+=pe,_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se,duration:re,gap:0,instrument:w});break;case"lowermordent":_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),re-=pe,se+=pe,_.push({cmd:"note",pitch:le.pitch-2,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),re-=pe,se+=pe,_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se,duration:re,gap:0,instrument:w});break;case"turn":pe=le.duration/4,_.push({cmd:"note",pitch:le.pitch+2,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se+pe,duration:pe,gap:0,instrument:w,style:"decoration"}),_.push({cmd:"note",pitch:le.pitch-1,volume:le.volume,start:se+pe*2,duration:pe,gap:0,instrument:w,style:"decoration"}),_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se+pe*3,duration:pe,gap:0,instrument:w,style:"decoration"});break;case"roll":for(;re>0;)_.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:se,duration:pe,gap:0,instrument:w,style:"decoration"}),re-=pe*2,se+=pe*2;break}}function he(ne,le){var se=K(A(ne.time),le);g.processChord(ne);var re;if(ne.gracenotes&&ne.pitches&&ne.pitches.length>0&&ne.pitches[0]&&(re=Se(ne.gracenotes,ne.pitches[0].duration),ne.elem&&(ne.elem.midiGraceNotePitches=xe(re,A(ne.time),se*2/3,w))),ne.elem){var pe=A(ne.time),Ee=pe/z/f*60*1e3;if(ne.elem.currentTrackMilliseconds===void 0)ne.elem.currentTrackMilliseconds=Ee,ne.elem.currentTrackWholeNotes=pe;else if(ne.elem.currentTrackMilliseconds.length===void 0)ne.elem.currentTrackMilliseconds!==Ee&&(ne.elem.currentTrackMilliseconds=[ne.elem.currentTrackMilliseconds,Ee],ne.elem.currentTrackWholeNotes=[ne.elem.currentTrackWholeNotes,pe]);else{for(var ze=!1,He=0;He<ne.elem.currentTrackMilliseconds.length;He++)ne.elem.currentTrackMilliseconds[He]===Ee&&(ze=!0);ze||(ne.elem.currentTrackMilliseconds.push(Ee),ne.elem.currentTrackWholeNotes.push(pe))}}if(ne.pitches){var Me="",Le=Q(ne,se);Le.thisBreakBetweenNotes&&(Me=Le.thisBreakBetweenNotes),Le.velocity&&(se=Le.velocity);var it=ne.pitches;ne.style==="rhythm"&&(it=g.setRhythmHead(!0,ne)),ne.elem&&(ne.elem.midiPitches=[]);for(var ct=0;ct<it.length;ct++){var Ve=it[ct];if(Ve){Ve.startSlur&&(F+=Ve.startSlur.length),Ve.endSlur&&(F-=Ve.endSlur.length);var st=Ve.actualPitch?Ve.actualPitch:Ce(Ve);if(w===C&&D){var en=t(Ve);en&&D[en]&&(st=D[en].sound)}var Qe={cmd:"note",pitch:st,volume:se,start:A(ne.time),duration:O(Ve.duration),instrument:w,startChar:ne.elem.startChar,endChar:ne.elem.endChar};if(Qe=de(Qe),ne.gracenotes&&(Qe.duration=Qe.duration/2,Qe.start=Qe.start+Qe.duration),ne.elem&&ne.elem.midiPitches.push(Qe),Le.noteModification)ie(Le.noteModification,Qe);else{switch(F>0?Qe.endType="tenuto":Me&&(Qe.endType=Me),Qe.endType){case"tenuto":Qe.gap=U;break;case"staccato":var tt=Qe.duration*Y;Qe.gap=f/60*tt;break;default:Qe.gap=R;break}_.push(Qe)}}}_.length-1}var jt=J(ne);p=Math.max(p,A(ne.time)+O(jt))}function J(ne){return ne.pitches&&ne.pitches.length>0&&ne.pitches[0]?ne.pitches[0].duration:ne.elem?ne.elem.duration:ne.duration}var ge=[0,2,4,5,7,9,11];function Ce(ne){if(ne.midipitch!==void 0)return ne.midipitch;var le=ne.pitch;if(ne.accidental)switch(ne.accidental){case"sharp":n[le]=1;break;case"flat":n[le]=-1;break;case"natural":n[le]=0;break;case"dblsharp":n[le]=2;break;case"dblflat":n[le]=-2;break;case"quartersharp":n[le]=.25;break;case"quarterflat":n[le]=-.25;break}var se=ve(le)*12+ge[_e(le)]+60;return n[le]!==void 0?se+=n[le]:se+=o[_e(le)],se+=l,se}function fe(ne){var le=[0,0,0,0,0,0,0];if(!ne.accidentals)return le;for(var se=0;se<ne.accidentals.length;se++){var re=ne.accidentals[se],pe;switch(re.acc){case"flat":pe=-1;break;case"quarterflat":pe=-.25;break;case"sharp":pe=1;break;case"quartersharp":pe=.25;break;default:pe=0;break}var Ee=re.note.toLowerCase(),ze=_e(Ee.charCodeAt(0)-99);le[ze]+=pe}return le}function Se(ne,le){for(var se=0,re=[],pe,Ee=0;Ee<ne.length;Ee++)pe=ne[Ee],se+=pe.duration;var ze=le/2/se;for(Ee=0;Ee<ne.length;Ee++){pe=ne[Ee];var He=Ce(pe);if(w===C&&D){var Me=t(pe);Me&&D[Me]&&(He=D[Me].sound)}var Le={pitch:He,duration:pe.duration*ze};Le=de(Le),re.push(Le)}return re}function xe(ne,le,se,re){var pe=[];se=Math.round(se);for(var Ee=0;Ee<ne.length;Ee++){var ze=ne[Ee];_.push({cmd:"note",pitch:ze.pitch,volume:se,start:le,duration:ze.duration,gap:0,instrument:re,style:"grace"}),pe.push({pitch:ze.pitch,durationInMeasures:ze.duration,volume:se,instrument:re}),le+=ze.duration}return pe}function de(ne){var le=""+ne.pitch;return le.indexOf(".75")>=0?(ne.pitch=Math.round(ne.pitch),ne.cents=-50):le.indexOf(".25")>=0&&(ne.pitch=Math.round(ne.pitch),ne.cents=50),ne}function ve(ne){return Math.floor(ne/7)}function _e(ne){return ne=ne%7,ne<0&&(ne+=7),ne}function De(ne){if(ne.pattern.length===0||ne.on===!1)return{on:!1};for(var le=ne.pattern[0],se=[],re="",pe=0,Ee=0;Ee<le.length;Ee++)if(le[Ee]==="d"&&pe++,le[Ee]==="d"||le[Ee]==="z")re.length!==0?(se.push(re),re=le[Ee]):re=re+le[Ee];else{if(re.length===0)return{on:!1};re=re+le[Ee]}if(re.length!==0&&se.push(re),ne.pattern.length!==pe*2+1)return{on:!1};for(var ze={on:!0,bars:ne.bars,pattern:[]},He=W(h),Me=0,Le=0;Le<se.length;Le++){re=se[Le];for(var it=1,ct=!1,Ve=0,st=1;st<re.length;st++)switch(re[st]){case"/":Ve!==0&&(it*=Ve),Ve=0,ct=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ve=Ve*10+re[st];break;default:return{on:!1}}ct?(Ve===0&&(Ve=2),it/=Ve):Ve&&(it*=Ve),re[0]==="d"?(ze.pattern.push({len:it*He,pitch:ne.pattern[1+Me],velocity:ne.pattern[1+Me+pe]}),Me++):ze.pattern.push({len:it*He,pitch:null})}return V=ne.bars?ne.bars:1,ze}function Ie(){if(!(!B||!B.pattern)){for(var ne=B,le=0,se=h.num/h.den,re=0;re<ne.pattern.length;re++)le+=ne.pattern[re].len;var pe=le/V/se;for(re=0;re<ne.pattern.length;re++)ne.pattern[re].len=ne.pattern[re].len/pe;B=ne}}function Re(ne){if(!(q.length===0&&!B.on)){var le=h.num/h.den;if(q.length===0){if(p<le)return;q.push({cmd:"program",channel:ne,instrument:C})}if(B.on)for(var se=S,re=0;re<B.pattern.length;re++){var pe=O(B.pattern[re].len);B.pattern[re].pitch&&q.push({cmd:"note",pitch:B.pattern[re].pitch,volume:B.pattern[re].velocity,start:se,duration:pe,gap:0,instrument:C}),se+=pe}}}function Fe(ne,le){for(var se={},re=0;re<ne.length;re++)for(var pe=0;pe<ne[re].length;pe++){var Ee=ne[re][pe];Ee.cmd==="note"&&(se[Ee.start]===void 0&&(se[Ee.start]=[]),se[Ee.start].push({track:re,event:pe,pitch:Ee.pitch}))}var ze=Object.keys(se);for(re=0;re<ze.length;re++){var He=se[ze[re]];if(He.length>1){He=He.sort(function(Ve,st){return Ve.pitch-st.pitch});var Me=He[He.length-1],Le=Me.pitch%12,it=!1;for(pe=0;!it&&pe<He.length-1;pe++)He[pe].pitch%12===Le&&(it=!0);if(it){var ct=ne[Me.track][Me.event];ct.cents||(ct.cents=0),ct.cents+=le}}}}}(),Fu=a,Fu}var Bu,Rv;function QS(){if(Rv)return Bu;Rv=1;function a(d,y){y||(y={});for(var w=!!y.lineBreaks,_=[],m=!1,p=[],g=[],h=[],C=[],S=[],k=[],M=[],I=0;I<d.length;I++){var N=d[I];if(N.staff){if(m&&!N.vskip)for(var z=_[_.length-1],j=0;j<z.staff.length;j++){var T=N.staff[j],F=z.staff[j];if(T&&(u(T.meter,p[j])||(t(T.meter,T.voices),p[j]=T.meter,delete T.meter),u(T.key,g[j])||(n(T.key,T.voices),g[j]=T.key,delete T.key),T.title&&(F.abbrevTitle=T.title),u(T.clef,h[j])||(o(T.clef,T.voices),h[j]=T.clef,delete T.clef),u(T.vocalfont,C[j])||(l(T.vocalfont,T.voices,"vocalfont"),C[j]=T.vocalfont,delete T.vocalfont),u(T.gchordfont,S[j])||(l(T.gchordfont,T.voices,"gchordfont"),S[j]=T.gchordfont,delete T.gchordfont),u(T.tripletfont,k[j])||(l(T.tripletfont,T.voices,"tripletfont"),k[j]=T.tripletfont,delete T.tripletfont),u(T.annotationfont,M[j])||(l(T.annotationfont,T.voices,"annotationfont"),M[j]=T.annotationfont,delete T.annotationfont)),T)for(var q=0;q<F.voices.length;q++){var B=F.voices[q],V=T.voices[q];w&&B.push({el_type:"break"}),V&&(F.voices[q]=B.concat(V))}}else{for(var H=0;H<N.staff.length;H++)g[H]=N.staff[H].key,p[H]=N.staff[H].meter,h[H]=N.staff[H].clef;_.push(f(N))}m=!0}else m=!1,_.push(N)}return _}function e(d,y){return d==="abselem"?"abselem":y}function t(d,y){d.el_type="meter",d.startChar=-1,d.endChar=-1;for(var w=0;w<y.length;w++)y[w].unshift(d)}function n(d,y){d.el_type="key",d.startChar=-1,d.endChar=-1;for(var w=0;w<y.length;w++)y[w].unshift(d)}function o(d,y){d.el_type="clef",d.startChar=-1,d.endChar=-1;for(var w=0;w<y.length;w++)y[w].unshift(d)}function l(d,y,w){d.el_type="font",d.type=w,d.startChar=-1,d.endChar=-1;for(var _=0;_<y.length;_++)y[_].unshift(d)}function u(d,y){if(!d)return!0;var w=JSON.stringify(d,e),_=JSON.stringify(y,e);return w===_}function f(d){for(var y={},w=Object.keys(d),_=0;_<w.length;_++)if(w[_]!=="staff")y[w[_]]=d[w[_]];else{y.staff=[];for(var m=0;m<d.staff.length;m++){for(var p={},g=Object.keys(d.staff[m]),h=0;h<g.length;h++)if(g[h]!=="voices")p[g[h]]=d.staff[m][g[h]];else{p.voices=[];for(var C=0;C<d.staff[m].voices.length;C++)p.voices.push([].concat(d.staff[m].voices[C]))}y.staff.push(p)}}return y}return Bu=a,Bu}var qu,Dv;function h5(){if(Dv)return qu;Dv=1;var a=Pr(),e=vn(),t=l5(),n=XS(),o=QS(),l=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function u(m,p,g,h){for(var C=0;C<h.length;C++)m[g][h[C]]=p[g][h[C]]}this.copyTopInfo=function(m){var p=["tempo","title","header","rhythm","origin","composer","author","partOrder"];u(this,m,"metaText",p),u(this,m,"metaTextInfo",p)},this.copyBottomInfo=function(m){var p=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];u(this,m,"metaText",p),u(this,m,"metaTextInfo",p)},this.getBeatLength=function(){var m=this.getMeterFraction(),p=1;return(m.num===6||m.num===9||m.num===12||m.num===3&&m.den===8)&&(p=3),p/m.den};function f(m,p){for(var g=0,h=0;h<m.length;h++)if(m[h].staff)for(var C=0;C<m[h].staff.length;C++)for(var S=0;S<m[h].staff[C].voices.length;S++)for(var k=m[h].staff[C].voices[S],M=1,I=0;I<k.length;I++){var N=k[I].rest&&k[I].rest.type==="spacer";if(k[I].startTriplet&&(M=k[I].tripletMultiplier),k[I].duration&&!N&&k[I].el_type!=="tempo"&&(g+=k[I].duration*M),k[I].endTriplet&&(M=1),g>=p&&(g-=p),k[I].el_type==="bar")return g}return g}this.getPickupLength=function(){var m=this.getBarLength(),p=f(this.lines,m);return p<1e-8||m-p<1e-8?0:p},this.getBarLength=function(){var m=this.getMeterFraction();return m.num/m.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(m){var p;if(m)p=m;else{var g=this.metaText?this.metaText.tempo:null;p=this.getBpm(g)}p<=0&&(p=1);var h=this.getBeatsPerMeasure(),C=h/p;return C*6e4},this.getBeatsPerMeasure=function(){var m=this.getBeatLength(),p=this.getBarLength();return p/m},this.getMeter=function(){for(var m=0;m<this.lines.length;m++){var p=this.lines[m];if(p.staff)for(var g=0;g<p.staff.length;g++){var h=p.staff[g].meter;if(h)return h}}return{type:"common_time"}},this.getMeterFraction=function(){var m=this.getMeter(),p=4,g=4;return m&&(m.type==="specified"?(p=parseInt(m.value[0].num,10),g=parseInt(m.value[0].den,10)):m.type==="cut_time"?(p=2,g=2):m.type==="common_time"&&(p=4,g=4)),this.meter={num:p,den:g},this.meter},this.getKeySignature=function(){for(var m=0;m<this.lines.length;m++){var p=this.lines[m];if(p.staff){for(var g=0;g<p.staff.length;g++)if(p.staff[g].key)return p.staff[g].key}}return{}},this.getElementFromChar=function(m){for(var p=0;p<this.lines.length;p++){var g=this.lines[p];if(g.staff)for(var h=0;h<g.staff.length;h++)for(var C=g.staff[h],S=0;S<C.voices.length;S++)for(var k=C.voices[S],M=0;M<k.length;M++){var I=k[M];if(I.startChar&&I.endChar&&I.startChar<=m&&I.endChar>m)return I}}return null};function d(m){for(var p,g,h,C,S=m.length-1;S>=0;S--){var k=m[S];k.type==="bar"?(k.top=h,k.nextTop=p,p=h,k.bottom=C,k.nextBottom=g,g=C):k.type==="event"&&(h=k.top,C=k.top+k.height)}}function y(m){var p=[];for(var g in m)m.hasOwnProperty(g)&&p.push(m[g]);return p=p.sort(function(h,C){var S=h.milliseconds-C.milliseconds;return S!==0?S:h.type==="bar"?-1:1}),p}this.addElementToEvents=function(m,p,g,h,C,S,k,M,I,N){if(p.hint)return{isTiedState:void 0,duration:0};var z=p.durationClass?p.durationClass:p.duration;if(p.abcelem.rest&&p.abcelem.rest.type==="spacer"&&(z=0),z>0){for(var j=[],T=0;T<p.elemset.length;T++)p.elemset[T]!==null&&j.push(p.elemset[T]);var F=p.startTie;if(I!==void 0)m["event"+I].elements.push(j),N&&(m["event"+g]||(m["event"+g]={type:"event",milliseconds:g,line:S,measureNumber:k,top:h,height:C,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),m["event"+g].measureStart=!0,N=!1),F||(I=void 0);else{if(!m["event"+g])m["event"+g]={type:"event",milliseconds:g,line:S,measureNumber:k,top:h,height:C,left:p.x,width:p.w,elements:[j],startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,startCharArray:[p.abcelem.startChar],endCharArray:[p.abcelem.endChar],midiPitches:p.abcelem.midiPitches?a.cloneArray(p.abcelem.midiPitches):[]},p.abcelem.midiGraceNotePitches&&(m["event"+g].midiGraceNotePitches=a.cloneArray(p.abcelem.midiGraceNotePitches));else{if(m["event"+g].left?m["event"+g].left=Math.min(m["event"+g].left,p.x):m["event"+g].left=p.x,m["event"+g].elements.push(j),m["event"+g].startCharArray.push(p.abcelem.startChar),m["event"+g].endCharArray.push(p.abcelem.endChar),m["event"+g].startChar===null&&(m["event"+g].startChar=p.abcelem.startChar),m["event"+g].endChar===null&&(m["event"+g].endChar=p.abcelem.endChar),p.abcelem.midiPitches&&p.abcelem.midiPitches.length){m["event"+g].midiPitches||(m["event"+g].midiPitches=[]);for(var T=0;T<p.abcelem.midiPitches.length;T++)m["event"+g].midiPitches.push(p.abcelem.midiPitches[T])}if(p.abcelem.midiGraceNotePitches&&p.abcelem.midiGraceNotePitches.length){m["event"+g].midiGraceNotePitches||(m["event"+g].midiGraceNotePitches=[]);for(var q=0;q<p.abcelem.midiGraceNotePitches.length;q++)m["event"+g].midiGraceNotePitches.push(p.abcelem.midiGraceNotePitches[q])}}N&&(m["event"+g].measureStart=!0,N=!1)}}return{isTiedState:I,duration:z/M,nextIsBar:N||p.type==="bar"}},this.makeVoicesArray=function(){for(var m=[],p=[],g={},h=0;h<this.engraver.staffgroups.length;h++){var C=this.engraver.staffgroups[h];if(C&&C.staffs&&C.staffs.length>0){var S=C.staffs[0],k=S.absoluteY,M=k-S.top*e.STEP,I=C.staffs[C.staffs.length-1];k=I.absoluteY;for(var N=k-I.bottom*e.STEP,z=N-M,j=C.voices,T=0;T<j.length;T++)if(!(j[T].staff&&j[T].staff.isTabStaff)){var F=!1;m[T]||(m[T]=[]),p[T]===void 0&&(p[T]=0);for(var q=j[T].children,B=0;B<q.length;B++)q[B].type==="tempo"&&(g[p[T]]=this.getBpm(q[B].abcelem)),m[T].push({top:M,height:z,line:C.line,measureNumber:p[T],elem:q[B]}),q[B].type==="bar"&&F&&p[T]++,(q[B].type==="note"||q[B].type==="rest")&&(F=!0)}}}return this.tempoLocations=g,m},this.setupEvents=function(m,p,g,h){h||(h=1);for(var C=[],S={},k=m,M,I=!0,N=this.makeVoicesArray(),z=0,j=0;j<N.length;j++){var T=k,F=Math.round(T*1e3),q=0,B=-1,V=N[j],H=g;p=this.getBeatLength()*H/60;for(var D=-1,R=0;R<V.length;R++){var U=V[R].measureNumber;D!==U&&this.tempoLocations[U]&&(H=this.tempoLocations[U],p=h*this.getBeatLength()*H/60,D=U);var Y=V[R].elem,G=this.addElementToEvents(S,Y,F,V[R].top,V[R].height,V[R].line,V[R].measureNumber,p,M,I);M=G.isTiedState,I=G.nextIsBar,T+=G.duration;var A;if(Y.duration>0&&S["event"+F]&&(A="event"+F),F=Math.round(T*1e3),Y.type==="bar"){var O=Y.abcelem.type,E=O==="bar_right_repeat"||O==="bar_dbl_repeat",W=Y.abcelem.startEnding==="1",X=O==="bar_left_repeat"||O==="bar_dbl_repeat"||O==="bar_right_repeat";if(E){R>0&&(S[A].endX=Y.x),B===-1&&(B=R);var K=0;D=-1;for(var Q=q;Q<B;Q++){U=V[Q].measureNumber,D!==U&&this.tempoLocations[U]&&(H=this.tempoLocations[U],p=h*this.getBeatLength()*H/60,D=U);var ie=V[Q].elem;G=this.addElementToEvents(S,ie,F,V[Q].top,V[Q].height,V[Q].line,V[Q].measureNumber,p,M,I),M=G.isTiedState,I=G.nextIsBar,T+=G.duration,K=F,F=Math.round(T*1e3)}S["event"+K]&&(S["event"+K].endX=V[B].elem.x),I=!0,B=-1}W&&(B=R),X&&(q=R)}}z=Math.max(z,F)}return C=y(S),d(C),_(this.lines,C),C.push({type:"end",milliseconds:z}),this.addUsefulCallbackInfo(C,H*h),C},this.addUsefulCallbackInfo=function(m,p){for(var g=this.millisecondsPerMeasure(p),h=0;h<m.length;h++){var C=m[h];C.millisecondsPerMeasure=g}};function w(m,p){for(;p<m.length&&m[p].left===null;)p++;return m[p]}function _(m,p){if(!(p.length<1)){for(var g=0;g<p.length-1;g++){var h=p[g],C=w(p,g+1);if(h.left!==null){var S=C&&h.top===C.top?C.left:m[h.line].staffGroup.w;h.endX!==void 0?S>h.left&&(h.endX=Math.min(h.endX,S)):h.endX=S}}var k=p[p.length-1];k.endX=m[k.line].staffGroup.w}}this.getBpm=function(m){var p;if(m||(m=this.metaText?this.metaText.tempo:null),m){p=m.bpm;var g=this.getBeatLength(),h=m.duration&&m.duration.length>0?m.duration[0]:g;p=p*h/g}if(!p){p=180;var C=this.getMeterFraction();C&&C.num!==3&&C.num%3===0&&(p=120)}return p},this.setTiming=function(m,p){if(p=p||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var g=this.metaText?this.metaText.tempo:null,h=this.getBpm(g),C=1;m?g&&(C=m/h):m=h;var S=this.getBeatLength(),k=m/60,M=this.getBarLength(),I=M/S*p/k;I&&(I-=this.getPickupLength()/S/k);var N=S*k;return this.noteTimings=this.setupEvents(I,N,m,C),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*k):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(m){m||(m={});var p=t(this,m);return n(p,m,this.formatting.percmap,this.formatting.midi)},this.deline=function(m){return o(this.lines,m)},this.findSelectableElement=function(m){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(m):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}};return qu=l,qu}var zu,Lv;function KS(){if(Lv)return zu;Lv=1;var a=w1(),e=function(T){var F=this,q={},B="";T.reset(),this.setVisualTranspose=function(V){V&&(T.visualTranspose=V)},this.cleanUp=function(V,H,D){p(T),delete T.runningFonts,n(T),T.metaText.tempo&&T.metaText.tempo.bpm&&!T.metaText.tempo.duration&&(T.metaText.tempo.duration=[T.getBeatLength()]);var R=!1,U,Y,G;for(U=0;U<T.lines.length;U++)if(T.lines[U].staff!==void 0){var A=!1;for(Y=0;Y<T.lines[U].staff.length;Y++)if(T.lines[U].staff[Y]===void 0)R=!0,T.lines[U].staff[Y]=null;else for(G=0;G<T.lines[U].staff[Y].voices.length;G++)T.lines[U].staff[Y].voices[G]===void 0?T.lines[U].staff[Y].voices[G]=[]:g(T.lines[U].staff[Y].voices[G])&&(A=!0);A||(T.lines[U]=null,R=!0)}if(R&&(T.lines=T.lines.filter(function(Q){return!!Q}),T.lines.forEach(function(Q){Q.staff&&(Q.staff=Q.staff.filter(function(ie){return!!ie}))})),V)for(;d(T.lines,V););if(H){for(R=!1,U=0;U<T.lines.length;U++)if(T.lines[U].staff!==void 0)for(Y=0;Y<T.lines[U].staff.length;Y++){var O=!1;for(G=0;G<T.lines[U].staff[Y].voices.length;G++)h(T.lines[U].staff[Y].voices[G])&&(O=!0);O||(R=!0,T.lines[U].staff[Y]=null)}R&&T.lines.forEach(function(Q){Q.staff&&(Q.staff=Q.staff.filter(function(ie){return!!ie}))})}for(u(T.lines),U=0;U<T.lines.length;U++)if(T.lines[U].staff)for(Y=0;Y<T.lines[U].staff.length;Y++)delete T.lines[U].staff[Y].workingClef;for(;o(T););for(var U=0;U<T.lines.length;U++){var E=T.lines[U].staff;if(E)for(T.staffNum=0;T.staffNum<E.length;T.staffNum++)for(E[T.staffNum].clef&&a.fixClef(E[T.staffNum].clef),T.voiceNum=0;T.voiceNum<E[T.staffNum].voices.length;T.voiceNum++){var W=E[T.staffNum].voices[T.voiceNum];f(W,T.staffNum,T.voiceNum,D);for(var X=0;X<W.length;X++)W[X].el_type==="clef"&&a.fixClef(W[X]);if(W.length>0&&W[W.length-1].barNumber){var K=w(T.lines,U);K&&(K.staff[0].barNumber=W[W.length-1].barNumber),delete W[W.length-1].barNumber}}}return delete T.staffNum,delete T.voiceNum,delete T.lineNum,delete T.potentialStartBeam,delete T.potentialEndBeam,delete T.vskipPending,D},this.addTieToLastNote=function(V){var H=_(T);return H&&H.pitches&&H.pitches.length>0?(H.pitches[0].startTie={},V&&(H.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(V,H,D,R){if(R.el_type=V,H!==null&&(R.startChar=H),D!==null&&(R.endChar=D),V==="note"){var U=m(R);U>=.25||R.force_end_beam_last&&T.potentialStartBeam!==void 0?M(T):R.end_beam&&T.potentialStartBeam!==void 0?R.rest===void 0?k(R,T):M(T):R.rest===void 0&&(T.potentialStartBeam===void 0?R.end_beam||(T.potentialStartBeam=R,delete T.potentialEndBeam):T.potentialEndBeam=R)}else M(T);return delete R.end_beam,delete R.force_end_beam_last,R.rest&&R.rest.type==="invisible"&&delete R.decoration,T.lines.length<=T.lineNum||T.lines[T.lineNum].staff.length<=T.staffNum?!1:(S(F,T,R,q,B),!0)},this.appendStartingElement=function(V,H,D,R){p(T);var U;V==="key"&&(U=R.impliedNaturals,delete R.impliedNaturals,delete R.explicitAccidentals);var Y=Object.assign({},R);if(T.lines[T.lineNum]){var G=T.lines[T.lineNum].staff;if(G){G.length<=T.staffNum&&(G[T.staffNum]={},G[T.staffNum].clef=Object.assign({},G[0].clef),G[T.staffNum].key=Object.assign({},G[0].key),G[0].meter&&(G[T.staffNum].meter=Object.assign({},G[0].meter)),G[T.staffNum].workingClef=Object.assign({},G[0].workingClef),G[T.staffNum].voices=[[]]),V==="clef"&&(G[T.staffNum].workingClef=Y);for(var A=G[T.staffNum].voices[T.voiceNum],O=0;O<A.length;O++){if(A[O].el_type==="note"||A[O].el_type==="bar"){Y.el_type=V,Y.startChar=H,Y.endChar=D,U&&(Y.accidentals=U.concat(Y.accidentals)),A.push(Y);return}if(A[O].el_type===V){Y.el_type=V,Y.startChar=H,Y.endChar=D,U&&(Y.accidentals=U.concat(Y.accidentals)),A[O]=Y;return}}G[T.staffNum][V]=R}}},this.addSubtitle=function(V,H){C(T,{subtitle:{text:V,startChar:H.startChar,endChar:H.endChar}})},this.addSpacing=function(V){T.vskipPending=V},this.addNewPage=function(V){C(T,{newpage:V})},this.addSeparator=function(V,H,D,R){C(T,{separator:{spaceAbove:Math.round(V),spaceBelow:Math.round(H),lineLength:Math.round(D),startChar:R.startChar,endChar:R.endChar}})},this.addText=function(V,H){C(T,{text:{text:V,startChar:H.startChar,endChar:H.endChar}})},this.addCentered=function(V){C(T,{text:[{text:V,center:!0}]})},this.changeVoiceScale=function(V){F.appendElement("scale",null,null,{size:V})},this.changeVoiceColor=function(V){F.appendElement("color",null,null,{color:V})},this.startNewLine=function(V){p(T),V.currentVoiceName&&(B=V.currentVoiceName,q[V.currentVoiceName]=V),T.lines[T.lineNum]===void 0?j(F,T,V):T.lines[T.lineNum].staff===void 0?(T.lineNum++,this.startNewLine(V)):T.lines[T.lineNum].staff[T.staffNum]===void 0?z(F,T,V):T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum]===void 0?N(F,T,V):g(T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum])?(T.lineNum++,this.startNewLine(V)):V.part&&F.appendElement("part",V.part.startChar,V.part.endChar,{title:V.part.title})},this.setRunningFont=function(V,H){T.runningFonts[V]=H},this.setBarNumberImmediate=function(V){var H=this.getCurrentVoice();if(H&&H.length>0){var D=H[H.length-1];if(D.el_type==="bar")D.barNumber!==void 0&&(D.barNumber=V);else return V-1}return V},this.hasBeginMusic=function(){for(var V=0;V<T.lines.length;V++)if(T.lines[V].staff)return!0;return!1},this.isFirstLine=function(V){for(var H=V-1;H>=0;H--)if(T.lines[H].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var V=y(T.lines,T.lineNum);if(!V)return null;var H=V.staff[T.staffNum];return H&&H.voices[T.voiceNum]!==void 0?H.voices[T.voiceNum]:null},this.setCurrentVoice=function(V,H,D){T.staffNum=V,T.voiceNum=H,B=D;for(var R=0;R<T.lines.length;R++)if(T.lines[R].staff&&(T.lines[R].staff[V]===void 0||T.lines[R].staff[V].voices[H]===void 0||!g(T.lines[R].staff[V].voices[H])))return T.lineNum=R,!!(!T.lines[R].staff[V]||T.lines[R].staff[V].voices[H]);return T.lineNum=R,!1},this.addMetaText=function(V,H,D){T.metaText[V]===void 0?(T.metaText[V]=H,T.metaTextInfo[V]=D):(typeof T.metaText[V]=="string"&&typeof H=="string"?T.metaText[V]+=`
`+H:(T.metaText[V]==="string"&&(T.metaText[V]=[{text:T.metaText[V]}]),typeof H=="string"&&(H=[{text:H}]),T.metaText[V]=T.metaText[V].concat(H)),T.metaTextInfo[V].endChar=D.endChar)},this.addMetaTextArray=function(V,H,D){T.metaText[V]===void 0?(T.metaText[V]=[H],T.metaTextInfo[V]=D):(T.metaText[V].push(H),T.metaTextInfo[V].endChar=D.endChar)},this.addMetaTextObj=function(V,H,D){T.metaText[V]=H,T.metaTextInfo[V]=D}};function t(T){if(!T||typeof T=="string")return!1;for(var F=0;F<T.length;F++)if(typeof T[F]!="string")return!1;return!0}function n(T){t(T.metaText.notes)&&(T.metaText.notes=T.metaText.notes.join(`
`)),t(T.metaText.history)&&(T.metaText.history=T.metaText.history.join(`
`))}function o(T){for(var F=!1,q=[],B=0;B<T.lines.length;B++){var V=T.lines[B];if(V.staff)for(var H=0;H<V.staff.length;H++){for(var D=V.staff[H],R=[],U=0;U<D.voices.length;U++){var Y=D.voices[U];R.push({hasOverlay:!1,voice:[],snip:[]}),q[B]=0;for(var G=0,A=!1,O=-1,E=0;E<Y.length;E++){var W=Y[E];if(W.el_type==="overlay"&&!A){F=!0,A=!0,O=E,R[U].hasOverlay=!0;for(var X=0;X<B;X++)q[X]&&T.lines[X].staff&&D.voices.length>=T.lines[X].staff[0].voices.length&&T.lines[X].staff[0].voices.push([{el_type:"note",duration:q[X],rest:{type:"invisible"},startChar:W.startChar,endChar:W.endChar}])}else W.el_type==="bar"?(A?(A=!1,R[U].snip.push({start:O,len:E-O}),R[U].voice.push(W)):(G>0&&R[U].voice.push({el_type:"note",duration:G,rest:{type:"invisible"},startChar:W.startChar,endChar:W.endChar}),R[U].voice.push(W)),G=0):W.el_type==="note"?A?R[U].voice.push(W):(G+=W.duration,q[B]+=W.duration):(W.el_type==="scale"||W.el_type==="stem"||W.el_type==="overlay"||W.el_type==="style"||W.el_type==="transpose"||W.el_type==="color")&&R[U].voice.push(W)}R[U].hasOverlay&&R[U].snip.length===0&&R[U].snip.push({start:O,len:Y.length-O})}for(U=0;U<R.length;U++){var K=R[U];if(K.hasOverlay){K.voice.splice(0,0,{el_type:"stem",direction:"down"}),D.voices.push(K.voice);for(var Q=K.snip.length-1;Q>=0;Q--){var ie=K.snip[Q];D.voices[U].splice(ie.start,ie.len),D.voices[U].splice(ie.start+1,0,{el_type:"stem",direction:"auto"});var he=l(D.voices[U],ie.start);D.voices[U].splice(he,0,{el_type:"stem",direction:"up"})}for(Q=0;Q<D.voices[D.voices.length-1].length;Q++){D.voices[D.voices.length-1][Q]=Object.assign({},D.voices[D.voices.length-1][Q]);var J=D.voices[D.voices.length-1][Q];J.el_type==="bar"&&J.startEnding&&delete J.startEnding,J.el_type==="bar"&&J.endEnding&&delete J.endEnding}}}}}return F}function l(T,F){for(var q=F-1;q>0&&T[q].el_type!=="bar";q--);return q}function u(T){for(var F=!0,q=0;q<T.length;q++){var B=T[q];if(B.staff){for(var V=0;V<B.staff.length;V++){var H=B.staff[V];if(H.title){for(var D=!1,R=0;R<H.title.length;R++)H.title[R]?(H.title[R]=F?H.title[R].name:H.title[R].subname,H.title[R]?D=!0:H.title[R]=""):H.title[R]="";D||delete H.title}}F=!1}}}function f(T,F,q,B){B[F]||(B[F]=[]),B[F][q]||(B[F][q]=[]);for(var V,H=function(Q,ie,he){if(B[F][q][he]===void 0){for(V=0;V<B[F][q].length;V++)if(B[F][q][V]!==void 0){he=V;break}if(B[F][q][he]===void 0){var J=he*100+1;Q.endSlur.forEach(function(fe){J===fe&&--J}),B[F][q][he]=[J]}}for(var ge,Ce=0;Ce<ie;Ce++)ge=B[F][q][he].pop(),Q.endSlur.push(ge);return B[F][q][he].length===0&&delete B[F][q][he],ge},D=function(Q,ie,he,J){Q.startSlur=[],B[F][q][he]===void 0&&(B[F][q][he]=[]);for(var ge=he*100+1,Ce=0;Ce<ie;Ce++)J&&(J.forEach(function(fe){ge===fe&&++ge}),J.forEach(function(fe){ge===fe&&++ge}),J.forEach(function(fe){ge===fe&&++ge})),B[F][q][he].forEach(function(fe){ge===fe&&++ge}),B[F][q][he].forEach(function(fe){ge===fe&&++ge}),B[F][q][he].push(ge),Q.startSlur.push({label:ge}),Q.dottedSlur&&(Q.startSlur[Q.startSlur.length-1].style="dotted",delete Q.dottedSlur),ge++},R=0;R<T.length;R++){var U=T[R];if(U.el_type==="note"){if(U.gracenotes)for(var Y=0;Y<U.gracenotes.length;Y++){if(U.gracenotes[Y].endSlur){var G=U.gracenotes[Y].endSlur;U.gracenotes[Y].endSlur=[];for(var A=0;A<G;A++)H(U.gracenotes[Y],1,20)}U.gracenotes[Y].startSlur&&(V=U.gracenotes[Y].startSlur,D(U.gracenotes[Y],V,20))}if(U.endSlur&&(V=U.endSlur,U.endSlur=[],H(U,V,0)),U.startSlur&&(V=U.startSlur,D(U,V,0)),U.pitches){for(var O=[],E=0;E<U.pitches.length;E++)if(U.pitches[E].endSlur){var W=U.pitches[E].endSlur;U.pitches[E].endSlur=[];for(var X=0;X<W;X++){var K=H(U.pitches[E],1,E+1);O.push(K)}}for(E=0;E<U.pitches.length;E++)U.pitches[E].startSlur&&(V=U.pitches[E].startSlur,D(U.pitches[E],V,E+1,O));U.gracenotes&&U.pitches[0].endSlur&&U.pitches[0].endSlur[0]===100&&U.pitches[0].startSlur&&(U.gracenotes[0].endSlur?U.gracenotes[0].endSlur.push(U.pitches[0].startSlur[0].label):U.gracenotes[0].endSlur=[U.pitches[0].startSlur[0].label],U.pitches[0].endSlur.length===1?delete U.pitches[0].endSlur:U.pitches[0].endSlur[0]===100?U.pitches[0].endSlur.shift():U.pitches[0].endSlur[U.pitches[0].endSlur.length-1]===100&&U.pitches[0].endSlur.pop(),B[F][q][1].length===1?delete B[F][q][1]:B[F][q][1].pop())}}}}function d(T,F){for(i=0;i<T.length;i++)if(T[i].staff!==void 0)for(s=0;s<T[i].staff.length;s++){var q=[];for(v=0;v<T[i].staff[s].voices.length;v++)for(var B=T[i].staff[s].voices[v],V=0,H=0;H<B.length;H++)if(B[H].el_type==="bar"){if(V++,V>=F&&H<B.length-1){var D=w(T,i);if(!D){var R=JSON.parse(JSON.stringify(T[i]));T.push(Object.assign({},R)),D=T[T.length-1];for(var U=0;U<D.staff.length;U++)for(var Y=0;Y<D.staff[U].voices.length;Y++)D.staff[U].voices[Y]=[]}var G=H+1,A=T[i].staff[s].voices[v].slice(G);return T[i].staff[s].voices[v]=T[i].staff[s].voices[v].slice(0,G),D.staff[s].voices[v]=q.concat(A.concat(D.staff[s].voices[v])),!0}}else B[H].duration||q.push(B[H])}return!1}function y(T,F){for(;F>=0;){if(T[F].staff)return T[F];F--}return null}function w(T,F){for(F++;T.length>F;){if(T[F].staff)return T[F];F++}return null}function _(T){if(!T.lines[T.lineNum]||!T.lines[T.lineNum].staff||!T.lines[T.lineNum].staff[T.staffNum])return null;var F=T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum];if(!F)return null;for(var q=F.length-1;q>=0;q--){var B=F[q];if(B.el_type==="note")return B}return null}function m(T){return T.duration?T.duration:0}function p(T){T.potentialStartBeam&&T.potentialEndBeam&&(T.potentialStartBeam.startBeam=!0,T.potentialEndBeam.endBeam=!0),delete T.potentialStartBeam,delete T.potentialEndBeam}function g(T){for(var F=0;F<T.length;F++)if(T[F].el_type==="note"||T[F].el_type==="bar")return!0;return!1}function h(T){for(var F=0;F<T.length;F++)if(T[F].el_type==="note"&&(T[F].rest===void 0||T[F].chord!==void 0))return!0;return!1}function C(T,F){T.vskipPending&&(F.vskip=T.vskipPending,delete T.vskipPending),T.lines.push(F)}function S(T,F,q,B,V){var H=F.lines[F.lineNum].staff[F.staffNum];if(q.pitches!==void 0){var D=H.workingClef.verticalPos;q.pitches.forEach(function(U){U.verticalPos=U.pitch-D})}if(q.gracenotes!==void 0){var R=H.workingClef.verticalPos;q.gracenotes.forEach(function(U){U.verticalPos=U.pitch-R})}H.voices.length<=F.voiceNum&&(B[V]||(B[V]={}),N(T,F,B[V])),H.voices[F.voiceNum].push(q)}function k(T,F){F.potentialStartBeam.startBeam=!0,T.endBeam=!0,delete F.potentialStartBeam,delete F.potentialEndBeam}function M(T){T.potentialStartBeam!==void 0&&T.potentialEndBeam!==void 0&&(T.potentialStartBeam.startBeam=!0,T.potentialEndBeam.endBeam=!0),delete T.potentialStartBeam,delete T.potentialEndBeam}function I(T,F,q){if(T.runningFonts[F]){for(var B=!1,V=Object.keys(q),H=0;H<V.length;H++)T.runningFonts[F][V[H]]!==q[V[H]]&&(B=!0);B&&(T.lines[T.lineNum].staff[T.staffNum][F]=q)}T.runningFonts[F]=q}function N(T,F,q){var B=F.lines[F.lineNum].staff[F.staffNum];if(B.voices[F.voiceNum]=[],B.title||(B.title=[]),B.title[F.voiceNum]={name:q.name,subname:q.subname},q.style&&T.appendElement("style",null,null,{head:q.style}),q.stem)T.appendElement("stem",null,null,{direction:q.stem});else if(F.voiceNum>0){if(B.voices[0]!==void 0){for(var V=!1,H=0;H<B.voices[0].length;H++)B.voices[0].el_type==="stem"&&(V=!0);if(!V){var D={el_type:"stem",direction:"up"};B.voices[0].splice(0,0,D)}}T.appendElement("stem",null,null,{direction:"down"})}q.scale&&T.appendElement("scale",null,null,{size:q.scale}),q.color&&T.appendElement("color",null,null,{color:q.color})}function z(T,F,q){q.key&&q.key.impliedNaturals&&(q.key.accidentals=q.key.accidentals.concat(q.key.impliedNaturals),delete q.key.impliedNaturals),F.lines[F.lineNum].staff[F.staffNum]={voices:[],clef:q.clef,key:q.key,workingClef:q.clef};var B=F.lines[F.lineNum].staff[F.staffNum];q.stafflines!==void 0&&(B.clef.stafflines=q.stafflines,B.workingClef.stafflines=q.stafflines),q.staffscale&&(B.staffscale=q.staffscale),q.annotationfont&&I(F,"annotationfont",q.annotationfont),q.gchordfont&&I(F,"gchordfont",q.gchordfont),q.tripletfont&&I(F,"tripletfont",q.tripletfont),q.vocalfont&&I(F,"vocalfont",q.vocalfont),q.bracket&&(B.bracket=q.bracket),q.brace&&(B.brace=q.brace),q.connectBarLines&&(B.connectBarLines=q.connectBarLines),q.barNumber&&(B.barNumber=q.barNumber),N(T,F,q),q.part&&T.appendElement("part",q.part.startChar,q.part.endChar,{title:q.part.title}),q.meter!==void 0&&(B.meter=q.meter),F.vskipPending&&(F.lines[F.lineNum].vskip=F.vskipPending,delete F.vskipPending)}function j(T,F,q){F.lines[F.lineNum]={staff:[]},z(T,F,q)}return zu=e,zu}var Vu,Fv;function f5(){if(Fv)return Vu;Fv=1;var a=Pr(),e=_1(),t=WS(),n=GS(),o=$S(),l=c5(),u=h5(),f=KS(),d=function(){var y=new u,w=new f(y),_,m="",p="";this.getTune=function(){var H={formatting:y.formatting,lines:y.lines,media:y.media,metaText:y.metaText,metaTextInfo:y.metaTextInfo,version:y.version,addElementToEvents:y.addElementToEvents,addUsefulCallbackInfo:y.addUsefulCallbackInfo,getTotalTime:y.getTotalTime,getTotalBeats:y.getTotalBeats,getBarLength:y.getBarLength,getBeatLength:y.getBeatLength,getBeatsPerMeasure:y.getBeatsPerMeasure,getBpm:y.getBpm,getMeter:y.getMeter,getMeterFraction:y.getMeterFraction,getPickupLength:y.getPickupLength,getKeySignature:y.getKeySignature,getElementFromChar:y.getElementFromChar,makeVoicesArray:y.makeVoicesArray,millisecondsPerMeasure:y.millisecondsPerMeasure,setupEvents:y.setupEvents,setTiming:y.setTiming,setUpAudio:y.setUpAudio,deline:y.deline,findSelectableElement:y.findSelectableElement,getSelectableArray:y.getSelectableArray};return y.lineBreaks&&(H.lineBreaks=y.lineBreaks),y.visualTranspose&&(H.visualTranspose=y.visualTranspose),H};function g(H,D,R){H.positioning||(H.positioning={}),H.positioning[D]=R}function h(H,D,R){H.fonts||(H.fonts={}),H.fonts[D]=R}var C={reset:function(){for(var H in this)this.hasOwnProperty(H)&&typeof this[H]!="function"&&delete this[H];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(H,D){return this[H].decoration!==D[H].decoration||this[H].face!==D[H].face||this[H].size!==D[H].size||this[H].style!==D[H].style||this[H].weight!==D[H].weight},addFormattingOptions:function(H,D,R){R==="note"?(this.vocalPosition!=="auto"&&g(H,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&g(H,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&g(H,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&g(H,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&g(H,"volumePosition",this.volumePosition),this.differentFont("annotationfont",D)&&h(H,"annotationfont",this.annotationfont),this.differentFont("gchordfont",D)&&h(H,"gchordfont",this.gchordfont),this.differentFont("vocalfont",D)&&h(H,"vocalfont",this.vocalfont),this.differentFont("tripletfont",D)&&h(H,"tripletfont",this.tripletfont)):R==="bar"&&(this.dynamicPosition!=="auto"&&g(H,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&g(H,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&g(H,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&g(H,"volumePosition",this.volumePosition),this.differentFont("measurefont",D)&&h(H,"measurefont",this.measurefont),this.differentFont("repeatfont",D)&&h(H,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var H=0;H<this.inTie.length;H++)if(this.endingHoldOver.inTie.push([]),this.inTie[H])for(var D=0;D<this.inTie[H].length;D++)this.endingHoldOver.inTie[H].push(this.inTie[H][D]);for(var R in this.inTieChord)this.inTieChord.hasOwnProperty(R)&&(this.endingHoldOver.inTieChord[R]=this.inTieChord[R])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var H=0;H<this.endingHoldOver.inTie.length;H++){this.inTie.push([]);for(var D=0;D<this.endingHoldOver.inTie[H].length;D++)this.inTie[H].push(this.endingHoldOver.inTie[H][D])}for(var R in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(R)&&(this.inTieChord[R]=this.endingHoldOver.inTieChord[R])}}},S=function(H){C.warnings||(C.warnings=[]),C.warnings.push(H)},k=function(H){C.warningObjects||(C.warningObjects=[]),C.warningObjects.push(H)},M=function(H){var D=H.replace(/\x12/g," ");return D=D.replace(/&/g,"&amp;"),D=D.replace(/</g,"&lt;"),D.replace(/>/g,"&gt;")},I=function(H,D,R){D||(D=" ");var U=D[R];(U===" "||!U)&&(U="SPACE");var Y=M(D.substring(R-64,R))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+U+"</span>"+M(D.substring(R+1).substring(0,64));S("Music Line:"+_.lineIndex+":"+(R+1)+": "+H+":  "+Y),k({message:H,line:D,startChar:C.iChar+R,column:R})},N,z;this.getWarnings=function(){return C.warnings},this.getWarningObjects=function(){return C.warningObjects};var j=function(H,D){if(D.indexOf("")>=0){m+=D;return}if(D=m+D,m="",!H){I("Can't add words before the first line of music",H,0);return}D=a.strip(D),D[D.length-1]!=="-"&&(D=D+" ");for(var R=[],U=0,Y=!1,G=function(E){var W=a.strip(D.substring(U,E));if(W=W.replace(/\\([-_*|~])/g,"$1"),U=E+1,W.length>0){Y&&(W=W.replace(/~/g," "));var X=D[E];return X!=="_"&&X!=="-"&&(X=" "),R.push({syllable:_.translateString(W),divider:X}),Y=!1,!0}return!1},A=!1,O=0;O<D.length;O++){switch(D[O]){case" ":case"":G(O);break;case"-":!A&&!G(O)&&R.length>0&&(a.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":A||(G(O),R.push({skip:!0,to:"slur"}));break;case"*":A||(G(O),R.push({skip:!0,to:"next"}));break;case"|":A||(G(O),R.push({skip:!0,to:"bar"}));break;case"~":A||(Y=!0);break}A=D[O]==="\\"}H.forEach(function(E){if(R.length!==0){if(R[0].skip){switch(R[0].to){case"next":E.el_type==="note"&&E.pitches!==null&&R.shift();break;case"slur":E.el_type==="note"&&E.pitches!==null&&R.shift();break;case"bar":E.el_type==="bar"&&R.shift();break}E.el_type!=="bar"&&(E.lyric===void 0?E.lyric=[{syllable:"",divider:" "}]:E.lyric.push({syllable:"",divider:" "}))}else if(E.el_type==="note"&&E.rest===void 0){var W=R.shift();W.syllable&&(W.syllable=W.syllable.replace(/ +/g,"")),E.lyric===void 0?E.lyric=[W]:E.lyric.push(W)}}})},T=function(H,D){if(D.indexOf("")>=0){p+=D;return}if(D=p+D,p="",!H){I("Can't add symbols before the first line of music",H,0);return}D=a.strip(D),D[D.length-1]!=="-"&&(D=D+" ");for(var R=[],U=0,Y=!1,G=function(O){var E=a.strip(D.substring(U,O));if(U=O+1,E.length>0){Y&&(E=E.replace(/~/g," "));var W=D[O];return W!=="_"&&W!=="-"&&(W=" "),R.push({syllable:_.translateString(E),divider:W}),Y=!1,!0}return!1},A=0;A<D.length;A++)switch(D[A]){case" ":case"":G(A);break;case"-":!G(A)&&R.length>0&&(a.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":G(A),R.push({skip:!0,to:"slur"});break;case"*":G(A),R.push({skip:!0,to:"next"});break;case"|":G(A),R.push({skip:!0,to:"bar"});break;case"~":Y=!0;break}H.forEach(function(O){if(R.length!==0){if(R[0].skip)switch(R[0].to){case"next":O.el_type==="note"&&O.pitches!==null&&R.shift();break;case"slur":O.el_type==="note"&&O.pitches!==null&&R.shift();break;case"bar":O.el_type==="bar"&&R.shift();break}else if(O.el_type==="note"&&O.rest===void 0){var E=R.shift();O.lyric===void 0?O.lyric=[E]:O.lyric.push(E)}}})},F=function(H){if(a.startsWith(H,"%%")){var D=e.addDirective(H.substring(2));D&&I(D,H,2);return}var R=H.indexOf("%");if(R>=0&&(H=H.substring(0,R)),H=H.replace(/\s+$/,""),H.length!==0){if(m){j(w.getCurrentVoice(),H.substring(2));return}if(p){T(w.getCurrentVoice(),H.substring(2));return}if(H.length<2||H[1]!==":"||z.lineContinuation){z.parseMusic(H);return}var U=N.parseHeader(H);U.regular&&z.parseMusic(H),U.newline&&z.startNewLine(),U.words&&j(w.getCurrentVoice(),H.substring(2)),U.symbols&&T(w.getCurrentVoice(),H.substring(2))}};function q(H,D){H.push({el_type:"hint"});for(var R=0;R<D.length;R++){var U=D[R],Y=Object.assign({},U);if(H.push(Y),U.el_type==="bar")return}}function B(H,D){for(var R=0;R<H.length;R++){var U=H[R],Y=D[R];if(Y)for(var G=0;G<Y.voices.length;G++){var A=Y.voices[G],O=U.voices[G];O&&q(O,A)}}}function V(){for(var H=0;H<y.lines.length;H++){var D=y.lines[H].staff;if(D){for(var R=H+1;R<y.lines.length&&y.lines[R].staff===void 0;)R++;if(R<y.lines.length){var U=y.lines[R].staff;B(D,U)}}}}this.parse=function(H,D,R){D||(D={}),R||(R=0),y.reset(),H=H.replace(/\r\n?/g,`
`)+`
`;var U=H.split(`
\\`);if(U.length>1){for(var Y=1;Y<U.length;Y++)for(;U[Y].length>0&&U[Y][0]!==`
`;)U[Y]=U[Y].substr(1),U[Y-1]+=" ";H=U.join("  ")}H=H.replace(/\\([ \t]*)(%.*)*\n/g,function(K,Q,ie){var he=ie?Array(ie.length+1).join(" "):"";return Q+""+he+`
`});var G=H.split(`
`);a.last(G).length===0&&G.pop(),_=new o(G,C),N=new t(_,I,C,y,w),z=new n(_,I,C,y,w,N),D.print&&(y.media="print"),C.reset(),C.iChar=R,D.visualTranspose?(C.globalTranspose=parseInt(D.visualTranspose),C.globalTranspose===0?C.globalTranspose=void 0:w.setVisualTranspose(D.visualTranspose)):C.globalTranspose=void 0,D.lineBreaks&&(C.lineBreaks=D.lineBreaks),N.reset(_,I,C,y);try{D.format&&e.globalFormatting(D.format);for(var A=_.nextLine();A;){if(D.header_only&&C.is_in_header===!1||D.stop_on_warning&&C.warnings)throw"normal_abort";var O=C.is_in_header;F(A),O&&!C.is_in_header&&(w.setRunningFont("annotationfont",C.annotationfont),w.setRunningFont("gchordfont",C.gchordfont),w.setRunningFont("tripletfont",C.tripletfont),w.setRunningFont("vocalfont",C.vocalfont)),A=_.nextLine()}m&&j(w.getCurrentVoice(),""),p&&T(w.getCurrentVoice(),""),C.openSlurs=w.cleanUp(C.barsperstaff,C.staffnonote,C.openSlurs)}catch(K){if(K!=="normal_abort")throw K}var E=11*72,W=8.5*72;switch(C.papersize){case"legal":E=14*72,W=8.5*72;break;case"A4":E=11.7*72,W=8.3*72;break}if(C.landscape){var X=E;E=W,W=X}y.formatting.pagewidth||(y.formatting.pagewidth=W),y.formatting.pageheight||(y.formatting.pageheight=E),D.hint_measures&&V(),l.wrapLines(y,C.lineBreaks,C.barNumbers)}};return Vu=d,Vu}var ju,Bv;function ZS(){if(Bv)return ju;Bv=1;var a=Pr(),e=function(t){var n="",o=t.match(/(\s*)/);t=a.strip(t);for(var l=t.split(`
X:`),u=1;u<l.length;u++)l[u]="X:"+l[u];var f=o?o[0].length:0,d=[];if(l.forEach(function(m){d.push({abc:m,startPos:f}),f+=m.length+1}),d.length>1&&!a.startsWith(d[0].abc,"X:")){var y=d.shift(),w=y.abc.split(`
`);w.forEach(function(m){a.startsWith(m,"%%")&&(n+=m+`
`)})}var _=n;return d.forEach(function(m){var p=m.abc.indexOf(`

`);p>0&&(m.abc=m.abc.substring(0,p)),m.pure=m.abc,m.abc=n+m.abc,m.title="";var g=m.pure.split("T:");g.length>1&&(g=g[1].split(`
`),m.title=a.strip(g[0]));var h=m.pure.substring(2,m.pure.indexOf(`
`));m.id=a.strip(h)}),{header:_,tunes:d}};return ju=e,ju}var Hu,qv;function JS(){if(qv)return Hu;qv=1;function a(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:t*e,height:5}}return a.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)},a.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var o=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(t.pitch=o,!1):(t.pitch=o+this.lineSpace,!0);break}return n},Hu=a,Hu}var Wu,zv;function d5(){if(zv)return Wu;zv=1;var a=function(t,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return a.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)},a.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])},a.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))},a.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},a.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)},a.prototype.addBeam=function(e){this.beams.push(e)},a.prototype.setWidth=function(e){this.w=e},Wu=a,Wu}var Uu,Vv;function C1(){if(Vv)return Uu;Vv=1;var a=function(e,t,n,o){if(e)for(var l=0;l<e.length;l++){var u=e[l],f=u.getAttribute("highlight");f||(f="fill"),u.setAttribute(f,o);var d=u.getAttribute("class");d||(d=""),d=d.replace(n,""),d=d.replace(t,""),t.length>0&&(d.length>0&&d[d.length-1]!==" "&&(d+=" "),d+=t),u.setAttribute("class",d)}};return Uu=a,Uu}var Gu,jv;function p5(){if(jv)return Gu;jv=1;var a=C1(),e=function(t,n){t===void 0&&(t="abcjs-note_selected"),n===void 0&&(n="#ff0000"),a(this.elemset,t,"",n)};return Gu=e,Gu}var $u,Hv;function m5(){if(Hv)return $u;Hv=1;var a=C1(),e=function(t,n){t===void 0&&(t="abcjs-note_selected"),n===void 0&&(n="#000000"),a(this.elemset,"",t,n)};return $u=e,$u}var Yu,Wv;function zs(){if(Wv)return Yu;Wv=1;var a=p5(),e=m5(),t=function(o,l,u,f,d,y){y||(y={}),this.tuneNumber=d,this.abcelem=o,this.duration=l,this.durationClass=y.durationClassOveride?y.durationClassOveride:this.duration,this.minspacing=u||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=f,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return t.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},t.prototype.addExtra=function(n){this.fixed.w=Math.max(this.fixed.w,n.dx+n.w),this.fixed.t===void 0?this.fixed.t=n.top:this.fixed.t=Math.max(this.fixed.t,n.top),this.fixed.b===void 0?this.fixed.b=n.bottom:this.fixed.b=Math.min(this.fixed.b,n.bottom),n.dx<this.extraw&&(this.extraw=n.dx),this.extra[this.extra.length]=n,this._addChild(n)},t.prototype.addHead=function(n){n.dx<this.extraw&&(this.extraw=n.dx),this.heads[this.heads.length]=n,this.addRight(n)},t.prototype.addRight=function(n){this.fixed.w=Math.max(this.fixed.w,n.dx+n.w),n.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=n.top:this.fixed.t=Math.max(this.fixed.t,n.top)),n.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=n.bottom:this.fixed.b=Math.min(this.fixed.b,n.bottom)),n.dx+n.w>this.w&&(this.w=n.dx+n.w),this.right[this.right.length]=n,this._addChild(n)},t.prototype.addFixed=function(n){this._addChild(n)},t.prototype.addFixedX=function(n){this._addChild(n)},t.prototype.addCentered=function(n){var o=n.w/2;-o<this.extraw&&(this.extraw=-o),this.extra[this.extra.length]=n,n.dx+o>this.w&&(this.w=n.dx+o),this.right[this.right.length]=n,this._addChild(n)},t.prototype.setLimit=function(n,o){o[n]&&(this.specialY[n]?this.specialY[n]=Math.max(this.specialY[n],o[n]):this.specialY[n]=o[n])},t.prototype._addChild=function(n){var o=!0;this.abcelem.el_type=="clef"&&n.type=="barNumber"&&(o=!1),n.parent=this,this.children[this.children.length]=n,o&&this.pushTop(n.top),this.pushBottom(n.bottom),this.setLimit("tempoHeightAbove",n),this.setLimit("partHeightAbove",n),this.setLimit("volumeHeightAbove",n),this.setLimit("dynamicHeightAbove",n),this.setLimit("endingHeightAbove",n),this.setLimit("chordHeightAbove",n),this.setLimit("lyricHeightAbove",n),this.setLimit("lyricHeightBelow",n),this.setLimit("chordHeightBelow",n),this.setLimit("volumeHeightBelow",n),this.setLimit("dynamicHeightBelow",n)},t.prototype.pushTop=function(n){n!==void 0&&(this.top===void 0?this.top=n:this.top=Math.max(n,this.top))},t.prototype.pushBottom=function(n){n!==void 0&&(this.bottom===void 0?this.bottom=n:this.bottom=Math.min(n,this.bottom))},t.prototype.setX=function(n){this.x=n;for(var o=0;o<this.children.length;o++)this.children[o].setX(n)},t.prototype.center=function(n,o){var l=(o.x-n.x)/2+n.x;this.x=l-this.w/2;for(var u=0;u<this.children.length;u++)this.children[u].setX(this.x)},t.prototype.setHint=function(){this.hint=!0},t.prototype.highlight=function(n,o){a.bind(this)(n,o)},t.prototype.unhighlight=function(n,o){e.bind(this)(n,o)},Yu=t,Yu}var Xu,Uv;function hr(){if(Uv)return Xu;Uv=1;var a=function(t,n,o,l,u){switch(u=u||{},this.x=0,this.c=t,this.dx=n,this.w=o,this.pitch=l,this.scalex=u.scalex||1,this.scaley=u.scaley||1,this.type=u.type||"symbol",this.pitch2=u.pitch2,this.linewidth=u.linewidth,this.klass=u.klass,this.anchor=u.anchor?u.anchor:"middle",this.top=l,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=l,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),u.thickness&&(this.top+=u.thickness/2,this.bottom-=u.thickness/2),u.stemHeight&&(u.stemHeight>0?this.top+=u.stemHeight:this.bottom+=u.stemHeight),u.dim&&(this.dim=u.dim),u.position&&(this.position=u.position),this.height=u.height?u.height:4,u.top&&(this.top=u.top),u.bottom&&(this.bottom=u.bottom),u.name?this.name=u.name:this.c?this.name=this.c:this.name=this.type,u.realWidth?this.realWidth=u.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":u.position&&u.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":u.position&&u.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?u.position&&u.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};return a.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,n=this.x-t-e,o=n+this.realWidth+e;return{left:n,right:o}},a.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1},a.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane},a.prototype.getLane=function(){return this.lane===void 0?0:this.lane},a.prototype.setX=function(e){this.x=e+this.dx},Xu=a,Xu}var Qu,Gv;function ek(){if(Gv)return Qu;Gv=1;var a=zs(),e=hr();function t(h){return h!=null&&h.constructor===Object}function n(h,C){for(var S in C)C.hasOwnProperty(S)&&(Array.isArray(C[S])||t(C[S])||(h[S]=C[S]))}function o(h){var C=new a("",0,0,"",0);return n(C,h),C.top=0,C.bottom=-1,h.abcelem&&(C.abcelem={},n(C.abcelem,h.abcelem),C.abcelem.el_type==="note"&&(C.abcelem.el_type="tabNumber")),h.cloned=C,C}function l(h,C){var S=o(h);if(C)for(var k=h.children,M=!0,I=0;I<k.length;I++){var N=k[I],z=new e("",0,0,0,"");n(z,N),M=C.tablature.setRelative(N,z,M),S.children.push(z)}return S}function u(h,C,S){var k="tab.tiny",M=7.5;h.isTabBig&&(k="tab.big",M=10);var I={el_type:"tab",icon:k,Ypos:M};if(M+=h.tabSymbolOffset,!h.hideTabSymbol){var N=new a(I,0,0,"symbol",0);N.x=C;var z=new e(k,0,0,7.5,"tab");z.x=S,N.children.push(z),N.abcelem.el_type=="tab"&&(z.pitch=M)}return N}function f(h){if(h.extra)for(var C=0;C<h.extra.length;C++){var S=h.extra[C];if(S.type=="lyric")return{bottom:S.bottom,height:S.height}}return null}function d(){this.accidentals=null}function y(h){for(var C=0,S=0;S<h.length;S++)h[S].tabNameInfos||C++;return C}function w(h,C,S,k,M){var I=k.num;k.note.quarter!=null&&(I=I.toString(),I+=k.note.quarter);var N=h.semantics.stringToPitch(k.str);S.notes.push({num:I,str:k.str,pitch:k.note.emit()});var z={type:"tabNumber"},j=new e(I,0,0,N+.3,z);return j.x=C,j.isGrace=M,j.isAltered=k.note.isAltered,j}function _(h,C){var S=0;if(h.extra){for(var k=0;k<h.extra.length;k++)if(h.extra[k].c.indexOf("noteheads")>=0){if(S===C)return h.extra[k].x+h.extra[k].w/2;S++}}return-1}function m(h){if(h.abcelem){var C=h.abcelem;if(C.rest)return C.gracenotes}return null}function p(h,C,S){var k=h.semantics.notesToNumber(C,S);if(k.error)return h.setError(k.error),k;if(k.graces&&k.notes){var M=k.notes.length-1;k.notes[M].graces=k.graces}return k}function g(h,C,S,k,M){for(var I=0;I<k.length;I++){var N={el_type:"note",startChar:S.abcelem.startChar,endChar:S.abcelem.endChar,notes:[],grace:!0},z=_(S,I),j=k[I],T=w(h,z,N,j,!0);C.children.push(T),M.push(N)}}return d.prototype.build=function(h,C,S,k,M,I,N){y(C);var z=C[M+k],j=C[N],T=null,F=null;z.children[0].abcelem.el_type!="clef"&&I!="none"&&z.children.splice(0,0,I);for(var q=0;q<z.children.length;q++){var B=z.children[q],V=B.x,H=V;switch(B.isClef&&(j.children.push(u(h,V,H)),B.abcelem.type.indexOf("-8")>=0&&(h.semantics.clefTranspose=-12),B.abcelem.type.indexOf("+8")>=0&&(h.semantics.clefTranspose=12)),B.type){case"staff-extra key-signature":this.accidentals=B.abcelem.accidentals,h.semantics.accidentals=this.accidentals;break;case"bar":h.semantics.measureAccidentals={};var D=!1;q===z.children.length-1&&(D=!0);var R=l(B,h);if(R.abcelem.barNumber){delete R.abcelem.barNumber;for(var U=0;U<R.children.length;U++)if(R.children[U].type==="barNumber"){R.children.splice(U,1);break}}R.abcelem.lastBar=D,j.children.push(R),S.push({el_type:B.abcelem.el_type,type:B.abcelem.type,endChar:B.abcelem.endChar,startChar:B.abcelem.startChar,abselem:R});break;case"rest":var Y=m(B);if(Y){if(T=p(h,null,Y),T.error)return;Q={el_type:"note",startChar:B.abcelem.startChar,endChar:B.abcelem.endChar,notes:[],grace:!0},g(h,G,B,T.graces,S)}break;case"note":var G=o(B);G.x=B.heads[0].x+B.heads[0].w/2,G.lyricDim=f(B);var A=B.abcelem.pitches,O=B.abcelem.gracenotes;if(G.type="tabNumber",T=p(h,A,O),T.error)return;if(T.graces){var E=T.notes.length-1;T.notes[E].graces=T.graces}F={el_type:"note",startChar:B.abcelem.startChar,endChar:B.abcelem.endChar,notes:[]};for(var W=0;W<T.notes.length;W++){var X=T.notes[W];if(X.graces)for(var K=0;K<X.graces.length;K++){var Q={el_type:"note",startChar:B.abcelem.startChar,endChar:B.abcelem.endChar,notes:[],grace:!0},ie=_(B,K),he=X.graces[K],J=w(h,ie,Q,he,!0);G.children.push(J),S.push(Q)}var ge=w(h,G.x+B.heads[W].dx,F,X,!1);G.children.push(ge)}F.notes.length>0&&(F.abselem=G,S.push(F),j.children.push(G));break}}},Qu=d,Qu}var Ku,$v;function tk(){if($v)return Ku;$v=1;var a=d5(),e=ek(),t=vn();function n(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function o(h){for(var C=0,S=0;S<h.children.length;S++){var k=h.children[S];k.specialY&&k.specialY.lyricHeightBelow>C&&(C=k.specialY.lyricHeightBelow)}return C}function l(h,C,S){var k=h.semantics,M=C.controller.getTextSize,I=k.tabInfos(h),N=k.suppress(h),z=!0;if(N&&(z=!1),z){var j=M.calc(I,"tablabelfont","text instrumentname");return S.tabNameInfos={textSize:{height:j.height,width:j.width},name:I},j.height}return 0}function u(h,C){return C[h].isTabStaff?h===C.length-1?!0:!C[h+1].isTabStaff:!1}function f(h){for(var C=0,S=0;S<h.length;S++)h[S].isTabStaff||C++;return C}function d(h,C){for(var S=C;S>=0;S--)if(!h[S].isTabStaff)return S;return-1}function y(h){for(var C=0;C<h.length;C++)if(h[C].isTabStaff){var S=d(h,C);h[C].hasStaff=h[S],h[S].hasTab||(h[S].hasTab=[]),h[S].hasTab.push(h[C])}}function w(h,C){return f(h)===1&&C.voices.length>1}function _(h,C){for(var S=0,k=0,M=!0,I=0;M;){if(!C[S])return-1;if(C[S].isTabStaff||(I=C[S].voices.length),C[S].isTabStaff){if(k++,u(S,C)&&k<I)return S+1}else if(k=0,S>=h&&(S+1==C.length||!C[S+1].isTabStaff))return S+1;if(S++,S>C.length)return-1}}function m(h,C){for(var S=C;S>=0;S--)if(!h[S].isTabStaff)return h[S];return null}function p(h,C){var S=h[C],k=S.children[0].abcelem;return k.el_type==="clef"?null:C==0?"none":h[C-1].children[0]}function g(h,C,S,k){var M=new e,I={clef:{type:"TAB"}},N=h.linePitch*h.nbLines,z=S.staff;if(z){var j=z[0];if(j&&j.clef&&j.clef.stafflines==0){h.setError("No tablatures when stafflines=0");return}z.splice(z.length,0,I)}var T=S.staffGroup,F=T.voices,q=F[0],B=o(q),V=3,H=k,D=T.staffs[H],R=N+V-D.bottom-B;D.isTabStaff&&(R=D.top);var U={bottom:-1,isTabStaff:!0,specialY:n(),lines:h.nbLines,linePitch:h.linePitch,dy:.15,top:R},Y=_(k,T.staffs);if(Y!==-1){U.parentIndex=Y-1,T.staffs.splice(Y,0,U),T.height+=N+V;var G=m(T.staffs,Y),A=1;w(T.staffs,G)&&(A=G.voices.length),I.voices=[];for(var O=0;O<A;O++){var E=new a(0,0);O>0&&(E.duplicate=!0);var W=l(h,C,E)/t.STEP;W=Math.max(W,1),T.staffs[k].top+=1,T.height+=W,E.staff=U;var X=F.length;F.splice(F.length,0,E);var K=p(F,O+k);I.voices[O]=[],M.build(h,F,I.voices[O],O,k,K,X)}y(T.staffs)}}return Ku=g,Ku}var Zu,Yv;function g5(){if(Yv)return Zu;Yv=1;var a={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},e=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function t(o){var l=o.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(l&&l.length===5){var u=a[l[1]],f=e.indexOf(l[2]),d=l[4].length-l[3].length;return 48+f+u+d*12}return 0}function n(o){o=parseInt(o,10);var l=Math.floor(o/12),u=o%12,f=e[u];if(f==="-"&&(f="^"+e[u-1]),l>4)for(f=f.toLowerCase(),l-=5;l>0;)f+="'",l--;else for(;l<4;)f+=",",l++;return f}return Zu={noteToMidi:t,midiToNote:n},Zu}var Ju,Xv;function v5(){if(Xv)return Ju;Xv=1;var{noteToMidi:a,midiToNote:e}=g5();function t(o,l){var u=a(o);l&&(u+=l);var f=e(u),d=!1,y=!1,w=!1,_=null,m=null,p=!1,g=0;o.startsWith("_")?(d=!0,g=-1,o[1]=="/"?(d=!1,m="v",g=0):o[1]=="_"&&(p=!0,g-=1)):o.startsWith("^")?(y=!0,g=1,o[1]=="/"?(y=!1,m="^",g=0):o[1]=="^"&&(p=!0,g+=1)):o.startsWith("=")&&(_=!0,g=0),w=d||y||m!=null,(w||_)&&(m!=null||p?f=o.slice(2):f=o.slice(1));var h=(f.match(/,/g)||[]).length,C=(f.match(/'/g)||[]).length;this.pitch=u,this.pitchAltered=0,this.name=f,this.acc=g,this.isSharp=y,this.isKeySharp=!1,this.isDouble=p,this.isAltered=w,this.isFlat=d,this.isKeyFlat=!1,this.natural=_,this.quarter=m,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=h,this.isQuoted=C}function n(o){var l=o.name,u=new t(l);return u.pitch=o.pitch,u.hasComma=o.hasComma,u.isLower=o.isLower,u.isQuoted=o.isQuoted,u.isSharp=o.isSharp,u.isKeySharp=o.isKeySharp,u.isFlat=o.isFlat,u.isKeyFlat=o.isKeyFlat,u}return t.prototype.sameNoteAs=function(o){return o.pitch===this.pitch},t.prototype.isLowerThan=function(o){return o.pitch>this.pitch},t.prototype.checkKeyAccidentals=function(o,l){if(!(this.isAltered||this.natural)){if(l[this.name.toUpperCase()])switch(l[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(o)for(var u=this.name,f=0;f<o.length;f++){var d=o[f];u==d.note.toUpperCase()&&(d.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),d.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}},t.prototype.getAccidentalEquiv=function(){var o=n(this);return o.isSharp||o.isKeySharp?(o=o.nextNote(),o.isFlat=!0,o.isSharp=!1,o.isKeySharp=!1):(o.isFlat||o.isKeyFlat)&&(o=o.prevNote(),o.isSharp=!0,o.isFlat=!1,o.isKeyFlat=!1),o},t.prototype.nextNote=function(){var o=e(this.pitch+1+this.pitchAltered);return new t(o)},t.prototype.prevNote=function(){var o=e(this.pitch-1+this.pitchAltered);return new t(o)},t.prototype.emitNoAccidentals=function(){var o=this.name;this.isLower&&(o=o.toLowerCase());for(var l=0;l<this.isQuoted;l++)o+="'";for(var u=0;u<this.hasComma;u++)o+=",";return o},t.prototype.emit=function(){var o=this.name;(this.isSharp||this.isKeySharp)&&(o="^"+o,this.isDouble&&(o="^"+o)),(this.isFlat||this.isKeyFlat)&&(o="_"+o,this.isDouble&&(o="_"+o)),this.quarter&&(this.quarter=="^"?o="^/"+o:o="_/"+o),this.natural&&(o="="+o);for(var l=1;l<=this.hasComma;l++)o+=",";if(this.isLower){o=o.toLowerCase();for(var u=1;u<=this.isQuoted;u++)o+="'"}return o},Ju=t,Ju}var eh,Qv;function nk(){if(Qv)return eh;Qv=1;var a=v5(),e=["A","B","C","D","E","F","G"];function t(n,o){var l=new a(n),u=new a(o);if(u.isLowerThan(l)){var f=l.emit(),d=u.emit();return{error:"Invalid string Instrument tuning : "+d+" string lower than "+f+" string"}}var y=[],w=e.indexOf(l.name),_=e.indexOf(u.name);if(w==-1||_==-1)return y;for(var m=!1;!m;)y.push(l.emit()),l=l.nextNote(),l.sameNoteAs(u)&&(m=!0);return y}return eh=t,eh}var th,Kv;function rk(){if(Kv)return th;Kv=1;const{noteToMidi:a}=g5();var e=v5(),t=nk();function n(m){var p=null,g=m.tuning;if(m.capo>0){p=[];for(var h=0;h<g.length;h++){for(var C=new e(g[h]),S=0;S<m.capo;S++)C=C.nextNote();p[h]=C.emit()}}return p}function o(m){var p=[],g=m.tuning;m.capo>0&&(g=m.capoTuning);for(var h=g.length-1,C=0;C<g.length;C++){var S=m.highestNote;C!=g.length-1&&(S=g[C+1]);var k=t(g[C],S);if(k.error)return k;p[h--]=k}return p}function l(m){var p=[];p[0]=[];for(var g=m.strings,h=1;h<g.length;h++)p[h]=g[h-1];return p}function u(m,p){for(var g=0;g<p.length-1;g++){var h=p[g],C=p[g+1];if(h.str==C.str){if(h.str==m.strings.length-1){h.num="?",C.num="?";return}C.num<h.num?(C.str++,C=d(m,C.note,C.str,m.secondPos,m.strings[C.str].length)):(h.str++,h=d(m,h.note,h.str,m.secondPos,m.strings[h.str].length)),p[g]=h,p[g+1]=C}}return null}function f(m,p){for(var g=[],h=0;h<p.length;h++)if(!p[h].endTie){var C=new e(p[h].name,m.clefTranspose);C.checkKeyAccidentals(m.accidentals,m.measureAccidentals);var S=y(m,C);g.push(S)}return u(m,g),g}function d(m,p,g,h,C){var S=m.strings;p.checkKeyAccidentals(m.accidentals,m.measureAccidentals),h&&(S=h);var k=p.emitNoAccidentals(),M=S[g].indexOf(k),I=p.acc;if(M!=-1){if(h&&(M+=C),(p.isFlat||p.acc==-1)&&M==0){var N=p.getAccidentalEquiv();g++,M=S[g].indexOf(N.emit()),I=0}return{num:M+I,str:g,note:p}}return null}function y(m,p){if(p.isAltered||p.natural){var g;p.isFlat?p.isDouble?g="__":g="_":p.isSharp?p.isDouble?g="^^":g="^":p.natural&&(g="="),m.measureAccidentals[p.name.toUpperCase()]=g}for(var h=m.stringPitches.length-1;h>=0;h--)if(p.pitch+p.pitchAltered>=m.stringPitches[h]){var C=p.pitch+p.pitchAltered-m.stringPitches[h];return p.quarter==="^"?C-=.5:p.quarter==="v"&&(C+=.5),{num:Math.round(C),str:m.stringPitches.length-1-h,note:p}}return{num:"?",str:m.stringPitches.length-1,note:p}}_.prototype.stringToPitch=function(m){var p=5.3,g=this.strings.length-1;return p+(g-m)*this.linePitch};function w(m,p){var g={num:"?",str:0,note:p};m.push(g),m.error=p.emit()+": unexpected note for instrument"}_.prototype.notesToNumber=function(m,p){var g,h,C=null,S=null;if(m&&(S=[],m.length>1?(S=f(this,m),S.error&&(C=S.error)):m[0].endTie||(g=new e(m[0].name,this.clefTranspose),g.checkKeyAccidentals(this.accidentals,this.measureAccidentals),h=y(this,g),h?S.push(h):(w(S,g),C=S.error))),C)return S;var k=null;if(p){k=[];for(var M=0;M<p.length;M++)g=new e(p[M].name,this.clefTranspose),g.checkKeyAccidentals(this.accidentals,this.measureAccidentals),h=y(this,g),h?k.push(h):(w(k,g),C=S.error)}return{notes:S,graces:k,error:C}},_.prototype.toString=function(){for(var m=[],p=0;p<this.tuning.length;p++){var g=this.tuning[p].replaceAll(",","").replaceAll("'","").toUpperCase();g[0]==="_"?g=g[1]+"b ":g[0]==="^"&&(g=g[1]+"# "),m.push(g)}return m.join("")},_.prototype.tabInfos=function(m){var p=m.params.label;if(p){var g=p.indexOf("%T"),h="";return g!=-1&&(h=this.toString(),m.capo>0&&(h+=" capo:"+m.capo),p=p.replace("%T",h)),p}return""},_.prototype.suppress=function(m){var p=m.params.suppress;return!!p};function _(m){var p=m.tuning,g=m.capo,h=m.params.highestNote;this.linePitch=m.linePitch,this.highestNote="a'",h&&(this.highestNote=h),this.measureAccidentals={},this.capo=0,g&&(this.capo=parseInt(g,10)),this.transpose=m.transpose?m.transpose:0,this.tuning=p,this.stringPitches=[];for(var C=0;C<this.tuning.length;C++){var S=a(this.tuning[C])+this.capo;this.stringPitches.push(S)}if(this.capo>0&&(this.capoTuning=n(this)),this.strings=o(this),this.strings.error){m.setError(this.strings.error),m.inError=!0;return}this.secondPos=l(this)}return th=_,th}var nh,Zv;function ik(){if(Zv)return nh;Zv=1;var a=JS(),e=tk(),t=rk();n.prototype.init=function(l,u,f,d){this.tune=l,this.params=f,this.tuneNumber=u,this.inError=!1,this.abcTune=l,this.linePitch=3,this.nbLines=d.defaultTuning.length,this.isTabBig=d.isTabBig,this.tabSymbolOffset=d.tabSymbolOffset,this.capo=f.capo,this.transpose=f.visualTranspose,this.hideTabSymbol=f.hideTabSymbol,this.tablature=new a(this.nbLines,this.linePitch);var y=f.tuning;y||(y=d.defaultTuning),this.tuning=y,this.semantics=new t(this)},n.prototype.setError=function(l){l&&(this.error=l,this.inError=!0,this.tune.warnings?this.tune.warnings.push(l):this.tune.warnings=[l])},n.prototype.render=function(l,u,f){this.inError||this.tablature.bypass(u)||e(this,l,u,f)};function n(){}var o=function(){return{name:"StringTab",tablature:n}};return nh=o,nh}var rh,Jv;function y5(){if(Jv)return rh;Jv=1;var a=ik(),e={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},t={inited:!1,plugins:{},register:function(n){var o=n.name,l=n.tablature;this.plugins[o]=l},setError:function(n,o){n.warnings?n.warning.push(o):n.warnings=[o]},preparePlugins:function(n,o,l){this.inited||(this.register(new a),this.inited=!0);var u=null;if(l.tablature){var f=l.tablature;u=[];for(var d=0;d<f.length;d++){var y=f[d],w=y.instrument;if(w==null)return this.setError(n,"tablature 'instrument' is missing"),u;var _=e[w],m=null;if(_&&(m=this.plugins[_.name]),m){l.visualTranspose!=0&&(y.visualTranspose=l.visualTranspose),y.abcSrc=l.tablature.abcSrc;var p={classz:m,tuneNumber:o,params:y,instance:null,tabType:_};u.push(p)}else if(w==="")u.push(null);else return this.setError(n,"Undefined tablature plugin: "+w),u}}return u},layoutTablatures:function(o,l){var u=l.tablatures,f=0;if(u&&u.length>0)for(var d=u.length,y=0;y<d;++y)u[y]&&u[y].params.firstStaffOnly&&(u[y].params.suppress=!1);for(var w=0;w<l.lines.length;w++){var _=l.lines[w];if(_.staff&&f++,f>1&&u&&u.length>0)for(var d=u.length,y=0;y<d;++y)u[y].params.firstStaffOnly&&(u[y].params.suppress=!0);var m=_.staff;if(m){for(var p=m.length,g=0;g<m.length;g++)if(u[g]&&g<p){var h=u[g];h.instance==null&&(h.instance=new h.classz,h.instance.init(l,h.tuneNumber,h.params,h.tabType)),h.instance.render(o,_,g)}}}}};return rh=t,rh}var ih,e2;function yc(){if(e2)return ih;e2=1;var a=f5(),e=ZS(),t=y5(),n={};return function(){n.numberOfTunes=function(l){var u=l.split(`
X:`),f=u.length;return f===0&&(f=1),f};var o=n.TuneBook=function(l){var u=e(l);this.header=u.header,this.tunes=u.tunes};o.prototype.getTuneById=function(l){for(var u=0;u<this.tunes.length;u++)if(this.tunes[u].id===""+l)return this.tunes[u];return null},o.prototype.getTuneByTitle=function(l){for(var u=0;u<this.tunes.length;u++)if(this.tunes[u].title===l)return this.tunes[u];return null},n.parseOnly=function(l,u){for(var f=n.numberOfTunes(l),d=[],y=0;y<f;y++)d.push(1);function w(){}return n.renderEngine(w,d,l,u)},n.renderEngine=function(l,u,f,d){var y=[],w=function(M){return M&&!M.propertyIsEnumerable("length")&&typeof M=="object"&&typeof M.length=="number"};if(!(u===void 0||f===void 0)){w(u)||(u=[u]),d===void 0&&(d={});for(var _=d.startingTune?parseInt(d.startingTune,10):0,m=new o(f),p=new a,g=0;g<u.length;g++){var h=u[g];if(h==="*"||typeof h=="string"&&(h=document.getElementById(h)),h)if(_>=0&&_<m.tunes.length){p.parse(m.tunes[_].abc,d,m.tunes[_].startPos-m.header.length);var C=p.getTune();d.tablature&&(C.tablatures=t.preparePlugins(C,_,d));var S=p.getWarnings();S&&(C.warnings=S);var k=l(h,C,g,m.tunes[_].abc);y.push(k||C)}else h.innerHTML&&(h.innerHTML="");_++}return y}},n.extractMeasures=function(l){for(var u=[],f=new o(l),d=0;d<f.tunes.length;d++){for(var y=f.tunes[d],w=y.abc.split("K:"),_=w[1].split(`
`),m=w[0]+"K:"+_[0]+`
`,p=null,g=null,h=null,C=[],S=!1,k=n.parseOnly(y.abc)[0],M=k.getPickupLength()>0,I=0;I<k.lines.length;I++){var N=k.lines[I];if(N.staff)for(var z=0;z<1;z++)for(var j=N.staff[z],T=0;T<1;T++)for(var F=j.voices[T],q=0;q<F.length;q++){var B=F[q];if(h===null&&B.startChar>=0&&(h=B.startChar,B.chord===void 0?g=p:g=null),B.chord&&(p=B),B.el_type==="bar"){if(S){var V=y.abc.substring(h,B.endChar),H={abc:V};p=g&&g.chord&&g.chord.length>0?g.chord[0].name:null,p&&(H.lastChord=p),B.startEnding&&(H.startEnding=B.startEnding),B.endEnding&&(H.endEnding=B.endEnding),C.push(H),h=null,S=!1}}else B.el_type==="note"&&(S=!0)}}u.push({header:m,measures:C,hasPickup:M})}return u}}(),ih=n,ih}var sh,t2;function sk(){if(t2)return sh;t2=1;var a=a5(),{relativeMajor:e,transposeKey:t,relativeMode:n}=s5(),o=i5(),l;return function(){l=function(F,q,B){if(q==="TEST")return{keyAccidentals:a,relativeMajor:e,transposeKey:t,relativeMode:n,transposeChordName:o};B=parseInt(B,10);var V=[],H;for(H=0;H<q.length;H++)V=V.concat(u(F,q[H],B));V=V.sort(function(U,Y){return Y.start-U.start});var D=F.split("");for(H=0;H<V.length;H++){var R=V[H];D.splice(R.start,R.end-R.start,R.note)}return D.join("")};function u(F,q,B){var V=[],H=q.getKeySignature();if(H.root==="Hp"||H.root==="HP")return V;V=V.concat(f(F,B));for(var D=0;D<q.lines.length;D++){var R=q.lines[D].staff;if(R)for(var U=0;U<R.length;U++){var Y=R[U];Y.clef.type!=="perc"&&(V=V.concat(d(F,Y.voices,Y.key,B)))}}return V}function f(F,q){for(var B=[],V=F.split("K:"),H=V[0].length,D=1;D<V.length;D++){var R=V[D],U=R.match(/^( *)([A-G])([#b]?)(\w*)/);if(U){var Y=H+2+U[1].length,G=U[2]+U[3]+U[4],A=g({root:U[2],acc:U[3],mode:U[4]},q),O=A.root+A.acc+A.mode;B.push({start:Y,end:Y+G.length,note:O})}H+=R.length+2}return B}function d(F,q,B,V){for(var H=[],D=g(B,V),R=0;R<q.length;R++)H=H.concat(_(F,q[R],B.root,y(B),D,V));return H}function y(F){for(var q={},B=0;B<F.accidentals.length;B++){var V=F.accidentals[B];V.acc==="flat"?q[V.note.toUpperCase()]="_":V.acc==="sharp"&&(q[V.note.toUpperCase()]="^")}return q}function w(F,q,B){var V=m.indexOf(F.root)-m.indexOf(q);return q==="none"&&(V=m.indexOf(F.root)),V===0?B>2?V+=7:B===-12&&(V-=7):B>0&&V<0?V+=7:B<0&&V>0&&(V-=7),B>12?V+=7:B<-12&&(V-=7),V}function _(F,q,B,V,H,D){for(var R=[],U=w(H,B,D),Y={},G={},A=0;A<q.length;A++){var O=q[A];if(O.chord)for(var E=0;E<O.chord.length;E++){var W=O.chord[E];if(W.position==="default"){var X=H.accidentals.length&&H.accidentals[0].acc==="flat",K=o(W.name,D,X,!0);K=K.replace(//g,"b").replace(//g,"#"),K!==W.name&&R.push(j(F,O.startChar,O.endChar,K))}}if(O.el_type==="note"&&O.pitches){for(var Q=0;Q<O.pitches.length;Q++){var ie=I(O.pitches[Q].name,B,V,Y);ie.acc&&(Y[ie.name.toUpperCase()]=ie.acc);var he=h(ie,H,U,G);he.acc&&(G[he.upper]=he.acc),R.push(N(F,O.startChar,O.endChar,he.acc+he.name,Q))}if(O.gracenotes)for(var J=0;J<O.gracenotes.length;J++){var ge=I(O.gracenotes[J].name,B,V,Y);ge.acc&&(Y[ge.name.toUpperCase()]=ge.acc);var Ce=h(ge,H,U,Y);Ce.acc&&(G[Ce.upper]=Ce.acc),R.push(z(F,O.startChar,O.endChar,Ce.acc+Ce.name,J))}}else O.el_type==="bar"?(Y={},G={}):O.el_type==="keySignature"&&(B=O.root,V=y(O),H=g(O,D),U=w(H,B,D))}return R}var m="CDEFGAB",p=[",,,,",",,,",",,",",","","'","''","'''","''''"];function g(F,q){if(F.root==="none")return{root:t("C",q),mode:"",acc:"",accidentals:[]};var B=e(F.root+F.acc+F.mode),V=t(B,q),H=n(V,F.mode),D=a(V);return{root:H[0],mode:F.mode,acc:H.length>1?H[1]:"",accidentals:D}}function h(F,q,B,V){for(var H=F.pitch,D=m.indexOf(F.name),R=m.indexOf(q.root),U=(R+H)%7,Y=D+B,G=F.oct;Y>6;)G++,Y-=7;for(;Y<0;)G--,Y+=7;for(var A=m[U],O="",E=F.adj,W="=",X=0;X<q.accidentals.length;X++)if(q.accidentals[X].note.toLowerCase()===A.toLowerCase()){E=E+(q.accidentals[X].acc==="flat"?-1:1),W=q.accidentals[X].acc==="flat"?"_":"^";break}switch(E){case-2:O="__";break;case-1:O="_";break;case 0:O="=";break;case 1:O="^";break;case 2:O="^^";break;case-3:var K={};return K.pitch=F.pitch-1,K.oct=F.oct,K.name=m[m.indexOf(F.name)-1],K.name||(K.name="B",K.oct--),K.name==="B"||K.name==="E"?K.adj=F.adj+1:K.adj=F.adj+2,h(K,q,B+1,V);case 3:var K={};return K.pitch=F.pitch+1,K.oct=F.oct,K.name=m[m.indexOf(F.name)+1],K.name||(K.name="C",K.oct++),K.name==="C"||K.name==="F"?K.adj=F.adj-1:K.adj=F.adj-2,h(K,q,B+1,V)}switch((V[A]===O||!V[A]&&O===W)&&!F.courtesy&&(O=""),G){case 0:A=A+",,,";break;case 1:A=A+",,";break;case 2:A=A+",";break;case 4:A=A.toLowerCase();break;case 5:A=A.toLowerCase()+"'";break;case 6:A=A.toLowerCase()+"''";break;case 7:A=A.toLowerCase()+"'''";break;case 8:A=A.toLowerCase()+"''''";break}return G>4&&(A=A.toLowerCase()),{acc:O,name:A,upper:A.toUpperCase()}}var C=/([_^=]*)([A-Ga-g])([,']*)/,S=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,k=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,M=/(\s*)$/;function I(F,q,B,V){var H=q==="none"?0:m.indexOf(q),D=F.match(C),R=D[2].toUpperCase(),U=m.indexOf(R)-H;U<0&&(U+=7);var Y=p.indexOf(D[3]);R===D[2]&&Y--;var G=V[R]||B[R]||"=";return{acc:D[1],name:R,pitch:U,oct:Y,adj:T(D[1],B[R],V[R]),courtesy:D[1]===G}}function N(F,q,B,V,H){var D=F.substring(q,B),R=D.match(new RegExp(S.source+M.source),"");if(R){var U=R[1].length,Y=R[2].length+R[3].length+R[4].length,G=B-q-U-Y;q+=G,B-=Y}else{var A=/([^\[]*)/,O=/\[/,E=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(R=D.match(new RegExp(A.source+O.source+k.source+k.source+k.source+k.source+k.source+k.source+k.source+k.source+E.source+M.source)),R){for(var W=1+R[1].length,X=0;X<H;X++)R[X*3+2]&&(W+=R[X*3+2].length),R[X*3+3]&&(W+=R[X*3+3].length),R[X*3+4]&&(W+=R[X*3+4].length);q+=W;var K=R[H*3+2]?R[H*3+2].length:0;B=q+K}}return{start:q,end:B,note:V}}function z(F,q,B,V,H){var D=F.substring(q,B),R=/\{/,U=/\}/,Y=/([^\{]*)/,G=/(\/*)/,A=D.match(new RegExp(Y.source+R.source+G.source+k.source+G.source+k.source+G.source+k.source+G.source+k.source+G.source+k.source+G.source+k.source+G.source+k.source+G.source+k.source+U.source));if(A){for(var O=1+A[1].length,E=0;E<H;E++)A[E*3+2]&&(O+=A[E*3+2].length),A[E*3+3]&&(O+=A[E*3+3].length),A[E*3+4]&&(O+=A[E*3+4].length),A[E*3+5]&&(O+=A[E*3+5].length);A[H*3+2]&&(O+=A[E*3+2].length),q+=O;var W=A[H*3+3]?A[H*3+3].length:0;W+=A[H*3+4]?A[H*3+4].length:0,W+=A[H*3+5]?A[H*3+5].length:0,B=q+W}return{start:q,end:B,note:V}}function j(F,q,B,V){var H=F.substring(q,B).match(/([^"]+)?(".+")+/);return H[1]&&(q+=H[1].length),B=q+H[2].length,{start:q+1,end:B-1,note:V}}function T(F,q,B){if(!F&&B&&(F=B),!F)return 0;switch(q){case void 0:switch(F){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(F){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(F){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}}(),sh=l,sh}var ah,n2;function ak(){if(n2)return ah;n2=1;var a=function(n,o,l,u){this.type="BeamElem",this.isflat=!!l,this.isgrace=!!(o&&o==="grace"),this.forceup=!!(this.isgrace||o&&o==="up"),this.forcedown=!!(o&&o==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=n,this.beams=[],u&&u.duration?(this.duration=u.duration,u.startTriplet&&(this.duration*=u.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};a.prototype.setHint=function(){this.hint=!0},a.prototype.runningDirection=function(t){var n=t.averagepitch;n!==void 0&&(this.total=Math.round(this.total+n),this.count||(this.count=0),this.count++)},a.prototype.add=function(t){var n=t.abcelem.averagepitch;n!==void 0&&(t.abcelem.rest||(this.allrests=!1),t.beam=this,this.elems.push(t),this.total=Math.round(this.total+n),(this.min===void 0||t.abcelem.minpitch<this.min)&&(this.min=t.abcelem.minpitch),(this.max===void 0||t.abcelem.maxpitch>this.max)&&(this.max=t.abcelem.maxpitch))},a.prototype.addBeam=function(t){this.beams.push(t)},a.prototype.setStemDirection=function(){if(this.average=e(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var t=6;this.stemsUp=this.average<t}delete this.count,this.total=0},a.prototype.calcDir=function(){if(this.average=e(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var t=6;this.stemsUp=this.average<t}for(var n=this.stemsUp?"up":"down",o=0;o<this.elems.length;o++)for(var l=0;l<this.elems[o].heads.length;l++)this.elems[o].heads[l].stemDir=n};function e(t,n){return n?t/n:0}return ah=a,ah}var oh,r2;function ok(){if(r2)return oh;r2=1;var a=function(t,n){this.startVoice=t,this.type=n};return a.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},a.prototype.continuing=function(e){this.lastContinuedVoice=e},a.prototype.getWidth=function(){return 10},a.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)},oh=a,oh}var ch,i2;function fi(){if(i2)return ch;i2=1;var a=vn(),e={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};e["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},e["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},e["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},e["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var t=function(l){for(var u=[],f=0,d=l.length;f<d;f++){u[f]=[];for(var y=0,w=l[f].length;y<w;y++)u[f][y]=l[f][y]}return u},n=function(l,u,f){for(var d=0,y=l.length;d<y;d++){var w=l[d],_,m;for(_=1,m=w.length;_<m;_++)w[_]*=_%2?u:f}},o={printSymbol:function(l,u,f,d,y){if(!e[f])return null;var w=t(e[f].d);w[0][1]+=l,w[0][2]+=u;for(var _="",m=0;m<w.length;m++)_+=w[m].join(" ");return y.path=_,d.path(y)},getPathForSymbol:function(l,u,f,d,y){if(d=d||1,y=y||1,!e[f])return null;var w=t(e[f].d);return(d!==1||y!==1)&&n(w,d,y),w[0][1]+=l,w[0][2]+=u,w},getSymbolWidth:function(l){return e[l]?e[l].w:0},symbolHeightInPitches:function(l){var u=e[l]?e[l].h:0;return u/a.STEP},getSymbolAlign:function(l){return l.substring(0,7)==="scripts"&&l!=="scripts.roll"?"center":"left"},getYCorr:function(l){switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(l,u){e[l]=u}};return ch=o,ch}var lh,s2;function ck(){if(s2)return lh;s2=1;var a=zs(),e=fi(),t=hr(),n=function(l,u){var f,d=0;l.el_type="clef";var y=new a(l,0,10,"staff-extra clef",u);switch(y.isClef=!0,l.type){case"treble":f="clefs.G";break;case"tenor":f="clefs.C";break;case"alto":f="clefs.C";break;case"bass":f="clefs.F";break;case"treble+8":f="clefs.G",d=1;break;case"tenor+8":f="clefs.C",d=1;break;case"bass+8":f="clefs.F",d=1;break;case"alto+8":f="clefs.C",d=1;break;case"treble-8":f="clefs.G",d=-1;break;case"tenor-8":f="clefs.C",d=-1;break;case"bass-8":f="clefs.F",d=-1;break;case"alto-8":f="clefs.C",d=-1;break;case"none":return null;case"perc":f="clefs.perc";break;default:y.addFixed(new t("clef="+l.type,0,0,void 0,{type:"debug"}))}var w=5;if(f){var _=e.symbolHeightInPitches(f),m=o(f);if(y.addRight(new t(f,w,e.getSymbolWidth(f),l.clefPos,{top:_+l.clefPos+m,bottom:l.clefPos+m})),d!==0){var p=.6666666666666666,g=(e.getSymbolWidth(f)-e.getSymbolWidth("8")*p)/2,h=d>0?y.top+3:y.bottom-1,C=d>0?y.top+3:y.bottom-3,S=C-2;l.type==="bass-8"&&(h=3,g=0),y.addRight(new t("8",w+g,e.getSymbolWidth("8")*p,h,{scalex:p,scaley:p,top:C,bottom:S}))}}return y};function o(l){switch(l){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}return lh=n,lh}var uh,a2;function lk(){if(a2)return uh;a2=1;var a=zs(),e=fi(),t=hr(),n=function(o,l){if(o.el_type="keySignature",!o.accidentals||o.accidentals.length===0)return null;var u=new a(o,0,10,"staff-extra key-signature",l);u.isKeySig=!0;var f=0;return o.accidentals.forEach(function(d){var y,w=0;switch(d.acc){case"sharp":y="accidentals.sharp",w=-3;break;case"natural":y="accidentals.nat";break;case"flat":y="accidentals.flat",w=-1.2;break;case"quartersharp":y="accidentals.halfsharp",w=-2.5;break;case"quarterflat":y="accidentals.halfflat",w=-1.2;break;default:y="accidentals.flat"}u.addRight(new t(y,f,e.getSymbolWidth(y),d.verticalPos,{thickness:e.symbolHeightInPitches(y),top:d.verticalPos+e.symbolHeightInPitches(y)+w,bottom:d.verticalPos+w})),f+=e.getSymbolWidth(y)+2},this),u};return uh=n,uh}var hh,o2;function uk(){if(o2)return hh;o2=1;var a=fi(),e=hr(),t=function(n,o,l,u){u||(u={});var f=u.dir!==void 0?u.dir:null,d=u.headx!==void 0?u.headx:0,y=u.extrax!==void 0?u.extrax:0,w=u.flag!==void 0?u.flag:null,_=u.dot!==void 0?u.dot:0,m=u.dotshiftx!==void 0?u.dotshiftx:0,p=u.scale!==void 0?u.scale:1,g=u.accidentalSlot!==void 0?u.accidentalSlot:[],h=u.shouldExtendStem!==void 0?u.shouldExtendStem:!1,C=u.printAccidentals!==void 0?u.printAccidentals:!0,S=l.verticalPos,k,M=0,I=0,N=0;if(o===void 0)n.addFixed(new e("pitch is undefined",0,0,0,{type:"debug"}));else if(o==="")k=new e(null,0,0,S);else{var z=d;if(l.printer_shift){var j=l.printer_shift==="same"?1:0;z=f==="down"?-a.getSymbolWidth(o)*p+j:a.getSymbolWidth(o)*p-j}var T={scalex:p,scaley:p,thickness:a.symbolHeightInPitches(o)*p,name:l.name};if(k=new e(o,z,a.getSymbolWidth(o)*p,S,T),k.stemDir=f,w){var F=S+(f==="down"?-7:7)*p;h&&(f==="down"&&F>6&&(F=6),f==="up"&&F<6&&(F=6));var q=f==="down"?d:d+k.w-.6;n.addRight(new e(w,q,a.getSymbolWidth(w)*p,F,{scalex:p,scaley:p}))}for(I=k.w+m-2+5*_;_>0;_--){var B=1-Math.abs(S)%2;n.addRight(new e("dots.dot",k.w+m-2+5*_,a.getSymbolWidth("dots.dot"),S+B))}}if(k&&(k.highestVert=l.highestVert),C&&l.accidental){var V;switch(l.accidental){case"quartersharp":V="accidentals.halfsharp";break;case"dblsharp":V="accidentals.dblsharp";break;case"sharp":V="accidentals.sharp";break;case"quarterflat":V="accidentals.halfflat";break;case"flat":V="accidentals.flat";break;case"dblflat":V="accidentals.dblflat";break;case"natural":V="accidentals.nat"}for(var H=!1,D=y,R=0;R<g.length;R++)if(S-g[R][0]>=6){g[R][0]=S,D=g[R][1],H=!0;break}H===!1&&(D-=a.getSymbolWidth(V)*p+2,g.push([S,D]),M=a.getSymbolWidth(V)*p+2);var U=a.symbolHeightInPitches(V);n.addExtra(new e(V,D,a.getSymbolWidth(V),S,{scalex:p,scaley:p,top:S+U/2,bottom:S-U/2})),N=a.getSymbolWidth(V)/2}return{notehead:k,accidentalshiftx:M,dotshiftx:I,extraLeft:N}};return hh=t,hh}var fh,c2;function hk(){if(c2)return fh;c2=1;var a=zs(),e=fi(),t=hr(),n=function(o,l){o.el_type="timeSignature";var u=new a(o,0,10,"staff-extra time-signature",l);if(o.type==="specified")for(var f=0,d=0;d<o.value.length;d++)if(d!==0&&(u.addRight(new t("+",f+1,e.getSymbolWidth("+"),6,{thickness:e.symbolHeightInPitches("+")})),f+=e.getSymbolWidth("+")+2),o.value[d].den){for(var y=0,w=0;w<o.value[d].num.length;w++)y+=e.getSymbolWidth(o.value[d].num[w]);var _=0;for(w=0;w<o.value[d].num.length;w++)_+=e.getSymbolWidth(o.value[d].den[w]);var m=Math.max(y,_);u.addRight(new t(o.value[d].num,f+(m-y)/2,y,8,{thickness:e.symbolHeightInPitches(o.value[d].num[0])})),u.addRight(new t(o.value[d].den,f+(m-_)/2,_,4,{thickness:e.symbolHeightInPitches(o.value[d].den[0])})),f+=m}else{for(var p=0,g=0;g<o.value[d].num.length;g++)p+=e.getSymbolWidth(o.value[d].num[g]);u.addRight(new t(o.value[d].num,f,p,6,{thickness:e.symbolHeightInPitches(o.value[d].num[0])})),f+=p}else o.type==="common_time"?u.addRight(new t("timesig.common",0,e.getSymbolWidth("timesig.common"),6,{thickness:e.symbolHeightInPitches("timesig.common")})):o.type==="cut_time"?u.addRight(new t("timesig.cut",0,e.getSymbolWidth("timesig.cut"),6,{thickness:e.symbolHeightInPitches("timesig.cut")})):o.type==="tempus_imperfectum"?u.addRight(new t("timesig.imperfectum",0,e.getSymbolWidth("timesig.imperfectum"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum")})):o.type==="tempus_imperfectum_prolatio"?u.addRight(new t("timesig.imperfectum2",0,e.getSymbolWidth("timesig.imperfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum2")})):o.type==="tempus_perfectum"?u.addRight(new t("timesig.perfectum",0,e.getSymbolWidth("timesig.perfectum"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum")})):o.type==="tempus_perfectum_prolatio"?u.addRight(new t("timesig.perfectum2",0,e.getSymbolWidth("timesig.perfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",o);return u};return fh=n,fh}var dh,l2;function fk(){if(l2)return dh;l2=1;var a=function(t,n,o){this.type="DynamicDecoration",this.anchor=t,this.dec=n,o==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};return dh=a,dh}var ph,u2;function dk(){if(u2)return ph;u2=1;var a=function(t,n,o,l){this.type="CrescendoElem",this.anchor1=t,this.anchor2=n,this.dir=o,l==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};return ph=a,ph}var mh,h2;function pk(){if(h2)return mh;h2=1;var a=function(t,n){this.type="GlissandoElem",this.anchor1=t,this.anchor2=n};return mh=a,mh}var gh,f2;function b5(){if(f2)return gh;f2=1;var a=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};return a.prototype.addInternalNote=function(e){this.internalNotes.push(e)},a.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},a.prototype.setStartX=function(e){this.startLimitX=e},a.prototype.setEndX=function(e){this.endLimitX=e},a.prototype.setHint=function(){this.hint=!0},a.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}},a.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var n=this.internalNotes[t];n.stemDir==="down"&&(e=!0)}this.above=e}},a.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t},a.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},a.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var n=!!this.anchor1.parent.beam,o=!!this.anchor2.parent.beam;if(n){var l=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];l||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(o){var u=this.anchor2.parent===this.anchor2.parent.beam.elems[0];u||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},a.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}},a.prototype.getYBounds=function(){var e=10,t=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,t),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,t),this.calcSlurY());var n,o;return this.above?(o=Math.min(this.startY,this.endY),n=o+3):(n=Math.min(this.startY,this.endY),o=n-3),[n,o]},gh=a,gh}var vh,d2;function mk(){if(d2)return vh;d2=1;var a=fk(),e=dk(),t=pk(),n=fi(),o=hr(),l=b5(),u=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},f=function(m,p,g,h,C,S,k,M,I){for(var N,z=0;z<p.length;z++){if(p[z]==="staccato"||p[z]==="tenuto"||p[z]==="accent"&&!I){var j="scripts."+p[z];if(p[z]==="accent"&&(j="scripts.sforzato"),N===void 0?N=k==="down"?g+2:M-2:N=k==="down"?N+2:N-2,p[z]==="accent")k==="up"?N--:N++;else switch(N){case 2:case 4:case 6:case 8:case 10:k==="up"?N--:N++;break}g>9&&N++;var T=h/2;n.getSymbolAlign(j)!=="center"&&(T-=n.getSymbolWidth(j)/2),C.addFixedX(new o(j,T,n.getSymbolWidth(j),N))}if(p[z]==="slide"&&C.heads[0]){var F=C.heads[0].pitch;F-=2;var q=new o("",-S-15,0,F-1),B=new o("",-S-5,0,F+1);C.addFixedX(q),C.addFixedX(B),m.addOther(new l({anchor1:q,anchor2:B,fixedY:!0}))}}return N===void 0&&(N=g),{above:N,below:C.bottom}},d=function(m,p,g,h){for(var C=0;C<p.length;C++)switch(p[C]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var S=new a(g,p[C],h);m.addOther(S)}},y=function(m,p,g,h,C){function S(){if(h.heads.length===0)return 10;for(var N=h.heads[0].pitch,z=1;z<h.heads.length;z++)N=Math.max(N,h.heads[z].pitch);return N}function k(){if(h.heads.length===0)return 2;for(var N=h.heads[0].pitch,z=1;z<h.heads.length;z++)N=Math.min(N,h.heads[z].pitch);return N}function M(N,z){var j=C==="down"?k()+1:S()+9;C!=="down"&&z===1&&j--;var T=g/2;T+=C==="down"?-5:3;for(var F=0;F<z;F++)j-=1,h.addFixedX(new o(N,T,n.getSymbolWidth(N),j))}for(var I=0;I<m.length;I++)switch(m[I]){case"/":M("flags.ugrace",1);break;case"//":M("flags.ugrace",2);break;case"///":M("flags.ugrace",3);break;case"////":M("flags.ugrace",4);break}},w=function(m,p,g,h,C,S,k,M){function I(B,V){B==="above"?h.above+=V:h.below-=V}function N(B){var V;return B==="above"?(V=h.above,V<S&&(V=S)):(V=h.below,V>k&&(V=k)),V}function z(B,V,H){var D=N(V),R=2,U=5;g.addFixedX(new o(B,p/2,0,D+R,{type:"decoration",klass:"ornament",thickness:3,anchor:H})),I(V,U)}function j(B,V){var H=p/2;n.getSymbolAlign(B)!=="center"&&(H-=n.getSymbolWidth(B)/2);var D=n.symbolHeightInPitches(B)+1,R=N(V);R=V==="above"?R+D/2:R-D/2,g.addFixedX(new o(B,H,n.getSymbolWidth(B),R,{klass:"ornament",thickness:n.symbolHeightInPitches(B),position:V})),I(V,D)}for(var T={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},F=!1,q=0;q<m.length;q++)switch(m[q]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":z(m[q],C,"middle"),F=!0;break;case"D.C.alcoda":z("D.C. al coda",C,"end"),F=!0;break;case"D.C.alfine":z("D.C. al fine",C,"end"),F=!0;break;case"D.S.alcoda":z("D.S. al coda",C,"end"),F=!0;break;case"D.S.alfine":z("D.S. al fine",C,"end"),F=!0;break;case"fine":z("FINE",C,"middle"),F=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":j(T[m[q]],C),F=!0;break;case"invertedfermata":j(T[m[q]],"below"),F=!0;break;case"mark":g.klass="mark";break;case"accent":M&&(j("scripts.sforzato",C),F=!0);break}return F};function _(m,p,g){for(var h=0;h<m.length;h++)switch(m[h]){case"arpeggio":for(var C=p.abcelem.minpitch-1;C<=p.abcelem.maxpitch;C+=2)p.addExtra(new o("scripts.arpeggio",-n.getSymbolWidth("scripts.arpeggio")*2-g,0,C+2,{klass:"ornament",thickness:n.symbolHeightInPitches("scripts.arpeggio")}));break}}return u.prototype.dynamicDecoration=function(m,p,g,h){for(var C,S,k,M=0;M<p.length;M++)switch(p[M]){case"diminuendo(":this.startDiminuendoX=g,C=void 0;break;case"diminuendo)":C={start:this.startDiminuendoX,stop:g},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=g,S=void 0;break;case"crescendo)":S={start:this.startCrescendoX,stop:g},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=g,k=void 0;break;case"~)":case"glissando)":k={start:this.startGlissandoX,stop:g},this.startGlissandoX=void 0;break}C&&m.addOther(new e(C.start,C.stop,">",h)),S&&m.addOther(new e(S.start,S.stop,"<",h)),k&&m.addOther(new t(k.start,k.stop))},u.prototype.createDecoration=function(m,p,g,h,C,S,k,M,I,N,z){I||(I={ornamentPosition:"above",volumePosition:N?"above":"below",dynamicPosition:N?"above":"below"}),d(m,p,C,I.volumePosition),this.dynamicDecoration(m,p,C,I.dynamicPosition),y(p,g,h,C,k);var j=f(m,p,g,h,C,S,k,M,z);j.above=Math.max(j.above,this.minTop),j.below=Math.min(j.below,M),w(p,h,C,j,I.ornamentPosition,this.minTop,M,z),_(p,C,S)},vh=u,vh}var yh,p2;function gk(){if(p2)return yh;p2=1;var a=function(t,n,o){this.type="EndingElem",this.text=t,this.anchor1=n,this.anchor2=o,this.endingHeightAbove=5,this.pitch=void 0};return yh=a,yh}var bh,m2;function vk(){if(m2)return bh;m2=1;var a=function(e){for(var t=0,n=0;n<e.voices.length;n++){var o=e.voices[n].staff;e.voices[n].duplicate||(t+=o.top,t+=-o.bottom)}return t};return bh=a,bh}var _h,g2;function yk(){if(g2)return _h;g2=1;var a=vk(),e=function(t){this.getTextSize=t,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};return e.prototype.setLimit=function(t,n){n.specialY[t]&&(n.staff.specialY[t]?n.staff.specialY[t]=Math.max(n.staff.specialY[t],n.specialY[t]):n.staff.specialY[t]=n.specialY[t])},e.prototype.addVoice=function(t,n,o){var l=this.voices.length;this.voices[l]=t,this.staffs[n]?this.staffs[n].voices.push(l):this.staffs[this.staffs.length]={top:10,bottom:2,lines:o,voices:[l],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},t.staff=this.staffs[n]},e.prototype.setHeight=function(){this.height=a(this)},e.prototype.setWidth=function(t){this.w=t;for(var n=0;n<this.voices.length;n++)this.voices[n].setWidth(t)},e.prototype.setStaffLimits=function(t){t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},_h=e,_h}var wh,v2;function bk(){if(v2)return wh;v2=1;var a=zs(),e=hr(),t=function(o,l,u){this.type="TempoElement",this.tempo=o,this.tempo.type="tempo",this.tuneNumber=l,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(u,o,l))};return t.prototype.setX=function(n){this.x=n},t.prototype.createNote=function(n,o,l){var u=.75,f=o.duration[0],d=new a(o,f,1,"tempo",l),y,w,_;f<=1/32?(_="noteheads.quarter",w="flags.u32nd",y=0):f<=1/16?(_="noteheads.quarter",w="flags.u16th",y=0):f<=3/32?(_="noteheads.quarter",w="flags.u16nd",y=1):f<=1/8?(_="noteheads.quarter",w="flags.u8th",y=0):f<=3/16?(_="noteheads.quarter",w="flags.u8th",y=1):f<=1/4?(_="noteheads.quarter",y=0):f<=3/8?(_="noteheads.quarter",y=1):f<=1/2?(_="noteheads.half",y=0):f<=3/4?(_="noteheads.half",y=1):f<=1?(_="noteheads.whole",y=0):f<=1.5?(_="noteheads.whole",y=1):f<=2?(_="noteheads.dbl",y=0):(_="noteheads.dbl",y=1);var m=n(d,_,{verticalPos:0},{dir:"up",flag:w,dot:y,scale:u}),p=m.notehead;d.addHead(p);var g;if(_!=="noteheads.whole"&&_!=="noteheads.dbl"){var h=.3333333333333333*u,C=5*u,S=p.dx+p.w,k=-.6;g=new e(null,S,0,h,{type:"stem",pitch2:C,linewidth:k}),d.addRight(g)}return d},wh=t,wh}var Ch,y2;function _k(){if(y2)return Ch;y2=1;var a=function(t,n,o){this.type="TripletElem",this.anchor1=n,this.number=t,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=o.flatBeams};return a.prototype.isClosed=function(){return!!this.anchor2},a.prototype.middleNote=function(e){this.middleElems.push(e)},a.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)},Ch=a,Ch}var xh,b2;function wk(){if(b2)return xh;b2=1;function a(t){switch(t){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return t}function e(t,n,o){var l=t.split(`
`);for(let u=0;u<l.length;u++){let d=l[u].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!d)continue;let y=d[1]||"",w=d[2]||"",_=d[4]||"";o&&(y=a(y),_=a(_));const m=n?"":"",p=_?"/"+_:"";l[u]=[y,w,p].join(m)}return l.join(`
`)}return xh=e,xh}var Sh,_2;function Ck(){if(_2)return Sh;_2=1;var a=hr(),e=vn();const t=wk();var n=function(l,u,f,d,y,w,_,m){for(var p=0;p<f.chord.length;p++){var g=f.chord[p].position,h=f.chord[p].rel_position,C=g==="left"||g==="right"||g==="below"||g==="above"||!!h,S,k;C?(S="annotationfont",k="abcjs-annotation"):(S="gchordfont",k="abcjs-chord");var M=l.attr(S,k),I=f.chord[p].name,N;if(typeof I=="string")N=o(I,g,h,C,S,k,M,l,u,f,d,y,w,_,m),d=N.roomTaken,y=N.roomTakenRight;else for(var z=0;z<I.length;z++)N=o(I[z].text,g,h,C,S,k,M,l,u,f,d,y,w,_,m),d=N.roomTaken,y=N.roomTakenRight}return{roomTaken:d,roomTakenRight:y}};function o(l,u,f,d,y,w,_,m,p,g,h,C,S,k,M){for(var I=l.split(`
`),N=I.length-1;N>=0;N--){var z=I[N],j=0,T;d||(z=t(z,k,M));var F=m.calc(z,y,w),q=F.width,B=F.height/e.STEP;switch(u){case"left":h+=q+7,j=-h,T=g.averagepitch,p.addExtra(new a(z,j,q+4,T,{type:"text",height:B,dim:_,position:"left"}));break;case"right":C+=4,j=C,T=g.averagepitch,p.addRight(new a(z,j,q+4,T,{type:"text",height:B,dim:_,position:"right"}));break;case"below":p.addRight(new a(z,0,0,void 0,{type:"text",position:"below",height:B,dim:_,realWidth:q}));break;case"above":p.addRight(new a(z,0,0,void 0,{type:"text",position:"above",height:B,dim:_,realWidth:q}));break;default:if(f){var V=f.y+3*e.STEP;p.addRight(new a(z,j+f.x,0,g.minpitch+V/e.STEP,{position:"relative",type:"text",height:B,dim:_}))}else{var H="above";g.positioning&&g.positioning.chordPosition&&(H=g.positioning.chordPosition),H!=="hidden"&&p.addCentered(new a(z,S/2,q,void 0,{type:"chord",position:H,height:B,dim:_,realWidth:q}))}}}return{roomTaken:h,roomTakenRight:C}}return Sh=n,Sh}var kh,w2;function xk(){if(w2)return kh;w2=1;var a=zs(),e=ak(),t=ok(),n=ck(),o=lk(),l=uk(),u=hk(),f=mk(),d=gk(),y=fi(),w=hr(),_=vn(),m=yk(),p=bk(),g=b5(),h=_k(),C=d5(),S=Ck(),k=u5(),M=Pr(),I=function(D){var R=0;return D.duration&&(R=D.duration),R},N=!1,z={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},j=function(D,R,U){this.decoration=new f,this.getTextSize=D,this.tuneNumber=R,this.isBagpipes=U.bagpipes,this.flatBeams=U.flatbeams,this.graceSlurs=U.graceSlurs,this.percmap=U.percmap,this.initialClef=U.initialClef,this.jazzchords=!!U.jazzchords,this.accentAbove=!!U.accentAbove,this.germanAlphabet=!!U.germanAlphabet,this.reset()};j.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},j.prototype.setStemHeight=function(D){this.stemHeight=Math.round(D*10/_.STEP)/10},j.prototype.getCurrentVoiceId=function(D,R){return"s"+D+"v"+R},j.prototype.pushCrossLineElems=function(D,R){this.slursbyvoice[this.getCurrentVoiceId(D,R)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(D,R)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(D,R)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(D,R)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(D,R)]=this.voiceColor)},j.prototype.popCrossLineElems=function(D,R){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(D,R)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(D,R)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(D,R)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(D,R)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(D,R)]},j.prototype.containsLyrics=function(D){for(var R=0;R<D.length;R++)for(var U=0;U<D[R].voices.length;U++)for(var Y=0;Y<D[R].voices[U].length;Y++){var G=D[R].voices[U][Y];if(G.lyric){(!G.positioning||G.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}},j.prototype.createABCLine=function(D,R,U){this.minY=2,this.containsLyrics(D);var Y=new m(this.getTextSize);this.tempoSet=!1;for(var G=0;G<D.length;G++)N&&this.restoreState(),N=!1,this.createABCStaff(Y,D[G],R,G,U);return Y},j.prototype.createABCStaff=function(D,R,U,Y,G){D.getTextSize.updateFonts(R);for(var A=0;A<R.voices.length;A++){var O=new C(A,R.voices.length);A===0?(O.barfrom=R.connectBarLines==="start"||R.connectBarLines==="continue",O.barto=R.connectBarLines==="continue"||R.connectBarLines==="end"):O.duplicate=!0,R.title&&R.title[A]&&(O.header=R.title[A].replace(/\\n/g,`
`),O.headerPosition=6+D.getTextSize.baselineToCenter(O.header,"voicefont","staff-extra voice-name",A,R.voices.length)/_.STEP),R.clef&&R.clef.type==="perc"&&(O.isPercussion=!0);var E=(!this.initialClef||G===0)&&n(R.clef,this.tuneNumber);E&&(A===0&&R.barNumber&&this.addMeasureNumber(R.barNumber,E),O.addChild(E),this.startlimitelem=E);var W=o(R.key,this.tuneNumber);if(W&&(O.addChild(W),this.startlimitelem=W),R.meter){R.meter.type==="specified"?this.measureLength=R.meter.value[0].num/R.meter.value[0].den:this.measureLength=1;var X=u(R.meter,this.tuneNumber);O.addChild(X),this.startlimitelem=X}O.duplicate&&(O.children=[]);var K=R.clef.stafflines||R.clef.stafflines===0?R.clef.stafflines:5;D.addVoice(O,Y,K);var Q=K===1;this.createABCVoice(R.voices[A],U,Y,A,Q,O),D.setStaffLimits(O),A===0&&(R.brace==="start"||!D.brace&&R.brace?(D.brace||(D.brace=[]),D.brace.push(new t(O,"brace"))):R.brace==="end"&&D.brace?D.brace[D.brace.length-1].setBottomStaff(O):R.brace==="continue"&&D.brace&&D.brace[D.brace.length-1].continuing(O),R.bracket==="start"||!D.bracket&&R.bracket?(D.bracket||(D.bracket=[]),D.bracket.push(new t(O,"bracket"))):R.bracket==="end"&&D.bracket?D.bracket[D.bracket.length-1].setBottomStaff(O):R.bracket==="continue"&&D.bracket&&D.bracket[D.bracket.length-1].continuing(O))}};function T(D,R){var U=D[R];if(U.el_type!=="note"||!U.startBeam||U.endBeam)return{count:1,elem:U};for(var Y=[];R<D.length&&D[R].el_type==="note"&&(Y.push(D[R]),!D[R].endBeam);)R++;return{count:Y.length,elem:Y}}j.prototype.createABCVoice=function(D,R,U,Y,G,A){this.popCrossLineElems(U,Y),this.stemdir=this.isBagpipes?"down":null,this.abcline=D,this.partstartelem&&(this.partstartelem=new d("",null,null),A.addOther(this.partstartelem));var O=A.voicetotal<2?-1:A.voicenumber;for(var E in this.slurs)this.slurs.hasOwnProperty(E)&&(this.slurs[E]=new g({force:this.slurs[E].force,voiceNumber:O,stemDir:this.slurs[E].stemDir,style:this.slurs[E].dotted}),N&&this.slurs[E].setHint(),A.addOther(this.slurs[E]));for(var W=0;W<this.ties.length;W++)this.ties[W]=new g({force:this.ties[W].force,stemDir:this.ties[W].stemDir,voiceNumber:O,style:this.ties[W].dotted}),N&&this.ties[W].setHint(),A.addOther(this.ties[W]);for(var X=0;X<this.abcline.length;X++)F(this.abcline[X]),this.minY=Math.min(this.abcline[X].minpitch,this.minY);for(var K=U===0,Q=0;Q<this.abcline.length;){var ie=T(this.abcline,Q),he=this.createABCElement(K,G,A,ie.elem);if(he)for(W=0;W<he.length;W++){if(!this.tempoSet&&R&&!R.suppress){this.tempoSet=!0;var J=new a(R,0,0,"tempo",this.tuneNumber,{});J.addFixedX(new p(R,this.tuneNumber,l)),A.addChild(J)}A.addChild(he[W])}Q+=ie.count}this.pushCrossLineElems(U,Y)},j.prototype.saveState=function(){this.tiesSave=M.cloneArray(this.ties),this.slursSave=M.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=M.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=M.cloneHashOfArrayOfHash(this.tiesbyvoice)},j.prototype.restoreState=function(){this.ties=M.cloneArray(this.tiesSave),this.slurs=M.cloneHashOfHash(this.slursSave),this.slursbyvoice=M.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=M.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},j.prototype.createABCElement=function(D,R,U,Y){var G=[];switch(Y.el_type){case void 0:G=this.createBeam(R,U,Y);break;case"note":G[0]=this.createNote(Y,!1,R,U),this.triplet&&this.triplet.isClosed()&&(U.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":G[0]=this.createBarLine(U,Y,D),U.duplicate&&G.length>0&&(G[0].invisible=!0);break;case"meter":G[0]=u(Y,this.tuneNumber),this.startlimitelem=G[0],U.duplicate&&G.length>0&&(G[0].invisible=!0);break;case"clef":if(G[0]=n(Y,this.tuneNumber),!G[0])return null;U.duplicate&&G.length>0&&(G[0].invisible=!0);break;case"key":var A=o(Y,this.tuneNumber);A&&(G[0]=A,this.startlimitelem=G[0]),U.duplicate&&G.length>0&&(G[0].invisible=!0);break;case"stem":this.stemdir=Y.direction==="auto"?void 0:Y.direction;break;case"part":var O=new a(Y,0,0,"part",this.tuneNumber),E=this.getTextSize.calc(Y.title,"partsfont","part");O.addFixedX(new w(Y.title,0,0,void 0,{type:"part",height:E.height/_.STEP})),G[0]=O;break;case"tempo":var W=new a(Y,0,0,"tempo",this.tuneNumber);W.addFixedX(new p(Y,this.tuneNumber,l)),G[0]=W;break;case"style":Y.head==="normal"?delete this.style:this.style=Y.head;break;case"hint":N=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=Y.size;break;case"color":this.voiceColor=Y.color,U.color=this.voiceColor;break;default:var X=new a(Y,0,0,"unsupported",this.tuneNumber);X.addFixed(new w("element type "+Y.el_type,0,0,void 0,{type:"debug"})),G[0]=X}return G};function F(D){if(D.pitches){q(D);for(var R=0,U=0;U<D.pitches.length;U++)R+=D.pitches[U].verticalPos;D.averagepitch=R/D.pitches.length,D.minpitch=D.pitches[0].verticalPos,D.maxpitch=D.pitches[D.pitches.length-1].verticalPos}}j.prototype.createBeam=function(D,R,U){var Y=[],G=new e(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,U[0]);N&&G.setHint();for(var A=0;A<U.length;A++)G.runningDirection(U[A]);G.setStemDirection();var O=this.stemdir;for(this.stemdir=G.stemsUp?"up":"down",A=0;A<U.length;A++){var E=U[A],W=this.createNote(E,!0,D,R);Y.push(W),G.add(W),this.triplet&&this.triplet.isClosed()&&(R.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return G.calcDir(),R.addBeam(G),this.stemdir=O,Y};var q=function(D){var R;do{R=!0;for(var U=0;U<D.pitches.length-1;U++)if(D.pitches[U].pitch>D.pitches[U+1].pitch){R=!1;var Y=D.pitches[U];D.pitches[U]=D.pitches[U+1],D.pitches[U+1]=Y}}while(!R)},B=function(D,R,U,Y,G,A,O,E,W){for(var X=U;X>11;X--)X%2===0&&!Y&&D.addFixed(new w(null,E,(G+4)*W,X,{type:"ledger"}));for(X=R;X<1;X++)X%2===0&&!Y&&D.addFixed(new w(null,E,(G+4)*W,X,{type:"ledger"}));for(X=0;X<A.length;X++){var K=G;O==="down"&&(K=-K),D.addFixed(new w(null,K+E,(G+4)*W,A[X],{type:"ledger"}))}};j.prototype.addGraceNotes=function(D,R,U,Y,G,A,O){var E=.6,W=3.5/5;G=Math.round(G*W);var X=null,K;D.gracenotes.length>1&&(X=new e(G,"grace",A),N&&X.setHint(),X.mainNote=U);var Q,ie=[];for(Q=D.gracenotes.length-1;Q>=0;Q--)O+=10,ie[Q]=O,D.gracenotes[Q].accidental&&(O+=7);for(Q=0;Q<D.gracenotes.length;Q++){var he=D.gracenotes[Q].verticalPos;K=X?null:z.uflags[A?5:3];var J=[],ge=l(U,"noteheads.quarter",D.gracenotes[Q],{dir:"up",headx:-ie[Q],extrax:-ie[Q],flag:K,scale:E*this.voiceScale,accidentalSlot:J});ge.notehead.highestVert=ge.notehead.pitch+G;var Ce=ge.notehead;if(this.addSlursAndTies(U,D.gracenotes[Q],Ce,R,"up",!0),U.addExtra(Ce),D.gracenotes[Q].acciaccatura){var fe=D.gracenotes[Q].verticalPos+7*E,Se=X?5:6;U.addRight(new w("flags.ugrace",-ie[Q]+Se,0,fe,{scalex:E,scaley:E}))}if(X){var xe=D.gracenotes[Q].duration/2;A&&(xe/=2);var de={heads:[Ce],abcelem:{averagepitch:he,minpitch:he,maxpitch:he,duration:xe}};X.add(de)}else{var ve=he+.3333333333333333*E,_e=he+7*E,De=Ce.dx+Ce.w,Ie=-.6;U.addExtra(new w(null,De,0,ve,{type:"stem",pitch2:_e,linewidth:Ie}))}B(U,he,he,!1,y.getSymbolWidth("noteheads.quarter"),[],!0,Ce.dx-1,.6);var Re=D.rest&&(D.rest.type==="spacer"||D.rest.type==="invisible");Q===0&&!A&&this.graceSlurs&&!Re&&R.addOther(new g({anchor1:Ce,anchor2:Y,isGrace:!0}))}return X&&(X.calcDir(),R.addBeam(X)),O};function V(D,R,U,Y,G,A,O,E,W){var X,K=7,Q,ie,he;switch(G&&(A==="down"&&(K=3),A==="up"&&(K=11)),O&&(U<.5||U<1?K=7:K=5),R.rest.type){case"whole":X=z.rest[0],R.averagepitch=K,R.minpitch=K,R.maxpitch=K,Y=0;break;case"rest":R.style==="rhythm"?X=z.rhythm[-E]:X=z.rest[-E],R.averagepitch=K,R.minpitch=K,R.maxpitch=K;break;case"invisible":case"invisible-multimeasure":case"spacer":X="",R.averagepitch=K,R.minpitch=K,R.maxpitch=K;break;case"multimeasure":X=z.rest.multi,R.averagepitch=K,R.minpitch=K,R.maxpitch=K,Y=0;var J=y.getSymbolWidth(X);D.addHead(new w(X,J,J*2,7));var ge=new w(""+R.rest.text,J,J,16,{type:"multimeasure-text"});D.addExtra(ge)}if(R.rest.type.indexOf("multimeasure")<0&&R.rest.type!=="invisible"){var Ce=l(D,X,{verticalPos:K},{dot:Y,scale:W});Q=Ce.notehead,Q&&(D.addHead(Q),ie=Ce.accidentalshiftx,he=Ce.dotshiftx)}return{noteHead:Q,roomTaken:ie,roomTakenRight:he}}function H(D,R){for(var U=0;U<D.length;U++)if(JSON.stringify(D[U])===JSON.stringify(R))return;D.push(R)}return j.prototype.addNoteToAbcElement=function(D,R,U,Y,G,A,O,E,W){var X=0,K,Q=0,ie=0,he,J,ge=[],Ce=[],fe=0,Se=R.averagepitch>=6?"down":"up";Y&&(Se=Y),G=R.style?R.style:G,(!G||G==="normal")&&(G="note");var xe;A?xe=z[G].nostem:xe=z[G][-O],xe||console.log("noteSymbol:",G,O,A);var de;for(de=Se==="down"?R.pitches.length-2:1;Se==="down"?de>=0:de<R.pitches.length;de=Se==="down"?de-1:de+1){var ve=R.pitches[Se==="down"?de+1:de-1],_e=R.pitches[de],De=Se==="down"?ve.pitch-_e.pitch:_e.pitch-ve.pitch;De<=1&&!ve.printer_shift&&(_e.printer_shift=De?"different":"same",(_e.verticalPos>11||_e.verticalPos<1)&&ge.push(_e.verticalPos-_e.verticalPos%2),Se==="down"?Q=y.getSymbolWidth(xe)+2:X=y.getSymbolWidth(xe)+2)}var Ie=R.pitches.length;for(de=0;de<R.pitches.length;de++){if(!E){var Re;Se==="down"&&de!==0||Se==="up"&&de!==Ie-1?Re=null:Re=z[Se==="down"?"dflags":"uflags"][-O]}var Fe;if(R.pitches[de].style)Fe=z[R.pitches[de].style][-O];else if(W.isPercussion&&this.percmap){Fe=xe;var ne=this.percmap[k(R.pitches[de])];ne&&ne.noteHead&&z[ne.noteHead]&&(Fe=z[ne.noteHead][-O])}else Fe=xe;R.pitches[de].highestVert=R.pitches[de].verticalPos;var le=(Y==="up"||Se==="up")&&de===0,se=(Y==="down"||Se==="down")&&de===Ie-1;if(le||se){if((R.startSlur||Ie===1)&&(R.pitches[de].highestVert=R.pitches[Ie-1].verticalPos,I(R)<1&&(Y==="up"||Se==="up")&&(R.pitches[de].highestVert+=6)),R.startSlur)for(R.pitches[de].startSlur||(R.pitches[de].startSlur=[]),J=0;J<R.startSlur.length;J++)H(R.pitches[de].startSlur,R.startSlur[J]);if(R.endSlur)for(R.pitches[de].highestVert=R.pitches[Ie-1].verticalPos,I(R)<1&&(Y==="up"||Se==="up")&&(R.pitches[de].highestVert+=6),R.pitches[de].endSlur||(R.pitches[de].endSlur=[]),J=0;J<R.endSlur.length;J++)H(R.pitches[de].endSlur,R.endSlur[J])}var re=!E&&O<=-1,pe=l(D,Fe,R.pitches[de],{dir:Se,extrax:-Q,flag:Re,dot:U,dotshiftx:X,scale:this.voiceScale,accidentalSlot:Ce,shouldExtendStem:!Y,printAccidentals:!W.isPercussion});fe=Math.max(y.getSymbolWidth(Fe),fe),D.extraw-=pe.extraLeft,K=pe.notehead,K&&(this.addSlursAndTies(D,R.pitches[de],K,W,re?Se:null,!1),R.gracenotes&&R.gracenotes.length>0&&(K.bottom=K.bottom-1),D.addHead(K)),Q+=pe.accidentalshiftx,ie=Math.max(ie,pe.dotshiftx)}if(re){var Ee=Math.round(70*this.voiceScale)/10,ze=Se==="down"?R.minpitch-Ee:R.minpitch+1/3;ze>6&&!Y&&(ze=6);var He=Se==="down"?R.maxpitch-1/3:R.maxpitch+Ee;He<6&&!Y&&(He=6);var Me=Se==="down"||D.heads.length===0?0:D.heads[0].w,Le=Se==="down"?1:-1;K&&K.c==="noteheads.slash.quarter"&&(Se==="down"?He-=1:ze+=1),K&&K.c==="noteheads.triangle.quarter"&&(Se==="down"?He-=.7:ze-=1.2),D.addRight(new w(null,Me,0,ze,{type:"stem",pitch2:He,linewidth:Le,bottom:ze-1})),he=Math.min(ze,He)}return{noteHead:K,roomTaken:Q,roomTakenRight:ie,min:he,additionalLedgers:ge,dir:Se,symbolWidth:fe}},j.prototype.addLyric=function(D,R){var U="";R.lyric.forEach(function(A){var O=A.divider===" "?"":A.divider;U+=A.syllable+O+`
`});var Y=this.getTextSize.calc(U,"vocalfont","lyric"),G=R.positioning?R.positioning.vocalPosition:"below";D.addCentered(new w(U,0,Y.width,void 0,{type:"lyric",position:G,height:Y.height/_.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},j.prototype.createNote=function(D,R,U,Y){var G=null,A=0,O=0,E=0,W=[],X,K=I(D),Q=!1;K===0&&(Q=!0,K=.25,R=!0);for(var ie=Math.floor(Math.log(K)/Math.log(2)),he=0,J=Math.pow(2,ie),ge=J/2;J<K;he++,J+=ge,ge/=2);D.startTriplet&&(this.tripletmultiplier=D.tripletMultiplier);var Ce=K*this.tripletmultiplier;D.rest&&D.rest.type==="multimeasure"&&(Ce=1),D.rest&&D.rest.type==="invisible-multimeasure"&&(Ce=this.measureLength*D.rest.text);var fe=D.rest?"rest":"note",Se=new a(D,Ce,1,fe,this.tuneNumber,{durationClassOveride:D.duration*this.tripletmultiplier});if(N&&Se.setHint(),D.rest){this.measureLength===K&&D.rest.type!=="invisible"&&D.rest.type!=="spacer"&&D.rest.type.indexOf("multimeasure")<0&&(D.rest.type="whole");var xe=V(Se,D,K,he,Y.voicetotal>1,this.stemdir,U,ie,this.voiceScale);G=xe.noteHead,A=xe.roomTaken,O=xe.roomTakenRight}else{var de=this.addNoteToAbcElement(Se,D,he,this.stemdir,this.style,Q,ie,R,Y);de.min!==void 0&&(this.minY=Math.min(de.min,this.minY)),G=de.noteHead,A=de.roomTaken,O=de.roomTakenRight,W=de.additionalLedgers,X=de.dir,E=de.symbolWidth}if(D.lyric!==void 0&&this.addLyric(Se,D),D.gracenotes!==void 0&&(A+=this.addGraceNotes(D,Y,Se,G,this.stemHeight*this.voiceScale,this.isBagpipes,A)),D.decoration){var ve=R&&X!=="up"?Math.min(-3,Se.bottom-6):Se.bottom;this.decoration.createDecoration(Y,D.decoration,Se.top,G?G.w:0,Se,A,X,ve,D.positioning,this.hasVocals,this.accentAbove)}if(D.barNumber&&Se.addFixed(new w(D.barNumber,-10,0,0,{type:"barNumber"})),B(Se,D.minpitch,D.maxpitch,D.rest,E,W,X,-2,1),D.chord!==void 0){var _e=S(this.getTextSize,Se,D,A,O,E,this.jazzchords,this.germanAlphabet);A=_e.roomTaken,O=_e.roomTakenRight}return D.startTriplet&&(this.triplet=new h(D.startTriplet,G,{flatBeams:this.flatBeams})),D.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(G),this.triplet&&!D.startTriplet&&!D.endTriplet&&!(D.rest&&D.rest.type==="spacer")&&this.triplet.middleNote(G),Se},j.prototype.addSlursAndTies=function(D,R,U,Y,G,A){if(R.endTie&&this.ties.length>0){for(var O=!1,E=0;E<this.ties.length;E++)if(this.ties[E].anchor1&&this.ties[E].anchor1.pitch===U.pitch){this.ties[E].setEndAnchor(U),Y.setRange(this.ties[E]),this.ties.splice(E,1),O=!0;break}O||(this.ties[0].setEndAnchor(U),Y.setRange(this.ties[0]),this.ties.splice(0,1))}var W=Y.voicetotal<2?-1:Y.voicenumber;if(R.startTie){var X=new g({anchor1:U,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:A,voiceNumber:W,style:R.startTie.style});N&&X.setHint(),this.ties[this.ties.length]=X,Y.addOther(X),D.startTie=!0}var K,Q;if(R.endSlur)for(var ie=0;ie<R.endSlur.length;ie++)Q=R.endSlur[ie],this.slurs[Q]?(K=this.slurs[Q],K.setEndAnchor(U),Y.setRange(K),delete this.slurs[Q]):(K=new g({anchor2:U,stemDir:this.stemdir,voiceNumber:W}),N&&K.setHint(),Y.addOther(K)),this.startlimitelem&&K.setStartX(this.startlimitelem);else if(!A)for(var he in this.slurs)this.slurs.hasOwnProperty(he)&&this.slurs[he].addInternalNote(U);if(R.startSlur)for(ie=0;ie<R.startSlur.length;ie++)Q=R.startSlur[ie].label,K=new g({anchor1:U,stemDir:this.stemdir,voiceNumber:W,style:R.startSlur[ie].style}),N&&K.setHint(),this.slurs[Q]=K,Y.addOther(K)},j.prototype.addMeasureNumber=function(D,R){var U=this.getTextSize.calc(D,"measurefont","bar-number"),Y=0;R.isClef&&(Y+=U.width/2);var G=U.width>10&&R.abcelem.type==="treble"?13.5:11;R.addFixed(new w(D,Y,U.width,G+U.height/_.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},j.prototype.createBarLine=function(D,R,U){var Y=new a(R,0,10,"bar",this.tuneNumber),G=null,A=0;R.barNumber&&this.addMeasureNumber(R.barNumber,Y);var O=R.type==="bar_right_repeat"||R.type==="bar_dbl_repeat",E=R.type!=="bar_left_repeat"&&R.type!=="bar_thick_thin"&&R.type!=="bar_invisible",W=R.type==="bar_right_repeat"||R.type==="bar_dbl_repeat"||R.type==="bar_left_repeat"||R.type==="bar_thin_thick"||R.type==="bar_thick_thin",X=R.type==="bar_left_repeat"||R.type==="bar_thick_thin"||R.type==="bar_thin_thin"||R.type==="bar_dbl_repeat",K=R.type==="bar_left_repeat"||R.type==="bar_dbl_repeat";if(O||K){for(var Q in this.slurs)this.slurs.hasOwnProperty(Q)&&this.slurs[Q].setEndX(Y);this.startlimitelem=Y}if(O&&(Y.addRight(new w("dots.dot",A,1,7)),Y.addRight(new w("dots.dot",A,1,5)),A+=6),E&&(G=new w(null,A,1,2,{type:"bar",pitch2:10,linewidth:.6}),Y.addRight(G)),R.type==="bar_invisible"&&(G=new w(null,A,1,2,{type:"none",pitch2:10,linewidth:.6}),Y.addRight(G)),R.decoration&&this.decoration.createDecoration(D,R.decoration,12,W?3:1,Y,0,"down",2,R.positioning,this.hasVocals,this.accentAbove),W&&(A+=4,G=new w(null,A,4,2,{type:"bar",pitch2:10,linewidth:4}),Y.addRight(G),A+=5),this.partstartelem&&R.endEnding&&(this.partstartelem.anchor2=G,this.partstartelem=null),X&&(A+=3,G=new w(null,A,1,2,{type:"bar",pitch2:10,linewidth:.6}),Y.addRight(G)),K&&(A+=3,Y.addRight(new w("dots.dot",A,1,7)),Y.addRight(new w("dots.dot",A,1,5))),R.startEnding&&U){var ie=this.getTextSize.calc(R.startEnding,"repeatfont","").width;Y.minspacing+=ie+10,this.partstartelem=new d(R.startEnding,G,null),D.addOther(this.partstartelem)}return Y.extraw-=5,R.chord!==void 0&&S(this.getTextSize,Y,R,0,0,0,!1,this.germanAlphabet),Y},kh=j,kh}var Th,C2;function Sk(){if(C2)return Th;C2=1;var a="http://www.w3.org/2000/svg";function e(u){this.svg=l(),this.currentGroup=[],u.appendChild(this.svg)}e.prototype.clear=function(){if(this.svg){var u=this.svg.parentNode;this.svg=l(),this.currentGroup=[],u&&(u.innerHTML="",u.appendChild(this.svg))}},e.prototype.setTitle=function(u){var f=document.createElement("title"),d=document.createTextNode(u);f.appendChild(d),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setResponsiveWidth=function(u,f){if(this.svg.setAttribute("viewBox","0 0 "+u+" "+f),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var d=this.svg.parentNode.getAttribute("class");d?d.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",d+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var y=f/u*100;this.svg.parentNode.style["padding-bottom"]=y+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},e.prototype.setSize=function(u,f){this.svg.setAttribute("width",u),this.svg.setAttribute("height",f)},e.prototype.setAttribute=function(u,f){this.svg.setAttribute(u,f)},e.prototype.setScale=function(u){u!==1?(this.svg.style.transform="scale("+u+","+u+")",this.svg.style["-ms-transform"]="scale("+u+","+u+")",this.svg.style["-webkit-transform"]="scale("+u+","+u+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},e.prototype.insertStyles=function(u){var f=document.createElementNS(a,"style");f.textContent=u,this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setParentStyles=function(u){for(var f in u)u.hasOwnProperty(f)&&this.svg.parentNode&&(this.svg.parentNode.style[f]=u[f]);if(this.dummySvg){var d=document.querySelector("body");d.removeChild(this.dummySvg),this.dummySvg=null}};function t(u,f,d){var y=d-u;return"M "+u+" "+f+" l "+y+" 0 l 0 1  l "+-y+" 0  z "}function n(u,f,d){var y=d-f;return"M "+u+" "+f+" l 0 "+y+" l 1 0  l 0 "+-y+"  z "}e.prototype.rect=function(u){var f=[],d=u.x,y=u.y,w=u.x+u.width,_=u.y+u.height;return f.push(t(d,y,w)),f.push(t(d,_,w)),f.push(n(w,y,_)),f.push(n(d,_,y)),this.path({path:f.join(" "),stroke:"none","data-name":u["data-name"]})},e.prototype.dottedLine=function(u){var f=document.createElementNS(a,"line");f.setAttribute("x1",u.x1),f.setAttribute("x2",u.x2),f.setAttribute("y1",u.y1),f.setAttribute("y2",u.y2),f.setAttribute("stroke",u.stroke),f.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.rectBeneath=function(u){var f=document.createElementNS(a,"rect");f.setAttribute("x",u.x),f.setAttribute("width",u.width),f.setAttribute("y",u.y),f.setAttribute("height",u.height),u.stroke&&f.setAttribute("stroke",u.stroke),u["stroke-opacity"]&&f.setAttribute("stroke-opacity",u["stroke-opacity"]),u.fill&&f.setAttribute("fill",u.fill),u["fill-opacity"]&&f.setAttribute("fill-opacity",u["fill-opacity"]),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.text=function(u,f,d){var y=document.createElementNS(a,"text");y.setAttribute("stroke","none");for(var w in f)f.hasOwnProperty(w)&&y.setAttribute(w,f[w]);for(var _=(""+u).split(`
`),m=0;m<_.length;m++){var p=document.createElementNS(a,"tspan");if(p.setAttribute("x",f.x?f.x:0),m!==0&&p.setAttribute("dy","1.2em"),_[m].indexOf("")!==-1){var g=_[m].split("");if(p.textContent=g[0],g[1]){var h=document.createElementNS(a,"tspan");h.setAttribute("dy","-0.3em"),h.setAttribute("style","font-size:0.7em"),h.textContent=g[1],p.appendChild(h)}if(g[2]){var C=g[1]?"0.4em":"0.1em",S=document.createElementNS(a,"tspan");S.setAttribute("dy",C),S.setAttribute("style","font-size:0.7em"),S.textContent=g[2],p.appendChild(S)}}else p.textContent=_[m];y.appendChild(p)}return d?d.appendChild(y):this.append(y),y},e.prototype.richTextLine=function(u,f,d,y,w,_){var m=document.createElementNS(a,"text");m.setAttribute("stroke","none"),m.setAttribute("class",y),m.setAttribute("x",f),m.setAttribute("y",d),m.setAttribute("text-anchor",w),m.setAttribute("dominant-baseline","middle");for(var p=0;p<u.length;p++){for(var g=u[p],h=document.createElementNS(a,"tspan"),C=Object.keys(g.attrs),S=0;S<C.length;S++){var k=g.attrs[C[S]];k!==""&&h.setAttribute(C[S],k)}h.textContent=g.content,m.appendChild(h)}return _?_.appendChild(m):this.append(m),m},e.prototype.guessWidth=function(u,f){var d=this.createDummySvg(),y=this.text(u,f,d),w;try{w=y.getBBox(),isNaN(w.height)||!w.height?w={width:f["font-size"]/2,height:f["font-size"]+2}:w={width:w.width,height:w.height}}catch{w={width:f["font-size"]/2,height:f["font-size"]+2}}return d.removeChild(y),w},e.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=l();var u=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",u.join(""));var f=document.querySelector("body");f.appendChild(this.dummySvg)}return this.dummySvg};var o={};e.prototype.getTextSize=function(u,f,d){if(typeof u=="number"&&(u=""+u),!u||u.match(/^\s+$/))return{width:0,height:0};var y;if(u.length<20&&(y=u+JSON.stringify(f),o[y]))return o[y];var w=!d;d||(d=this.text(u,f));var _;try{_=d.getBBox(),isNaN(_.height)||!_.height?_=this.guessWidth(u,f):_={width:_.width,height:_.height}}catch{_=this.guessWidth(u,f)}return w&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(d):this.svg.removeChild(d)),y&&(o[y]=_),_},e.prototype.openGroup=function(u){u=u||{};var f=document.createElementNS(a,"g");return u.klass&&f.setAttribute("class",u.klass),u.fill&&f.setAttribute("fill",u.fill),u.stroke&&f.setAttribute("stroke",u.stroke),u["data-name"]&&f.setAttribute("data-name",u["data-name"]),u.prepend?this.prepend(f):this.append(f),this.currentGroup.unshift(f),f},e.prototype.closeGroup=function(){var u=this.currentGroup.shift();return u&&u.children.length===0?(u.parentElement.removeChild(u),null):u},e.prototype.path=function(u){var f=document.createElementNS(a,"path");for(var d in u)u.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",u.path):d==="klass"?f.setAttributeNS(null,"class",u[d]):u[d]!==void 0&&f.setAttributeNS(null,d,u[d]));return this.append(f),f},e.prototype.pathToBack=function(u){var f=document.createElementNS(a,"path");for(var d in u)u.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",u.path):d==="klass"?f.setAttributeNS(null,"class",u[d]):f.setAttributeNS(null,d,u[d]));return this.prepend(f),f},e.prototype.lineToBack=function(u){for(var f=document.createElementNS(a,"line"),d=Object.keys(u),y=0;y<d.length;y++)f.setAttribute(d[y],u[d[y]]);return this.prepend(f),f},e.prototype.append=function(u){this.currentGroup.length>0?this.currentGroup[0].appendChild(u):this.svg.appendChild(u)},e.prototype.prepend=function(u){this.currentGroup.length>0?this.currentGroup[0].appendChild(u):this.svg.insertBefore(u,this.svg.firstChild)},e.prototype.setAttributeOnElement=function(u,f){for(var d in f)f.hasOwnProperty(d)&&u.setAttributeNS(null,d,f[d])},e.prototype.moveElementToChild=function(u,f){u.appendChild(f)};function l(){var u=document.createElementNS(a,"svg");return u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("role","img"),u.setAttribute("fill","currentColor"),u.setAttribute("stroke","currentColor"),u}return Th=e,Th}var Eh,x2;function kk(){if(x2)return Eh;x2=1;var a=vn(),e=Sk(),t=function(n){this.paper=new e(n),this.controller=null,this.space=3*a.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};return t.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},t.prototype.newTune=function(n){this.abctune=n,this.setVerticalSpace(n.formatting),this.isPrint=n.media==="print",this.setPadding(n)},t.prototype.setLineThickness=function(n){this.lineThickness=n},t.prototype.setPaddingOverride=function(n){this.paddingOverride={top:n.paddingtop,bottom:n.paddingbottom,right:n.paddingright,left:n.paddingleft}},t.prototype.setPadding=function(n){function o(l,u,f,d,y){n.formatting[f]!==void 0?l.padding[u]=n.formatting[f]:l.paddingOverride[u]!==void 0?l.padding[u]=l.paddingOverride[u]:l.isPrint?l.padding[u]=d:l.padding[u]=y}o(this,"top","topmargin",38,15),o(this,"bottom","botmargin",38,15),o(this,"left","leftmargin",68,15),o(this,"right","rightmargin",68,15)},t.prototype.adjustNonScaledItems=function(n){this.padding.top/=n,this.padding.bottom/=n,this.padding.left/=n,this.padding.right/=n,this.abctune.formatting.headerfont.size/=n,this.abctune.formatting.footerfont.size/=n},t.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},t.prototype.setVerticalSpace=function(n){n.staffsep!==void 0&&(this.spacing.staffSeparation=n.staffsep*4/3),n.composerspace!==void 0&&(this.spacing.composer=n.composerspace*4/3),n.partsspace!==void 0&&(this.spacing.parts=n.partsspace*4/3),n.textspace!==void 0&&(this.spacing.text=n.textspace*4/3),n.musicspace!==void 0&&(this.spacing.music=n.musicspace*4/3),n.titlespace!==void 0&&(this.spacing.title=n.titlespace*4/3),n.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=n.sysstaffsep*4/3),n.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=n.stafftopmargin*4/3),n.subtitlespace!==void 0&&(this.spacing.subtitle=n.subtitlespace*4/3),n.topspace!==void 0&&(this.spacing.top=n.topspace*4/3),n.vocalspace!==void 0&&(this.spacing.vocal=n.vocalspace*4/3),n.wordsspace!==void 0&&(this.spacing.words=n.wordsspace*4/3)},t.prototype.calcY=function(n){return this.y-n*a.STEP},t.prototype.moveY=function(n,o){o===void 0&&(o=1),this.y+=n*o},t.prototype.absolutemoveY=function(n){this.y=n},Eh=t,Eh}var Mh,S2;function Tk(){if(S2)return Mh;S2=1;function a(e,t,n,o,l,u){var f=e.text;this.rows=[];var d;t&&this.rows.push({move:t});var y=n.calc("textfont","defined-text");if(f==="")this.rows.push({move:y.attr["font-size"]*2});else if(typeof f=="string")this.rows.push({move:y.attr["font-size"]/2}),this.rows.push({left:o,text:f,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=u.calc(f,"textfont","defined-text"),this.rows.push({move:d.height});else if(f){for(var w=0,_=o,m="textfont",p=0;p<f.length;p++)f[p].font?m=f[p].font:m="textfont",this.rows.push({left:_,text:f[p].text,font:m,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=u.calc(f[p].text,n.calc(m,"defined-text").font,"defined-text"),_+=d.width+d.height/2,w=Math.max(w,d.height);this.rows.push({move:w})}else if(e.length===1){var g=l/2;this.rows.push({left:g,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=u.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:d.height})}}return Mh=a,Mh}var Ah,k2;function Ek(){if(k2)return Ah;k2=1;function a(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}return Ah=a,Ah}var Ph,T2;function Mk(){if(T2)return Ph;T2=1;function a(e,t,n,o,l,u){this.rows=[],e&&this.rows.push({move:e});var f=t.titleleft?"start":"middle",d=t.titleleft?l:o;this.rows.push({left:d,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:f,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var y=u.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:y.height})}return Ph=a,Ph}var Nh,E2;function x1(){if(E2)return Nh;E2=1;function a(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var o={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(o.absElemType=t.absElemType),!t.inGroup&&t.klass&&(o.klass=t.klass),t.name&&(o.name=t.name),e.push(o);var l=n.calc("A",t.font,t.klass),u=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&u--,!t.noMove){var f=l.height*1.1*u;e.push({move:Math.round(f)}),t.marginBottom&&e.push({move:t.marginBottom})}}}return Nh=a,Nh}var Oh,M2;function _5(){if(M2)return Oh;M2=1;const a=x1();function e(t,n,o,l,u,f,d,y){var w=y.calc("i",o,l);if(n==="")t.push({move:w.height});else{if(typeof n=="string"){a(t,{marginLeft:f,text:n,font:o,klass:l,marginTop:d.marginTop,anchor:d.anchor,absElemType:d.absElemType,info:d.info,name:u},y);return}d.marginTop&&t.push({move:d.marginTop});var _=0,m={left:f,anchor:d.anchor,phrases:[]};l&&(m.klass=l),t.push(m);for(var p=0;p<n.length;p++){var g=n[p],h=g.font?g.font:y.attr(o,l).font,C={content:g.text};h&&(C.attrs={"font-family":y.getFamily(h.face),"font-size":h.size,"font-weight":h.weight,"font-style":h.style,"font-decoration":h.decoration}),m.phrases.push(C);var S=y.calc(g.text,h,l);_=Math.max(_,S.height),g.text[g.text.length-1]===" "&&w.width}t.push({move:_})}}return Oh=e,Oh}var Ih,A2;function Ak(){if(A2)return Ih;A2=1;const a=x1(),e=_5();function t(n,o,l,u,f,d,y,w,_,m){if(this.rows=[],n.header&&d){var p=m.calc("X","headerfont","abcjs-header abcjs-meta-top").height;a(this.rows,{marginLeft:y,text:n.header.left,font:"headerfont",klass:"header meta-top",marginTop:-p,info:o.header,name:"header"},m),a(this.rows,{marginLeft:y+f/2,text:n.header.center,font:"headerfont",klass:"header meta-top",marginTop:-p,anchor:"middle",info:o.header,name:"header"},m),a(this.rows,{marginLeft:y+f,text:n.header.right,font:"headerfont",klass:"header meta-top",marginTop:-p,anchor:"end",info:o.header,name:"header"},m)}d&&this.rows.push({move:w.top});var g=l.titleleft?"start":"middle",h=l.titleleft?y:y+f/2;if(n.title){var C=_?"abcjs-title":"";e(this.rows,n.title,"titlefont",C,"title",h,{marginTop:w.title,anchor:g,absElemType:"title",info:o.title},m)}if(u.length)for(var S=0;S<u.length&&u[S].subtitle;){var C=_?"abcjs-text abcjs-subtitle":"";e(this.rows,u[S].subtitle.text,"subtitlefont",C,"subtitle",h,{marginTop:w.subtitle,anchor:g,absElemType:"subtitle",info:u[S].subtitle},m),S++}if(n.rhythm||n.origin||n.composer){if(this.rows.push({move:w.composer}),n.rhythm&&n.rhythm.length>0){var k=!!(n.composer||n.origin),C=_?"abcjs-rhythm":"";a(this.rows,{marginLeft:y,text:n.rhythm,font:"infofont",klass:C,absElemType:"rhythm",noMove:k,info:o.rhythm,name:"rhythm"},m)}n.composer&&n.composer,n.origin&&n.origin;var M=n.composer?n.composer:"";if(n.origin&&(typeof M=="string"&&typeof n.origin=="string"?M+=" ("+n.origin+")":typeof M=="string"&&typeof n.origin!="string"?(M=[{text:M}],M.push({text:" ("}),M=M.concat(n.origin),M.push({text:")"})):(M.push({text:" ("}),M=M.concat(n.origin),M.push({text:")"}))),M){var C=_?"abcjs-composer":"";e(this.rows,M,"composerfont",C,"composer",y+f,{anchor:"end",absElemType:"composer",info:o.composer,ingroup:!0},m)}}if(n.author&&n.author.length>0){var C=_?"abcjs-author":"";e(this.rows,n.author,"composerfont",C,"author",y+f,{anchor:"end",absElemType:"author",info:o.author},m)}if(n.partOrder&&n.partOrder.length>0){var C=_?"abcjs-part-order":"";e(this.rows,n.partOrder,"partsfont",C,"part-order",y,{absElemType:"partOrder",info:o.partOrder,anchor:"start"},m)}}return Ih=t,Ih}var Rh,P2;function Pk(){if(P2)return Rh;P2=1;const a=x1(),e=_5();function t(l,u,f,d,y,w,_){this.rows=[],l.unalignedWords&&l.unalignedWords.length>0&&this.unalignedWords(l.unalignedWords,d,y,w,_),this.extraText(l,d,y,w,_),l.footer&&f&&this.footer(l.footer,u,d,_)}t.prototype.unalignedWords=function(l,u,f,d,y){var w=d?"abcjs-unaligned-words":"",_="wordsfont",m=y.calc("i",_,w);this.rows.push({move:f.words}),o(this.rows,"",l,u,_,"unalignedWords","unalignedWords",w,"unalignedWords",f,d,y),this.rows.push({move:m.height})};function n(l,u,f,d,y,w,_){f&&(u&&(typeof f=="string"?f=u+f:f=[{text:u}].concat(f)),y=w?"abcjs-extra-text "+y:"",e(l,f,"historyfont",y,"description",d,{absElemType:"extraText",anchor:"start"},_))}function o(l,u,f,d,y,w,_,m,p,g,h,C){if(f){m=h?"abcjs-extra-text "+m:"";var S=C.calc("A",y,m);if(typeof f=="string")u&&(f=u+`
`+f),a(l,{marginLeft:d,text:f,font:y,absElemType:"extraText",name:p,"dominant-baseline":"middle",klass:m},C);else{l.push({startGroup:_,klass:m,name:p}),l.push({move:g.info}),u&&(a(l,{marginLeft:d,text:u,font:y,absElemType:"extraText",name:p,"dominant-baseline":"middle"},C),l.push({move:S.height*3/4}));for(var k=0;k<f.length;k++)e(l,f[k],y,"",p,d,{anchor:"start"},C),k<f.length-1&&typeof f[k]=="string"&&typeof f[k+1]!="string"&&l.push({move:S.height*3/4});l.push({endGroup:_,absElemType:w,startChar:-1,endChar:-1,name:p}),l.push({move:S.height})}}}return t.prototype.extraText=function(l,u,f,d,y){n(this.rows,"Book: ",l.book,u,"abcjs-book",d,y),n(this.rows,"Source: ",l.source,u,"abcjs-source",d,y),n(this.rows,"Discography: ",l.discography,u,"abcjs-discography",d,y),o(this.rows,"Notes:",l.notes,u,"historyfont","extraText","notes","abcjs-notes","description",f,d,y),n(this.rows,"Transcription: ",l.transcription,u,"abcjs-transcription",d,y),o(this.rows,"History:",l.history,u,"historyfont","extraText","history","abcjs-history","description",f,d,y),n(this.rows,"Copyright: ",l["abc-copyright"],u,"abcjs-copyright",d,y),n(this.rows,"Creator: ",l["abc-creator"],u,"abcjs-creator",d,y),n(this.rows,"Edited By: ",l["abc-edited-by"],u,"abcjs-edited-by",d,y)},t.prototype.footer=function(l,u,f,d){var y="header meta-bottom",w="footerfont";this.rows.push({startGroup:"footer",klass:y}),a(this.rows,{marginLeft:f,text:l.left,font:w,klass:y,name:"footer"},d),a(this.rows,{marginLeft:f+u/2,text:l.center,font:w,klass:y,anchor:"middle",name:"footer"},d),a(this.rows,{marginLeft:f+u,text:l.right,font:w,klass:y,anchor:"end",name:"footer"},d)},Rh=t,Rh}var Dh,N2;function w5(){if(N2)return Dh;N2=1;function a(t,n,o,l){if(t.indexOf(n)===0){var u=t.replace(n,""),f=parseInt(u,10);""+f===u&&(o[l]=f)}}function e(t,n){var o=[];if(t.absEl.elemset){for(var l={},u=0;u<t.absEl.elemset.length;u++){var f=t.absEl.elemset[u];if(f)for(var d=f.getAttribute("class").split(" "),y=0;y<d.length;y++)l[d[y]]=!0}for(var w=0;w<Object.keys(l).length;w++)o.push(Object.keys(l)[w])}for(var _={},m=0;m<o.length;m++)a(o[m],"abcjs-v",_,"voice"),a(o[m],"abcjs-l",_,"line"),a(o[m],"abcjs-m",_,"measure");t.staffPos&&(_.staffPos=t.staffPos);for(var p=n.target;p&&p.dataset&&!p.dataset.name&&p.tagName.toLowerCase()!=="svg";)p=p.parentNode;for(var g=n.target;g&&g.dataset&&!g.dataset.index&&g.tagName.toLowerCase()!=="svg";)g=g.parentNode;return g&&g.dataset&&(_.name=g.dataset.name,_.clickedName=p.dataset.name,_.parentClasses=g.classList),p&&p.classList&&(_.clickedClasses=p.classList),_.selectableElement=t.svgEl,{classes:o,analysis:_}}return Dh=e,Dh}var Lh,O2;function Nk(){if(O2)return Lh;O2=1;var a=vn(),e=w5();function t(T,F){if(T.rangeHighlight=M,T.dragging)for(var q=0;q<T.selectables.length;q++){var B=T.selectables[q];B.svgEl.getAttribute("selectable")==="true"&&(B.svgEl.setAttribute("tabindex",0),B.svgEl.setAttribute("data-index",q),B.svgEl.addEventListener("keydown",l.bind(T)),B.svgEl.addEventListener("keyup",u.bind(T)),B.svgEl.addEventListener("focus",o.bind(T)))}for(var V=0;V<F.length;V++)F[V].addEventListener("touchstart",p.bind(T),{passive:!0}),F[V].addEventListener("touchmove",g.bind(T),{passive:!0}),F[V].addEventListener("touchend",h.bind(T),{passive:!0}),F[V].addEventListener("mousedown",p.bind(T)),F[V].addEventListener("mousemove",g.bind(T)),F[V].addEventListener("mouseup",h.bind(T))}function n(T){var F=1,q=1,B=T.target.closest("svg"),V=0;B&&B.viewBox&&B.viewBox.baseVal&&(B.viewBox.baseVal.width!==0&&(F=B.viewBox.baseVal.width/B.clientWidth),B.viewBox.baseVal.height!==0&&(q=B.viewBox.baseVal.height/B.clientHeight),V=B.viewBox.baseVal.y);var H=T.target&&T.target.tagName==="svg",D,R;return H?(D=T.offsetX,R=T.offsetY):(D=T.layerX,R=T.layerY),D=D*F,R=R*q,[D,R+V]}function o(T){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&S.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,T),this.dragYStep=0}function l(T){switch(T.keyCode){case 38:case 40:T.preventDefault()}}function u(T){var F=!1,q=T.target.dataset.index;switch(T.keyCode){case 13:case 32:F=!0,this.dragTarget=this.selectables[q],this.dragIndex=q,this.dragMechanism="keyboard",h.bind(this)(T);break;case 38:F=!0,this.dragTarget=this.selectables[q],this.dragIndex=q,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*a.STEP+")"));break;case 40:F=!0,this.dragTarget=this.selectables[q],this.dragIndex=q,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*a.STEP+")"));break;case 9:this.dragYStep!==0&&h.bind(this)(T);break}F&&T.preventDefault()}function f(T,F){if(!F)return-1;for(var q=0;q<T.length;q++)if(F.dataset.index===T[q].svgEl.dataset.index)return q;return-1}function d(T,F,q){for(var B=9999999,V=-1,H=0;H<T.selectables.length&&B>0;H++){var D=T.selectables[H];if(T.getDim(D),D.dim.left<F&&D.dim.right>F&&D.dim.top<q&&D.dim.bottom>q)V=H,B=0;else if(D.dim.top<q&&D.dim.bottom>q){var R=Math.min(Math.abs(D.dim.left-F),Math.abs(D.dim.right-F));R<B&&(B=R,V=H)}else if(D.dim.left<F&&D.dim.right>F){var U=Math.min(Math.abs(D.dim.top-q),Math.abs(D.dim.bottom-q));U<B&&(B=U,V=H)}else{var Y=Math.abs(F-D.dim.left)>Math.abs(F-D.dim.right)?Math.abs(F-D.dim.right):Math.abs(F-D.dim.left),G=Math.abs(q-D.dim.top)>Math.abs(q-D.dim.bottom)?Math.abs(q-D.dim.bottom):Math.abs(q-D.dim.top),A=Math.sqrt(Y*Y+G*G);A<B&&(B=A,V=H)}}return V>=0&&B<=12?V:-1}function y(T,F,q){if(T.x<=F.offsetX&&T.x+T.width>=F.offsetX&&T.y<=F.offsetY&&T.y+T.height>=F.offsetY)return[F.offsetX,F.offsetY];var B=Math.abs(F.layerY/q-F.offsetY);return B<3?[F.offsetX,F.offsetY]:[F.layerX,F.layerY]}function w(T){if(!T)return null;if(T.tagName==="svg")return T;if(!T.getAttribute)return null;for(var F=T.getAttribute("selectable");!F;)T.parentElement?(T=T.parentElement,T.tagName==="svg"?F=!0:F=T.getAttribute("selectable")):F=!0;return T}function _(T,F){var q,B,V,H=f(T.selectables,w(F.target));return H>=0?(V=y(T.selectables[H].svgEl.getBBox(),F,T.scale),q=V[0],B=V[1]):(V=n(F),q=V[0],B=V[1],H=d(T,q,B)),{x:q,y:B,clickedOn:H}}function m(T){if(!(!T||!T.target||!T.touches||T.touches.length<1)){var F=T.target.getBoundingClientRect(),q=T.touches[0].pageX-F.left,B=T.touches[0].pageY-F.top;T.touches[0].offsetX=q,T.touches[0].offsetY=B,T.touches[0].layerX=T.touches[0].pageX,T.touches[0].layerY=T.touches[0].pageY}}function p(T){var F=T;T.type==="touchstart"&&(m(T),T.touches.length>0&&(F=T.touches[0]));var q=_(this,F);q.clickedOn>=0&&(T.type==="touchstart"||T.button===0)&&this.selectables[q.clickedOn]&&(this.dragTarget=this.selectables[q.clickedOn],this.dragIndex=q.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:q.x,y:q.y},this.dragging&&this.dragTarget.isDraggable&&(z(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function g(T){var F=T;if(T.type==="touchmove"&&(m(T),T.touches.length>0&&(F=T.touches[0])),this.lastTouchMove=T,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var q=_(this,F),B=Math.round((q.y-this.dragMouseStart.y)/a.STEP);B!==this.dragYStep&&(this.dragYStep=B,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+B*a.STEP+")"))}}function h(T){var F=T;T.type==="touchend"&&this.lastTouchMove&&(m(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(F=this.lastTouchMove.touches[0])),this.dragTarget&&(k.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),S.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,F),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),j(this.renderer.svg,"abcjs-dragging-in-progress"))}function C(T){T>=0&&T<this.selectables.length&&(this.dragTarget=this.selectables[T],this.dragIndex=T,this.dragMechanism="keyboard",h.bind(this)({target:this.dragTarget.svgEl}))}function S(T,F,q,B,V){for(var H=e(T,V),D=H.classes,R=H.analysis,U=0;U<this.listeners.length;U++)this.listeners[U](T.absEl.abcelem,T.absEl.tuneNumber,D.join(" "),R,{step:F,max:q,index:B,setSelection:C.bind(this)},V)}function k(){for(var T=0;T<this.selected.length;T++)this.selected[T].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function M(T,F){k.bind(this)();for(var q=0;q<this.staffgroups.length;q++)for(var B=this.staffgroups[q].voices,V=0;V<B.length;V++)for(var H=B[V].children,D=0;D<H.length;D++){var R=H[D].abcelem.startChar,U=H[D].abcelem.endChar;(F>R&&T<U||F===T&&F===U)&&(this.selected[this.selected.length]=H[D],H[D].highlight(void 0,this.selectionColor))}}function I(T){var F=T.getAttribute("class");F||(F="");for(var q=F.split(" "),B={},V=0;V<q.length;V++)B[q[V]]=!0;return B}function N(T,F){var q=[];for(var B in F)F.hasOwnProperty(B)&&q.push(B);T.setAttribute("class",q.join(" "))}function z(T,F){if(T){var q=I(T.svg);q[F]=!0,N(T.svg,q)}}function j(T,F){if(T){var q=I(T.svg);delete q[F],N(T.svg,q)}}return Lh=t,Lh}var Fh,I2;function S1(){if(I2)return Fh;I2=1;function a(e,t,n,o,l){return t+(o-t)/(n-e)*(l-e)}return Fh=a,Fh}var Bh,R2;function Ok(){if(R2)return Bh;R2=1;var a=hr(),e=vn(),t=S1(),n=function(m){if(!(m.elems.length===0||m.allrests)){var p=f(m.stemsUp,m.isgrace),g=m.elems[0],h=m.elems[m.elems.length-1],C=0,S=m.stemsUp?g.abcelem.maxpitch:g.abcelem.minpitch;C=l(g,m.stemsUp,S,C),C=l(h,m.stemsUp,S,C),C=Math.max(m.stemHeight,C+3);var k=y(m.average,m.elems.length,C,m.stemsUp,g.abcelem.averagepitch,h.abcelem.averagepitch,m.isflat,m.min,m.max,m.isgrace),M=d(m.stemsUp,g,h);m.addBeam({startX:M[0],endX:M[1],startY:k[0],endY:k[1],dy:p});for(var I=_(m.elems,m.stemsUp,m.beams[0],m.isgrace,p),N=0;N<I.length;N++)m.addBeam(I[N]);w(m.elems,m.stemsUp,m.beams[0],p,m.mainNote)}},o=function(m){return m===void 0?0:Math.floor(Math.log(m)/Math.log(2))};function l(m,p,g,h){if(!m.children)return h;for(var C=0;C<m.children.length;C++){var S=m.children[C];p&&S.top!==void 0&&S.c==="flags.ugrace"?h=Math.max(h,S.top-g):!p&&S.bottom!==void 0&&S.c==="flags.ugrace"&&(h=Math.max(h,g-S.bottom+7))}return h}function u(m,p,g,h){if(h)return 0;var C=m-p,S=g/2;return C>S&&(C=S),C<-S&&(C=-S),C}function f(m,p){var g=m?e.STEP:-e.STEP;return p&&(g=g*.4),g}function d(m,p,g){var h=p.heads[m?0:p.heads.length-1],C=g.heads[m?0:g.heads.length-1],S=h.x;m&&(S+=h.w-.6);var k=C.x;return k+=m?C.w:.6,[S,k]}function y(m,p,g,h,C,S,k,M,I,N){var z=g-2,j=g-2,T=Math.round(h?Math.max(m+z,I+j):Math.min(m-z,M-j)),F=u(C,S,p,k),q=T+Math.floor(F/2),B=T+Math.floor(-F/2);return N||(h&&T<6||!h&&T>6)&&(q=6,B=6),[q,B]}function w(m,p,g,h,C){for(var S=0;S<m.length;S++){var k=m[S];if(!k.abcelem.rest){var M=!k.addExtra,I=M?C:k,N=k.heads[p?0:k.heads.length-1],z=1/5,j=N.pitch+(p?z:-z),T=p?N.w:0;M||(T+=N.dx);var F=N.x+T,q=t(g.startX,g.startY,g.endX,g.endY,F),B=p?-.6:.6;p||(q-=h/2/e.STEP),M&&(T+=k.heads[0].dx),N.c==="noteheads.slash.quarter"&&(p?j+=1:j-=1);var V=new a(null,T,0,j,{type:"stem",pitch2:q,linewidth:B});V.setX(I.x),I.addRight(V)}}}function _(m,p,g,h,C){for(var S=[],k=[],M=0;M<m.length;M++){var I=m[M];if(!I.abcelem.rest){var N=I.heads[p?0:I.heads.length-1],z=N.x+(p?N.w:0),j=t(g.startX,g.startY,g.endX,g.endY,z),T=p?-1.5:1.5;h&&(T=T*2/3);var F=I.abcelem.duration;F===0&&(F=.25);for(var q=o(F);q<-3;q++){var B=-4-q;if(k[B]?k[B].single=!1:k[B]={x:z+(p?-.6:0),y:j+T*(B+1),durlog:q,single:!0},M>0&&I.abcelem.beambr&&I.abcelem.beambr<=B+1){k[B].split||(k[B].split=[k[B].x]);var V=d(p,m[M-1],I);k[B].split[k[B].split.length-1]>=V[0]&&(V[0]+=I.w),k[B].split.push(V[0]),k[B].split.push(V[1])}}for(var H=k.length-1;H>=0;H--)if(M===m.length-1||o(m[M+1].abcelem.duration)>-H-4){var D=z,R=j+T*(H+1);k[H].single&&(D=M===0?z+5:z-5,R=t(g.startX,g.startY,g.endX,g.endY,D)+T*(H+1));var U={startX:k[H].x,endX:D,startY:k[H].y,endY:R,dy:C};if(k[H].split!==void 0){var Y=k[H].split;U.endX<=Y[Y.length-1]&&(Y[Y.length-1]-=I.w),Y.push(U.endX),U.split=k[H].split}S.push(U),k=k.slice(0,H)}}}return S}return Bh=n,Bh}var qh,D2;function Ik(){if(D2)return qh;D2=1;var a=S1();function e(l){if(l.anchor1&&l.anchor2){l.hasBeam=!!l.anchor1.parent.beam&&l.anchor1.parent.beam===l.anchor2.parent.beam;var u=l.anchor1.parent.beam;if(l.hasBeam&&(u.elems[0]!==l.anchor1.parent||u.elems[u.elems.length-1]!==l.anchor2.parent)&&(l.hasBeam=!1),l.hasBeam){var f=t(u)?l.anchor1.x+l.anchor1.w:l.anchor1.x;l.yTextPos=n(f,l.anchor2.x,u),l.yTextPos+=t(u)?3:-2,l.xTextPos=o(f,l.anchor2.x),l.top=l.yTextPos+1,l.bottom=l.yTextPos-2,t(u)&&(l.endingHeightAbove=4)}else{l.startNote=Math.max(l.anchor1.parent.top,9)+4,l.endNote=Math.max(l.anchor2.parent.top,9)+4,l.anchor1.parent.type==="rest"&&l.anchor2.parent.type!=="rest"?l.startNote=l.endNote:l.anchor2.parent.type==="rest"&&l.anchor1.parent.type!=="rest"&&(l.endNote=l.startNote);for(var d=0,y=0;y<l.middleElems.length;y++)d=Math.max(d,l.middleElems[y].top);d+=4,(d>l.startNote||d>l.endNote)&&(l.startNote=d,l.endNote=d),l.flatBeams&&(l.startNote=Math.max(l.startNote,l.endNote),l.endNote=Math.max(l.startNote,l.endNote)),l.yTextPos=l.startNote+(l.endNote-l.startNote)/2,l.xTextPos=l.anchor1.x+(l.anchor2.x+l.anchor2.w-l.anchor1.x)/2,l.top=l.yTextPos+1}}delete l.middleElems,delete l.flatBeams}function t(l){return l.stemsUp}function n(l,u,f){if(f.beams.length===0)return 0;f=f.beams[0];var d=l+(u-l)/2;return a(f.startX,f.startY,f.endX,f.endY,d)}function o(l,u){return l+(u-l)/2}return qh=e,qh}var zh,L2;function Rk(){if(L2)return zh;L2=1;var a=Ok(),e=S1(),t=Ik(),n=function(w){for(var _=0;_<w.beams.length;_++)if(w.beams[_].type==="BeamElem"){a(w.beams[_]),o(w.beams[_]);for(var m=0;m<w.beams[_].elems.length;m++)w.adjustRange(w.beams[_].elems[m])}for(w.staff.specialY.chordLines=u(w.children),_=0;_<w.otherchildren.length;_++){var p=w.otherchildren[_];p.type==="TripletElem"&&(t(p),w.adjustRange(p))}w.staff.top=Math.max(w.staff.top,w.top),w.staff.bottom=Math.min(w.staff.bottom,w.bottom)};function o(w){for(var _=1.5,m=0;m<w.elems.length;m++){var p=w.elems[m];if(p.top)for(var g=y(p,w),h=0;h<p.children.length;h++){var C=p.children[h];if(C.klass==="ornament"&&C.position!=="below"&&C.bottom-_<g){var S=g-C.bottom+_;C.bottom+=S,C.top+=S,C.pitch+=S,g=p.top=C.top}}}}function l(w,_){var m=_.getChordDim();if(m){for(var p=0;p<w.length;p++){var g=w[p]<m.left;if(g){p>0&&_.putChordInLane(p),w[p]=m.right;return}}w.push(m.right),_.putChordInLane(w.length-1)}}function u(w){var _=[0],m=[0],p,g,h;for(p=0;p<w.length;p++){for(g=0;g<w[p].children.length;g++)h=w[p].children[g],h.chordHeightAbove&&l(_,h);for(g=w[p].children.length-1;g>=0;g--)h=w[p].children[g],h.chordHeightBelow&&l(m,h)}return(_.length>1||m.length>1)&&d(w,_.length,m.length),{above:_.length,below:m.length}}function f(w){for(var _=0,m=0;m<w.children.length;m++){var p=w.children[m];p.chordHeightBelow&&_++}return _}function d(w,_,m){for(var p=0;p<w.length;p++){f(w[p]);for(var g=0;g<w[p].children.length;g++){var h=w[p].children[g];h.chordHeightAbove&&h.invertLane(_)}}}function y(w,_){return _=_.beams[0],e(_.startX,_.startY,_.endX,_.endY,w.x)}return zh=n,zh}var Vh,F2;function Dk(){if(F2)return Vh;F2=1;var a=vn(),e=function(_,m){for(var p,g=0;g<m.staffs.length;g++){var h=m.staffs[g],C={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(_.showDebug&&_.showDebug.indexOf("box")>=0&&(h.originalTop=h.top,h.originalBottom=h.bottom),n(h,C,"lyricHeightAbove"),n(h,C,"chordHeightAbove",h.specialY.chordLines.above),h.specialY.endingHeightAbove&&(h.specialY.chordHeightAbove?h.top+=2:h.top+=h.specialY.endingHeightAbove+t,C.endingHeightAbove=h.top),h.specialY.dynamicHeightAbove&&h.specialY.volumeHeightAbove?(h.top+=Math.max(h.specialY.dynamicHeightAbove,h.specialY.volumeHeightAbove)+t,C.dynamicHeightAbove=h.top,C.volumeHeightAbove=h.top):(n(h,C,"dynamicHeightAbove"),n(h,C,"volumeHeightAbove")),n(h,C,"partHeightAbove"),n(h,C,"tempoHeightAbove"),h.specialY.lyricHeightBelow&&(h.specialY.lyricHeightBelow+=_.spacing.vocal/a.STEP,C.lyricHeightBelow=h.bottom,h.bottom-=h.specialY.lyricHeightBelow+t),h.specialY.chordHeightBelow){C.chordHeightBelow=h.bottom;var S=h.specialY.chordHeightBelow;h.specialY.chordLines.below&&(S*=h.specialY.chordLines.below),h.bottom-=S+t}h.specialY.volumeHeightBelow&&h.specialY.dynamicHeightBelow?(C.volumeHeightBelow=h.bottom,C.dynamicHeightBelow=h.bottom,h.bottom-=Math.max(h.specialY.volumeHeightBelow,h.specialY.dynamicHeightBelow)+t):h.specialY.volumeHeightBelow?(C.volumeHeightBelow=h.bottom,h.bottom-=h.specialY.volumeHeightBelow+t):h.specialY.dynamicHeightBelow&&(C.dynamicHeightBelow=h.bottom,h.bottom-=h.specialY.dynamicHeightBelow+t),_.showDebug&&_.showDebug.indexOf("box")>=0&&(h.positionY=C);for(var k=0;k<h.voices.length;k++){var M=m.voices[h.voices[k]];o(C,M,_.spacing)}if(p!==void 0){var I=h.top-10,N=p+I,z=_.spacing.systemStaffSeparation/a.STEP,j=z-N;j>0&&(h.top+=j)}h.top+=_.spacing.staffTopMargin/a.STEP,p=2-h.bottom}},t=1;function n(_,m,p,g){if(_.specialY[p]){var h=_.specialY[p];g&&(h*=g),_.top+=h+t,m[p]=_.top}}function o(_,m,p){var g,h;for(g=0;g<m.children.length;g++)h=m.children[g],l(_,h,p);for(g=0;g<m.otherchildren.length;g++)switch(h=m.otherchildren[g],h.type){case"CrescendoElem":u(_,h);break;case"DynamicDecoration":f(_,h);break;case"EndingElem":d(_,h);break;case"TieElem":var C=h.getYBounds();m.staff.top=Math.max(m.staff.top,C[0]),m.staff.top=Math.max(m.staff.top,C[1]),m.staff.bottom=Math.min(m.staff.bottom,C[0]),m.staff.bottom=Math.min(m.staff.bottom,C[1]);break}}function l(_,m,p){for(var g=0;g<m.children.length;g++){var h=m.children[g];for(var C in m.specialY)m.specialY.hasOwnProperty(C)&&h[C]&&(h.pitch=_[C],h.top===void 0&&(h.type==="TempoElement"?y(_,h):w(_,h,p),m.pushTop(h.top),m.pushBottom(h.bottom)))}}function u(_,m){m.dynamicHeightAbove?m.pitch=_.dynamicHeightAbove:m.pitch=_.dynamicHeightBelow}function f(_,m){m.volumeHeightAbove?m.pitch=_.volumeHeightAbove:m.pitch=_.volumeHeightBelow}function d(_,m){m.pitch=_.endingHeightAbove-2}function y(_,m){if(m.pitch=_.tempoHeightAbove,m.top=_.tempoHeightAbove,m.bottom=_.tempoHeightAbove,m.note){var p=m.pitch-m.totalHeightInPitches+1;m.note.top=p,m.note.bottom=p;for(var g=0;g<m.note.children.length;g++){var h=m.note.children[g];h.top+=p,h.bottom+=p,h.pitch+=p,h.pitch2!==void 0&&(h.pitch2+=p)}}}function w(_,m,p){switch(m.type){case"part":m.top=_.partHeightAbove+m.height,m.bottom=_.partHeightAbove;break;case"text":case"chord":m.chordHeightAbove?(m.top=_.chordHeightAbove,m.bottom=_.chordHeightAbove):(m.top=_.chordHeightBelow,m.bottom=_.chordHeightBelow);break;case"lyric":m.lyricHeightAbove?(m.top=_.lyricHeightAbove,m.bottom=_.lyricHeightAbove):(m.top=_.lyricHeightBelow+p.vocal/a.STEP,m.bottom=_.lyricHeightBelow+p.vocal/a.STEP,m.pitch-=p.vocal/a.STEP);break;case"debug":m.top=_.chordHeightAbove,m.bottom=_.chordHeightAbove;break}(m.pitch===void 0||m.top===void 0)&&console.error("RelativeElement position not set.",m.type,m.pitch,m.top,_)}return Vh=e,Vh}var jh,B2;function Lk(){if(B2)return jh;B2=1;var a=function(){};a.beginLayout=function(n,o){o.i=0,o.durationindex=0,o.startx=n,o.minx=n,o.nextx=n,o.spacingduration=0},a.layoutEnded=function(n){return n.i>=n.children.length},a.getNextX=function(n){return Math.max(n.minx,n.nextx)},a.getSpacingUnits=function(n){return Math.sqrt(n.spacingduration*8)},a.layoutOneItem=function(n,o,l,u,f){var d=l.children[l.i];if(!d)return 0;var y=n-l.minx,w=l.durationindex+d.duration>0?u:0;if(d.abcelem.el_type==="note"&&!d.abcelem.rest&&l.voicenumber!==0&&f){var _=f.children[f.i],m=_&&(d.abcelem.maxpitch<=_.abcelem.maxpitch+1&&d.abcelem.maxpitch>=_.abcelem.minpitch-1||d.abcelem.minpitch<=_.abcelem.maxpitch+1&&d.abcelem.minpitch>=_.abcelem.minpitch-1);if(m&&d.abcelem.minpitch===_.abcelem.minpitch&&d.abcelem.maxpitch===_.abcelem.maxpitch&&_.heads&&_.heads.length>0&&d.heads&&d.heads.length>0&&_.heads[0].c===d.heads[0].c&&(m=!1),m){var p=_.heads&&_.heads.length>0?_.heads[0].realWidth:_.fixed.w;d.adjustedWidth||(d.adjustedWidth=p+d.w),d.w=d.adjustedWidth;for(var g=0;g<d.children.length;g++){var h=d.children[g];h.name.indexOf("accidental")<0&&(h.adjustedWidth||(h.adjustedWidth=h.dx+p),h.dx=h.adjustedWidth)}}}var C=e(d,w);return y<C&&(l.i===0||d.type!=="bar"||l.children[l.i-1].type!=="part"&&l.children[l.i-1].type!=="tempo")&&(n+=C-y),d.setX(n),l.spacingduration=d.duration,l.minx=n+t(d),l.i!==l.children.length-1&&(l.minx+=d.minspacing),this.updateNextX(n,o,l),n},a.shiftRight=function(n,o){var l=o.children[o.i];l&&(l.setX(l.x+n),o.minx+=n,o.nextx+=n)},a.updateNextX=function(n,o,l){l.nextx=n+o*this.getSpacingUnits(l)},a.updateIndices=function(n){this.layoutEnded(n)||(n.durationindex+=n.children[n.i].duration,n.children[n.i].type==="bar"&&(n.durationindex=Math.round(n.durationindex*64)/64),n.i++)};function e(n,o){var l=0;return(n.type==="note"||n.type==="bar")&&(l=o),-n.extraw+l}function t(n){return n.w}return jh=a,jh}var Hh,q2;function Fk(){if(q2)return Hh;q2=1;var a=Lk();function e(u){for(var f=0,d=0;d<u.length;d++){var y=u[d];if(y.children.length>0){var w=y.children.length-1,_=y.children[w];if(_.abcelem.el_type==="bar"){var m=_.children[0].x;m>f?f=m:_.children[0].x=f}}}}var t=function(u,f,d,y,w){var _=1e-7,m=0,p=1e3,g=w;y.startx=g;var h,C=0;for(d&&console.log("init layout",u),h=0;h<y.voices.length;h++)a.beginLayout(g,y.voices[h]);for(var S=0;!n(y.voices);){for(C=null,h=0;h<y.voices.length;h++)!a.layoutEnded(y.voices[h])&&(!C||o(y.voices[h])<C)&&(C=o(y.voices[h]));var k=[],M=[];for(h=0;h<y.voices.length;h++){var I=o(y.voices[h]);I-C>_?M.push(y.voices[h]):k.push(y.voices[h])}S=0;var N=0;for(h=0;h<k.length;h++)a.getNextX(k[h])>g&&(g=a.getNextX(k[h]),S=a.getSpacingUnits(k[h]),N=k[h].spacingduration);m+=S,p=Math.min(p,S),d&&console.log("currentduration: ",C,m,p);var z=void 0;for(h=0;h<k.length;h++){var j=k[h];j.voicenumber===0&&(z=h);var T=z!==void 0&&k[z].voicenumber!==j.voicenumber?k[z]:void 0;l(j,T)||(T=void 0);var F=a.layoutOneItem(g,u,j,f,T),q=F-g;if(q>0){g=F;for(var B=0;B<h;B++)a.shiftRight(q,k[B])}}for(h=0;h<M.length;h++)M[h].spacingduration-=N,a.updateNextX(g,u,M[h]);for(h=0;h<k.length;h++){var V=k[h];a.updateIndices(V)}}for(h=0;h<y.voices.length;h++)a.getNextX(y.voices[h])>g&&(g=a.getNextX(y.voices[h]),S=a.getSpacingUnits(y.voices[h]));return e(y.voices),m+=S,y.setWidth(g),{spacingUnits:m,minSpace:p}};function n(u){for(var f=0;f<u.length;f++)if(!a.layoutEnded(u[f]))return!1;return!0}function o(u){return u.durationindex-(u.children[u.i]&&u.children[u.i].duration>0?0:5e-7)}function l(u,f){return!u||!u.staff||!u.staff.voices||u.staff.voices.length===0||!f||!f.staff||!f.staff.voices||f.staff.voices.length===0?!1:u.staff.voices[0]===f.staff.voices[0]}return Hh=t,Hh}var Wh,z2;function C5(){if(z2)return Wh;z2=1;function a(o,l,u,f,d){var y=o.padding.left,w=0,_,m;for(_=0;_<u.length;_++)u[_].header&&(m=l.calc(u[_].header,"voicefont",""),w=Math.max(w,m.width));if(w=e(w,f,l),w=e(w,d,l),w){var p=l.calc("A","voicefont","");w+=p.width}y+=w;var g=0;return g=t(f,y,g),g=t(d,y,g),y+g}function e(o,l,u){if(l){for(var f=0;f<l.length;f++)if(l[f].header){var d=u.calc(l[f].header,"voicefont","");o=Math.max(o,d.width)}}return o}function t(o,l,u){if(o)for(var f=0;f<o.length;f++)n(l,o[f]),u=Math.max(u,o[f].getWidth());return u}function n(o,l){l.x=o}return Wh=a,Wh}var Uh,V2;function Bk(){if(V2)return Uh;V2=1;var a=C5();function e(n,o,l){var u=a(n,o.getTextSize,o.voices,o.brace,o.bracket),f=t(o,l.minPadding),d=f.totalDuration,y=f.minSpacing,w=y*d;l.minWidth&&(w=Math.max(w,l.minWidth));var _=l.minPadding?l.minPadding/2:2;o.startx=u,o.w=w+u;for(var m=0;m<o.voices.length;m++){var p=o.voices[m];p.startx=u,p.w=w+u;for(var g=u,h=!1,C=0,S=0;S<p.children.length;S++){var k=p.children[S];h||(k.duration!==0?(h=!0,C=(w+u-g)/d,o.gridStart=g):(k.x=g,g+=k.w+k.minspacing)),h&&(l.align==="center"?k.x=g+k.duration*C/2-k.w/2:k.duration===0?k.x=g+1-k.w:k.x=g+_-k.extraw,g+=k.duration*C);for(var M=0;M<k.children.length;M++){var I=k.children[M],N=I.dx?I.dx:0;I.x=k.x+N}}o.gridEnd=g}return w}function t(n,o){for(var l=0,u=0,f=0;f<n.voices.length;f++){for(var d=0,y=n.voices[f],w=0;w<y.children.length;w++){var _=y.children[w];if(d+=_.duration,_.duration){var m=(_.w+o)/_.duration;l=Math.max(l,m)}}u=Math.max(u,d)}return{totalDuration:u,minSpacing:l}}return Uh=e,Uh}var Gh,j2;function qk(){if(j2)return Gh;j2=1;var a=Rk(),e=Dk(),t=Fk(),n=C5(),o=Bk(),l=function(y,w,_,m,p,g){var h,C,S=_;for(h=0;h<w.lines.length;h++)if(C=w.lines[h],C.staff){var k;g!==void 0?k=o(y,C.staffGroup,g):k=u(y,S,m,C.staffGroup,w.formatting,h===w.lines.length-1,!1),Math.round(k)>Math.round(S)&&(S=k,p&&(h=-1))}for(h=0;h<w.lines.length;h++)if(C=w.lines[h],C.staffGroup&&C.staffGroup.voices){for(var M=0;M<C.staffGroup.voices.length;M++)a(C.staffGroup.voices[M]);e(y,C.staffGroup)}for(h=0;h<w.lines.length;h++)C=w.lines[h],C.staffGroup&&C.staffGroup.setHeight();return S},u=function(y,w,_,m,p,g,h){for(var C=n(y,m.getTextSize,m.voices,m.brace,m.bracket),S=_,k=0;k<8;k++){var M=t(S,y.minPadding,h,m,C);if(S=f(g,p.stretchlast,w+y.padding.left,m.w,S,M.spacingUnits,M.minSpace,y.padding.left+y.padding.right),S===null)break}return d(m.voices),m.w-C};function f(y,w,_,m,p,g,h,C){if(y)if(w===void 0){if(m/_<.66)return null}else{var S=1-(m+C)/_,k=S<w;if(!k)return null}if(Math.abs(_-m)<2)return null;var M=g*p,I=m-M;return g>0?(p=(_-I)/g,p*h>50&&(p=50/h),p):null}function d(y){for(var w=0;w<y.length;w++)for(var _=y[w],m=1;m<_.children.length-1;m++){var p=_.children[m];if(p.abcelem.rest&&(p.abcelem.rest.type==="whole"||p.abcelem.rest.type==="multimeasure")){var g=_.children[m-1],h=_.children[m+1];p.center(g,h)}}}return Gh=l,Gh}var $h,H2;function zk(){if(H2)return $h;H2=1;var a=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};return a.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},a.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},a.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},a.prototype.isInMeasure=function(){return this.measureNumber!==null},a.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},a.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},a.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},a.prototype.incrNote=function(){this.noteNumber++},a.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e},a.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},a.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="abcjs-tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var n=0;n<t.length;n++)t[n].indexOf("abcjs-")!==0&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")},$h=a,$h}var Yh,W2;function Vk(){if(W2)return Yh;W2=1;var a=function(t,n){this.formatting=t,this.classes=n};return a.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)},a.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},a.prototype.calc=function(e,t){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var o=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*o;var l={"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)};return{font:n,attr:l}},Yh=a,Yh}var Xh,U2;function jk(){if(U2)return Xh;U2=1;var a=function(t,n){this.getFontAndAttr=t,this.svg=n};return a.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)},a.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)},a.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},a.prototype.calc=function(e,t,n,o){var l;typeof t=="string"?l=this.attr(t,n):l={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var u=this.svg.getTextSize(e,l.attr,o);return l.font.box?{height:u.height+l.font.padding*4,width:u.width+l.font.padding*4}:u},a.prototype.baselineToCenter=function(e,t,n,o,l){var u=this.calc(e,t,n).height,f=this.attr(t,n).font.size;return u*.5+(l-o-2)*f},Xh=a,Xh}var Qh,G2;function Bi(){if(G2)return Qh;G2=1;var a=function(){for(var e=0,t,n=arguments[e++],o=[],l,u,f,d;n;){if(l=/^[^\x25]+/.exec(n))o.push(l[0]);else if(l=/^\x25{2}/.exec(n))o.push("%");else if(l=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((t=arguments[l[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(l[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(l[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=l[6]?t.toExponential(l[6]):t.toExponential();break;case"f":t=l[6]?parseFloat(t).toFixed(l[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&l[6]?t.substring(0,l[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(l[7])&&l[2]&&t>0?"+"+t:t,f=l[3]?l[3]=="0"?"0":l[3][1]:" ",d=l[5]-String(t).length,u=l[5]?str_repeat(f,d):"",o.push(l[4]?t+u:u+t)}else throw"Huh ?!";n=n.substring(l[0].length)}return o.join("")};return Qh=a,Qh}var Kh,$2;function fr(){if($2)return Kh;$2=1;function a(e){return parseFloat(e.toFixed(2))}return Kh=a,Kh}var Zh,Y2;function di(){if(Y2)return Zh;Y2=1;var a=fr();function e(t,n,o){var l=n.y;if(n.phrases){var y=t.paper.richTextLine(n.phrases,n.x,n.y,n.klass,n.anchor);return y}if(n.lane){var u=n.dim.font.size*.25;l+=(n.dim.font.size+u)*n.lane}var f;n.dim?(f=n.dim,f.attr.class=n.klass):f=t.controller.getFontAndAttr.calc(n.type,n.klass),n.anchor&&(f.attr["text-anchor"]=n.anchor),n["dominant-baseline"]&&(f.attr["dominant-baseline"]=n["dominant-baseline"]),f.attr.x=n.x,f.attr.y=l,n.centerVertically||(f.attr.y+=f.font.size),n.type==="debugfont"&&(console.log("Debug msg: "+n.text),f.attr.stroke="#ff0000"),n.cursor&&(f.attr.cursor=n.cursor);var d=n.text.replace(/\n\n/g,`
 
`);d=d.replace(/^\n/,`
`),f.font.box&&(o||t.paper.openGroup({klass:f.attr.class,fill:t.foregroundColor,"data-name":n.name}),f.attr["text-anchor"]==="end"?f.attr.x-=f.font.padding:f.attr["text-anchor"]==="start"&&(f.attr.x+=f.font.padding),f.attr.y+=f.font.padding,delete f.attr.class),n.noClass&&delete f.attr.class,f.attr.x=a(f.attr.x),f.attr.y=a(f.attr.y),n.name&&(f.attr["data-name"]=n.name);var y=t.paper.text(d,f.attr);if(f.font.box){var w=y.getBBox(),_=0;f.attr["text-anchor"]==="middle"?_=w.width/2+f.font.padding:f.attr["text-anchor"]==="end"&&(_=w.width+f.font.padding*2);var m=0;n.centerVertically&&(m=w.height-f.font.padding),t.paper.rect({"data-name":"box",x:Math.round(n.x-_),y:Math.round(l-m),width:Math.round(w.width+f.font.padding*2),height:Math.round(w.height+f.font.padding*2)}),o||(y=t.paper.closeGroup())}return y}return Zh=e,Zh}var Jh,X2;function Hk(){if(X2)return Jh;X2=1;var a=Bi(),e=vn(),t=di();function n(d,y,w){var _=y.startVoice.staff.absoluteY-e.STEP*10;return y.endVoice&&y.endVoice.staff?y.endY=y.endVoice.staff.absoluteY-e.STEP*2:y.lastContinuedVoice&&y.lastContinuedVoice.staff?y.endY=y.lastContinuedVoice.staff.absoluteY-e.STEP*2:y.endY=y.startVoice.staff.absoluteY-e.STEP*2,f(d,y.x,_,y.endY,y.type,y.header,w)}function o(d,y,w,_,m){y+=e.STEP;var p=e.STEP*.75,g=e.STEP*.75,h=_-w,C=a("M %f %f l %f %f l %f %f l %f %f z",y,w-g,0,h+g*2,p,0,0,-(h+g*2)),S=e.STEP*2,k=e.STEP;return C+=a("M %f %f q %f %f %f %f q %f %f %f %f z",y+p,w-g,S*.6,k*.2,S,-k,-S*.1,k*.3,-S,k+e.STEP),C+=a("M %f %f q %f %f %f %f q %f %f %f %f z",y+p,w+g+h,S*.6,-k*.2,S,k,-S*.1,-k*.3,-S,-k-e.STEP),d.paper.path({path:C,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(m),"data-name":m})}function l(d,y,w,_,m){var p=_-w,g=u(y,w,[7.5,-8,21,0,18.5,-10.5,7.5],[0,p/5.5,p/3.14,p/2,p/2.93,p/4.88,0]);return g+=u(y,w,[0,17.5,-7.5,6.6,-5,20,0],[p/2,p/1.46,p/1.22,p,p/1.19,p/1.42,p/2]),d.paper.path({path:g,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(m),"data-name":m})}function u(d,y,w,_){return a("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",d+w[0],y+_[0],d+w[1],y+_[1],d+w[2],y+_[2],d+w[3],y+_[3],d+w[4],y+_[4],d+w[5],y+_[5],d+w[6],y+_[6])}var f=function(d,y,w,_,m,p,g){var h;if(p){d.paper.openGroup({klass:d.controller.classes.generate("staff-extra voice-name"),"data-name":m});var C=w+(_-w)/2;C=C-d.controller.getTextSize.baselineToCenter(p,"voicefont","staff-extra voice-name",0,1),t(d,{x:d.padding.left,y:C,text:p,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return m==="brace"?h=l(d,y,w,_,m):m==="bracket"&&(h=o(d,y,w,_,m)),p&&(h=d.paper.closeGroup()),g.wrapSvgEl({el_type:m,startChar:-1,endChar:-1},h),h};return Jh=n,Jh}var ef,Q2;function Ja(){if(Q2)return ef;Q2=1;function a(e,t,n){var o=e.paper.path(t);return o}return ef=a,ef}var tf,K2;function Wk(){if(K2)return tf;K2=1;var a=Bi(),e=Ja(),t=fr();function n(h,C,S){(!C.anchor1||!C.anchor2||!C.anchor1.heads||!C.anchor2.heads||C.anchor1.heads.length===0||C.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var k=4,M=h.calcY(C.anchor1.heads[0].pitch),I=h.calcY(C.anchor2.heads[0].pitch),N=C.anchor1.x+C.anchor1.w/2,z=C.anchor2.x+C.anchor2.w/2,j=o(N,M,z,I),T=C.anchor1.w/2+k,F=C.anchor2.w/2+k,q=l(N,M,z,I),B=u(M,q,T);u(I,q,-F);var V=f(j-T-F),H=g(h,N+T,B,V,q);return S.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},H),[H]}function o(h,C,S,k){var M=S-h,I=k-C;return Math.sqrt(M*M+I*I)}function l(h,C,S,k){return(k-C)/(S-h)}function u(h,C,S){return t(h+S*C)}function f(h){var C=5;return Math.max(2,Math.floor((h-C*2)/6))}var d=[[3.5,-4.8]],y=[[1.5,-1],[.3,-.3],[-3.5,3.8]],w=[[-1.5,2]],_=[[3,4],[3,-4]],m=[[-3,4],[-3,-4]];function p(h,C){for(var S="",k=0;k<h.length;k++)S+="l"+h[k][0]+" "+u(h[k][1],C,h[k][0]);return S}var g=function(h,C,S,k,M){var I=a("M %f %f",C,S);I+=p(d,M);var N;for(N=0;N<k;N++)I+=p(_,M);for(I+=p(y,M),N=0;N<k;N++)I+=p(m,M);return I+=p(w,M)+"z",e(h,{path:I,highlight:"stroke",stroke:h.foregroundColor,class:h.controller.classes.generate("decoration"),"data-name":"glissando"})};return tf=n,tf}var nf,Z2;function Uk(){if(Z2)return nf;Z2=1;var a=Bi(),e=Ja(),t=fr();function n(l,u,f){u.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var d=l.calcY(u.pitch)+4,y=8,w=u.anchor1?u.anchor1.x:0,_=u.anchor2?u.anchor2.x:800,m;return u.dir==="<"?m=o(l,d+y/2,d,d+y/2,d+y,w,_):m=o(l,d,d+y/2,d+y,d+y/2,w,_),f.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},m),[m]}var o=function(l,u,f,d,y,w,_){u=t(u),f=t(f),d=t(d),y=t(y),w=t(w),_=t(_);var m=a("M %f %f L %f %f M %f %f L %f %f",w,u,_,f,w,d,_,y);return e(l,{path:m,highlight:"stroke",stroke:l.foregroundColor,class:l.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};return nf=n,nf}var rf,J2;function k1(){if(J2)return rf;J2=1;var a=fr();function e(){this.ingroup=!1}e.prototype.beginGroup=function(n,o){this.paper=n,this.controller=o,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},e.prototype.isInGroup=function(){return this.ingroup},e.prototype.addPath=function(n){if(n=n||[],n.length!==0){n[0][0]="m",n[0][1]=a(n[0][1]-this.lastM[0]),n[0][2]=a(n[0][2]-this.lastM[1]),this.lastM[0]+=n[0][1],this.lastM[1]+=n[0][2],this.path.push(n[0]);for(var o=1,l=n.length;o<l;o++)n[o][0]==="m"&&(this.lastM[0]+=n[o][1],this.lastM[1]+=n[o][2]),this.path.push(n[o])}},e.prototype.endGroup=function(n,o){this.ingroup=!1;for(var l="",u=0;u<this.path.length;u++)l+=this.path[u].join(" ");this.path=[];var f=this.paper.closeGroup();return f&&(f.setAttribute("class",this.controller.classes.generate(n)),f.setAttribute("fill",this.controller.renderer.foregroundColor),f.setAttribute("stroke","none"),f.setAttribute("data-name",o)),f};var t=new e;return rf=t,rf}var sf,e3;function x5(){if(e3)return sf;e3=1;var a=di(),e=fi(),t=k1();function n(l,u,f,d,y){var w,_;if(!d)return null;if(d.length>1&&d.indexOf(".")<0){var m=t.isInGroup()?"":y.klass;l.paper.openGroup({"data-name":y.name,klass:m});for(var p=0,g=0;g<d.length;g++){var h=d[g];_=e.getYCorr(h),w=e.printSymbol(u+p,l.calcY(f+_),h,l.paper,{stroke:y.stroke,fill:y.fill}),w?g<d.length-1&&(p+=o(h,d[g+1],e.getSymbolWidth(h))):a(l,{x:u,y:l.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var C=l.paper.closeGroup();return C}else return _=e.getYCorr(d),t.isInGroup()?w=e.printSymbol(u,l.calcY(f+_),d,l.paper,{"data-name":y.name}):w=e.printSymbol(u,l.calcY(f+_),d,l.paper,{klass:y.klass,stroke:y.stroke,fill:y.fill,"data-name":y.name}),w||(a(l,{x:u,y:l.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function o(l,u,f){var d=f;return l==="f"&&u==="f"&&(d=d*2/3),l==="p"&&u==="p"&&(d=d*5/6),l==="f"&&u==="z"&&(d=d*5/8),d}return sf=n,sf}var af,t3;function Gk(){if(t3)return af;t3=1;var a=x5();function e(t,n,o){n.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var l=1,u=1,f=a(t,n.anchor.x,n.pitch,n.dec,{scalex:l,scaley:u,klass:t.controller.classes.generate("decoration dynamics"),fill:t.foregroundColor,stroke:"none",name:"dynamics"});return o.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:n.dec},f),[f]}return af=e,af}var of,n3;function $k(){if(n3)return of;n3=1;var a=Bi(),e=di(),t=Ja(),n=fr();function o(f,d,y){f.paper.openGroup({klass:f.controller.classes.generate("triplet "+d.durationClass),"data-name":"triplet"}),d.hasBeam||u(f,d.anchor1.x,d.startNote,d.anchor2.x+d.anchor2.w,d.endNote),e(f,{x:d.xTextPos,y:f.calcY(d.yTextPos-1),text:""+d.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+d.number},!0);var w=f.paper.closeGroup();return y.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},w),w}function l(f,d,y,w){return a("M %f %f L %f %f",n(f),n(d),n(y),n(w))}function u(f,d,y,w,_){y=f.calcY(y),_=f.calcY(_);var m=5,p="";p+=l(d,y,d,y+m),p+=l(w,_,w,_+m);var g=d+(w-d)/2,h=8,C=(_-y)/(w-d),S=g-h,k=y+(S-d)*C;p+=l(d,y,S,k);var M=g+h,I=y+(M-d)*C;p+=l(M,I,w,_),t(f,{path:p,stroke:f.foregroundColor,"data-name":"triplet-bracket"})}return of=o,of}var cf,r3;function Yk(){if(r3)return cf;r3=1;var a=Bi(),e=di(),t=Ja(),n=fr();function o(l,u,f,d,y){u.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var w=n(l.calcY(u.pitch)),_=20,m="";u.anchor1&&(f=n(u.anchor1.x+u.anchor1.w),m+=a("M %f %f L %f %f ",f,w,f,n(w+_))),u.anchor2&&(d=n(u.anchor2.x),m+=a("M %f %f L %f %f ",d,w,d,n(w+_))),m+=a("M %f %f L %f %f ",f,w,d,w),l.paper.openGroup({klass:l.controller.classes.generate("ending"),"data-name":"ending"}),t(l,{path:m,stroke:l.foregroundColor,fill:l.foregroundColor,"data-name":"line"}),u.anchor1&&e(l,{x:n(f+5),y:n(l.calcY(u.pitch-.5)),text:u.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:u.text});var p=l.paper.closeGroup();return y.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},p),[p]}return cf=o,cf}var lf,i3;function Xk(){if(i3)return lf;i3=1;var a=Bi(),e=fr();function t(l,u,f,d,y){n(u,f,d);var w="";u.anchor1?w+="abcjs-start-m"+u.anchor1.parent.counters.measure+"-n"+u.anchor1.parent.counters.note:w+="abcjs-start-edge",u.anchor2?w+=" abcjs-end-m"+u.anchor2.parent.counters.measure+"-n"+u.anchor2.parent.counters.note:w+=" abcjs-end-edge",u.hint&&(w="abcjs-hint");var _=u.fixedY?1.5:0,m=o(l,u.startX,u.endX,u.startY+_,u.endY+_,u.above,w,u.isTie,u.dotted),p=-1;u.anchor1&&!u.isTie&&(p=u.anchor1.parent.abcelem.startChar-1);var g=-1;return u.anchor2&&!u.isTie&&(g=u.anchor2.parent.abcelem.endChar+1),y.wrapSvgEl({el_type:"slur",startChar:p,endChar:g},m),[m]}var n=function(l,u,f){!l.anchor1||!l.anchor2||l.anchor1.pitch===l.anchor2.pitch&&l.internalNotes.length===0?l.isTie=!0:l.isTie=!1,l.isTie?(l.calcTieDirection(),l.calcX(u,f),l.calcTieY()):(l.calcSlurDirection(),l.calcX(u,f),l.calcSlurY()),l.avoidCollisionAbove()},o=function(l,u,f,d,y,w,_,m,p){var g=m?1.2:1.5;u=e(u+6),f=e(f+4),d=d+(w?g:-g),y=y+(w?g:-g);var h=e(l.calcY(d)),C=e(l.calcY(y)),S=f-u,k=C-h,M=Math.sqrt(S*S+k*k),I=S/M,N=k/M,z=M/3.5,j=m?10:25,T=(w?-1:1)*Math.min(j,Math.max(4,z)),F=e(u+z*I-T*N),q=e(h+z*N+T*I),B=e(f-z*I-T*N),V=e(C-z*N+T*I),H=2;_?_+=" slur":_="slur",_+=m?" tie":" legato";var D;if(p){_+=" dotted";var R=a("M %f %f C %f %f %f %f %f %f",u,h,F,q,B,V,f,C);D=l.paper.path({path:R,stroke:l.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:l.controller.classes.generate(_),"data-name":m?"tie":"slur"})}else{var U=a("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",u,h,F,q,B,V,f,C,e(B-H*N),e(V+H*I),e(F-H*N),e(q+H*I),u,h);D=l.paper.path({path:U,stroke:"none",fill:l.foregroundColor,class:l.controller.classes.generate(_),"data-name":m?"tie":"slur"})}return D};return lf=t,lf}var uf,s3;function Qk(){if(s3)return uf;s3=1;var a=Ja(),e=fr();function t(u,f){if(f.beams.length!==0){for(var d="",y=0;y<f.beams.length;y++){var w=f.beams[y];if(w.split){for(var _=o(u,w.startX,w.startY,w.endX,w.endY),m=[],p=0;p<w.split.length;p+=2)m.push([w.split[p],w.split[p+1]]);for(p=0;p<m.length;p++){var g=l(w.startX,w.startY,_,m[p][0]),h=l(w.startX,w.startY,_,m[p][1]);d+=n(u,m[p][0],g,m[p][1],h,w.dy)}}else d+=n(u,w.startX,w.startY,w.endX,w.endY,w.dy)}var C=("abcjs-d"+f.duration).replace(/\./g,"-"),S=u.controller.classes.generate("beam-elem "+C),k=a(u,{path:d,stroke:"none",fill:u.foregroundColor,class:S});return[k]}}function n(u,f,d,y,w,_){d=e(u.calcY(d)),w=e(u.calcY(w)),f=e(f),y=e(y);var m=e(d+_),p=e(w+_);return"M"+f+" "+d+" L"+y+" "+w+"L"+y+" "+p+" L"+f+" "+m+"z"}function o(u,f,d,y,w){return(w-d)/(y-f)}function l(u,f,d,y){var w=y-u;return f+w*d}return uf=t,uf}var hf,a3;function S5(){if(a3)return hf;a3=1;var a=k1(),e=fr();function t(n,o,l,u,f,d,y){if(l<0||u<f){var w=e(f);f=e(u),u=w}else u=e(u),f=e(f);o=e(o);var _=e(o+l);if(n.firefox112){o+=l/2;var p={x1:o,x2:o,y1:u,y2:f,stroke:n.foregroundColor,"stroke-width":Math.abs(l)};return d&&(p.class=d),y&&(p["data-name"]=y),n.paper.lineToBack(p)}for(var m=[["M",o,u],["L",o,f],["L",_,f],["L",_,u],["z"]],p={path:""},g=0;g<m.length;g++)p.path+=m[g].join(" ");return d&&(p.class=d),y&&(p["data-name"]=y),a.isInGroup()||(p.stroke="none",p.fill=n.foregroundColor),n.paper.pathToBack(p)}return hf=t,hf}var ff,o3;function Kk(){if(o3)return ff;o3=1;var a=Bi(),e=fr();function t(n,o,l,u,f,d,y){var w=n.foregroundColor;o=e(o),l=e(l);var _=e(u-y),m=e(u+y);if(n.firefox112){u+=y/2;var p={x1:o,x2:l,y1:u,y2:u,stroke:n.foregroundColor,"stroke-width":Math.abs(y*2)};return f&&(p.class=f),d&&(p["data-name"]=d),n.paper.lineToBack(p)}var g=a("M %f %f L %f %f L %f %f L %f %f z",o,_,l,_,l,m,o,m),h={path:g,stroke:"none",fill:w};d&&(h["data-name"]=d),f&&(h.class=f);var C=n.paper.pathToBack(h);return C}return ff=t,ff}var df,c3;function k5(){if(c3)return df;c3=1;var a=Kk();function e(t,n,o,l,u,f,d){var y=t.calcY(l);return a(t,n,o,y,u,f,d)}return df=e,df}var pf,l3;function T5(){if(l3)return pf;l3=1;var a=di(),e=S5(),t=k5(),n=x5();function o(u,f,d){f.pitch===void 0&&window.console.error(f.type+" Relative Element y-coordinate not set.");var y=u.calcY(f.pitch);switch(f.type){case"symbol":if(f.c===null)return null;var w="symbol";f.klass&&(w+=" "+f.klass),f.graphelem=n(u,f.x,f.pitch,f.c,{scalex:f.scalex,scaley:f.scaley,klass:u.controller.classes.generate(w),name:f.name});break;case"debug":f.graphelem=a(u,{x:f.x,y:u.calcY(15),text:""+f.c,type:"debugfont",klass:u.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:f.dim},!1);break;case"tabNumber":var _="middle",m="tabnumberfont",p="abcjs-tab-number";f.isGrace&&(m="tabgracefont",y+=2.5,p="tab-grace"),f.graphelem=a(u,{x:f.x,y,text:""+f.c,type:m,klass:u.controller.classes.generate(p),anchor:_,centerVertically:!1,dim:f.dim,cursor:"default"},!1);break;case"barNumber":f.graphelem=a(u,{x:f.x,y,text:""+f.c,type:"measurefont",klass:u.controller.classes.generate("bar-number"),anchor:"middle",dim:f.dim,name:"bar-number"},!0);break;case"lyric":f.graphelem=a(u,{x:f.x,y,text:f.c,type:"vocalfont",klass:u.controller.classes.generate("lyric"),anchor:"middle",dim:f.dim,name:"lyric"},!1);break;case"chord":f.graphelem=a(u,{x:f.x,y,text:f.c,type:"gchordfont",klass:u.controller.classes.generate("chord"),anchor:"middle",dim:f.dim,lane:f.getLane(),name:"chord"},!1);break;case"decoration":f.graphelem=a(u,{x:f.x,y:y+6,text:f.c,type:"annotationfont",klass:u.controller.classes.generate("annotation"),anchor:f.anchor,centerVertically:!0,dim:f.dim},!1);break;case"text":f.graphelem=a(u,{x:f.x,y,text:f.c,type:"annotationfont",klass:u.controller.classes.generate("annotation"),anchor:"start",centerVertically:f.centerVertically,dim:f.dim,lane:f.getLane(),name:"annotation"},!1);break;case"multimeasure-text":f.graphelem=a(u,{x:f.x+f.w/2,y,text:f.c,type:"tempofont",klass:u.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:f.dim},!1);break;case"part":f.graphelem=a(u,{x:f.x,y,text:f.c,type:"partsfont",klass:u.controller.classes.generate("part"),anchor:"start",dim:f.dim,name:f.c},!0);break;case"bar":f.graphelem=e(u,f.x,f.linewidth+u.lineThickness,y,d||u.calcY(f.pitch2),null,"bar");break;case"stem":var g=f.linewidth>0?f.linewidth+u.lineThickness:f.linewidth-u.lineThickness;f.graphelem=e(u,f.x,g,y,u.calcY(f.pitch2),"abcjs-stem","stem");break;case"ledger":f.graphelem=t(u,f.x,f.x+f.w,f.pitch,"abcjs-ledger","ledger",.35+u.lineThickness);break}return f.scalex!==1&&f.graphelem&&l(u.paper,f.graphelem,f.scalex,f.scaley,f.x,y),f.graphelem}function l(u,f,d,y,w,_){u.setAttributeOnElement(f,{style:"transform:scale("+d+","+y+");transform-origin:"+w+"px "+_+"px;"})}return pf=o,pf}var mf,u3;function Zk(){if(u3)return mf;u3=1;var a=T5(),e=di();function t(n,o){var l=o.x;o.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),o.tempo.el_type="tempo";var u=n.calcY(o.pitch)+2,f,d;if(o.tempo.preString){f=e(n,{x:l,y:u,text:o.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),d=n.controller.getTextSize.calc(o.tempo.preString,"tempofont","tempo",f);var y=d.width,w=y/o.tempo.preString.length;l+=y+w}if(o.note){o.note.setX(l);for(var _=0;_<o.note.children.length;_++)a(n,o.note.children[_],l);l+=o.note.w+5;var m="= "+o.tempo.bpm;f=e(n,{x:l,y:u,text:m,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),d=n.controller.getTextSize.calc(m,"tempofont","tempo",f);var p=d.width,g=p/m.length;l+=p+g}o.tempo.postString&&e(n,{x:l,y:u,text:o.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}return mf=t,mf}var gf,h3;function Jk(){if(h3)return gf;h3=1;var a=Zk(),e=T5(),t=vn(),n=C1(),o=k1();function l(u,f,d,y,w){if(!f.invisible){var _=f.children.length>0&&f.children[0].type==="TempoElement";f.elemset=[],o.beginGroup(u.paper,u.controller);for(var m=0;m<f.children.length;m++){var p=f.children[m];switch(p.type){case"TempoElement":a(u,p);break;default:var g=e(u,p,d);p.type==="symbol"&&p.c&&p.c.indexOf("notehead")>=0&&g.setAttribute("class","abcjs-notehead")}}var h=f.type;if((f.type==="note"||f.type==="rest")&&(f.counters=u.controller.classes.getCurrent(),h+=" d"+Math.round(f.durationClass*1e3)/1e3,h=h.replace(/\./g,"-"),f.abcelem.pitches))for(var C=0;C<f.abcelem.pitches.length;C++)h+=" p"+f.abcelem.pitches[C].pitch;var S=o.endGroup(h,f.type);if(S){if(f.cloned&&(f.cloned.overrideClasses=S.className.baseVal),f.overrideClasses){var k=S.classList&&S.classList.length>0?S.classList[0]+" ":"";S.setAttribute("class",k+f.overrideClasses)}if(_)f.startChar=f.abcelem.startChar,f.endChar=f.abcelem.endChar,y.add(f,S,!1,w);else{f.elemset.push(S);var M=!1;(f.type==="note"||f.type==="tabNumber")&&(M=!0),y.add(f,S,M,w)}}else f.elemset.length>0&&y.add(f,f.elemset[0],f.type==="note",w);if(f.klass&&n(f.elemset,"mark","","#00ff00"),f.hint&&n(f.elemset,"abcjs-hint","",null),f.abcelem.abselem=f,f.heads&&f.heads.length>0){f.notePositions=[];for(var I=0;I<f.heads.length;I++)f.notePositions.push({x:f.heads[I].x+f.heads[I].w/2,y:w.zero-f.heads[I].pitch*t.STEP})}}}return gf=l,gf}var vf,f3;function eT(){if(f3)return vf;f3=1;var a=Wk(),e=Uk(),t=Gk(),n=$k(),o=Yk(),l=Xk(),u=Qk(),f=di(),d=Jk();function y(_,m,p,g,h){var C=m.w-1;_.staffbottom=m.staff.bottom;var S=_.foregroundColor;if(m.color&&(_.foregroundColor=m.color),m.header){var k=f(_,{x:_.padding.left,y:_.calcY(m.headerPosition),text:m.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);g.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:m.header},k)}var M,I,N=!1;for(M=0;M<m.children.length;M++){I=m.children[M],(I.type==="note"||I.type==="rest")&&(N=!0);var z=!1;I.type!=="staff-extra"&&!_.controller.classes.isInMeasure()&&(_.controller.classes.startMeasure(),z=!0),m.staff.isTabStaff&&(I.invisible=!1,I.type=="bar"&&I.abcelem.lastBar&&(p=m.topLine)),d(_,I,m.barto||M===m.children.length-1?p:0,g,h),(I.type==="note"||w(I))&&_.controller.classes.incrNote(),I.type==="bar"&&!z&&N&&_.controller.classes.incrMeasure()}for(_.controller.classes.startMeasure(),M=0;M<m.beams.length;M++){var j=m.beams[M];j==="bar"?_.controller.classes.incrMeasure():u(_,j,g)}for(_.controller.classes.startMeasure(),M=0;M<m.otherchildren.length;M++)if(I=m.otherchildren[M],I==="bar")_.controller.classes.incrMeasure();else switch(I.type){case"GlissandoElem":I.elemset=a(_,I,g);break;case"CrescendoElem":I.elemset=e(_,I,g);break;case"DynamicDecoration":I.elemset=t(_,I,g);break;case"TripletElem":n(_,I,g);break;case"EndingElem":I.elemset=o(_,I,m.startx+10,C,g);break;case"TieElem":I.elemset=l(_,I,m.startx+10,C,g);break;default:console.log(I),d(_,I,m.startx+10,C,g,h)}_.foregroundColor=S}function w(_){return _.type!=="rest"?!1:!!(_.abcelem&&_.abcelem.rest&&_.abcelem.rest.type!=="spacer")}return vf=y,vf}var yf,d3;function tT(){if(d3)return yf;d3=1;var a=k5();function e(t,n,o,l,u,f){var d="abcjs-top-line",y=2;u&&(y=u),t.paper.openGroup({prepend:!0,klass:t.controller.classes.generate("abcjs-staff")});var w=0,_=0;if(l===1)a(t,n,o,6,d,null,f+t.lineThickness),w=t.calcY(10),_=t.calcY(2);else for(var m=l-1;m>=0;m--){var p=(m+1)*y;_=t.calcY(p),w===0&&(w=_),a(t,n,o,p,d,null,f+t.lineThickness),d=void 0}return t.paper.closeGroup(),[w,_]}return yf=e,yf}var bf,p3;function nT(){if(p3)return bf;p3=1;function a(e,t,n){var o=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),o}return bf=a,bf}var _f,m3;function rT(){if(m3)return _f;m3=1;function a(e,t){var n="rgba(0,0,0,255)",o="rgba(0,0,0,0)",l=Math.round(e.y),u=e.controller.width,f=(u-t)/2,d=f+t,y="M "+f+" "+l+" L "+d+" "+l+" L "+d+" "+(l+1)+" L "+f+" "+(l+1)+" L "+f+" "+l+" z";e.paper.pathToBack({path:y,stroke:o,fill:n,class:e.controller.classes.generate("defined-text")})}return _f=a,_f}var wf,g3;function E5(){if(g3)return wf;g3=1;var a=rT(),e=di();function t(n,o,l){for(var u=0;u<o.rows.length;u++){var f=o.rows[u];if(f.absmove)n.absolutemoveY(f.absmove);else if(f.move)n.moveY(f.move);else if(f.text||f.phrases){var d=f.left?f.left:0,y=e(n,{x:d,y:n.y,text:f.text,phrases:f.phrases,"dominant-baseline":f["dominant-baseline"],type:f.font,klass:f.klass,name:f.name,anchor:f.anchor});f.absElemType&&l.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:f.text},y)}else if(f.separator)a(n,f.separator);else if(f.startGroup)n.paper.openGroup({klass:f.klass,"data-name":f.name});else if(f.endGroup){var w=n.paper.closeGroup();f.absElemType&&l.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:""},w)}}}return wf=t,wf}var Cf,v3;function iT(){if(v3)return Cf;v3=1;var a=vn(),e=Hk(),t=eT(),n=tT(),o=nT(),l=S5(),u=E5();function f(w,_,m,p){for(var g,h=w.y,C=0;C<_.staffs.length;C++){var S=_.staffs[C];w.moveY(a.STEP,S.top),S.absoluteY=w.y,w.showDebug&&(w.showDebug.indexOf("box")>=0&&S.voices&&y(w,_.voices,S.voices),w.showDebug.indexOf("grid")>=0&&(w.paper.dottedLine({x1:w.padding.left,x2:w.padding.left+w.controller.width,y1:h,y2:h,stroke:"#0000ff"}),o(w,{x:w.padding.left,y:w.calcY(S.originalTop),width:w.controller.width,height:w.calcY(S.originalBottom)-w.calcY(S.originalTop),fill:w.foregroundColor,stroke:w.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),g=0,D(S,"chordHeightAbove"),D(S,"chordHeightBelow"),D(S,"dynamicHeightAbove"),D(S,"dynamicHeightBelow"),D(S,"endingHeightAbove"),D(S,"lyricHeightAbove"),D(S,"lyricHeightBelow"),D(S,"partHeightAbove"),D(S,"tempoHeightAbove"),D(S,"volumeHeightAbove"),D(S,"volumeHeightBelow"))),w.moveY(a.STEP,-S.bottom),w.showDebug&&w.showDebug.indexOf("grid")>=0&&w.paper.dottedLine({x1:w.padding.left,x2:w.padding.left+w.controller.width,y1:w.y,y2:w.y,stroke:"#0000aa"})}for(var k,M,I=2,N=0,z=0;z<_.voices.length;z++){var j=_.voices[z].staff,T=_.voices[z].tabNameInfos;if(w.y=j.absoluteY,w.controller.classes.incrVoice(),!_.voices[z].duplicate){if(k||(k=w.calcY(10)),M=w.calcY(I),j.lines!==0){j.linePitch&&(I=j.linePitch),w.controller.classes.newMeasure();var F=n(w,_.startx,_.w,j.lines,j.linePitch,.35);M=F[1],j.bottomLine=M,j.topLine=F[0],j.hasTab&&(N=j.topLine),j.hasStaff&&(N=j.hasStaff.topLine,_.voices[z].barto=!0,_.voices[z].topLine=k)}d(w,j.absoluteY,_.brace,z,m),d(w,j.absoluteY,_.bracket,z,m)}t(w,_.voices[z],N,m,{top:h,zero:w.y,height:_.height*a.STEP});var q=0;if(T){var B={rows:[]};B.rows.push({absmove:M+2});var V=8;B.rows.push({left:_.startx+V,text:T.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),B.rows.push({move:T.textSize.height}),u(w,B),q=T.textSize.height}w.controller.classes.newMeasure(),_.voices[z].duplicate||(N=w.calcY(2+q))}w.controller.classes.newMeasure();var H=_.staffs.length;H>1&&(k=_.staffs[0].topLine,M=_.staffs[H-1].bottomLine,l(w,_.startx,.6,k,M,null)),w.y=h;function D(R,U){var Y=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(R.positionY&&R.positionY[U]){var G=R.specialY[U]*a.STEP;U==="chordHeightAbove"&&R.specialY.chordLines&&R.specialY.chordLines.above&&(G*=R.specialY.chordLines.above),U==="chordHeightBelow"&&R.specialY.chordLines&&R.specialY.chordLines.below&&(G*=R.specialY.chordLines.below),o(w,{x:w.padding.left,y:w.calcY(R.positionY[U]),width:w.controller.width,height:G,fill:Y[g],stroke:Y[g],"fill-opacity":.4,"stroke-opacity":.4},U.substr(0,4)),g+=1,g>6&&(g=0)}}}function d(w,_,m,p,g){if(m)for(var h=0;h<m.length;h++)m[h].isStartVoice(p)&&(m[h].startY=_-a.STEP*10,m[h].elemset=e(w,m[h],g))}function y(w,_,m){for(var p=0;p<m.length;p++)for(var g=_[m[p]].children,h=0;h<g.length;h++){var C=g[h],S=C.getFixedCoords();if(!(C.invisible||S.t===void 0||S.b===void 0)){var k=(S.t-S.b)*a.STEP;o(w,{x:S.x,y:w.calcY(S.t),width:S.w,height:k,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var M=0;M<C.children.length;M++){var I=C.children[M],N=I.getChordDim();if(N){var z=w.calcY(I.pitch);z+=I.dim.font.size*I.getLane(),o(w,{x:N.left,y:z,width:N.right-N.left,height:I.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}return Cf=f,Cf}var xf,y3;function sT(){if(y3)return xf;y3=1;function a(e,t,n,o){var l=(t+e.padding.left+e.padding.right)*n,u=(e.y+e.padding.bottom)*n;if(e.isPrint&&(u=Math.max(u,1056)),e.ariaLabel!==""){var f="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(f+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(f);var d=e.ariaLabel?e.ariaLabel:f;e.paper.setAttribute("aria-label",d)}var y=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+y.join(" ")+"}");var w={overflow:"hidden"};o==="resize"?e.paper.setResponsiveWidth(l,u):(w.width="",w.height=u+"px",n<1?(w.width=l+"px",e.paper.setSize(l/n,u/n)):e.paper.setSize(l,u)),e.paper.setScale(n),e.paper.setParentStyles(w)}return xf=a,xf}var Sf,b3;function aT(){if(b3)return Sf;b3=1;var a=p5(),e=m5();function t(n,o,l){this.elements=[],this.paper=n,this.tuneNumber=l,this.selectTypes=o}return t.prototype.getElements=function(){return this.elements},t.prototype.add=function(n,o,l,u){if(this.canSelect(n)){var f;this.selectTypes===void 0?f={selectable:!1,"data-index":this.elements.length}:f={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(o,f);var d={absEl:n,svgEl:o,isDraggable:l};u!==void 0&&(d.staffPos=u),this.elements.push(d)}},t.prototype.canSelect=function(n){return this.selectTypes===!1||!n||!n.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?n.abcelem.el_type==="note"||n.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(n.abcelem.el_type)>=0},t.prototype.wrapSvgEl=function(n,o){var l={tuneNumber:this.tuneNumber,abcelem:n,elemset:[o],highlight:a,unhighlight:e};this.add(l,o,!1)},Sf=t,Sf}var kf,_3;function oT(){if(_3)return kf;_3=1;var a=iT(),e=sT(),t=E5(),n=vn(),o=aT();function l(d,y,w,_,m,p,g,h,C,S){var k=new o(d.paper,h,C),M={};y.shouldAddClasses&&(M.klass="abcjs-meta-top"),d.paper.openGroup(M),d.moveY(d.padding.top),t(d,w.topText,k),d.paper.closeGroup(),d.moveY(d.spacing.music);for(var I=[],N=0;N<w.lines.length;N++){y.incrLine();var z=w.lines[N];if(z.staff){y.shouldAddClasses&&(M.klass="abcjs-staff-wrapper abcjs-l"+y.lineNumber),d.paper.openGroup(M),z.vskip&&d.moveY(z.vskip),I.length>=1&&f(d,d.spacing.staffSeparation,I[I.length-1],z.staffGroup);var j=u(d,z.staffGroup,k,N);j.line=S+N,I.push(j),d.paper.closeGroup()}else z.nonMusic&&(y.shouldAddClasses&&(M.klass="abcjs-non-music"),d.paper.openGroup(M),t(d,z.nonMusic,k),d.paper.closeGroup())}return y.reset(),w.bottomText&&w.bottomText.rows&&w.bottomText.rows.length>0&&(y.shouldAddClasses&&(M.klass="abcjs-meta-bottom"),d.paper.openGroup(M),d.moveY(24),t(d,w.bottomText,k),d.paper.closeGroup()),e(d,m,g,p),{staffgroups:I,selectables:k.getElements()}}function u(d,y,w,_){a(d,y,w,_);var m=y.height*n.STEP;return d.y+=m,y}function f(d,y,w,_){var m=w.staffs[w.staffs.length-1],p=-(m.bottom-2),g=_.staffs[0].top-10,h=g+p,C=h*n.STEP;C<y&&d.moveY(y-C)}return kf=l,kf}var Tf,w3;function cT(){if(w3)return Tf;w3=1;var a=w5();function e(t){for(var n=t;n&&n.attributes&&n.tagName.toLowerCase()!=="svg"&&!n.attributes.selectable;)n=n.parentNode;if(n&&n.attributes&&n.attributes.selectable){var o=n.attributes["data-index"].nodeValue;if(o&&(o=parseInt(o,10),o>=0&&o<this.selectables.length)){var l=this.selectables[o],u=a(l,t);return u.index=o,u.element=l,u}}return null}return Tf=e,Tf}var Ef,C3;function M5(){if(C3)return Ef;C3=1;var a=vn(),e=xk(),t=kk(),n=Tk(),o=Ek(),l=Mk(),u=Ak(),f=Pk(),d=Nk(),y=qk(),w=zk(),_=Vk(),m=jk(),p=oT(),g=y5(),h=cT(),C=function(M,I){I=I||{},this.findSelectableElement=h,this.oneSvgPerLine=I.oneSvgPerLine,this.selectionColor=I.selectionColor,this.dragColor=I.dragColor?I.dragColor:I.selectionColor,this.dragging=!!I.dragging,this.selectTypes=I.selectTypes,this.responsive=I.responsive,this.space=3*a.SPACE,this.initialClef=I.initialClef,this.timeBasedLayout=I.timeBasedLayout,this.expandToWidest=!!I.expandToWidest,this.scale=I.scale?parseFloat(I.scale):0,this.classes=new w({shouldAddClasses:I.add_classes}),this.scale>.1||(this.scale=void 0),I.staffwidth?(this.staffwidthScreen=I.staffwidth,this.staffwidthPrint=I.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],I.clickListener&&this.addSelectListener(I.clickListener),this.renderer=new t(M),this.renderer.setPaddingOverride(I),I.showDebug&&(this.renderer.showDebug=I.showDebug),I.jazzchords&&(this.jazzchords=I.jazzchords),I.accentAbove&&(this.accentAbove=I.accentAbove),I.germanAlphabet&&(this.germanAlphabet=I.germanAlphabet),I.lineThickness&&(this.lineThickness=I.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=I.foregroundColor?I.foregroundColor:"currentColor",I.ariaLabel!==void 0&&(this.renderer.ariaLabel=I.ariaLabel),this.renderer.minPadding=I.minPadding?I.minPadding:0,this.reset()};C.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},C.prototype.engraveABC=function(M,I,N){M[0]===void 0&&(M=[M]),this.reset();for(var z=0;z<M.length;z++)I===void 0&&(I=z),this.getFontAndAttr=new _(M[z].formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.engraveTune(M[z],I,N)},C.prototype.adjustNonScaledItems=function(M){this.width/=M,this.renderer.adjustNonScaledItems(M)},C.prototype.getMeasureWidths=function(M){this.reset(),this.getFontAndAttr=new _(M.formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper);var I=this.jazzchords;this.setupTune(M,0),this.constructTuneElements(M),y(this.renderer,M,0,this.space,this.timeBasedLayout);for(var N=[],z,j=!0,T=0;T<M.lines.length;T++){var F=M.lines[T];if(F.staff){if(j&&(z={left:0,measureWidths:[],total:0},N.push(z),j=!1),F.staffGroup.voices.length>0)for(var q=F.staffGroup.voices[0],B=!1,V=0,H=0;H<q.children.length;H++){var D=q.children[H];!B&&!D.isClef&&!D.isKeySig&&(B=!0,z.left=D.x,V=D.x),D.type==="bar"&&(z.measureWidths.push(D.x-V),z.total+=D.x-V,V=D.x)}}else j=!0}return this.jazzchords=I,N},C.prototype.setupTune=function(M,I){this.classes.reset(),M.formatting.jazzchords!==void 0&&(this.jazzchords=M.formatting.jazzchords),M.formatting.accentAbove!==void 0&&(this.accentAbove=M.formatting.accentAbove),this.renderer.newTune(M),this.engraver=new e(this.getTextSize,I,{bagpipes:M.formatting.bagpipes,flatbeams:M.formatting.flatbeams,graceSlurs:M.formatting.graceSlurs!==!1,percmap:M.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=M.getMeterFraction().num/M.getMeterFraction().den,M.formatting.staffwidth?this.width=M.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var N=M.formatting.scale?M.formatting.scale:this.scale;return this.responsive==="resize"&&(N=void 0),N===void 0&&(N=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(N),N},C.prototype.constructTuneElements=function(M){M.topText=new u(M.metaText,M.metaTextInfo,M.formatting,M.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var I,N,z=!1,j=!1;for(I=0;I<M.lines.length;I++)if(N=M.lines[I],N.staff)j=!0,N.staffGroup=this.engraver.createABCLine(N.staff,z?null:M.metaText.tempo,I),z=!0;else if(N.subtitle){if(j){var T=this.width/2+this.renderer.padding.left;N.nonMusic=new l(this.renderer.spacing.subtitle,M.formatting,N.subtitle,T,this.renderer.padding.left,this.getTextSize)}}else N.text!==void 0?(j=!0,N.nonMusic=new n(N.text,N.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):N.separator!==void 0&&N.separator.lineLength&&(j=!0,N.nonMusic=new o(N.separator.spaceAbove,N.separator.lineLength,N.separator.spaceBelow));M.bottomText=new f(M.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)},C.prototype.engraveTune=function(M,I,N){var z=this.jazzchords,j=this.setupTune(M,I);this.constructTuneElements(M);var T=y(this.renderer,M,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&T>this.width+1&&(M.topText=new u(M.metaText,M.metaTextInfo,M.formatting,M.lines,T,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),M.lines&&M.lines.length>0))for(var F=M.lines.length,q=0;q<F;++q){var B=M.lines[q];if(B.nonMusic&&B.nonMusic.rows&&B.nonMusic.rows.length>0)for(var V=B.nonMusic.rows.length,H=0;H<V;++H){var D=B.nonMusic.rows[H];D.left&&(B.subtitle?D.left=T/2+this.renderer.padding.left:B.text&&B.text.length>0&&B.text[0].center&&(D.left=T/2+this.renderer.padding.left))}}M.tablatures&&g.layoutTablatures(this.renderer,M);var R=p(this.renderer,this.classes,M,this.width,T,this.responsive,j,this.selectTypes,I,N);if(this.staffgroups=R.staffgroups,this.selectables=R.selectables,this.oneSvgPerLine){var U=this.renderer.paper.svg.parentNode;this.svgs=S(this.renderer,U,M.metaText.title,this.responsive,j)}else this.svgs=[this.renderer.paper.svg];d(this,this.svgs),this.jazzchords=z};function S(M,I,N,z,j){N||(N="Untitled");var T=I.querySelector("svg");z==="resize"&&(I.style.paddingBottom="");for(var F=T.querySelector("style"),q=z==="resize"?T.viewBox.baseVal.width:T.getAttribute("width"),B=I.querySelectorAll("svg > g"),V=0,H=[],D=0;D<B.length;D++){var R=B[D],U=R.getBBox(),Y=U.y-V,G=U.height+Y,A=document.createElement("div"),O="overflow: hidden;";z!=="resize"&&(O+="height:"+G*j+"px;"),A.setAttribute("style",O);var E=k(T),W='Sheet Music for "'+N+'" section '+(D+1);E.setAttribute("aria-label",W),z!=="resize"&&E.setAttribute("height",G),z==="resize"&&(E.style.position="");var X=M.firefox112?G+1:G;E.setAttribute("viewBox","0 "+V+" "+q+" "+X),E.appendChild(F.cloneNode(!0));var K=document.createElement("title");K.innerText=W,E.appendChild(K),E.appendChild(R),A.appendChild(E),H.push(E),I.appendChild(A),V=U.y+U.height}return I.removeChild(T),H}function k(M){for(var I="http://www.w3.org/2000/svg",N=document.createElementNS(I,"svg"),z=0;z<M.attributes.length;z++){var j=M.attributes[z];j.name!=="height"&&j.name!="aria-label"&&N.setAttribute(j.name,j.value)}return N}return C.prototype.getDim=function(M){if(!M.dim){var I=M.svgEl.getBBox();M.dim={left:Math.round(I.x),top:Math.round(I.y),right:Math.round(I.x+I.width),bottom:Math.round(I.y+I.height)}}return M.dim},C.prototype.addSelectListener=function(M){this.listeners[this.listeners.length]=M},Ef=C,Ef}var Mf,x3;function A5(){if(x3)return Mf;x3=1;var a=yc();h5();var e=M5(),t=f5(),n=c5(),o={};function l(){var y=window.innerWidth;for(var w in o)if(o.hasOwnProperty(w)){var _=o[w],m=_.offsetLeft;y-=m*2,_.style.width=y+"px"}}try{window.addEventListener("resize",l),window.addEventListener("orientationChange",l)}catch{}function u(y,w,_,m,p){_.viewportHorizontal?(y.innerHTML='<div class="abcjs-inner"></div>',_.scrollHorizontal?(y.style.overflowX="auto",y.style.overflowY="hidden"):y.style.overflow="hidden",o[y.id]=y,y=y.children[0]):_.viewportVertical?(y.innerHTML='<div class="abcjs-inner scroll-amount"></div>',y.style.overflowX="hidden",y.style.overflowY="auto",y=y.children[0]):y.innerHTML="";var g=new e(y,_);if(g.engraveABC(w,m,p),w.engraver=g,_.viewportVertical||_.viewportHorizontal){var h=y.parentNode;h.style.width=y.style.width}}var f=function(y,w,_,m,p){var g={},h;if(_){for(h in _)_.hasOwnProperty(h)&&(g[h]=_[h]);g.warnings_id&&g.tablature&&(g.tablature.warning_id=g.warnings_id)}if(m)for(h in m)m.hasOwnProperty(h)&&(h==="listener"?m[h].highlight&&(g.clickListener=m[h].highlight):g[h]=m[h]);if(p)for(h in p)p.hasOwnProperty(h)&&(g[h]=p[h]);function C(S,k,M,I){var N=!1;return S==="*"&&(N=!0,S=document.createElement("div"),S.setAttribute("style","visibility: hidden;"),document.body.appendChild(S)),!N&&g.wrap&&g.staffwidth?(k=d(S,k,M,I,g),k):(g.afterParsing&&g.afterParsing(k,M,I),u(S,k,g,M,0),N&&S.parentNode.removeChild(S),null)}return a.renderEngine(C,y,w,g)};function d(y,w,_,m,p){var g=new e(y,p),h=g.getMeasureWidths(w),C=n.calcLineWraps(w,h,p);if(C.reParse){var S=new t;S.parse(m,C.revisedParams),w=S.getTune();var k=S.getWarnings();k&&(w.warnings=k)}return p.afterParsing&&p.afterParsing(w,_,m),u(y,w,C.revisedParams,_,0),w.explanation=C.explanation,w}return Mf=f,Mf}var Af,S3;function lT(){if(S3)return Af;S3=1;var a=yc(),e=M5(),t=function(n,o){function l(u,f,d,y){u=document.createElement("div"),u.setAttribute("style","visibility: hidden;"),document.body.appendChild(u);var w=new e(u,o),_=w.getMeasureWidths(f);return u.parentNode.removeChild(u),{sections:_}}return a.renderEngine(l,"*",n,o)};return Af=t,Af}var Pf,k3;function T1(){if(k3)return Pf;k3=1;var a={};return Pf=a,Pf}var Nf,T3;function uT(){if(T3)return Nf;T3=1;var a=T1(),e=function(t,n,o,l){a[n]||(a[n]={});var u=a[n];return u[o]||(u[o]=new Promise(function(f,d){var y=new XMLHttpRequest;let w=t+n+"-mp3/"+o+".mp3";y.open("GET",w,!0),y.responseType="arraybuffer",y.onload=function(){if(y.status!==200){d(Error("Can't load sound at "+w+" status="+y.status));return}var _=function(p){f({instrument:n,name:o,status:"loaded",audioBuffer:p})},m=l.decodeAudioData(y.response,_,function(){d(Error("Can't decode sound at "+w))});m&&typeof m.catch=="function"&&m.catch(d)},y.onerror=function(){d(Error("Can't load sound at "+w))},y.send()}).catch(f=>{throw console.error("Didn't load note",n,o,":",f.message),f})),u[o]};return Nf=e,Nf}var Of,E3;function E1(){if(E3)return Of;E3=1;var a=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];return Of=a,Of}var If,M3;function hT(){if(M3)return If;M3=1;var a=E1(),e=function(t){for(var n=[],o=0;o<t.tracks.length;o++)n.push([]);var l=a[0];return t.tracks.forEach(function(u,f){u.forEach(function(d){switch(d.cmd){case"note":var y=d.instrument!==void 0?a[d.instrument]:l;if(d.duration>0){var w=d.gap?d.gap:0,_=d.duration;w=Math.min(w,_*2/3);var m={pitch:d.pitch,instrument:y,start:Math.round(d.start*1e6)/1e6,end:Math.round((d.start+_-w)*1e6)/1e6,volume:d.volume};d.startChar&&(m.startChar=d.startChar),d.endChar&&(m.endChar=d.endChar),d.style&&(m.style=d.style),d.cents&&(m.cents=d.cents),n[f].push(m)}break;case"program":l=a[d.instrument];break;case"text":break;default:console.log("Unhandled midi event",d)}})}),n};return If=e,If}var Rf,A3;function bc(){if(A3)return Rf;A3=1;function a(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}return Rf=a,Rf}var Df,P3;function Vs(){if(P3)return Df;P3=1;var a=bc();function e(){return window.abcjsAudioContext||a(),window.abcjsAudioContext}return Df=e,Df}var Lf,N3;function _c(){if(N3)return Lf;N3=1;var a=Vs();function e(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var t=a();if(t)return t.resume!==void 0}return Lf=e,Lf}var Ff,O3;function M1(){if(O3)return Ff;O3=1;var a={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};return Ff=a,Ff}var Bf,I3;function fT(){if(I3)return Bf;I3=1;var a=function(t){return window.URL.createObjectURL(e(t.audioBuffers))};function e(t){var n=t[0],o=n.numberOfChannels,l=n.length*o*2+44,u=new ArrayBuffer(l),f=new DataView(u),d=[],y,w,_=0,m=0;for(g(1179011410),g(l-8),g(1163280727),g(544501094),g(16),p(1),p(o),g(n.sampleRate),g(n.sampleRate*2*o),p(o*2),p(16),g(1635017060),g(l-m-4),y=0;y<o;y++)d.push(n.getChannelData(y));for(;m<l;){for(y=0;y<d.length;y++)w=Math.max(-1,Math.min(1,d[y][_])),w=(.5+w<0?w*32768:w*32767)|0,f.setInt16(m,w,!0),m+=2;_++}return new Blob([u],{type:"audio/wav"});function p(h){f.setUint16(m,h,!0),m+=2}function g(h){f.setUint32(m,h,!0),m+=4}}return Bf=a,Bf}var qf,R3;function P5(){if(R3)return qf;R3=1;function a(e){return Math.pow(2,e/1200)}return qf=a,qf}var zf,D3;function dT(){if(D3)return zf;D3=1;var a=T1(),e=M1(),t=P5();function n(l,u,f,d,y,w,_,m,p){var g=window.OfflineAudioContext||window.webkitOfflineAudioContext,h=f.len*f.tempoMultiplier;w&&(h+=w/1e3),h-=m,h<0&&(h=.005);var C=new g(2,Math.floor((h+_)*u),u),S=e[f.pitch];if(!a[f.instrument])return p&&p("placeNote skipped (instrument empty): "+f.instrument+":"+S),Promise.resolve();var k=a[f.instrument][S];return k?k.then(function(M){var I=C.createBufferSource();I.buffer=M.audioBuffer;var N=f.volume/96*y;I.gainNode=C.createGain(),f.pan&&C.createStereoPanner&&(I.panNode=C.createStereoPanner(),I.panNode.pan.setValueAtTime(f.pan,0)),I.gainNode.gain.value=N,I.gainNode.gain.linearRampToValueAtTime(I.gainNode.gain.value,h),I.gainNode.gain.linearRampToValueAtTime(0,h+_),f.cents&&(I.playbackRate.value=t(f.cents)),I.panNode?(I.panNode.connect(C.destination),I.gainNode.connect(I.panNode)):I.gainNode.connect(C.destination),I.connect(I.gainNode),I.start(0),I.noteOff?I.noteOff(h+_):I.stop(h+_);var z;return C.oncomplete=function(j){if(j.renderedBuffer&&j.renderedBuffer.getChannelData)for(var T=0;T<d.length;T++){var F=d[T]*f.tempoMultiplier;w&&(F-=w/1e3),F<0&&(F=0),F=Math.floor(F*u),o(l,j.renderedBuffer,F)}p&&p("placeNote: "+f.instrument+":"+S),z()},C.startRendering(),new Promise(function(j){z=j})}).catch(function(M){return p&&p("placeNote catch: "+M.message),Promise.resolve()}):(p&&p("placeNote skipped: "+f.instrument+":"+S),Promise.resolve())}var o=function(l,u,f){for(var d=0;d<2;d++)for(var y=u.getChannelData(d),w=l.getChannelData(d),_=0;_<y.length;_++)w[_+f]+=y[_]};return zf=n,zf}var Vf,L3;function A1(){if(L3)return Vf;L3=1;var a=uT(),e=hT(),t=bc(),n=Vs(),o=_c(),l=M1(),u=E1(),f=fT(),d=dT(),y=T1(),w="MIDI is not supported in this browser.",_="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",m="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",p="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function g(){var h=this;h.audioBufferPossible=void 0,h.directSource=[],h.startTimeSec=void 0,h.pausedTimeSec=void 0,h.audioBuffers=[],h.duration=void 0,h.isRunning=!1,h.options=void 0,h.pickupLength=0,h.init=function(k){k||(k={}),k.options&&(h.options=k.options),t(k.audioContext);var M=n().currentTime;if(h.debugCallback=k.debugCallback,h.debugCallback&&h.debugCallback("init called"),h.audioBufferPossible=h._deviceCapable(),!h.audioBufferPossible)return Promise.reject({status:"NotSupported",message:w});var I=k.options?k.options:{};h.soundFontUrl=I.soundFontUrl?I.soundFontUrl:m,h.soundFontUrl[h.soundFontUrl.length-1]!=="/"&&(h.soundFontUrl+="/"),I.soundFontVolumeMultiplier||I.soundFontVolumeMultiplier===0?h.soundFontVolumeMultiplier=I.soundFontVolumeMultiplier:h.soundFontUrl===m||h.soundFontUrl===p?h.soundFontVolumeMultiplier=3:h.soundFontUrl===_?h.soundFontVolumeMultiplier=.4:h.soundFontVolumeMultiplier=1,I.programOffsets?h.programOffsets=I.programOffsets:h.soundFontUrl===_?h.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:h.programOffsets={};var N=I.fadeLength!==void 0?parseInt(I.fadeLength,10):NaN;if(h.fadeLength=isNaN(N)?200:N,N=I.noteEnd!==void 0?parseInt(I.noteEnd,10):NaN,h.noteEnd=isNaN(N)?0:N,h.pan=I.pan,h.meterSize=1,k.visualObj){h.flattened=k.visualObj.setUpAudio(I);var z=k.visualObj.getMeterFraction();z.den&&(h.meterSize=k.visualObj.getMeterFraction().num/k.visualObj.getMeterFraction().den),h.pickupLength=k.visualObj.getPickupLength()}else if(k.sequence)h.flattened=k.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));h.millisecondsPerMeasure=k.millisecondsPerMeasure?k.millisecondsPerMeasure:k.visualObj?k.visualObj.millisecondsPerMeasure(h.flattened.tempo):1e3,h.beatsPerMeasure=k.visualObj?k.visualObj.getBeatsPerMeasure():4,h.sequenceCallback=I.sequenceCallback,h.callbackContext=I.callbackContext,h.onEnded=I.onEnded,h.meterFraction=k.visualObj?k.visualObj.getMeterFraction():{den:1};var j={},T=[],F=[],q=u[0];h.flattened.tracks.forEach(function(R){R.forEach(function(U){if(U.cmd==="program"&&u[U.instrument]&&(q=u[U.instrument]),U.pitch!==void 0){var Y=U.pitch,G=l[Y],A=U.instrument!==void 0?u[U.instrument]:q;if(G)if(j[A]||(j[A]={}),!y[A]||!y[A][G])j[A][G]=!0;else{var O=A+":"+G;T.indexOf(O)<0&&T.push(O)}else{var E=A+":"+G;console.log("Can't find note: ",Y,E),F.indexOf(E)<0&&F.push(E)}}})}),h.debugCallback&&h.debugCallback("note gathering time = "+Math.floor((n().currentTime-M)*1e3)+"ms"),M=n().currentTime;var B=[];Object.keys(j).forEach(function(R){Object.keys(j[R]).forEach(function(U){B.push({instrument:R,note:U})})}),h.debugCallback&&h.debugCallback("notes "+JSON.stringify(B));for(var V=[],H=256,D=0;D<B.length;D+=H)V.push(B.slice(D,D+H));return new Promise(function(R,U){var Y={cached:T,error:F,loaded:[]},G=0,A=function(){h.debugCallback&&h.debugCallback("loadBatch idx="+G+" len="+V.length),G<V.length?h._loadBatch(V[G],h.soundFontUrl,M).then(function(O){h.debugCallback&&h.debugCallback("loadBatch then"),M=n().currentTime,O&&(O.error&&(Y.error=Y.error.concat(O.error)),O.loaded&&(Y.loaded=Y.loaded.concat(O.loaded))),G++,A()},U):(h.debugCallback&&h.debugCallback("resolve init"),R(Y))};A()})},h._loadBatch=function(k,M,I,N){var z=[];return k.forEach(function(j){h.debugCallback&&h.debugCallback("getNote "+j.instrument+":"+j.note),z.push(a(M,j.instrument,j.note,n()))}),Promise.all(z).then(function(j){h.debugCallback&&h.debugCallback("mp3 load time = "+Math.floor((n().currentTime-I)*1e3)+"ms");for(var T=[],F=[],q=[],B=[],V=0;V<j.length;V++){var H=j[V],D=H.instrument+":"+H.name;H.status==="loaded"?T.push(D):H.status==="pending"?q.push(D):H.status==="cached"?F.push(D):B.push(D+" "+H.message)}if(q.length>0){if(h.debugCallback&&h.debugCallback("pending "+JSON.stringify(q)),N?N=N*2:N=50,N<9e4)return new Promise(function(Y,G){setTimeout(function(){var A=[];for(V=0;V<q.length;V++)D=q[V].split(":"),A.push({instrument:D[0],note:D[1]});h.debugCallback&&h.debugCallback("retry "+JSON.stringify(A)),h._loadBatch(A,M,I,N).then(function(O){Y(O)}).catch(function(O){G(O)})},N)});for(var R=[],U=0;U<k.length;U++)R.push(k[U].instrument+"/"+k[U].note);return h.debugCallback&&h.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+R.join(", ")))}else return h.debugCallback&&h.debugCallback("loadBatch resolve"),Promise.resolve({loaded:T,cached:F,error:B})}).catch(function(j){h.debugCallback&&h.debugCallback("loadBatch catch "+j.message)})},h.prime=function(){var k=h.fadeLength/1e3;return h.isRunning=!1,h.audioBufferPossible?(h.debugCallback&&h.debugCallback("prime called"),new Promise(function(M){var I=n().currentTime,N=h.millisecondsPerMeasure/1e3/h.meterSize;if(h.duration=h.flattened.totalDuration*N,h.duration<=0)return h.audioBuffers=[],M({status:"empty",seconds:0});h.duration+=k;var z=Math.floor(n().sampleRate*h.duration);h.stop();var j=e(h.flattened);h.options.swing&&S(j,h.options.swing,h.meterFraction,h.pickupLength),h.sequenceCallback&&h.sequenceCallback(j,h.callbackContext);var T=C(j.length,h.pan),F={};j.forEach(function(Y,G){var A=T&&T.length>G?T[G]:0;Y.forEach(function(O){var E=O.instrument+":"+O.pitch+":"+O.volume+":"+Math.round((O.end-O.start)*1e3)/1e3+":"+A+":"+N+":"+(O.cents?O.cents:0);h.debugCallback&&h.debugCallback("noteMapTrack "+E),F[E]||(F[E]=[]),F[E].push(O.start)})});for(var q=[],B=n().createBuffer(2,z,n().sampleRate),V=0;V<Object.keys(F).length;V++){var H=Object.keys(F)[V],D=H.split(":"),R=D[6]!==void 0?parseFloat(D[6]):0;D={instrument:D[0],pitch:parseInt(D[1],10),volume:parseInt(D[2],10),len:parseFloat(D[3]),pan:parseFloat(D[4]),tempoMultiplier:parseFloat(D[5]),cents:R},q.push(d(B,n().sampleRate,D,F[H],h.soundFontVolumeMultiplier,h.programOffsets[D.instrument],k,h.noteEnd/1e3,h.debugCallback))}h.audioBuffers=[B],h.debugCallback&&(h.debugCallback("sampleRate = "+n().sampleRate),h.debugCallback("totalSamples = "+z),h.debugCallback("creationTime = "+Math.floor((n().currentTime-I)*1e3)+"ms"));function U(Y){var G=Y&&Y.audioBuffers&&Y.audioBuffers.length>0?Y.audioBuffers[0].duration:0;return{status:n().state,duration:G}}Promise.all(q).then(function(){n().state==="suspended"?n().resume().then(function(){M(U(h))}):n().state==="interrupted"?n().suspend().then(function(){n().resume().then(function(){M(U(h))})}):M(U(h))})})):Promise.reject(new Error(w))};function C(k,M){if(M==null)return null;var I=[];if(M.length){for(var N=0;N<k;N++)if(N<M.length){var z=parseFloat(M[N]);z<-1?z=-1:z>1&&(z=1),I.push(z)}else I.push(0);return I}else{var j=parseFloat(M);if(j*(k-1)>2)return null;for(var T=k%2===0,F=T?0-j/2:0,q=F+j,B=0;B<k;B++)T=B%2===0,T?(I.push(F),F-=j):(I.push(q),q+=j);return I}}h.start=function(){if(!h.audioBufferPossible)throw new Error(w);h.debugCallback&&h.debugCallback("start called");var k=h.pausedTimeSec?h.pausedTimeSec:0;h._kickOffSound(k),h.startTimeSec=n().currentTime-k,h.pausedTimeSec=void 0,h.debugCallback&&h.debugCallback("MIDI STARTED",h.startTimeSec)},h.pause=function(){if(!h.audioBufferPossible)throw new Error(w);return h.debugCallback&&h.debugCallback("pause called"),h.pausedTimeSec=h.stop(),h.pausedTimeSec},h.resume=function(){h.start()},h.seek=function(k,M){var I;switch(M){case"seconds":I=k;break;case"beats":I=k*h.millisecondsPerMeasure/h.beatsPerMeasure/1e3;break;default:I=(h.duration-h.fadeLength/1e3)*k;break}if(!h.audioBufferPossible)throw new Error(w);h.debugCallback&&h.debugCallback("seek called sec="+I),h.isRunning?(h.stop(),h._kickOffSound(I)):h.pausedTimeSec=I,h.pausedTimeSec=I},h.stop=function(){h.isRunning=!1,h.pausedTimeSec=void 0,h.directSource.forEach(function(M){try{M.stop()}catch(I){console.log("direct source didn't stop:",I)}}),h.directSource=[];var k=n().currentTime-h.startTimeSec;return k},h.finished=function(){h.startTimeSec=void 0,h.pausedTimeSec=void 0,h.isRunning=!1},h.download=function(){return f(h)},h.getAudioBuffer=function(){return h.audioBuffers[0]},h.getIsRunning=function(){return h.isRunning},h._deviceCapable=function(){return o()?!0:(console.warn(w),h.debugCallback&&h.debugCallback(w),!1)},h._kickOffSound=function(k){h.isRunning=!0,h.directSource=[],h.audioBuffers.forEach(function(M,I){h.directSource[I]=n().createBufferSource(),h.directSource[I].buffer=M,h.directSource[I].connect(n().destination)}),h.directSource.forEach(function(M){M.start(0,k)}),h.onEnded&&(h.directSource[0].onended=function(){h.onEnded(h.callbackContext)})};function S(k,M,I,N){if(!(I.den!=4&&I.den!=8)&&(M=parseFloat(M),!(isNaN(M)||M<=50))){M>75&&(M=75),M=M/50-1;var z=0,j=.25;I.den===8&&(j=j/2);for(var T=j/2,F=T*M,q=0;q<k.length;q++)for(var B=k[q],V=0;V<B.length;V++){var H=B[V];if((H.start-N)%T==0&&(H.start-N)%j!=0&&(V==0||B[V-1].start<=B[V].start-T)&&(V==B.length-1||B[V+1].start>=B[V].start+T)){var D=H.start;H.start+=F,H.volume*=1+z,V>0&&B[V-1].end==D&&(B[V-1].end=H.start,B[V-1].volume*=1-z)}}}}}return Vf=g,Vf}var jf,F3;function N5(){if(F3)return jf;F3=1;var a=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,o,l,u){var f={cmd:"note",duration:o,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:l};u&&(f.cents=u),e.tracks[t].push(f),e.starts[t]+=o,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}};return jf=a,jf}var Hf,B3;function pT(){if(B3)return Hf;B3=1;var a=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`;return Hf=a,Hf}var Wf,q3;function mT(){if(q3)return Wf;q3=1;var a=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`;return Wf=a,Wf}var Uf,z3;function gT(){if(z3)return Uf;z3=1;var a=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`;return Uf=a,Uf}var Gf,V3;function vT(){if(V3)return Gf;V3=1;var a=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`;return Gf=a,Gf}var $f,j3;function yT(){if(j3)return $f;j3=1;var a=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`;return $f=a,$f}var Yf,H3;function O5(){if(H3)return Yf;H3=1;var a=_c(),e=bc(),t=Vs(),n=pT(),o=mT(),l=gT(),u=vT(),f=yT();function d(p,g){var h=this;if(typeof p=="string"){var C=p;if(p=document.querySelector(C),!p)throw new Error('Cannot find element "'+C+'" in the DOM.')}else if(!(p instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(h.parent=p,h.options={},g&&(h.options=Object.assign({},g)),h.options.ac&&e(h.options.ac),y(h.parent,h.options),m(h),h.disable=function(k){var M=h.parent.querySelector(".abcjs-inline-audio");k?M.classList.add("abcjs-disabled"):M.classList.remove("abcjs-disabled")},h.setWarp=function(k,M){var I=h.parent.querySelector(".abcjs-midi-tempo");I.value=Math.round(M),h.setTempo(k)},h.setTempo=function(k){var M=h.parent.querySelector(".abcjs-midi-current-tempo");M&&(M.innerHTML=Math.round(k))},h.resetAll=function(){for(var k=h.parent.querySelectorAll(".abcjs-pushed"),M=0;M<k.length;M++){var I=k[M];I.classList.remove("abcjs-pushed")}},h.pushPlay=function(k){var M=h.parent.querySelector(".abcjs-midi-start");M&&(k?M.classList.add("abcjs-pushed"):M.classList.remove("abcjs-pushed"))},h.pushLoop=function(k){var M=h.parent.querySelector(".abcjs-midi-loop");M&&(k?M.classList.add("abcjs-pushed"):M.classList.remove("abcjs-pushed"))},h.setProgress=function(k,M){var I=h.parent.querySelector(".abcjs-midi-progress-background"),N=h.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!I||!N)){var z=I.clientWidth,j=z*k;N.style.left=j+"px";var T=h.parent.querySelector(".abcjs-midi-clock");if(T){var F=M*k/1e3,q=Math.floor(F/60),B=Math.floor(F%60),V=B<10?"0"+B:B;T.innerHTML=q+":"+V}}},h.options.afterResume){var S=!1;h.options.ac?S=h.options.ac.state!=="suspended":t()&&(S=t().state!=="suspended"),S&&h.options.afterResume()}}function y(p,g){var h=!!g.loopHandler,C=!!g.restartHandler,S=!!g.playHandler||!!g.playPromiseHandler,k=!!g.progressHandler,M=!!g.warpHandler,I=g.hasClock!==!1,N=`<div class="abcjs-inline-audio">
`;if(h){var z=g.repeatTitle?g.repeatTitle:"Click to toggle play once/repeat.",j=g.repeatAria?g.repeatAria:z;N+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+z+'" aria-label="'+j+'">'+n+`</button>
`}if(C){var T=g.restartTitle?g.restartTitle:"Click to go to beginning.",F=g.restartAria?g.restartAria:T;N+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+T+'" aria-label="'+F+'">'+f+`</button>
`}if(S){var q=g.playTitle?g.playTitle:"Click to play/pause.",B=g.playAria?g.playAria:q;N+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+q+'" aria-label="'+B+'">'+o+l+u+`</button>
`}if(k){var V=g.randomTitle?g.randomTitle:"Click to change the playback position.",H=g.randomAria?g.randomAria:V;N+='<button type="button" class="abcjs-midi-progress-background" title="'+V+'" aria-label="'+H+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(I&&(N+=`<span class="abcjs-midi-clock"></span>
`),M){var D=g.warpTitle?g.warpTitle:"Change the playback speed.",R=g.warpAria?g.warpAria:D,U=g.bpm?g.bpm:"BPM";N+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+D+'" aria-label="'+R+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+U+`)</span></span>
`}N+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',N+=`</div>
`,p.innerHTML=N}function w(p,g,h,C,S){var k=!0;if(t()?k=t().state==="suspended":e(),!a())throw{status:"NotSupported",message:"This browser does not support audio."};(k||S)&&h&&h.classList.add("abcjs-loading"),k?t().resume().then(function(){C?C().then(function(M){_(p,g,h,S)}):_(p,g,h,S)}):_(p,g,h,S)}function _(p,g,h,C){C?p(g).then(function(){h&&h.classList.remove("abcjs-loading")}):(p(g),h&&h.classList.remove("abcjs-loading"))}function m(p){var g=!!p.options.loopHandler,h=!!p.options.restartHandler,C=!!p.options.playHandler||!!p.options.playPromiseHandler,S=!!p.options.progressHandler,k=!!p.options.warpHandler,M=p.parent.querySelector(".abcjs-midi-start");g&&p.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(I){w(p.options.loopHandler,I,M,p.options.afterResume)}),h&&p.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(I){w(p.options.restartHandler,I,M,p.options.afterResume)}),C&&M.addEventListener("click",function(I){w(p.options.playPromiseHandler||p.options.playHandler,I,M,p.options.afterResume,!!p.options.playPromiseHandler)}),S&&p.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(I){w(p.options.progressHandler,I,M,p.options.afterResume)}),k&&p.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(I){w(p.options.warpHandler,I,M,p.options.afterResume)})}return Yf=d,Yf}var Xf,W3;function bT(){if(W3)return Xf;W3=1;var a=N5(),e=A1(),t=Vs();function n(l,u,f,d,y){for(var w=new a,_=0;_<l.length;_++){var m=l[_],p=w.addTrack();if(w.setInstrument(p,m.instrument),_===0&&u)for(var g=0;g<u.length;g++){var h=u[g];w.appendNote(p,h.pitch,1/64,h.volume,h.cents)}w.appendNote(p,m.pitch,m.duration,m.volume,m.cents)}var C=t();return C.state==="suspended"?C.resume().then(function(){return o(w,f,d,y)}):o(w,f,d,y)}function o(l,u,f,d){var y=new e;return y.init({sequence:l,millisecondsPerMeasure:u,options:{soundFontUrl:f},debugCallback:d}).then(function(){return y.prime()}).then(function(){return y.start(),Promise.resolve()})}return Xf=n,Xf}var Qf,U3;function I5(){if(U3)return Qf;U3=1;var a=O5(),e=A1(),t=b1(),n=Vs();function o(){var l=this;l.warp=100,l.cursorControl=null,l.visualObj=null,l.timer=null,l.midiBuffer=null,l.options=null,l.currentTempo=null,l.control=null,l.isLooping=!1,l.isStarted=!1,l.isLoaded=!1,l.isLoading=!1,l.load=function(f,d,y){y||(y={}),y.displayPlay===void 0&&(y.displayPlay=!0),y.displayProgress===void 0&&(y.displayProgress=!0),l.control=new a(f,{loopHandler:y.displayLoop?l.toggleLoop:void 0,restartHandler:y.displayRestart?l.restart:void 0,playPromiseHandler:y.displayPlay?l.play:void 0,progressHandler:y.displayProgress?l.randomAccess:void 0,warpHandler:y.displayWarp?l.onWarp:void 0,afterResume:l.init}),l.cursorControl=d,l.disable(!0)},l.disable=function(f){l.control&&l.control.disable(f)},l.setTune=function(f,d,y){return l.visualObj=f,l.disable(!1),l.options=y||{},l.control&&(l.pause(),l.setProgress(0,1),l.control.resetAll(),l.restart(),l.isStarted=!1),l.isLooping=!1,d?l.go():Promise.resolve({status:"no-audio-context"})},l.go=function(){l.isLoading=!0;var f=l.visualObj.millisecondsPerMeasure()*100/l.warp;l.currentTempo=Math.round(l.visualObj.getBeatsPerMeasure()/f*6e4),l.control&&l.control.setTempo(l.currentTempo),l.percent=0;var d;return l.midiBuffer||(l.midiBuffer=new e),n().resume().then(function(y){return l.midiBuffer.init({visualObj:l.visualObj,options:l.options,millisecondsPerMeasure:f})}).then(function(y){return d=y,l.midiBuffer.prime()}).then(function(){var y=16;return l.cursorControl&&l.cursorControl.beatSubdivisions!==void 0&&parseInt(l.cursorControl.beatSubdivisions,10)>=1&&parseInt(l.cursorControl.beatSubdivisions,10)<=64&&(y=parseInt(l.cursorControl.beatSubdivisions,10)),l.timer=new t(l.visualObj,{beatCallback:l.beatCallback,eventCallback:l.eventCallback,lineEndCallback:l.lineEndCallback,qpm:l.currentTempo,extraMeasuresAtBeginning:l.cursorControl?l.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:l.cursorControl?l.cursorControl.lineEndAnticipation:0,beatSubdivisions:y}),l.cursorControl&&l.cursorControl.onReady&&typeof l.cursorControl.onReady=="function"&&l.cursorControl.onReady(l),l.isLoaded=!0,l.isLoading=!1,Promise.resolve({status:"created",notesStatus:d})})},l.destroy=function(){l.timer&&(l.timer.reset(),l.timer.stop(),l.timer=null),l.midiBuffer&&(l.midiBuffer.stop(),l.midiBuffer=null),l.setProgress(0,1),l.control&&l.control.resetAll()},l.play=function(){return l.runWhenReady(l._play,void 0)};function u(f){return new Promise(function(d){setTimeout(d,f)})}l.runWhenReady=function(f,d){return l.visualObj?l.isLoading?u(500).then(function(){return l.isLoading?l.runWhenReady(f,d):f(d)}):l.isLoaded?f(d):l.go().then(function(){return f(d)}):Promise.resolve({status:"loading"})},l._play=function(){return n().resume().then(function(){return l.isStarted=!l.isStarted,l.isStarted?(l.cursorControl&&l.cursorControl.onStart&&typeof l.cursorControl.onStart=="function"&&l.cursorControl.onStart(),l.midiBuffer.start(),l.timer.start(l.percent),l.control&&l.control.pushPlay(!0)):l.pause(),Promise.resolve({status:"ok"})})},l.pause=function(){l.timer&&(l.timer.pause(),l.midiBuffer.pause(),l.control&&l.control.pushPlay(!1))},l.toggleLoop=function(){l.isLooping=!l.isLooping,l.control&&l.control.pushLoop(l.isLooping)},l.restart=function(){l.timer&&(l.timer.setProgress(0),l.midiBuffer.seek(0))},l.randomAccess=function(f){return l.runWhenReady(l._randomAccess,f)},l._randomAccess=function(f){var d=f.target.classList.contains("abcjs-midi-progress-indicator")?f.target.parentNode:f.target,y=(f.x-d.getBoundingClientRect().left)/d.offsetWidth;return y<0&&(y=0),y>1&&(y=1),l.seek(y),Promise.resolve({status:"ok"})},l.seek=function(f,d){l.timer&&l.midiBuffer&&(l.timer.setProgress(f,d),l.midiBuffer.seek(f,d))},l.setWarp=function(f){if(parseInt(f,10)>0){l.warp=parseInt(f,10);var d=l.isStarted,y=l.percent;return l.destroy(),l.isStarted=!1,l.go().then(function(){return l.setProgress(y,l.midiBuffer.duration*1e3),l.control&&l.control.setWarp(l.currentTempo,l.warp),d?l.play().then(function(){return l.seek(y),Promise.resolve()}):(l.seek(y),Promise.resolve())})}return Promise.resolve()},l.onWarp=function(f){var d=f.target.value;return l.setWarp(d)},l.setProgress=function(f,d){l.percent=f,l.control&&l.control.setProgress(f,d)},l.finished=function(){if(l.timer.reset(),l.isLooping)return l.timer.start(0),l.midiBuffer.finished(),l.midiBuffer.start(),"continue";l.timer.stop(),l.isStarted&&(l.control&&l.control.pushPlay(!1),l.isStarted=!1,l.midiBuffer.finished(),l.cursorControl&&l.cursorControl.onFinished&&typeof l.cursorControl.onFinished=="function"&&l.cursorControl.onFinished(),l.setProgress(0,1))},l.beatCallback=function(f,d,y,w){var _=f/d;l.setProgress(_,y),l.cursorControl&&l.cursorControl.onBeat&&typeof l.cursorControl.onBeat=="function"&&l.cursorControl.onBeat(f,d,y,w)},l.eventCallback=function(f){if(f)l.cursorControl&&l.cursorControl.onEvent&&typeof l.cursorControl.onEvent=="function"&&l.cursorControl.onEvent(f);else return l.finished()},l.lineEndCallback=function(f,d){l.cursorControl&&l.cursorControl.onLineEnd&&typeof l.cursorControl.onLineEnd=="function"&&l.cursorControl.onLineEnd(f,d)},l.getUrl=function(){return l.midiBuffer.download()},l.download=function(f){var d=l.getUrl(),y=document.createElement("a");document.body.appendChild(y),y.setAttribute("style","display: none;"),y.href=d,y.download=f||"output.wav",y.click(),window.URL.revokeObjectURL(d),document.body.removeChild(y)}}return Qf=o,Qf}var Kf,G3;function R5(){if(G3)return Kf;G3=1;var a=P5(),e;return function(){function t(m,p){for(var g in p)p.hasOwnProperty(g)&&m.setAttribute(g,p[g]);return m}function n(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}n.prototype.setTempo=function(m){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+y(Math.round(6e7/m),6),this.endTrack())},n.prototype.setGlobalInfo=function(m,p,g,h){if(this.trackcount===0){this.startTrack();var C=Math.round(6e7/m);this.track+="%00%FF%51%03"+y(C,6),g&&(this.track+=u(g)),h&&(this.track+=f(h)),p&&(this.track+=l(p,"%01")),this.endTrack()}},n.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},n.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var m=y(this.track.length/3+4,8);this.track="MTrk"+m+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},n.prototype.setText=function(m,p){switch(m){case"name":this.trackName=l(p,"%03");break}},n.prototype.setInstrument=function(m){this.trackInstrument="%00%C0"+y(m,2),this.instrument=m},n.prototype.setChannel=function(m,p){this.channel=m;var g="%00%B"+this.channel.toString(16);this.track+=g+"%79%00",this.track+=g+"%40%00",this.track+=g+"%5B%30",p||(p=0),p=Math.round((p+1)*64),this.track+=g+"%0A"+y(p,2),this.track+=g+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var o=4096;n.prototype.startNote=function(m,p,g){if(this.track+=_(this.silencelength),this.silencelength=0,g){this.track+="%e"+this.channel.toString(16);var h=Math.round(a(g)*o);this.track+=w(8192+h),this.track+=_(0),this.noteWarped[m]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+m.toString(16)+y(p,2)},n.prototype.endNote=function(m){this.track+=_(this.silencelength),this.silencelength=0,this.noteWarped[m]&&(this.track+="%e"+this.channel.toString(16),this.track+=w(8192),this.track+=_(0),this.noteWarped[m]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+m.toString(16)+"%00"},n.prototype.addRest=function(m){this.silencelength+=m,this.silencelength<0&&(this.silencelength=0)},n.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+y(this.trackcount,4)+"%01%e0"+this.trackstrings},n.prototype.embed=function(m,p){var g=this.getData(),h=t(document.createElement("a"),{href:g});if(h.innerHTML="download midi",m.insertBefore(h,m.firstChild),!p){var C=t(document.createElement("embed"),{src:g,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});m.insertBefore(C,m.firstChild)}};function l(m,p){for(var g="",h=0;h<m.length;h++)g+=y(m.charCodeAt(h),2);return"%00%FF"+p+y(g.length/3,2)+g}function u(m){if(!m||!m.accidentals)return"";for(var p="%00%FF%59%02",g=0,h=256,C=0;C<m.accidentals.length;C++)m.accidentals[C].acc==="sharp"?g++:m.accidentals[C].acc==="flat"&&h--;var S=y(h!==256?h:g,2),k=m.mode==="m"?"%01":"%00";return p+S+k}function f(m){var p="%00%FF%58%04"+y(m.num,2),g={1:0,2:1,4:2,8:3,16:4,32:5},h=g[m.den];if(!h)return"";p+=y(h,2);var C;switch(m.num+"/"+m.den){case"2/4":case"3/4":case"4/4":case"5/4":C=24;break;case"6/4":C=72;break;case"2/2":case"3/2":case"4/2":C=48;break;case"3/8":case"6/8":case"9/8":case"12/8":C=36;break}return C?(p+=y(C,2),p+"%08"):""}function d(m){for(var p="",g=0;g<m.length;g+=2)p+="%",p+=m.substr(g,2);return p}function y(m,p){var g=m.toString(16);for(g=g.split(".")[0];g.length<p;)g="0"+g;return g.length>p&&(g=g.substring(0,p)),d(g)}function w(m){m=Math.round(m);var p=m%128,g=m-p;return y(g*2+p,4)}function _(m){var p=0,g=[];for(m=Math.round(m);m!==0;)g.push(m&127),m=m>>7;for(var h=g.length-1;h>=0;h--){p=p<<8;var C=g[h];h!==0&&(C=C|128),p=p|C}var S=p.toString(16).length;return S+=S%2,y(p,S)}e=function(){return new n}}(),Kf=e,Kf}var Zf,$3;function _T(){if($3)return Zf;$3=1;var a=R5(),e;return function(){var t=1920;e=function(l,u){u===void 0&&(u={});var f=l.setUpAudio(u),d=a(),y=l.metaText?l.metaText.title:void 0;y&&y.length>128&&(y=y.substring(0,124)+"...");var w=l.getKeySignature(),_=l.getMeterFraction(),m=f.tempo,p=m/60;if(_.den==8){var g=l.millisecondsPerMeasure();m=6e4/(g/_.num)/2,p=m/60}d.setGlobalInfo(m,y,w,_);for(var h=0;h<f.tracks.length;h++){d.startTrack();for(var C={},S=0;S<f.tracks[h].length;S++){var k=f.tracks[h][S];switch(k.cmd){case"text":d.setText(k.type,k.text);break;case"program":var M=0;u.pan&&u.pan.length>h&&(M=u.pan[h]),k.instrument===128?(d.setChannel(9,M),d.setInstrument(0)):(d.setChannel(k.channel,M),d.setInstrument(k.instrument));break;case"note":var I=k.gap*p,N=k.start,z=N+k.duration-I;C[N]||(C[N]=[]),C[N].push({pitch:k.pitch,volume:k.volume,cents:k.cents}),C[z]||(C[z]=[]),C[z].push({pitch:k.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+k.cmd)}}n(d,C,t),d.endTrack()}return d.getData()};function n(o,l,u){for(var f=Object.keys(l),d=0;d<f.length;d++)f[d]=parseFloat(f[d]);f.sort(function(h,C){return h-C});for(var y=0,w=0;w<f.length;w++){var _=l[f[w]];if(f[w]>y){var m=(f[w]-y)*u;o.addRest(m),y=f[w]}for(var p=0;p<_.length;p++){var g=_[p];g.volume?o.startNote(g.pitch,g.volume,g.cents):o.endNote(g.pitch)}}}}(),Zf=e,Zf}var Jf,Y3;function wT(){if(Y3)return Jf;Y3=1;var a=yc(),e=_T(),t=function(l,u){var f={};if(u)for(var d in u)u.hasOwnProperty(d)&&(f[d]=u[d]);f.generateInline=!1;function y(w,_,m){var p=e(_,f);switch(f.midiOutputType){case"encoded":return p;case"binary":var g=p.replace("data:audio/midi,","");g=g.replace(/MThd/g,"%4d%54%68%64"),g=g.replace(/MTrk/g,"%4d%54%72%6b");for(var h=new ArrayBuffer(g.length/3),C=new Uint8Array(h),S=0;S<g.length/3;S++){var k=S*3+1,M=parseInt(g.substring(k,k+2),16);C[S]=M}return C;case"link":default:return o(_,f,p,m)}}return typeof l=="string"?a.renderEngine(y,"*",l,f):y(null,l,0)};function n(l){var u={};return l&&u.toString.call(l)==="[object Function]"}var o=function(l,u,f,d){var y=["abcjs-download-midi","abcjs-midi-"+d];u.downloadClass&&y.push(u.downloadClass);var w='<div class="'+y.join(" ")+'">';u.preTextDownload&&(w+=u.preTextDownload);var _=l.metaText&&l.metaText.title?l.metaText.title:"Untitled",m;u.downloadLabel&&n(u.downloadLabel)?m=u.downloadLabel(l,d):u.downloadLabel?m=u.downloadLabel.replace(/%T/,_):m='Download MIDI for "'+_+'"',_=_.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var p=u.fileName?u.fileName:_+".midi";return w+='<a download="'+p+'" href="'+f+'">'+m+"</a>",u.postTextDownload&&(w+=u.postTextDownload),w+"</div>"};return Jf=t,Jf}var ed,X3;function D5(){if(X3)return ed;X3=1;try{if(typeof window.CustomEvent!="function"){var a=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o};a.prototype=window.Event.prototype,window.CustomEvent=a}}catch{}var e=function(t){typeof t=="string"?this.textarea=document.getElementById(t):this.textarea=t,this.initialText=this.textarea.value,this.isDragging=!1};return e.prototype.addSelectionListener=function(t){this.textarea.onmousemove=function(n){this.isDragging&&t.fireSelectionChanged()}},e.prototype.addChangeListener=function(t){this.changelistener=t,this.textarea.onkeyup=function(){t.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,t.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,t.fireChanged()},this.textarea.onchange=function(){t.fireChanged()}},e.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},e.prototype.setSelection=function(t,n){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(t,n);else if(this.textarea.createTextRange){var o=this.textarea.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select()}this.textarea.focus()},e.prototype.getString=function(){return this.textarea.value},e.prototype.setString=function(t){this.textarea.value=t,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},e.prototype.getElem=function(){return this.textarea},ed=e,ed}var td,Q3;function CT(){if(Q3)return td;Q3=1;var a=Pr(),e=I5(),t=_c(),n=A5(),o=D5();function l(f){var d={},y;if(f.abcjsParams)for(y in f.abcjsParams)f.abcjsParams.hasOwnProperty(y)&&(d[y]=f.abcjsParams[y]);if(f.midi_options)for(y in f.midi_options)f.midi_options.hasOwnProperty(y)&&(d[y]=f.midi_options[y]);if(f.parser_options)for(y in f.parser_options)f.parser_options.hasOwnProperty(y)&&(d[y]=f.parser_options[y]);if(f.render_options)for(y in f.render_options)f.render_options.hasOwnProperty(y)&&(d[y]=f.render_options[y]);return d.tablature&&f.warnings_id&&(d.tablature.warnings_id=f.warnings_id),d}var u=function(f,d){this.abcjsParams=l(d),d.indicate_changed&&(this.indicate_changed=!0),typeof f=="string"?this.editarea=new o(f):this.editarea=f,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),d.canvas_id?this.div=d.canvas_id:d.paper_id?this.div=d.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),d.selectionChangeCallback&&(this.selectionChangeCallback=d.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),d.synth&&t()&&(this.synth={el:d.synth.el,cursorControl:d.synth.cursorControl,options:d.synth.options}),d.generate_midi&&(this.generate_midi=d.generate_midi,this.abcjsParams.generateDownload&&(typeof d.midi_download_id=="string"?this.downloadMidi=document.getElementById(d.midi_download_id):d.midi_download_id&&(this.downloadMidi=d.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof d.midi_id=="string"?this.inlineMidi=document.getElementById(d.midi_id):d.midi_id&&(this.inlineMidi=d.midi_id))),d.warnings_id?typeof d.warnings_id=="string"?this.warningsdiv=document.getElementById(d.warnings_id):this.warningsdiv=d.warnings_id:d.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=d.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(y,w){var _=function(m,p){var g=m.className;return g.length>0&&(g===p||new RegExp("(^|\\s)"+p+"(\\s|$)").test(g))};return _(y,w)||(y.className+=(y.className?" ":"")+w),y},this.removeClassName=function(y,w){return y.className=a.strip(y.className.replace(new RegExp("(^|\\s+)"+w+"(\\s+|$)")," ")),y},this.setReadOnly=function(y){var w="abc_textarea_readonly",_=this.editarea.getElem();y?(_.setAttribute("readonly","yes"),this.addClassName(_,w)):(_.removeAttribute("readonly"),this.removeClassName(_,w))}};return u.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var f=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(f)}if(this.synth){var d=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new e,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],d,this.synth.options)}},u.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=n(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(f){console.error("ABCJS error: ",f),this.warnings||(this.warnings=[]),this.warnings.push(f.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},u.prototype.paramChanged=function(f){if(f)for(var d in f)f.hasOwnProperty(d)&&(this.abcjsParams[d]=f[d]);this.currentAbc="",this.fireChanged()},u.prototype.synthParamChanged=function(f){if(this.synth){if(this.synth.options={},f)for(var d in f)f.hasOwnProperty(d)&&(this.synth.options[d]=f[d]);this.currentAbc="",this.fireChanged()}},u.prototype.parseABC=function(){var f=this.editarea.getString();return f===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=f,!0)},u.prototype.updateSelection=function(){var f=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(f.start,f.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(f.start,f.end)},u.prototype.fireSelectionChanged=function(){this.updateSelection()},u.prototype.setDirtyStyle=function(f){if(this.indicate_changed!==void 0){var d=function(m,p){var g=function(h,C){var S=h.className;return S.length>0&&(S===C||new RegExp("(^|\\s)"+C+"(\\s|$)").test(S))};return g(m,p)||(m.className+=(m.className?" ":"")+p),m},y=function(m,p){return m.className=a.strip(m.className.replace(new RegExp("(^|\\s+)"+p+"(\\s+|$)")," ")),m},w="abc_textarea_dirty",_=this.editarea.getElem();f?d(_,w):y(_,w)}},u.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var f=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){f.modelChanged()},300);var d=this.isDirty();this.wasDirty!==d&&(this.wasDirty=d,this.setDirtyStyle(d)),this.onchangeCallback&&this.onchangeCallback(this)}},u.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},u.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()},u.prototype.highlight=function(f,d,y,w,_,m){this.editarea.setSelection(f.startChar,f.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(f.startChar,f.endChar),this.clientClickListener&&this.clientClickListener(f,d,y,w,_,m)},u.prototype.pause=function(f){this.bIsPaused=f,f||this.fireChanged()},u.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()},u.prototype.pauseMidi=function(f){this.midiPause=f,f||this.redrawMidi()},td=u,td}var nd,K3;function xT(){if(K3)return nd;K3=1;var a=VS(),e=jS(),t=yc(),n=l5(),o=sk(),l={};l.signature="abcjs-basic v"+a,Object.keys(e).forEach(function(M){l[M]=e[M]}),Object.keys(t).forEach(function(M){l[M]=t[M]}),l.renderAbc=A5(),l.tuneMetrics=lT(),l.TimingCallbacks=b1();var u=fi();l.setGlyph=u.setSymbol,l.strTranspose=o;var f=A1(),d=E1(),y=M1(),w=N5(),_=O5(),m=bc(),p=Vs(),g=_c(),h=bT(),C=I5(),S=wT(),k=R5();return l.synth={CreateSynth:f,instrumentIndexToName:d,pitchToNoteName:y,SynthController:C,SynthSequence:w,CreateSynthControl:_,registerAudioContext:m,activeAudioContext:p,supportsAudio:g,playEvent:h,getMidiFile:S,sequence:n,midiRenderer:k},l.Editor=CT(),l.EditArea=D5(),nd=l,nd}var ST=xT();const L5=ly(ST),P1=document.documentElement.clientWidth,kT=Zt.div`
  padding: 48px 16px;
`,TT=Zt.select`
  width: 48px;
  height: 32px;
  font-size: 14pt;
`,ET=Zt.select`
  width: 192px;
  height: 32px;
  font-size: 13pt;
`,MT=Zt.select`
  width: 48px;
  height: 36px;
  font-size: 14pt;
`,AT=Zt.button`
  width: 96px;
  height: 40px;
  font-size: 12pt;
  vertical-align: middle;
  font-weight: 400;
  margin-top: 26px;
`,Z3=Zt.span`
  margin: 4px;
`,PT=Zt.div`
  padding: 4px;
`,J3=Zt.div`
  width: ${P1<=400?"300px":"100%"};
  overflow-x: auto; /*  */
  overflow-y: hidden; /*  */
  white-space: nowrap; /*  */
  box-sizing: border-box; /*  */
  p {
    font-size: 26pt;
    font-weight: bold;
  }
`,NT=Zt.div`
  overflowX: 'scroll';
  width: ${P1<=800?"800px":"100%"};
`,rd=Zt.label`
  font-size: 16px;
  margin-bottom: 4px;
  margin-left: 2px;
  display: block;
  text-align: left;
`,ey=Zt.div`
  display: flex;
  justify-content: center;
  width: 100%;       /*  */
`,y0=Zt.div`
  display: block;
`,OT=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],IT=[2,3,4,5,6],RT=["Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian","Harmonic Minor","Melodic Minor","Phrygian Dominant","Major Pentatonic","Minor Pentatonic","Whole Tone","Chromatic","Whole-Half Diminished","Half-Whole Diminished","Altered"],ty=new Ba().toDestination();let ny=.5;const DT=()=>{const[a,e]=ue.useState("C"),[t,n]=ue.useState("ionian"),[o,l]=ue.useState(4),u=gu(a+" "+t).notes.join(" "),f=gu(a+o+" "+t).notes,d=gu(a+4+" "+t).notes,[y,w]=ue.useState("");ue.useEffect(()=>{let m=[];for(let p=0;p<d.length;p++)d[p].includes("5")&&(d[p]=d[p].toLowerCase()),d[p]=d[p].replace("4","").replace("5",""),d[p].length>1?m.push(d[p].substring(1)+d[p].substring(0,1)):m.push(d[p]);w(`X:1
L:1/4
K:C
`+m.join("").replace(/#/g,"^").replace(/b/g,"_")+"|")}),ue.useEffect(()=>{L5.renderAbc("sheet-music",y,{selectionColor:"#EEEEEE",scale:P1>=400?1.5:1})},[y]);const _=ue.useCallback(()=>{const m=zS();f.map((p,g)=>ty.triggerAttackRelease(p,"8n",m+ny*g)),ty.triggerAttackRelease(a+(o+1),"8n",m+ny*f.length)},[f,a,o]);return Te.jsx(Rd,{children:Te.jsxs(kT,{children:[Te.jsx("h1",{children:"Scale"}),Te.jsxs(ey,{children:[Te.jsxs(y0,{children:[Te.jsx(rd,{htmlFor:"note",children:"Note"}),Te.jsx(TT,{id:"note",onChange:m=>e(m.target.value),children:OT.map(m=>Te.jsx("option",{value:m,children:m},m))})]}),Te.jsx(Z3,{}),Te.jsxs(y0,{children:[Te.jsx(rd,{htmlFor:"scale",children:"Scale"}),Te.jsx(ET,{id:"scale",onChange:m=>n(m.target.value),children:RT.map(m=>Te.jsx("option",{value:m,children:m},m))})]})]}),Te.jsx(J3,{children:Te.jsx("p",{children:u})}),Te.jsx(J3,{children:Te.jsx(NT,{id:"sheet-music"})}),Te.jsx(PT,{}),Te.jsxs(ey,{children:[Te.jsxs(y0,{children:[Te.jsx(rd,{htmlFor:"octave",children:"Octave"}),Te.jsx(MT,{id:"octave",defaultValue:4,onChange:m=>l(parseInt(m.target.value)),children:IT.map(m=>Te.jsx("option",{value:m,children:m},m))})]}),Te.jsx(Z3,{}),Te.jsx(y0,{children:Te.jsx(AT,{onClick:_,children:"Play"})})]})]})})},LT=()=>{const[a,e]=ue.useState(`X:1
L:1/4
K:C
C^^DE__AB|`);return ue.useEffect(()=>{L5.renderAbc("sheet-music",a)},[a]),Te.jsxs("div",{children:[Te.jsx("h2",{children:"C"}),Te.jsx("div",{id:"sheet-music"}),Te.jsx("button",{onClick:()=>e(`X:1
T:C Major Scale
M:C|
L:1/4
K:C
cdefgabc'|`),children:""})]})},FT=()=>Te.jsx(Te.Fragment,{children:Te.jsxs(Dy,{children:[Te.jsxs(Rd,{children:[Te.jsx("h1",{children:""}),Te.jsx("a",{className:"read-the-docs",href:"/music-system/#/home",children:""})]}),Te.jsx(Ry,{})]})});var Ta={},ry;function BT(){if(ry)return Ta;ry=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.parse=u,Ta.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function u(m,p){const g=new l,h=m.length;if(h<2)return g;const C=(p==null?void 0:p.decode)||w;let S=0;do{const k=m.indexOf("=",S);if(k===-1)break;const M=m.indexOf(";",S),I=M===-1?h:M;if(k>I){S=m.lastIndexOf(";",k-1)+1;continue}const N=f(m,S,k),z=d(m,k,N),j=m.slice(N,z);if(g[j]===void 0){let T=f(m,k+1,I),F=d(m,I,T);const q=C(m.slice(T,F));g[j]=q}S=I+1}while(S<h);return g}function f(m,p,g){do{const h=m.charCodeAt(p);if(h!==32&&h!==9)return p}while(++p<g);return g}function d(m,p,g){for(;p>g;){const h=m.charCodeAt(--p);if(h!==32&&h!==9)return p+1}return g}function y(m,p,g){const h=(g==null?void 0:g.encode)||encodeURIComponent;if(!a.test(m))throw new TypeError(`argument name is invalid: ${m}`);const C=h(p);if(!e.test(C))throw new TypeError(`argument val is invalid: ${p}`);let S=m+"="+C;if(!g)return S;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);S+="; Max-Age="+g.maxAge}if(g.domain){if(!t.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);S+="; Domain="+g.domain}if(g.path){if(!n.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);S+="; Path="+g.path}if(g.expires){if(!_(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);S+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(S+="; HttpOnly"),g.secure&&(S+="; Secure"),g.partitioned&&(S+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return S}function w(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function _(m){return o.call(m)==="[object Date]"}return Ta}BT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function qT(a={}){function e(o,l){let{pathname:u="/",search:f="",hash:d=""}=qi(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Td("",{pathname:u,search:f,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=o.location.href,y=d.indexOf("#");f=y===-1?d:d.slice(0,y)}return f+"#"+(typeof l=="string"?l:qa(l))}function n(o,l){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return VT(e,t,n,a)}function wt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Kn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zT(){return Math.random().toString(36).substring(2,10)}function sy(a,e){return{usr:a.state,key:a.key,idx:e}}function Td(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?qi(e):e,state:t,key:e&&e.key||n||zT()}}function qa({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function qi(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function VT(a,e,t,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,u=o.history,f="POP",d=null,y=w();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function w(){return(u.state||{idx:null}).idx}function _(){f="POP";let C=w(),S=C==null?null:C-y;y=C,d&&d({action:f,location:h.location,delta:S})}function m(C,S){f="PUSH";let k=Td(h.location,C,S);t(k,C),y=w()+1;let M=sy(k,y),I=h.createHref(k);try{u.pushState(M,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(I)}l&&d&&d({action:f,location:h.location,delta:1})}function p(C,S){f="REPLACE";let k=Td(h.location,C,S);t(k,C),y=w();let M=sy(k,y),I=h.createHref(k);u.replaceState(M,"",I),l&&d&&d({action:f,location:h.location,delta:0})}function g(C){let S=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof C=="string"?C:qa(C);return k=k.replace(/ $/,"%20"),wt(S,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,S)}let h={get action(){return f},get location(){return a(o,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,_),d=C,()=>{o.removeEventListener(iy,_),d=null}},createHref(C){return e(o,C)},createURL:g,encodeLocation(C){let S=g(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:p,go(C){return u.go(C)}};return h}function F5(a,e,t="/"){return jT(a,e,t,!1)}function jT(a,e,t,n){let o=typeof e=="string"?qi(e):e,l=ci(o.pathname||"/",t);if(l==null)return null;let u=B5(a);HT(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let y=eE(l);f=ZT(u[d],y,n)}return f}function B5(a,e=[],t=[],n=""){let o=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let y=kr([n,d.relativePath]),w=t.concat(d);l.children&&l.children.length>0&&(wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),B5(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:QT(y,l.index),routesMeta:w})};return a.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let d of q5(l.path))o(l,u,d)}),e}function q5(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let u=q5(n.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&f.push(...u),f.map(d=>a.startsWith("/")&&d===""?"/":d)}function HT(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:KT(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var WT=/^:[\w-]+$/,UT=3,GT=2,$T=1,YT=10,XT=-2,ay=a=>a==="*";function QT(a,e){let t=a.split("/"),n=t.length;return t.some(ay)&&(n+=XT),e&&(n+=GT),t.filter(o=>!ay(o)).reduce((o,l)=>o+(WT.test(l)?UT:l===""?$T:YT),n)}function KT(a,e){return a.length===e.length&&a.slice(0,-1).every((n,o)=>n===e[o])?a[a.length-1]-e[e.length-1]:0}function ZT(a,e,t=!1){let{routesMeta:n}=a,o={},l="/",u=[];for(let f=0;f<n.length;++f){let d=n[f],y=f===n.length-1,w=l==="/"?e:e.slice(l.length)||"/",_=G0({path:d.relativePath,caseSensitive:d.caseSensitive,end:y},w),m=d.route;if(!_&&y&&t&&!n[n.length-1].route.index&&(_=G0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},w)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:kr([l,_.pathname]),pathnameBase:iE(kr([l,_.pathnameBase])),route:m}),_.pathnameBase!=="/"&&(l=kr([l,_.pathnameBase]))}return u}function G0(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=JT(a.path,a.caseSensitive,a.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:n.reduce((y,{paramName:w,isOptional:_},m)=>{if(w==="*"){let g=f[m]||"";u=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}const p=f[m];return _&&!p?y[w]=void 0:y[w]=(p||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:a}}function JT(a,e=!1,t=!0){Kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(n.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function eE(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${a}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ci(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}function tE(a,e="/"){let{pathname:t,search:n="",hash:o=""}=typeof a=="string"?qi(a):a;return{pathname:t?t.startsWith("/")?t:nE(t,e):e,search:sE(n),hash:aE(o)}}function nE(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function id(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rE(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function z5(a){let e=rE(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function V5(a,e,t,n=!1){let o;typeof a=="string"?o=qi(a):(o={...a},wt(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let l=a===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!n&&u.startsWith("..")){let m=u.split("/");for(;m[0]==="..";)m.shift(),_-=1;o.pathname=m.join("/")}f=_>=0?e[_]:"/"}let d=tE(o,f),y=u&&u!=="/"&&u.endsWith("/"),w=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(y||w)&&(d.pathname+="/"),d}var kr=a=>a.join("/").replace(/\/\/+/g,"/"),iE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),sE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,aE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function oE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j5=["POST","PUT","PATCH","DELETE"];new Set(j5);var cE=["GET",...j5];new Set(cE);var js=ue.createContext(null);js.displayName="DataRouter";var wc=ue.createContext(null);wc.displayName="DataRouterState";var H5=ue.createContext({isTransitioning:!1});H5.displayName="ViewTransition";var lE=ue.createContext(new Map);lE.displayName="Fetchers";var uE=ue.createContext(null);uE.displayName="Await";var dr=ue.createContext(null);dr.displayName="Navigation";var eo=ue.createContext(null);eo.displayName="Location";var Nr=ue.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var N1=ue.createContext(null);N1.displayName="RouteError";function hE(a,{relative:e}={}){wt(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ue.useContext(dr),{hash:o,pathname:l,search:u}=no(a,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:kr([t,l])),n.createHref({pathname:f,search:u,hash:o})}function to(){return ue.useContext(eo)!=null}function zi(){return wt(to(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(eo).location}var W5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U5(a){ue.useContext(dr).static||ue.useLayoutEffect(a)}function fE(){let{isDataRoute:a}=ue.useContext(Nr);return a?kE():dE()}function dE(){wt(to(),"useNavigate() may be used only in the context of a <Router> component.");let a=ue.useContext(js),{basename:e,navigator:t}=ue.useContext(dr),{matches:n}=ue.useContext(Nr),{pathname:o}=zi(),l=JSON.stringify(z5(n)),u=ue.useRef(!1);return U5(()=>{u.current=!0}),ue.useCallback((d,y={})=>{if(Kn(u.current,W5),!u.current)return;if(typeof d=="number"){t.go(d);return}let w=V5(d,JSON.parse(l),o,y.relative==="path");a==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:kr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,a])}ue.createContext(null);function no(a,{relative:e}={}){let{matches:t}=ue.useContext(Nr),{pathname:n}=zi(),o=JSON.stringify(z5(t));return ue.useMemo(()=>V5(a,JSON.parse(o),n,e==="path"),[a,o,n,e])}function pE(a,e){return G5(a,e)}function G5(a,e,t,n){var S;wt(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ue.useContext(dr),{matches:l}=ue.useContext(Nr),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",y=u?u.pathnameBase:"/",w=u&&u.route;{let k=w&&w.path||"";$5(d,!w||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=zi(),m;if(e){let k=typeof e=="string"?qi(e):e;wt(y==="/"||((S=k.pathname)==null?void 0:S.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=_;let p=m.pathname||"/",g=p;if(y!=="/"){let k=y.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let h=F5(a,{pathname:g});Kn(w||h!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Kn(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=bE(h&&h.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:kr([y,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:kr([y,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,n);return e&&C?ue.createElement(eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},C):C}function mE(){let a=SE(),e=oE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:l},"ErrorBoundary")," or"," ",ue.createElement("code",{style:l},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:o},t):null,u)}var gE=ue.createElement(mE,null),vE=class extends ue.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?ue.createElement(Nr.Provider,{value:this.props.routeContext},ue.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yE({routeContext:a,match:e,children:t}){let n=ue.useContext(js);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(Nr.Provider,{value:a},t)}function bE(a,e=[],t=null,n=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let o=a,l=t==null?void 0:t.errors;if(l!=null){let d=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<o.length;d++){let y=o[d];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=d),y.route.id){let{loaderData:w,errors:_}=t,m=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||m){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,y,w)=>{let _,m=!1,p=null,g=null;t&&(_=l&&y.route.id?l[y.route.id]:void 0,p=y.route.errorElement||gE,u&&(f<0&&w===0?($5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):f===w&&(m=!0,g=y.route.hydrateFallbackElement||null)));let h=e.concat(o.slice(0,w+1)),C=()=>{let S;return _?S=p:m?S=g:y.route.Component?S=ue.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=d,ue.createElement(yE,{match:y,routeContext:{outlet:d,matches:h,isDataRoute:t!=null},children:S})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?ue.createElement(vE,{location:t.location,revalidation:t.revalidation,component:p,error:_,children:C(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):C()},null)}function O1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _E(a){let e=ue.useContext(js);return wt(e,O1(a)),e}function wE(a){let e=ue.useContext(wc);return wt(e,O1(a)),e}function CE(a){let e=ue.useContext(Nr);return wt(e,O1(a)),e}function I1(a){let e=CE(a),t=e.matches[e.matches.length-1];return wt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function xE(){return I1("useRouteId")}function SE(){var n;let a=ue.useContext(N1),e=wE("useRouteError"),t=I1("useRouteError");return a!==void 0?a:(n=e.errors)==null?void 0:n[t]}function kE(){let{router:a}=_E("useNavigate"),e=I1("useNavigate"),t=ue.useRef(!1);return U5(()=>{t.current=!0}),ue.useCallback(async(o,l={})=>{Kn(t.current,W5),t.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...l}))},[a,e])}var oy={};function $5(a,e,t){!e&&!oy[a]&&(oy[a]=!0,Kn(!1,t))}ue.memo(TE);function TE({routes:a,future:e,state:t}){return G5(a,void 0,t,e)}function Aa(a){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EE({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:o,static:l=!1}){wt(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),f=ue.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=qi(t));let{pathname:d="/",search:y="",hash:w="",state:_=null,key:m="default"}=t,p=ue.useMemo(()=>{let g=ci(d,u);return g==null?null:{location:{pathname:g,search:y,hash:w,state:_,key:m},navigationType:n}},[u,d,y,w,_,m,n]);return Kn(p!=null,`<Router basename="${u}"> is not able to match the URL "${d}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:ue.createElement(dr.Provider,{value:f},ue.createElement(eo.Provider,{children:e,value:p}))}function ME({children:a,location:e}){return pE(Ed(a),e)}function Ed(a,e=[]){let t=[];return ue.Children.forEach(a,(n,o)=>{if(!ue.isValidElement(n))return;let l=[...e,o];if(n.type===ue.Fragment){t.push.apply(t,Ed(n.props.children,l));return}wt(n.type===Aa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Ed(n.props.children,l)),t.push(u)}),t}var M0="get",A0="application/x-www-form-urlencoded";function Cc(a){return a!=null&&typeof a.tagName=="string"}function AE(a){return Cc(a)&&a.tagName.toLowerCase()==="button"}function PE(a){return Cc(a)&&a.tagName.toLowerCase()==="form"}function NE(a){return Cc(a)&&a.tagName.toLowerCase()==="input"}function OE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function IE(a,e){return a.button===0&&(!e||e==="_self")&&!OE(a)}var b0=null;function RE(){if(b0===null)try{new FormData(document.createElement("form"),0),b0=!1}catch{b0=!0}return b0}var DE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(a){return a!=null&&!DE.has(a)?(Kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A0}"`),null):a}function LE(a,e){let t,n,o,l,u;if(PE(a)){let f=a.getAttribute("action");n=f?ci(f,e):null,t=a.getAttribute("method")||M0,o=sd(a.getAttribute("enctype"))||A0,l=new FormData(a)}else if(AE(a)||NE(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||f.getAttribute("action");if(n=d?ci(d,e):null,t=a.getAttribute("formmethod")||f.getAttribute("method")||M0,o=sd(a.getAttribute("formenctype"))||sd(f.getAttribute("enctype"))||A0,l=new FormData(f,a),!RE()){let{name:y,type:w,value:_}=a;if(w==="image"){let m=y?`${y}.`:"";l.append(`${m}x`,"0"),l.append(`${m}y`,"0")}else y&&l.append(y,_)}}else{if(Cc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=M0,n=null,o=A0,u=a}return l&&o==="text/plain"&&(u=l,l=void 0),{action:n,method:t.toLowerCase(),encType:o,formData:l,body:u}}function R1(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function FE(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BE(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function qE(a,e,t){let n=await Promise.all(a.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await FE(l,t);return u.links?u.links():[]}return[]}));return HE(n.flat(1).filter(BE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cy(a,e,t,n,o,l){let u=(d,y)=>t[y]?d.route.id!==t[y].route.id:!0,f=(d,y)=>{var w;return t[y].pathname!==d.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,y)=>u(d,y)||f(d,y)):l==="data"?e.filter((d,y)=>{var _;let w=n.routes[d.route.id];if(!w||!w.hasLoader)return!1;if(u(d,y)||f(d,y))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zE(a,e){return VE(a.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let o=[n.module];return n.imports&&(o=o.concat(n.imports)),o}).flat(1))}function VE(a){return[...new Set(a)]}function jE(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function HE(a,e){let t=new Set;return new Set(e),a.reduce((n,o)=>{let l=JSON.stringify(jE(o));return t.has(l)||(t.add(l),n.push({key:l,link:o})),n},[])}function WE(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function UE(){let a=ue.useContext(js);return R1(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function GE(){let a=ue.useContext(wc);return R1(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var D1=ue.createContext(void 0);D1.displayName="FrameworkContext";function Y5(){let a=ue.useContext(D1);return R1(a,"You must render this element inside a <HydratedRouter> element"),a}function $E(a,e){let t=ue.useContext(D1),[n,o]=ue.useState(!1),[l,u]=ue.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:y,onMouseLeave:w,onTouchStart:_}=e,m=ue.useRef(null);ue.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let h=S=>{S.forEach(k=>{u(k.isIntersecting)})},C=new IntersectionObserver(h,{threshold:.5});return m.current&&C.observe(m.current),()=>{C.disconnect()}}},[a]),ue.useEffect(()=>{if(n){let h=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(h)}}},[n]);let p=()=>{o(!0)},g=()=>{o(!1),u(!1)};return t?a!=="intent"?[l,m,{}]:[l,m,{onFocus:Ea(f,p),onBlur:Ea(d,g),onMouseEnter:Ea(y,p),onMouseLeave:Ea(w,g),onTouchStart:Ea(_,p)}]:[!1,m,{}]}function Ea(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function YE({page:a,...e}){let{router:t}=UE(),n=ue.useMemo(()=>F5(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?ue.createElement(QE,{page:a,matches:n,...e}):null}function XE(a){let{manifest:e,routeModules:t}=Y5(),[n,o]=ue.useState([]);return ue.useEffect(()=>{let l=!1;return qE(a,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[a,e,t]),n}function QE({page:a,matches:e,...t}){let n=zi(),{manifest:o,routeModules:l}=Y5(),{loaderData:u,matches:f}=GE(),d=ue.useMemo(()=>cy(a,e,f,o,n,"data"),[a,e,f,o,n]),y=ue.useMemo(()=>cy(a,e,f,o,n,"assets"),[a,e,f,o,n]),w=ue.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let p=new Set,g=!1;if(e.forEach(C=>{var k;let S=o.routes[C.route.id];!S||!S.hasLoader||(!d.some(M=>M.route.id===C.route.id)&&C.route.id in u&&((k=l[C.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?g=!0:p.add(C.route.id))}),p.size===0)return[];let h=WE(a);return g&&p.size>0&&h.searchParams.set("_routes",e.filter(C=>p.has(C.route.id)).map(C=>C.route.id).join(",")),[h.pathname+h.search]},[u,n,o,d,e,a,l]),_=ue.useMemo(()=>zE(y,o),[y,o]),m=XE(y);return ue.createElement(ue.Fragment,null,w.map(p=>ue.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),_.map(p=>ue.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),m.map(({key:p,link:g})=>ue.createElement("link",{key:p,...g})))}function KE(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var X5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X5&&(window.__reactRouterVersion="7.1.1")}catch{}function ZE({basename:a,children:e,window:t}){let n=ue.useRef();n.current==null&&(n.current=qT({window:t,v5Compat:!0}));let o=n.current,[l,u]=ue.useState({action:o.action,location:o.location}),f=ue.useCallback(d=>{ue.startTransition(()=>u(d))},[u]);return ue.useLayoutEffect(()=>o.listen(f),[o,f]),ue.createElement(EE,{basename:a,children:e,location:l.location,navigationType:l.action,navigator:o})}var Q5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K5=ue.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:o,reloadDocument:l,replace:u,state:f,target:d,to:y,preventScrollReset:w,viewTransition:_,...m},p){let{basename:g}=ue.useContext(dr),h=typeof y=="string"&&Q5.test(y),C,S=!1;if(typeof y=="string"&&h&&(C=y,X5))try{let F=new URL(window.location.href),q=y.startsWith("//")?new URL(F.protocol+y):new URL(y),B=ci(q.pathname,g);q.origin===F.origin&&B!=null?y=B+q.search+q.hash:S=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=hE(y,{relative:o}),[M,I,N]=$E(n,m),z=nM(y,{replace:u,state:f,target:d,preventScrollReset:w,relative:o,viewTransition:_});function j(F){e&&e(F),F.defaultPrevented||z(F)}let T=ue.createElement("a",{...m,...N,href:C||k,onClick:S||l?e:j,ref:KE(p,I),target:d,"data-discover":!h&&t==="render"?"true":void 0});return M&&!h?ue.createElement(ue.Fragment,null,T,ue.createElement(YE,{page:k})):T});K5.displayName="Link";var JE=ue.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:o=!1,style:l,to:u,viewTransition:f,children:d,...y},w){let _=no(u,{relative:y.relative}),m=zi(),p=ue.useContext(wc),{navigator:g,basename:h}=ue.useContext(dr),C=p!=null&&oM(_)&&f===!0,S=g.encodeLocation?g.encodeLocation(_).pathname:_.pathname,k=m.pathname,M=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(k=k.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&h&&(M=ci(M,h)||M);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let N=k===S||!o&&k.startsWith(S)&&k.charAt(I)==="/",z=M!=null&&(M===S||!o&&M.startsWith(S)&&M.charAt(S.length)==="/"),j={isActive:N,isPending:z,isTransitioning:C},T=N?e:void 0,F;typeof n=="function"?F=n(j):F=[n,N?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(j):l;return ue.createElement(K5,{...y,"aria-current":T,className:F,ref:w,style:q,to:u,viewTransition:f},typeof d=="function"?d(j):d)});JE.displayName="NavLink";var eM=ue.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:o,state:l,method:u=M0,action:f,onSubmit:d,relative:y,preventScrollReset:w,viewTransition:_,...m},p)=>{let g=sM(),h=aM(f,{relative:y}),C=u.toLowerCase()==="get"?"get":"post",S=typeof f=="string"&&Q5.test(f),k=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let I=M.nativeEvent.submitter,N=(I==null?void 0:I.getAttribute("formmethod"))||u;g(I||M.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:_})};return ue.createElement("form",{ref:p,method:C,action:h,onSubmit:n?d:k,...m,"data-discover":!S&&a==="render"?"true":void 0})});eM.displayName="Form";function tM(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z5(a){let e=ue.useContext(js);return wt(e,tM(a)),e}function nM(a,{target:e,replace:t,state:n,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=fE(),d=zi(),y=no(a,{relative:l});return ue.useCallback(w=>{if(IE(w,e)){w.preventDefault();let _=t!==void 0?t:qa(d)===qa(y);f(a,{replace:_,state:n,preventScrollReset:o,relative:l,viewTransition:u})}},[d,f,y,t,n,e,a,o,l,u])}var rM=0,iM=()=>`__${String(++rM)}__`;function sM(){let{router:a}=Z5("useSubmit"),{basename:e}=ue.useContext(dr),t=xE();return ue.useCallback(async(n,o={})=>{let{action:l,method:u,encType:f,formData:d,body:y}=LE(n,e);if(o.navigate===!1){let w=o.fetcherKey||iM();await a.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:y,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await a.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:y,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,t])}function aM(a,{relative:e}={}){let{basename:t}=ue.useContext(dr),n=ue.useContext(Nr);wt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...no(a||".",{relative:e})},u=zi();if(a==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(w=>w==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let w=f.toString();l.search=w?`?${w}`:""}}return(!a||a===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:kr([t,l.pathname])),qa(l)}function oM(a,e={}){let t=ue.useContext(H5);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Z5("useViewTransitionState"),o=no(a,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ci(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=ci(t.nextLocation.pathname,n)||t.nextLocation.pathname;return G0(o.pathname,u)!=null||G0(o.pathname,l)!=null}new TextEncoder;function cM(){return Te.jsx(ZE,{children:Te.jsxs(ME,{children:[Te.jsx(Aa,{path:"/home",element:Te.jsx(pu,{children:Te.jsx(aw,{})})}),Te.jsx(Aa,{path:"/score",element:Te.jsx(pu,{children:Te.jsx(LT,{})})}),Te.jsx(Aa,{path:"/scale",element:Te.jsx(pu,{children:Te.jsx(DT,{})})}),Te.jsx(Aa,{path:"*",element:Te.jsx(FT,{})})]})})}e_.createRoot(document.getElementById("root")).render(Te.jsx(ue.StrictMode,{children:Te.jsx(cM,{})}));
