var wx=Object.defineProperty;var _x=(t,e,n)=>e in t?wx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zo=(t,e,n)=>_x(t,typeof e!="symbol"?e+"":e,n);function xx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ch={exports:{}},$o={},kh={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function Sx(){if(L3)return Xe;L3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function g(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,h={};function x(N,H,X){this.props=N,this.context=H,this.refs=h,this.updater=X||p}x.prototype.isReactComponent={},x.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},x.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function S(){}S.prototype=x.prototype;function C(N,H,X){this.props=N,this.context=H,this.refs=h,this.updater=X||p}var T=C.prototype=new S;T.constructor=C,y(T,x.prototype),T.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,B={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function E(N,H,X){var Z,K={},ae=null,he=null;if(H!=null)for(Z in H.ref!==void 0&&(he=H.ref),H.key!==void 0&&(ae=""+H.key),H)A.call(H,Z)&&!F.hasOwnProperty(Z)&&(K[Z]=H[Z]);var ee=arguments.length-2;if(ee===1)K.children=X;else if(1<ee){for(var ge=Array(ee),Se=0;Se<ee;Se++)ge[Se]=arguments[Se+2];K.children=ge}if(N&&N.defaultProps)for(Z in ee=N.defaultProps,ee)K[Z]===void 0&&(K[Z]=ee[Z]);return{$$typeof:t,type:N,key:ae,ref:he,props:K,_owner:B.current}}function $(N,H){return{$$typeof:t,type:N.type,key:H,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function z(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return H[X]})}var j=/\/+/g;function V(N,H){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):H.toString(36)}function L(N,H,X,Z,K){var ae=typeof N;(ae==="undefined"||ae==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(ae){case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case t:case e:he=!0}}if(he)return he=N,K=K(he),N=Z===""?"."+V(he,0):Z,M(K)?(X="",N!=null&&(X=N.replace(j,"$&/")+"/"),L(K,H,X,"",function(Se){return Se})):K!=null&&(P(K)&&(K=$(K,X+(!K.key||he&&he.key===K.key?"":(""+K.key).replace(j,"$&/")+"/")+N)),H.push(K)),1;if(he=0,Z=Z===""?".":Z+":",M(N))for(var ee=0;ee<N.length;ee++){ae=N[ee];var ge=Z+V(ae,ee);he+=L(ae,H,X,ge,K)}else if(ge=g(N),typeof ge=="function")for(N=ge.call(N),ee=0;!(ae=N.next()).done;)ae=ae.value,ge=Z+V(ae,ee++),he+=L(ae,H,X,ge,K);else if(ae==="object")throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return he}function D(N,H,X){if(N==null)return N;var Z=[],K=0;return L(N,Z,"","",function(ae){return H.call(X,ae,K++)}),Z}function W(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var G={current:null},U={transition:null},R={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:U,ReactCurrentOwner:B};function I(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:D,forEach:function(N,H,X){D(N,function(){H.apply(this,arguments)},X)},count:function(N){var H=0;return D(N,function(){H++}),H},toArray:function(N){return D(N,function(H){return H})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Xe.Component=x,Xe.Fragment=n,Xe.Profiler=a,Xe.PureComponent=C,Xe.StrictMode=r,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,Xe.act=I,Xe.cloneElement=function(N,H,X){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Z=y({},N.props),K=N.key,ae=N.ref,he=N._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,he=B.current),H.key!==void 0&&(K=""+H.key),N.type&&N.type.defaultProps)var ee=N.type.defaultProps;for(ge in H)A.call(H,ge)&&!F.hasOwnProperty(ge)&&(Z[ge]=H[ge]===void 0&&ee!==void 0?ee[ge]:H[ge])}var ge=arguments.length-2;if(ge===1)Z.children=X;else if(1<ge){ee=Array(ge);for(var Se=0;Se<ge;Se++)ee[Se]=arguments[Se+2];Z.children=ee}return{$$typeof:t,type:N.type,key:K,ref:ae,props:Z,_owner:he}},Xe.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:o,_context:N},N.Consumer=N},Xe.createElement=E,Xe.createFactory=function(N){var H=E.bind(null,N);return H.type=N,H},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(N){return{$$typeof:f,render:N}},Xe.isValidElement=P,Xe.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:W}},Xe.memo=function(N,H){return{$$typeof:m,type:N,compare:H===void 0?null:H}},Xe.startTransition=function(N){var H=U.transition;U.transition={};try{N()}finally{U.transition=H}},Xe.unstable_act=I,Xe.useCallback=function(N,H){return G.current.useCallback(N,H)},Xe.useContext=function(N){return G.current.useContext(N)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(N){return G.current.useDeferredValue(N)},Xe.useEffect=function(N,H){return G.current.useEffect(N,H)},Xe.useId=function(){return G.current.useId()},Xe.useImperativeHandle=function(N,H,X){return G.current.useImperativeHandle(N,H,X)},Xe.useInsertionEffect=function(N,H){return G.current.useInsertionEffect(N,H)},Xe.useLayoutEffect=function(N,H){return G.current.useLayoutEffect(N,H)},Xe.useMemo=function(N,H){return G.current.useMemo(N,H)},Xe.useReducer=function(N,H,X){return G.current.useReducer(N,H,X)},Xe.useRef=function(N){return G.current.useRef(N)},Xe.useState=function(N){return G.current.useState(N)},Xe.useSyncExternalStore=function(N,H,X){return G.current.useSyncExternalStore(N,H,X)},Xe.useTransition=function(){return G.current.useTransition()},Xe.version="18.3.1",Xe}var B3;function Sm(){return B3||(B3=1,kh.exports=Sx()),kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3;function Cx(){if(F3)return $o;F3=1;var t=Sm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(f,d,m){var w,b={},g=null,p=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(p=d.ref);for(w in d)r.call(d,w)&&!o.hasOwnProperty(w)&&(b[w]=d[w]);if(f&&f.defaultProps)for(w in d=f.defaultProps,d)b[w]===void 0&&(b[w]=d[w]);return{$$typeof:e,type:f,key:g,ref:p,props:b,_owner:a.current}}return $o.Fragment=n,$o.jsx=l,$o.jsxs=l,$o}var z3;function kx(){return z3||(z3=1,Ch.exports=Cx()),Ch.exports}var oe=kx(),Q=Sm();const wn=xm(Q),O1=xx({__proto__:null,default:wn},[Q]);var Ul={},Th={exports:{}},Ln={},Eh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function Tx(){return $3||($3=1,function(t){function e(U,R){var I=U.length;U.push(R);e:for(;0<I;){var N=I-1>>>1,H=U[N];if(0<a(H,R))U[N]=R,U[I]=H,I=N;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var R=U[0],I=U.pop();if(I!==R){U[0]=I;e:for(var N=0,H=U.length,X=H>>>1;N<X;){var Z=2*(N+1)-1,K=U[Z],ae=Z+1,he=U[ae];if(0>a(K,I))ae<H&&0>a(he,K)?(U[N]=he,U[ae]=I,N=ae):(U[N]=K,U[Z]=I,N=Z);else if(ae<H&&0>a(he,I))U[N]=he,U[ae]=I,N=ae;else break e}}return R}function a(U,R){var I=U.sortIndex-R.sortIndex;return I!==0?I:U.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var d=[],m=[],w=1,b=null,g=3,p=!1,y=!1,h=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var R=n(m);R!==null;){if(R.callback===null)r(m);else if(R.startTime<=U)r(m),R.sortIndex=R.expirationTime,e(d,R);else break;R=n(m)}}function M(U){if(h=!1,T(U),!y)if(n(d)!==null)y=!0,W(A);else{var R=n(m);R!==null&&G(M,R.startTime-U)}}function A(U,R){y=!1,h&&(h=!1,S(E),E=-1),p=!0;var I=g;try{for(T(R),b=n(d);b!==null&&(!(b.expirationTime>R)||U&&!z());){var N=b.callback;if(typeof N=="function"){b.callback=null,g=b.priorityLevel;var H=N(b.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?b.callback=H:b===n(d)&&r(d),T(R)}else r(d);b=n(d)}if(b!==null)var X=!0;else{var Z=n(m);Z!==null&&G(M,Z.startTime-R),X=!1}return X}finally{b=null,g=I,p=!1}}var B=!1,F=null,E=-1,$=5,P=-1;function z(){return!(t.unstable_now()-P<$)}function j(){if(F!==null){var U=t.unstable_now();P=U;var R=!0;try{R=F(!0,U)}finally{R?V():(B=!1,F=null)}}else B=!1}var V;if(typeof C=="function")V=function(){C(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=j,V=function(){D.postMessage(null)}}else V=function(){x(j,0)};function W(U){F=U,B||(B=!0,V())}function G(U,R){E=x(function(){U(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,W(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var I=g;g=R;try{return U()}finally{g=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,R){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=g;g=U;try{return R()}finally{g=I}},t.unstable_scheduleCallback=function(U,R,I){var N=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?N+I:N):I=N,U){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=I+H,U={id:w++,callback:R,priorityLevel:U,startTime:I,expirationTime:H,sortIndex:-1},I>N?(U.sortIndex=I,e(m,U),n(d)===null&&U===n(m)&&(h?(S(E),E=-1):h=!0,G(M,I-N))):(U.sortIndex=H,e(d,U),y||p||(y=!0,W(A))),U},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(U){var R=g;return function(){var I=g;g=R;try{return U.apply(this,arguments)}finally{g=I}}}}(Ah)),Ah}var q3;function Ex(){return q3||(q3=1,Eh.exports=Tx()),Eh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function Ax(){if(j3)return Ln;j3=1;var t=Sm(),e=Ex();function n(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)u+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(c,u){l(c,u),l(c+"Capture",u)}function l(c,u){for(a[c]=u,c=0;c<u.length;c++)r.add(u[c])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function g(c){return d.call(b,c)?!0:d.call(w,c)?!1:m.test(c)?b[c]=!0:(w[c]=!0,!1)}function p(c,u,_,k){if(_!==null&&_.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return k?!1:_!==null?!_.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,u,_,k){if(u===null||typeof u>"u"||p(c,u,_,k))return!0;if(k)return!1;if(_!==null)switch(_.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function h(c,u,_,k,O,q,Y){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=k,this.attributeNamespace=O,this.mustUseProperty=_,this.propertyName=c,this.type=u,this.sanitizeURL=q,this.removeEmptyString=Y}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new h(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];x[u]=new h(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new h(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new h(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new h(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new h(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new h(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new h(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new h(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(S,C);x[u]=new h(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(S,C);x[u]=new h(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(S,C);x[u]=new h(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new h(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new h(c,1,!1,c.toLowerCase(),null,!0,!0)});function T(c,u,_,k){var O=x.hasOwnProperty(u)?x[u]:null;(O!==null?O.type!==0:k||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(y(u,_,O,k)&&(_=null),k||O===null?g(u)&&(_===null?c.removeAttribute(u):c.setAttribute(u,""+_)):O.mustUseProperty?c[O.propertyName]=_===null?O.type===3?!1:"":_:(u=O.attributeName,k=O.attributeNamespace,_===null?c.removeAttribute(u):(O=O.type,_=O===3||O===4&&_===!0?"":""+_,k?c.setAttributeNS(k,u,_):c.setAttribute(u,_))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),U=Symbol.iterator;function R(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}var I=Object.assign,N;function H(c){if(N===void 0)try{throw Error()}catch(_){var u=_.stack.trim().match(/\n( *(at )?)/);N=u&&u[1]||""}return`
`+N+c}var X=!1;function Z(c,u){if(!c||X)return"";X=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var k=fe}Reflect.construct(c,[],u)}else{try{u.call()}catch(fe){k=fe}c.call(u.prototype)}else{try{throw Error()}catch(fe){k=fe}c()}}catch(fe){if(fe&&k&&typeof fe.stack=="string"){for(var O=fe.stack.split(`
`),q=k.stack.split(`
`),Y=O.length-1,J=q.length-1;1<=Y&&0<=J&&O[Y]!==q[J];)J--;for(;1<=Y&&0<=J;Y--,J--)if(O[Y]!==q[J]){if(Y!==1||J!==1)do if(Y--,J--,0>J||O[Y]!==q[J]){var te=`
`+O[Y].replace(" at new "," at ");return c.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",c.displayName)),te}while(1<=Y&&0<=J);break}}}finally{X=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?H(c):""}function K(c){switch(c.tag){case 5:return H(c.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return c=Z(c.type,!1),c;case 11:return c=Z(c.type.render,!1),c;case 1:return c=Z(c.type,!0),c;default:return""}}function ae(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case B:return"Portal";case $:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case L:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case z:return(c.displayName||"Context")+".Consumer";case P:return(c._context.displayName||"Context")+".Provider";case j:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return u=c.displayName||null,u!==null?u:ae(c.type)||"Memo";case W:u=c._payload,c=c._init;try{return ae(c(u))}catch{}}return null}function he(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(u);case 8:return u===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ee(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ge(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Se(c){var u=ge(c)?"checked":"value",_=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),k=""+c[u];if(!c.hasOwnProperty(u)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var O=_.get,q=_.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return O.call(this)},set:function(Y){k=""+Y,q.call(this,Y)}}),Object.defineProperty(c,u,{enumerable:_.enumerable}),{getValue:function(){return k},setValue:function(Y){k=""+Y},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function de(c){c._valueTracker||(c._valueTracker=Se(c))}function ke(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var _=u.getValue(),k="";return c&&(k=ge(c)?c.checked?"true":"false":c.value),c=k,c!==_?(u.setValue(c),!0):!1}function Te(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function me(c,u){var _=u.checked;return I({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??c._wrapperState.initialChecked})}function ve(c,u){var _=u.defaultValue==null?"":u.defaultValue,k=u.checked!=null?u.checked:u.defaultChecked;_=ee(u.value!=null?u.value:_),c._wrapperState={initialChecked:k,initialValue:_,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function _e(c,u){u=u.checked,u!=null&&T(c,"checked",u,!1)}function Ae(c,u){_e(c,u);var _=ee(u.value),k=u.type;if(_!=null)k==="number"?(_===0&&c.value===""||c.value!=_)&&(c.value=""+_):c.value!==""+_&&(c.value=""+_);else if(k==="submit"||k==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Re(c,u.type,_):u.hasOwnProperty("defaultValue")&&Re(c,u.type,ee(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function Pe(c,u,_){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var k=u.type;if(!(k!=="submit"&&k!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,_||u===c.value||(c.value=u),c.defaultValue=u}_=c.name,_!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,_!==""&&(c.name=_)}function Re(c,u,_){(u!=="number"||Te(c.ownerDocument)!==c)&&(_==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+_&&(c.defaultValue=""+_))}var ze=Array.isArray;function re(c,u,_,k){if(c=c.options,u){u={};for(var O=0;O<_.length;O++)u["$"+_[O]]=!0;for(_=0;_<c.length;_++)O=u.hasOwnProperty("$"+c[_].value),c[_].selected!==O&&(c[_].selected=O),O&&k&&(c[_].defaultSelected=!0)}else{for(_=""+ee(_),u=null,O=0;O<c.length;O++){if(c[O].value===_){c[O].selected=!0,k&&(c[O].defaultSelected=!0);return}u!==null||c[O].disabled||(u=c[O])}u!==null&&(u.selected=!0)}}function ie(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function ce(c,u){var _=u.value;if(_==null){if(_=u.children,u=u.defaultValue,_!=null){if(u!=null)throw Error(n(92));if(ze(_)){if(1<_.length)throw Error(n(93));_=_[0]}u=_}u==null&&(u=""),_=u}c._wrapperState={initialValue:ee(_)}}function se(c,u){var _=ee(u.value),k=ee(u.defaultValue);_!=null&&(_=""+_,_!==c.value&&(c.value=_),u.defaultValue==null&&c.defaultValue!==_&&(c.defaultValue=_)),k!=null&&(c.defaultValue=""+k)}function ye(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Me(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Me(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var $e,Ee=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,_,k,O){MSApp.execUnsafeLocalFunction(function(){return c(u,_,k,O)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for($e=$e||document.createElement("div"),$e.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=$e.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Be(c,u){if(u){var _=c.firstChild;if(_&&_===c.lastChild&&_.nodeType===3){_.nodeValue=u;return}}c.textContent=u}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(c){Ze.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Ye[u]=Ye[c]})});function Ve(c,u,_){return u==null||typeof u=="boolean"||u===""?"":_||typeof u!="number"||u===0||Ye.hasOwnProperty(c)&&Ye[c]?(""+u).trim():u+"px"}function mt(c,u){c=c.style;for(var _ in u)if(u.hasOwnProperty(_)){var k=_.indexOf("--")===0,O=Ve(_,u[_],k);_==="float"&&(_="cssFloat"),k?c.setProperty(_,O):c[_]=O}}var Cn=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Je(c,u){if(u){if(Cn[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function ut(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=null;function er(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var wt=null,ln=null,_t=null;function _i(c){if(c=Co(c)){if(typeof wt!="function")throw Error(n(280));var u=c.stateNode;u&&(u=ol(u),wt(c.stateNode,c.type,u))}}function xi(c){ln?_t?_t.push(c):_t=[c]:ln=c}function Si(){if(ln){var c=ln,u=_t;if(_t=ln=null,_i(c),u)for(c=0;c<u.length;c++)_i(u[c])}}function Ci(c,u){return c(u)}function Pn(){}var $s=!1;function iv(c,u,_){if($s)return c(u,_);$s=!0;try{return Ci(c,u,_)}finally{$s=!1,(ln!==null||_t!==null)&&(Pn(),Si())}}function no(c,u){var _=c.stateNode;if(_===null)return null;var k=ol(_);if(k===null)return null;_=k[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(c=c.type,k=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!k;break e;default:c=!1}if(c)return null;if(_&&typeof _!="function")throw Error(n(231,u,typeof _));return _}var qu=!1;if(f)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){qu=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{qu=!1}function E8(c,u,_,k,O,q,Y,J,te){var fe=Array.prototype.slice.call(arguments,3);try{u.apply(_,fe)}catch(we){this.onError(we)}}var io=!1,zc=null,$c=!1,ju=null,A8={onError:function(c){io=!0,zc=c}};function M8(c,u,_,k,O,q,Y,J,te){io=!1,zc=null,E8.apply(A8,arguments)}function P8(c,u,_,k,O,q,Y,J,te){if(M8.apply(this,arguments),io){if(io){var fe=zc;io=!1,zc=null}else throw Error(n(198));$c||($c=!0,ju=fe)}}function as(c){var u=c,_=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,u.flags&4098&&(_=u.return),c=u.return;while(c)}return u.tag===3?_:null}function sv(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function av(c){if(as(c)!==c)throw Error(n(188))}function N8(c){var u=c.alternate;if(!u){if(u=as(c),u===null)throw Error(n(188));return u!==c?null:c}for(var _=c,k=u;;){var O=_.return;if(O===null)break;var q=O.alternate;if(q===null){if(k=O.return,k!==null){_=k;continue}break}if(O.child===q.child){for(q=O.child;q;){if(q===_)return av(O),c;if(q===k)return av(O),u;q=q.sibling}throw Error(n(188))}if(_.return!==k.return)_=O,k=q;else{for(var Y=!1,J=O.child;J;){if(J===_){Y=!0,_=O,k=q;break}if(J===k){Y=!0,k=O,_=q;break}J=J.sibling}if(!Y){for(J=q.child;J;){if(J===_){Y=!0,_=q,k=O;break}if(J===k){Y=!0,k=q,_=O;break}J=J.sibling}if(!Y)throw Error(n(189))}}if(_.alternate!==k)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?c:u}function ov(c){return c=N8(c),c!==null?cv(c):null}function cv(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=cv(c);if(u!==null)return u;c=c.sibling}return null}var lv=e.unstable_scheduleCallback,uv=e.unstable_cancelCallback,R8=e.unstable_shouldYield,I8=e.unstable_requestPaint,zt=e.unstable_now,O8=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,fv=e.unstable_UserBlockingPriority,qc=e.unstable_NormalPriority,D8=e.unstable_LowPriority,hv=e.unstable_IdlePriority,jc=null,Rr=null;function L8(c){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(jc,c,void 0,(c.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:z8,B8=Math.log,F8=Math.LN2;function z8(c){return c>>>=0,c===0?32:31-(B8(c)/F8|0)|0}var Vc=64,Wc=4194304;function so(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Hc(c,u){var _=c.pendingLanes;if(_===0)return 0;var k=0,O=c.suspendedLanes,q=c.pingedLanes,Y=_&268435455;if(Y!==0){var J=Y&~O;J!==0?k=so(J):(q&=Y,q!==0&&(k=so(q)))}else Y=_&~O,Y!==0?k=so(Y):q!==0&&(k=so(q));if(k===0)return 0;if(u!==0&&u!==k&&!(u&O)&&(O=k&-k,q=u&-u,O>=q||O===16&&(q&4194240)!==0))return u;if(k&4&&(k|=_&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=k;0<u;)_=31-mr(u),O=1<<_,k|=c[_],u&=~O;return k}function $8(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q8(c,u){for(var _=c.suspendedLanes,k=c.pingedLanes,O=c.expirationTimes,q=c.pendingLanes;0<q;){var Y=31-mr(q),J=1<<Y,te=O[Y];te===-1?(!(J&_)||J&k)&&(O[Y]=$8(J,u)):te<=u&&(c.expiredLanes|=J),q&=~J}}function Wu(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function dv(){var c=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),c}function Hu(c){for(var u=[],_=0;31>_;_++)u.push(c);return u}function ao(c,u,_){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-mr(u),c[u]=_}function j8(c,u){var _=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var k=c.eventTimes;for(c=c.expirationTimes;0<_;){var O=31-mr(_),q=1<<O;u[O]=0,k[O]=-1,c[O]=-1,_&=~q}}function Uu(c,u){var _=c.entangledLanes|=u;for(c=c.entanglements;_;){var k=31-mr(_),O=1<<k;O&u|c[k]&u&&(c[k]|=u),_&=~O}}var ct=0;function pv(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var mv,Gu,gv,vv,yv,Yu=!1,Uc=[],ki=null,Ti=null,Ei=null,oo=new Map,co=new Map,Ai=[],V8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(c,u){switch(c){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":oo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(u.pointerId)}}function lo(c,u,_,k,O,q){return c===null||c.nativeEvent!==q?(c={blockedOn:u,domEventName:_,eventSystemFlags:k,nativeEvent:q,targetContainers:[O]},u!==null&&(u=Co(u),u!==null&&Gu(u)),c):(c.eventSystemFlags|=k,u=c.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),c)}function W8(c,u,_,k,O){switch(u){case"focusin":return ki=lo(ki,c,u,_,k,O),!0;case"dragenter":return Ti=lo(Ti,c,u,_,k,O),!0;case"mouseover":return Ei=lo(Ei,c,u,_,k,O),!0;case"pointerover":var q=O.pointerId;return oo.set(q,lo(oo.get(q)||null,c,u,_,k,O)),!0;case"gotpointercapture":return q=O.pointerId,co.set(q,lo(co.get(q)||null,c,u,_,k,O)),!0}return!1}function wv(c){var u=os(c.target);if(u!==null){var _=as(u);if(_!==null){if(u=_.tag,u===13){if(u=sv(_),u!==null){c.blockedOn=u,yv(c.priority,function(){gv(_)});return}}else if(u===3&&_.stateNode.current.memoizedState.isDehydrated){c.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Gc(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var _=Ku(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(_===null){_=c.nativeEvent;var k=new _.constructor(_.type,_);cn=k,_.target.dispatchEvent(k),cn=null}else return u=Co(_),u!==null&&Gu(u),c.blockedOn=_,!1;u.shift()}return!0}function _v(c,u,_){Gc(c)&&_.delete(u)}function H8(){Yu=!1,ki!==null&&Gc(ki)&&(ki=null),Ti!==null&&Gc(Ti)&&(Ti=null),Ei!==null&&Gc(Ei)&&(Ei=null),oo.forEach(_v),co.forEach(_v)}function uo(c,u){c.blockedOn===u&&(c.blockedOn=null,Yu||(Yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,H8)))}function fo(c){function u(O){return uo(O,c)}if(0<Uc.length){uo(Uc[0],c);for(var _=1;_<Uc.length;_++){var k=Uc[_];k.blockedOn===c&&(k.blockedOn=null)}}for(ki!==null&&uo(ki,c),Ti!==null&&uo(Ti,c),Ei!==null&&uo(Ei,c),oo.forEach(u),co.forEach(u),_=0;_<Ai.length;_++)k=Ai[_],k.blockedOn===c&&(k.blockedOn=null);for(;0<Ai.length&&(_=Ai[0],_.blockedOn===null);)wv(_),_.blockedOn===null&&Ai.shift()}var qs=M.ReactCurrentBatchConfig,Yc=!0;function U8(c,u,_,k){var O=ct,q=qs.transition;qs.transition=null;try{ct=1,Xu(c,u,_,k)}finally{ct=O,qs.transition=q}}function G8(c,u,_,k){var O=ct,q=qs.transition;qs.transition=null;try{ct=4,Xu(c,u,_,k)}finally{ct=O,qs.transition=q}}function Xu(c,u,_,k){if(Yc){var O=Ku(c,u,_,k);if(O===null)pf(c,u,k,Xc,_),bv(c,k);else if(W8(O,c,u,_,k))k.stopPropagation();else if(bv(c,k),u&4&&-1<V8.indexOf(c)){for(;O!==null;){var q=Co(O);if(q!==null&&mv(q),q=Ku(c,u,_,k),q===null&&pf(c,u,k,Xc,_),q===O)break;O=q}O!==null&&k.stopPropagation()}else pf(c,u,k,null,_)}}var Xc=null;function Ku(c,u,_,k){if(Xc=null,c=er(k),c=os(c),c!==null)if(u=as(c),u===null)c=null;else if(_=u.tag,_===13){if(c=sv(u),c!==null)return c;c=null}else if(_===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return Xc=c,null}function xv(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O8()){case Vu:return 1;case fv:return 4;case qc:case D8:return 16;case hv:return 536870912;default:return 16}default:return 16}}var Mi=null,Qu=null,Kc=null;function Sv(){if(Kc)return Kc;var c,u=Qu,_=u.length,k,O="value"in Mi?Mi.value:Mi.textContent,q=O.length;for(c=0;c<_&&u[c]===O[c];c++);var Y=_-c;for(k=1;k<=Y&&u[_-k]===O[q-k];k++);return Kc=O.slice(c,1<k?1-k:void 0)}function Qc(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Zc(){return!0}function Cv(){return!1}function jn(c){function u(_,k,O,q,Y){this._reactName=_,this._targetInst=O,this.type=k,this.nativeEvent=q,this.target=Y,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(_=c[J],this[J]=_?_(q):q[J]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Zc:Cv,this.isPropagationStopped=Cv,this}return I(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),u}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=jn(js),ho=I({},js,{view:0,detail:0}),Y8=jn(ho),Ju,ef,po,Jc=I({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==po&&(po&&c.type==="mousemove"?(Ju=c.screenX-po.screenX,ef=c.screenY-po.screenY):ef=Ju=0,po=c),Ju)},movementY:function(c){return"movementY"in c?c.movementY:ef}}),kv=jn(Jc),X8=I({},Jc,{dataTransfer:0}),K8=jn(X8),Q8=I({},ho,{relatedTarget:0}),tf=jn(Q8),Z8=I({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),J8=jn(Z8),e7=I({},js,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),t7=jn(e7),n7=I({},js,{data:0}),Tv=jn(n7),r7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a7(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=s7[c])?!!u[c]:!1}function nf(){return a7}var o7=I({},ho,{key:function(c){if(c.key){var u=r7[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Qc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?i7[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(c){return c.type==="keypress"?Qc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Qc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),c7=jn(o7),l7=I({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=jn(l7),u7=I({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),f7=jn(u7),h7=I({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),d7=jn(h7),p7=I({},Jc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),m7=jn(p7),g7=[9,13,27,32],rf=f&&"CompositionEvent"in window,mo=null;f&&"documentMode"in document&&(mo=document.documentMode);var v7=f&&"TextEvent"in window&&!mo,Av=f&&(!rf||mo&&8<mo&&11>=mo),Mv=" ",Pv=!1;function Nv(c,u){switch(c){case"keyup":return g7.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Vs=!1;function y7(c,u){switch(c){case"compositionend":return Rv(u);case"keypress":return u.which!==32?null:(Pv=!0,Mv);case"textInput":return c=u.data,c===Mv&&Pv?null:c;default:return null}}function b7(c,u){if(Vs)return c==="compositionend"||!rf&&Nv(c,u)?(c=Sv(),Kc=Qu=Mi=null,Vs=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Av&&u.locale!=="ko"?null:u.data;default:return null}}var w7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!w7[c.type]:u==="textarea"}function Ov(c,u,_,k){xi(k),u=il(u,"onChange"),0<u.length&&(_=new Zu("onChange","change",null,_,k),c.push({event:_,listeners:u}))}var go=null,vo=null;function _7(c){Zv(c,0)}function el(c){var u=Ys(c);if(ke(u))return c}function x7(c,u){if(c==="change")return u}var Dv=!1;if(f){var sf;if(f){var af="oninput"in document;if(!af){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),af=typeof Lv.oninput=="function"}sf=af}else sf=!1;Dv=sf&&(!document.documentMode||9<document.documentMode)}function Bv(){go&&(go.detachEvent("onpropertychange",Fv),vo=go=null)}function Fv(c){if(c.propertyName==="value"&&el(vo)){var u=[];Ov(u,vo,c,er(c)),iv(_7,u)}}function S7(c,u,_){c==="focusin"?(Bv(),go=u,vo=_,go.attachEvent("onpropertychange",Fv)):c==="focusout"&&Bv()}function C7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return el(vo)}function k7(c,u){if(c==="click")return el(u)}function T7(c,u){if(c==="input"||c==="change")return el(u)}function E7(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var gr=typeof Object.is=="function"?Object.is:E7;function yo(c,u){if(gr(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var _=Object.keys(c),k=Object.keys(u);if(_.length!==k.length)return!1;for(k=0;k<_.length;k++){var O=_[k];if(!d.call(u,O)||!gr(c[O],u[O]))return!1}return!0}function zv(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function $v(c,u){var _=zv(c);c=0;for(var k;_;){if(_.nodeType===3){if(k=c+_.textContent.length,c<=u&&k>=u)return{node:_,offset:u-c};c=k}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=zv(_)}}function qv(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?qv(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function jv(){for(var c=window,u=Te();u instanceof c.HTMLIFrameElement;){try{var _=typeof u.contentWindow.location.href=="string"}catch{_=!1}if(_)c=u.contentWindow;else break;u=Te(c.document)}return u}function of(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function A7(c){var u=jv(),_=c.focusedElem,k=c.selectionRange;if(u!==_&&_&&_.ownerDocument&&qv(_.ownerDocument.documentElement,_)){if(k!==null&&of(_)){if(u=k.start,c=k.end,c===void 0&&(c=u),"selectionStart"in _)_.selectionStart=u,_.selectionEnd=Math.min(c,_.value.length);else if(c=(u=_.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var O=_.textContent.length,q=Math.min(k.start,O);k=k.end===void 0?q:Math.min(k.end,O),!c.extend&&q>k&&(O=k,k=q,q=O),O=$v(_,q);var Y=$v(_,k);O&&Y&&(c.rangeCount!==1||c.anchorNode!==O.node||c.anchorOffset!==O.offset||c.focusNode!==Y.node||c.focusOffset!==Y.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),c.removeAllRanges(),q>k?(c.addRange(u),c.extend(Y.node,Y.offset)):(u.setEnd(Y.node,Y.offset),c.addRange(u)))}}for(u=[],c=_;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<u.length;_++)c=u[_],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var M7=f&&"documentMode"in document&&11>=document.documentMode,Ws=null,cf=null,bo=null,lf=!1;function Vv(c,u,_){var k=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;lf||Ws==null||Ws!==Te(k)||(k=Ws,"selectionStart"in k&&of(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),bo&&yo(bo,k)||(bo=k,k=il(cf,"onSelect"),0<k.length&&(u=new Zu("onSelect","select",null,u,_),c.push({event:u,listeners:k}),u.target=Ws)))}function tl(c,u){var _={};return _[c.toLowerCase()]=u.toLowerCase(),_["Webkit"+c]="webkit"+u,_["Moz"+c]="moz"+u,_}var Hs={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},uf={},Wv={};f&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function nl(c){if(uf[c])return uf[c];if(!Hs[c])return c;var u=Hs[c],_;for(_ in u)if(u.hasOwnProperty(_)&&_ in Wv)return uf[c]=u[_];return c}var Hv=nl("animationend"),Uv=nl("animationiteration"),Gv=nl("animationstart"),Yv=nl("transitionend"),Xv=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(c,u){Xv.set(c,u),o(u,[c])}for(var ff=0;ff<Kv.length;ff++){var hf=Kv[ff],P7=hf.toLowerCase(),N7=hf[0].toUpperCase()+hf.slice(1);Pi(P7,"on"+N7)}Pi(Hv,"onAnimationEnd"),Pi(Uv,"onAnimationIteration"),Pi(Gv,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Yv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R7=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Qv(c,u,_){var k=c.type||"unknown-event";c.currentTarget=_,P8(k,u,void 0,c),c.currentTarget=null}function Zv(c,u){u=(u&4)!==0;for(var _=0;_<c.length;_++){var k=c[_],O=k.event;k=k.listeners;e:{var q=void 0;if(u)for(var Y=k.length-1;0<=Y;Y--){var J=k[Y],te=J.instance,fe=J.currentTarget;if(J=J.listener,te!==q&&O.isPropagationStopped())break e;Qv(O,J,fe),q=te}else for(Y=0;Y<k.length;Y++){if(J=k[Y],te=J.instance,fe=J.currentTarget,J=J.listener,te!==q&&O.isPropagationStopped())break e;Qv(O,J,fe),q=te}}}if($c)throw c=ju,$c=!1,ju=null,c}function xt(c,u){var _=u[wf];_===void 0&&(_=u[wf]=new Set);var k=c+"__bubble";_.has(k)||(Jv(u,c,2,!1),_.add(k))}function df(c,u,_){var k=0;u&&(k|=4),Jv(_,c,k,u)}var rl="_reactListening"+Math.random().toString(36).slice(2);function _o(c){if(!c[rl]){c[rl]=!0,r.forEach(function(_){_!=="selectionchange"&&(R7.has(_)||df(_,!1,c),df(_,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[rl]||(u[rl]=!0,df("selectionchange",!1,u))}}function Jv(c,u,_,k){switch(xv(u)){case 1:var O=U8;break;case 4:O=G8;break;default:O=Xu}_=O.bind(null,u,_,c),O=void 0,!qu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),k?O!==void 0?c.addEventListener(u,_,{capture:!0,passive:O}):c.addEventListener(u,_,!0):O!==void 0?c.addEventListener(u,_,{passive:O}):c.addEventListener(u,_,!1)}function pf(c,u,_,k,O){var q=k;if(!(u&1)&&!(u&2)&&k!==null)e:for(;;){if(k===null)return;var Y=k.tag;if(Y===3||Y===4){var J=k.stateNode.containerInfo;if(J===O||J.nodeType===8&&J.parentNode===O)break;if(Y===4)for(Y=k.return;Y!==null;){var te=Y.tag;if((te===3||te===4)&&(te=Y.stateNode.containerInfo,te===O||te.nodeType===8&&te.parentNode===O))return;Y=Y.return}for(;J!==null;){if(Y=os(J),Y===null)return;if(te=Y.tag,te===5||te===6){k=q=Y;continue e}J=J.parentNode}}k=k.return}iv(function(){var fe=q,we=er(_),xe=[];e:{var be=Xv.get(c);if(be!==void 0){var Ne=Zu,De=c;switch(c){case"keypress":if(Qc(_)===0)break e;case"keydown":case"keyup":Ne=c7;break;case"focusin":De="focus",Ne=tf;break;case"focusout":De="blur",Ne=tf;break;case"beforeblur":case"afterblur":Ne=tf;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=K8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=f7;break;case Hv:case Uv:case Gv:Ne=J8;break;case Yv:Ne=d7;break;case"scroll":Ne=Y8;break;case"wheel":Ne=m7;break;case"copy":case"cut":case"paste":Ne=t7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Ev}var Le=(u&4)!==0,$t=!Le&&c==="scroll",le=Le?be!==null?be+"Capture":null:be;Le=[];for(var ne=fe,ue;ne!==null;){ue=ne;var Ce=ue.stateNode;if(ue.tag===5&&Ce!==null&&(ue=Ce,le!==null&&(Ce=no(ne,le),Ce!=null&&Le.push(xo(ne,Ce,ue)))),$t)break;ne=ne.return}0<Le.length&&(be=new Ne(be,De,null,_,we),xe.push({event:be,listeners:Le}))}}if(!(u&7)){e:{if(be=c==="mouseover"||c==="pointerover",Ne=c==="mouseout"||c==="pointerout",be&&_!==cn&&(De=_.relatedTarget||_.fromElement)&&(os(De)||De[Jr]))break e;if((Ne||be)&&(be=we.window===we?we:(be=we.ownerDocument)?be.defaultView||be.parentWindow:window,Ne?(De=_.relatedTarget||_.toElement,Ne=fe,De=De?os(De):null,De!==null&&($t=as(De),De!==$t||De.tag!==5&&De.tag!==6)&&(De=null)):(Ne=null,De=fe),Ne!==De)){if(Le=kv,Ce="onMouseLeave",le="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(Le=Ev,Ce="onPointerLeave",le="onPointerEnter",ne="pointer"),$t=Ne==null?be:Ys(Ne),ue=De==null?be:Ys(De),be=new Le(Ce,ne+"leave",Ne,_,we),be.target=$t,be.relatedTarget=ue,Ce=null,os(we)===fe&&(Le=new Le(le,ne+"enter",De,_,we),Le.target=ue,Le.relatedTarget=$t,Ce=Le),$t=Ce,Ne&&De)t:{for(Le=Ne,le=De,ne=0,ue=Le;ue;ue=Us(ue))ne++;for(ue=0,Ce=le;Ce;Ce=Us(Ce))ue++;for(;0<ne-ue;)Le=Us(Le),ne--;for(;0<ue-ne;)le=Us(le),ue--;for(;ne--;){if(Le===le||le!==null&&Le===le.alternate)break t;Le=Us(Le),le=Us(le)}Le=null}else Le=null;Ne!==null&&e2(xe,be,Ne,Le,!1),De!==null&&$t!==null&&e2(xe,$t,De,Le,!0)}}e:{if(be=fe?Ys(fe):window,Ne=be.nodeName&&be.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&be.type==="file")var Fe=x7;else if(Iv(be))if(Dv)Fe=T7;else{Fe=C7;var qe=S7}else(Ne=be.nodeName)&&Ne.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Fe=k7);if(Fe&&(Fe=Fe(c,fe))){Ov(xe,Fe,_,we);break e}qe&&qe(c,be,fe),c==="focusout"&&(qe=be._wrapperState)&&qe.controlled&&be.type==="number"&&Re(be,"number",be.value)}switch(qe=fe?Ys(fe):window,c){case"focusin":(Iv(qe)||qe.contentEditable==="true")&&(Ws=qe,cf=fe,bo=null);break;case"focusout":bo=cf=Ws=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Vv(xe,_,we);break;case"selectionchange":if(M7)break;case"keydown":case"keyup":Vv(xe,_,we)}var je;if(rf)e:{switch(c){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Vs?Nv(c,_)&&(We="onCompositionEnd"):c==="keydown"&&_.keyCode===229&&(We="onCompositionStart");We&&(Av&&_.locale!=="ko"&&(Vs||We!=="onCompositionStart"?We==="onCompositionEnd"&&Vs&&(je=Sv()):(Mi=we,Qu="value"in Mi?Mi.value:Mi.textContent,Vs=!0)),qe=il(fe,We),0<qe.length&&(We=new Tv(We,c,null,_,we),xe.push({event:We,listeners:qe}),je?We.data=je:(je=Rv(_),je!==null&&(We.data=je)))),(je=v7?y7(c,_):b7(c,_))&&(fe=il(fe,"onBeforeInput"),0<fe.length&&(we=new Tv("onBeforeInput","beforeinput",null,_,we),xe.push({event:we,listeners:fe}),we.data=je))}Zv(xe,u)})}function xo(c,u,_){return{instance:c,listener:u,currentTarget:_}}function il(c,u){for(var _=u+"Capture",k=[];c!==null;){var O=c,q=O.stateNode;O.tag===5&&q!==null&&(O=q,q=no(c,_),q!=null&&k.unshift(xo(c,q,O)),q=no(c,u),q!=null&&k.push(xo(c,q,O))),c=c.return}return k}function Us(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function e2(c,u,_,k,O){for(var q=u._reactName,Y=[];_!==null&&_!==k;){var J=_,te=J.alternate,fe=J.stateNode;if(te!==null&&te===k)break;J.tag===5&&fe!==null&&(J=fe,O?(te=no(_,q),te!=null&&Y.unshift(xo(_,te,J))):O||(te=no(_,q),te!=null&&Y.push(xo(_,te,J)))),_=_.return}Y.length!==0&&c.push({event:u,listeners:Y})}var I7=/\r\n?/g,O7=/\u0000|\uFFFD/g;function t2(c){return(typeof c=="string"?c:""+c).replace(I7,`
`).replace(O7,"")}function sl(c,u,_){if(u=t2(u),t2(c)!==u&&_)throw Error(n(425))}function al(){}var mf=null,gf=null;function vf(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var yf=typeof setTimeout=="function"?setTimeout:void 0,D7=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,L7=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(c){return n2.resolve(null).then(c).catch(B7)}:yf;function B7(c){setTimeout(function(){throw c})}function bf(c,u){var _=u,k=0;do{var O=_.nextSibling;if(c.removeChild(_),O&&O.nodeType===8)if(_=O.data,_==="/$"){if(k===0){c.removeChild(O),fo(u);return}k--}else _!=="$"&&_!=="$?"&&_!=="$!"||k++;_=O}while(_);fo(u)}function Ni(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function r2(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var _=c.data;if(_==="$"||_==="$!"||_==="$?"){if(u===0)return c;u--}else _==="/$"&&u++}c=c.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Gs,So="__reactProps$"+Gs,Jr="__reactContainer$"+Gs,wf="__reactEvents$"+Gs,F7="__reactListeners$"+Gs,z7="__reactHandles$"+Gs;function os(c){var u=c[Ir];if(u)return u;for(var _=c.parentNode;_;){if(u=_[Jr]||_[Ir]){if(_=u.alternate,u.child!==null||_!==null&&_.child!==null)for(c=r2(c);c!==null;){if(_=c[Ir])return _;c=r2(c)}return u}c=_,_=c.parentNode}return null}function Co(c){return c=c[Ir]||c[Jr],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ys(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function ol(c){return c[So]||null}var _f=[],Xs=-1;function Ri(c){return{current:c}}function St(c){0>Xs||(c.current=_f[Xs],_f[Xs]=null,Xs--)}function yt(c,u){Xs++,_f[Xs]=c.current,c.current=u}var Ii={},mn=Ri(Ii),Nn=Ri(!1),cs=Ii;function Ks(c,u){var _=c.type.contextTypes;if(!_)return Ii;var k=c.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===u)return k.__reactInternalMemoizedMaskedChildContext;var O={},q;for(q in _)O[q]=u[q];return k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=O),O}function Rn(c){return c=c.childContextTypes,c!=null}function cl(){St(Nn),St(mn)}function i2(c,u,_){if(mn.current!==Ii)throw Error(n(168));yt(mn,u),yt(Nn,_)}function s2(c,u,_){var k=c.stateNode;if(u=u.childContextTypes,typeof k.getChildContext!="function")return _;k=k.getChildContext();for(var O in k)if(!(O in u))throw Error(n(108,he(c)||"Unknown",O));return I({},_,k)}function ll(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ii,cs=mn.current,yt(mn,c),yt(Nn,Nn.current),!0}function a2(c,u,_){var k=c.stateNode;if(!k)throw Error(n(169));_?(c=s2(c,u,cs),k.__reactInternalMemoizedMergedChildContext=c,St(Nn),St(mn),yt(mn,c)):St(Nn),yt(Nn,_)}var ei=null,ul=!1,xf=!1;function o2(c){ei===null?ei=[c]:ei.push(c)}function $7(c){ul=!0,o2(c)}function Oi(){if(!xf&&ei!==null){xf=!0;var c=0,u=ct;try{var _=ei;for(ct=1;c<_.length;c++){var k=_[c];do k=k(!0);while(k!==null)}ei=null,ul=!1}catch(O){throw ei!==null&&(ei=ei.slice(c+1)),lv(Vu,Oi),O}finally{ct=u,xf=!1}}return null}var Qs=[],Zs=0,fl=null,hl=0,tr=[],nr=0,ls=null,ti=1,ni="";function us(c,u){Qs[Zs++]=hl,Qs[Zs++]=fl,fl=c,hl=u}function c2(c,u,_){tr[nr++]=ti,tr[nr++]=ni,tr[nr++]=ls,ls=c;var k=ti;c=ni;var O=32-mr(k)-1;k&=~(1<<O),_+=1;var q=32-mr(u)+O;if(30<q){var Y=O-O%5;q=(k&(1<<Y)-1).toString(32),k>>=Y,O-=Y,ti=1<<32-mr(u)+O|_<<O|k,ni=q+c}else ti=1<<q|_<<O|k,ni=c}function Sf(c){c.return!==null&&(us(c,1),c2(c,1,0))}function Cf(c){for(;c===fl;)fl=Qs[--Zs],Qs[Zs]=null,hl=Qs[--Zs],Qs[Zs]=null;for(;c===ls;)ls=tr[--nr],tr[nr]=null,ni=tr[--nr],tr[nr]=null,ti=tr[--nr],tr[nr]=null}var Vn=null,Wn=null,Et=!1,vr=null;function l2(c,u){var _=ar(5,null,null,0);_.elementType="DELETED",_.stateNode=u,_.return=c,u=c.deletions,u===null?(c.deletions=[_],c.flags|=16):u.push(_)}function u2(c,u){switch(c.tag){case 5:var _=c.type;return u=u.nodeType!==1||_.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Vn=c,Wn=Ni(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Vn=c,Wn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(_=ls!==null?{id:ti,overflow:ni}:null,c.memoizedState={dehydrated:u,treeContext:_,retryLane:1073741824},_=ar(18,null,null,0),_.stateNode=u,_.return=c,c.child=_,Vn=c,Wn=null,!0):!1;default:return!1}}function kf(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Tf(c){if(Et){var u=Wn;if(u){var _=u;if(!u2(c,u)){if(kf(c))throw Error(n(418));u=Ni(_.nextSibling);var k=Vn;u&&u2(c,u)?l2(k,_):(c.flags=c.flags&-4097|2,Et=!1,Vn=c)}}else{if(kf(c))throw Error(n(418));c.flags=c.flags&-4097|2,Et=!1,Vn=c}}}function f2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Vn=c}function dl(c){if(c!==Vn)return!1;if(!Et)return f2(c),Et=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!vf(c.type,c.memoizedProps)),u&&(u=Wn)){if(kf(c))throw h2(),Error(n(418));for(;u;)l2(c,u),u=Ni(u.nextSibling)}if(f2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var _=c.data;if(_==="/$"){if(u===0){Wn=Ni(c.nextSibling);break e}u--}else _!=="$"&&_!=="$!"&&_!=="$?"||u++}c=c.nextSibling}Wn=null}}else Wn=Vn?Ni(c.stateNode.nextSibling):null;return!0}function h2(){for(var c=Wn;c;)c=Ni(c.nextSibling)}function Js(){Wn=Vn=null,Et=!1}function Ef(c){vr===null?vr=[c]:vr.push(c)}var q7=M.ReactCurrentBatchConfig;function ko(c,u,_){if(c=_.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(n(309));var k=_.stateNode}if(!k)throw Error(n(147,c));var O=k,q=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===q?u.ref:(u=function(Y){var J=O.refs;Y===null?delete J[q]:J[q]=Y},u._stringRef=q,u)}if(typeof c!="string")throw Error(n(284));if(!_._owner)throw Error(n(290,c))}return c}function pl(c,u){throw c=Object.prototype.toString.call(u),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function d2(c){var u=c._init;return u(c._payload)}function p2(c){function u(le,ne){if(c){var ue=le.deletions;ue===null?(le.deletions=[ne],le.flags|=16):ue.push(ne)}}function _(le,ne){if(!c)return null;for(;ne!==null;)u(le,ne),ne=ne.sibling;return null}function k(le,ne){for(le=new Map;ne!==null;)ne.key!==null?le.set(ne.key,ne):le.set(ne.index,ne),ne=ne.sibling;return le}function O(le,ne){return le=ji(le,ne),le.index=0,le.sibling=null,le}function q(le,ne,ue){return le.index=ue,c?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ne?(le.flags|=2,ne):ue):(le.flags|=2,ne)):(le.flags|=1048576,ne)}function Y(le){return c&&le.alternate===null&&(le.flags|=2),le}function J(le,ne,ue,Ce){return ne===null||ne.tag!==6?(ne=yh(ue,le.mode,Ce),ne.return=le,ne):(ne=O(ne,ue),ne.return=le,ne)}function te(le,ne,ue,Ce){var Fe=ue.type;return Fe===F?we(le,ne,ue.props.children,Ce,ue.key):ne!==null&&(ne.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===W&&d2(Fe)===ne.type)?(Ce=O(ne,ue.props),Ce.ref=ko(le,ne,ue),Ce.return=le,Ce):(Ce=Fl(ue.type,ue.key,ue.props,null,le.mode,Ce),Ce.ref=ko(le,ne,ue),Ce.return=le,Ce)}function fe(le,ne,ue,Ce){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=bh(ue,le.mode,Ce),ne.return=le,ne):(ne=O(ne,ue.children||[]),ne.return=le,ne)}function we(le,ne,ue,Ce,Fe){return ne===null||ne.tag!==7?(ne=ys(ue,le.mode,Ce,Fe),ne.return=le,ne):(ne=O(ne,ue),ne.return=le,ne)}function xe(le,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=yh(""+ne,le.mode,ue),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ue=Fl(ne.type,ne.key,ne.props,null,le.mode,ue),ue.ref=ko(le,null,ne),ue.return=le,ue;case B:return ne=bh(ne,le.mode,ue),ne.return=le,ne;case W:var Ce=ne._init;return xe(le,Ce(ne._payload),ue)}if(ze(ne)||R(ne))return ne=ys(ne,le.mode,ue,null),ne.return=le,ne;pl(le,ne)}return null}function be(le,ne,ue,Ce){var Fe=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Fe!==null?null:J(le,ne,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return ue.key===Fe?te(le,ne,ue,Ce):null;case B:return ue.key===Fe?fe(le,ne,ue,Ce):null;case W:return Fe=ue._init,be(le,ne,Fe(ue._payload),Ce)}if(ze(ue)||R(ue))return Fe!==null?null:we(le,ne,ue,Ce,null);pl(le,ue)}return null}function Ne(le,ne,ue,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return le=le.get(ue)||null,J(ne,le,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:return le=le.get(Ce.key===null?ue:Ce.key)||null,te(ne,le,Ce,Fe);case B:return le=le.get(Ce.key===null?ue:Ce.key)||null,fe(ne,le,Ce,Fe);case W:var qe=Ce._init;return Ne(le,ne,ue,qe(Ce._payload),Fe)}if(ze(Ce)||R(Ce))return le=le.get(ue)||null,we(ne,le,Ce,Fe,null);pl(ne,Ce)}return null}function De(le,ne,ue,Ce){for(var Fe=null,qe=null,je=ne,We=ne=0,nn=null;je!==null&&We<ue.length;We++){je.index>We?(nn=je,je=null):nn=je.sibling;var nt=be(le,je,ue[We],Ce);if(nt===null){je===null&&(je=nn);break}c&&je&&nt.alternate===null&&u(le,je),ne=q(nt,ne,We),qe===null?Fe=nt:qe.sibling=nt,qe=nt,je=nn}if(We===ue.length)return _(le,je),Et&&us(le,We),Fe;if(je===null){for(;We<ue.length;We++)je=xe(le,ue[We],Ce),je!==null&&(ne=q(je,ne,We),qe===null?Fe=je:qe.sibling=je,qe=je);return Et&&us(le,We),Fe}for(je=k(le,je);We<ue.length;We++)nn=Ne(je,le,We,ue[We],Ce),nn!==null&&(c&&nn.alternate!==null&&je.delete(nn.key===null?We:nn.key),ne=q(nn,ne,We),qe===null?Fe=nn:qe.sibling=nn,qe=nn);return c&&je.forEach(function(Vi){return u(le,Vi)}),Et&&us(le,We),Fe}function Le(le,ne,ue,Ce){var Fe=R(ue);if(typeof Fe!="function")throw Error(n(150));if(ue=Fe.call(ue),ue==null)throw Error(n(151));for(var qe=Fe=null,je=ne,We=ne=0,nn=null,nt=ue.next();je!==null&&!nt.done;We++,nt=ue.next()){je.index>We?(nn=je,je=null):nn=je.sibling;var Vi=be(le,je,nt.value,Ce);if(Vi===null){je===null&&(je=nn);break}c&&je&&Vi.alternate===null&&u(le,je),ne=q(Vi,ne,We),qe===null?Fe=Vi:qe.sibling=Vi,qe=Vi,je=nn}if(nt.done)return _(le,je),Et&&us(le,We),Fe;if(je===null){for(;!nt.done;We++,nt=ue.next())nt=xe(le,nt.value,Ce),nt!==null&&(ne=q(nt,ne,We),qe===null?Fe=nt:qe.sibling=nt,qe=nt);return Et&&us(le,We),Fe}for(je=k(le,je);!nt.done;We++,nt=ue.next())nt=Ne(je,le,We,nt.value,Ce),nt!==null&&(c&&nt.alternate!==null&&je.delete(nt.key===null?We:nt.key),ne=q(nt,ne,We),qe===null?Fe=nt:qe.sibling=nt,qe=nt);return c&&je.forEach(function(bx){return u(le,bx)}),Et&&us(le,We),Fe}function $t(le,ne,ue,Ce){if(typeof ue=="object"&&ue!==null&&ue.type===F&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:e:{for(var Fe=ue.key,qe=ne;qe!==null;){if(qe.key===Fe){if(Fe=ue.type,Fe===F){if(qe.tag===7){_(le,qe.sibling),ne=O(qe,ue.props.children),ne.return=le,le=ne;break e}}else if(qe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===W&&d2(Fe)===qe.type){_(le,qe.sibling),ne=O(qe,ue.props),ne.ref=ko(le,qe,ue),ne.return=le,le=ne;break e}_(le,qe);break}else u(le,qe);qe=qe.sibling}ue.type===F?(ne=ys(ue.props.children,le.mode,Ce,ue.key),ne.return=le,le=ne):(Ce=Fl(ue.type,ue.key,ue.props,null,le.mode,Ce),Ce.ref=ko(le,ne,ue),Ce.return=le,le=Ce)}return Y(le);case B:e:{for(qe=ue.key;ne!==null;){if(ne.key===qe)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){_(le,ne.sibling),ne=O(ne,ue.children||[]),ne.return=le,le=ne;break e}else{_(le,ne);break}else u(le,ne);ne=ne.sibling}ne=bh(ue,le.mode,Ce),ne.return=le,le=ne}return Y(le);case W:return qe=ue._init,$t(le,ne,qe(ue._payload),Ce)}if(ze(ue))return De(le,ne,ue,Ce);if(R(ue))return Le(le,ne,ue,Ce);pl(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(_(le,ne.sibling),ne=O(ne,ue),ne.return=le,le=ne):(_(le,ne),ne=yh(ue,le.mode,Ce),ne.return=le,le=ne),Y(le)):_(le,ne)}return $t}var ea=p2(!0),m2=p2(!1),ml=Ri(null),gl=null,ta=null,Af=null;function Mf(){Af=ta=gl=null}function Pf(c){var u=ml.current;St(ml),c._currentValue=u}function Nf(c,u,_){for(;c!==null;){var k=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,k!==null&&(k.childLanes|=u)):k!==null&&(k.childLanes&u)!==u&&(k.childLanes|=u),c===_)break;c=c.return}}function na(c,u){gl=c,Af=ta=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&u&&(In=!0),c.firstContext=null)}function rr(c){var u=c._currentValue;if(Af!==c)if(c={context:c,memoizedValue:u,next:null},ta===null){if(gl===null)throw Error(n(308));ta=c,gl.dependencies={lanes:0,firstContext:c}}else ta=ta.next=c;return u}var fs=null;function Rf(c){fs===null?fs=[c]:fs.push(c)}function g2(c,u,_,k){var O=u.interleaved;return O===null?(_.next=_,Rf(u)):(_.next=O.next,O.next=_),u.interleaved=_,ri(c,k)}function ri(c,u){c.lanes|=u;var _=c.alternate;for(_!==null&&(_.lanes|=u),_=c,c=c.return;c!==null;)c.childLanes|=u,_=c.alternate,_!==null&&(_.childLanes|=u),_=c,c=c.return;return _.tag===3?_.stateNode:null}var Di=!1;function If(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v2(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ii(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Li(c,u,_){var k=c.updateQueue;if(k===null)return null;if(k=k.shared,tt&2){var O=k.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),k.pending=u,ri(c,_)}return O=k.interleaved,O===null?(u.next=u,Rf(k)):(u.next=O.next,O.next=u),k.interleaved=u,ri(c,_)}function vl(c,u,_){if(u=u.updateQueue,u!==null&&(u=u.shared,(_&4194240)!==0)){var k=u.lanes;k&=c.pendingLanes,_|=k,u.lanes=_,Uu(c,_)}}function y2(c,u){var _=c.updateQueue,k=c.alternate;if(k!==null&&(k=k.updateQueue,_===k)){var O=null,q=null;if(_=_.firstBaseUpdate,_!==null){do{var Y={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};q===null?O=q=Y:q=q.next=Y,_=_.next}while(_!==null);q===null?O=q=u:q=q.next=u}else O=q=u;_={baseState:k.baseState,firstBaseUpdate:O,lastBaseUpdate:q,shared:k.shared,effects:k.effects},c.updateQueue=_;return}c=_.lastBaseUpdate,c===null?_.firstBaseUpdate=u:c.next=u,_.lastBaseUpdate=u}function yl(c,u,_,k){var O=c.updateQueue;Di=!1;var q=O.firstBaseUpdate,Y=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var te=J,fe=te.next;te.next=null,Y===null?q=fe:Y.next=fe,Y=te;var we=c.alternate;we!==null&&(we=we.updateQueue,J=we.lastBaseUpdate,J!==Y&&(J===null?we.firstBaseUpdate=fe:J.next=fe,we.lastBaseUpdate=te))}if(q!==null){var xe=O.baseState;Y=0,we=fe=te=null,J=q;do{var be=J.lane,Ne=J.eventTime;if((k&be)===be){we!==null&&(we=we.next={eventTime:Ne,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var De=c,Le=J;switch(be=u,Ne=_,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){xe=De.call(Ne,xe,be);break e}xe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,be=typeof De=="function"?De.call(Ne,xe,be):De,be==null)break e;xe=I({},xe,be);break e;case 2:Di=!0}}J.callback!==null&&J.lane!==0&&(c.flags|=64,be=O.effects,be===null?O.effects=[J]:be.push(J))}else Ne={eventTime:Ne,lane:be,tag:J.tag,payload:J.payload,callback:J.callback,next:null},we===null?(fe=we=Ne,te=xe):we=we.next=Ne,Y|=be;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;be=J,J=be.next,be.next=null,O.lastBaseUpdate=be,O.shared.pending=null}}while(!0);if(we===null&&(te=xe),O.baseState=te,O.firstBaseUpdate=fe,O.lastBaseUpdate=we,u=O.shared.interleaved,u!==null){O=u;do Y|=O.lane,O=O.next;while(O!==u)}else q===null&&(O.shared.lanes=0);ps|=Y,c.lanes=Y,c.memoizedState=xe}}function b2(c,u,_){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var k=c[u],O=k.callback;if(O!==null){if(k.callback=null,k=_,typeof O!="function")throw Error(n(191,O));O.call(k)}}}var To={},Or=Ri(To),Eo=Ri(To),Ao=Ri(To);function hs(c){if(c===To)throw Error(n(174));return c}function Of(c,u){switch(yt(Ao,u),yt(Eo,c),yt(Or,To),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Oe(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Oe(u,c)}St(Or),yt(Or,u)}function ra(){St(Or),St(Eo),St(Ao)}function w2(c){hs(Ao.current);var u=hs(Or.current),_=Oe(u,c.type);u!==_&&(yt(Eo,c),yt(Or,_))}function Df(c){Eo.current===c&&(St(Or),St(Eo))}var Pt=Ri(0);function bl(c){for(var u=c;u!==null;){if(u.tag===13){var _=u.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Lf=[];function Bf(){for(var c=0;c<Lf.length;c++)Lf[c]._workInProgressVersionPrimary=null;Lf.length=0}var wl=M.ReactCurrentDispatcher,Ff=M.ReactCurrentBatchConfig,ds=0,Nt=null,Xt=null,en=null,_l=!1,Mo=!1,Po=0,j7=0;function gn(){throw Error(n(321))}function zf(c,u){if(u===null)return!1;for(var _=0;_<u.length&&_<c.length;_++)if(!gr(c[_],u[_]))return!1;return!0}function $f(c,u,_,k,O,q){if(ds=q,Nt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,wl.current=c===null||c.memoizedState===null?U7:G7,c=_(k,O),Mo){q=0;do{if(Mo=!1,Po=0,25<=q)throw Error(n(301));q+=1,en=Xt=null,u.updateQueue=null,wl.current=Y7,c=_(k,O)}while(Mo)}if(wl.current=Cl,u=Xt!==null&&Xt.next!==null,ds=0,en=Xt=Nt=null,_l=!1,u)throw Error(n(300));return c}function qf(){var c=Po!==0;return Po=0,c}function Dr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Nt.memoizedState=en=c:en=en.next=c,en}function ir(){if(Xt===null){var c=Nt.alternate;c=c!==null?c.memoizedState:null}else c=Xt.next;var u=en===null?Nt.memoizedState:en.next;if(u!==null)en=u,Xt=c;else{if(c===null)throw Error(n(310));Xt=c,c={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},en===null?Nt.memoizedState=en=c:en=en.next=c}return en}function No(c,u){return typeof u=="function"?u(c):u}function jf(c){var u=ir(),_=u.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=c;var k=Xt,O=k.baseQueue,q=_.pending;if(q!==null){if(O!==null){var Y=O.next;O.next=q.next,q.next=Y}k.baseQueue=O=q,_.pending=null}if(O!==null){q=O.next,k=k.baseState;var J=Y=null,te=null,fe=q;do{var we=fe.lane;if((ds&we)===we)te!==null&&(te=te.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),k=fe.hasEagerState?fe.eagerState:c(k,fe.action);else{var xe={lane:we,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};te===null?(J=te=xe,Y=k):te=te.next=xe,Nt.lanes|=we,ps|=we}fe=fe.next}while(fe!==null&&fe!==q);te===null?Y=k:te.next=J,gr(k,u.memoizedState)||(In=!0),u.memoizedState=k,u.baseState=Y,u.baseQueue=te,_.lastRenderedState=k}if(c=_.interleaved,c!==null){O=c;do q=O.lane,Nt.lanes|=q,ps|=q,O=O.next;while(O!==c)}else O===null&&(_.lanes=0);return[u.memoizedState,_.dispatch]}function Vf(c){var u=ir(),_=u.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=c;var k=_.dispatch,O=_.pending,q=u.memoizedState;if(O!==null){_.pending=null;var Y=O=O.next;do q=c(q,Y.action),Y=Y.next;while(Y!==O);gr(q,u.memoizedState)||(In=!0),u.memoizedState=q,u.baseQueue===null&&(u.baseState=q),_.lastRenderedState=q}return[q,k]}function _2(){}function x2(c,u){var _=Nt,k=ir(),O=u(),q=!gr(k.memoizedState,O);if(q&&(k.memoizedState=O,In=!0),k=k.queue,Wf(k2.bind(null,_,k,c),[c]),k.getSnapshot!==u||q||en!==null&&en.memoizedState.tag&1){if(_.flags|=2048,Ro(9,C2.bind(null,_,k,O,u),void 0,null),tn===null)throw Error(n(349));ds&30||S2(_,u,O)}return O}function S2(c,u,_){c.flags|=16384,c={getSnapshot:u,value:_},u=Nt.updateQueue,u===null?(u={lastEffect:null,stores:null},Nt.updateQueue=u,u.stores=[c]):(_=u.stores,_===null?u.stores=[c]:_.push(c))}function C2(c,u,_,k){u.value=_,u.getSnapshot=k,T2(u)&&E2(c)}function k2(c,u,_){return _(function(){T2(u)&&E2(c)})}function T2(c){var u=c.getSnapshot;c=c.value;try{var _=u();return!gr(c,_)}catch{return!0}}function E2(c){var u=ri(c,1);u!==null&&_r(u,c,1,-1)}function A2(c){var u=Dr();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:c},u.queue=c,c=c.dispatch=H7.bind(null,Nt,c),[u.memoizedState,c]}function Ro(c,u,_,k){return c={tag:c,create:u,destroy:_,deps:k,next:null},u=Nt.updateQueue,u===null?(u={lastEffect:null,stores:null},Nt.updateQueue=u,u.lastEffect=c.next=c):(_=u.lastEffect,_===null?u.lastEffect=c.next=c:(k=_.next,_.next=c,c.next=k,u.lastEffect=c)),c}function M2(){return ir().memoizedState}function xl(c,u,_,k){var O=Dr();Nt.flags|=c,O.memoizedState=Ro(1|u,_,void 0,k===void 0?null:k)}function Sl(c,u,_,k){var O=ir();k=k===void 0?null:k;var q=void 0;if(Xt!==null){var Y=Xt.memoizedState;if(q=Y.destroy,k!==null&&zf(k,Y.deps)){O.memoizedState=Ro(u,_,q,k);return}}Nt.flags|=c,O.memoizedState=Ro(1|u,_,q,k)}function P2(c,u){return xl(8390656,8,c,u)}function Wf(c,u){return Sl(2048,8,c,u)}function N2(c,u){return Sl(4,2,c,u)}function R2(c,u){return Sl(4,4,c,u)}function I2(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function O2(c,u,_){return _=_!=null?_.concat([c]):null,Sl(4,4,I2.bind(null,u,c),_)}function Hf(){}function D2(c,u){var _=ir();u=u===void 0?null:u;var k=_.memoizedState;return k!==null&&u!==null&&zf(u,k[1])?k[0]:(_.memoizedState=[c,u],c)}function L2(c,u){var _=ir();u=u===void 0?null:u;var k=_.memoizedState;return k!==null&&u!==null&&zf(u,k[1])?k[0]:(c=c(),_.memoizedState=[c,u],c)}function B2(c,u,_){return ds&21?(gr(_,u)||(_=dv(),Nt.lanes|=_,ps|=_,c.baseState=!0),u):(c.baseState&&(c.baseState=!1,In=!0),c.memoizedState=_)}function V7(c,u){var _=ct;ct=_!==0&&4>_?_:4,c(!0);var k=Ff.transition;Ff.transition={};try{c(!1),u()}finally{ct=_,Ff.transition=k}}function F2(){return ir().memoizedState}function W7(c,u,_){var k=$i(c);if(_={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null},z2(c))$2(u,_);else if(_=g2(c,u,_,k),_!==null){var O=Tn();_r(_,c,k,O),q2(_,u,k)}}function H7(c,u,_){var k=$i(c),O={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null};if(z2(c))$2(u,O);else{var q=c.alternate;if(c.lanes===0&&(q===null||q.lanes===0)&&(q=u.lastRenderedReducer,q!==null))try{var Y=u.lastRenderedState,J=q(Y,_);if(O.hasEagerState=!0,O.eagerState=J,gr(J,Y)){var te=u.interleaved;te===null?(O.next=O,Rf(u)):(O.next=te.next,te.next=O),u.interleaved=O;return}}catch{}finally{}_=g2(c,u,O,k),_!==null&&(O=Tn(),_r(_,c,k,O),q2(_,u,k))}}function z2(c){var u=c.alternate;return c===Nt||u!==null&&u===Nt}function $2(c,u){Mo=_l=!0;var _=c.pending;_===null?u.next=u:(u.next=_.next,_.next=u),c.pending=u}function q2(c,u,_){if(_&4194240){var k=u.lanes;k&=c.pendingLanes,_|=k,u.lanes=_,Uu(c,_)}}var Cl={readContext:rr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},U7={readContext:rr,useCallback:function(c,u){return Dr().memoizedState=[c,u===void 0?null:u],c},useContext:rr,useEffect:P2,useImperativeHandle:function(c,u,_){return _=_!=null?_.concat([c]):null,xl(4194308,4,I2.bind(null,u,c),_)},useLayoutEffect:function(c,u){return xl(4194308,4,c,u)},useInsertionEffect:function(c,u){return xl(4,2,c,u)},useMemo:function(c,u){var _=Dr();return u=u===void 0?null:u,c=c(),_.memoizedState=[c,u],c},useReducer:function(c,u,_){var k=Dr();return u=_!==void 0?_(u):u,k.memoizedState=k.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},k.queue=c,c=c.dispatch=W7.bind(null,Nt,c),[k.memoizedState,c]},useRef:function(c){var u=Dr();return c={current:c},u.memoizedState=c},useState:A2,useDebugValue:Hf,useDeferredValue:function(c){return Dr().memoizedState=c},useTransition:function(){var c=A2(!1),u=c[0];return c=V7.bind(null,c[1]),Dr().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,_){var k=Nt,O=Dr();if(Et){if(_===void 0)throw Error(n(407));_=_()}else{if(_=u(),tn===null)throw Error(n(349));ds&30||S2(k,u,_)}O.memoizedState=_;var q={value:_,getSnapshot:u};return O.queue=q,P2(k2.bind(null,k,q,c),[c]),k.flags|=2048,Ro(9,C2.bind(null,k,q,_,u),void 0,null),_},useId:function(){var c=Dr(),u=tn.identifierPrefix;if(Et){var _=ni,k=ti;_=(k&~(1<<32-mr(k)-1)).toString(32)+_,u=":"+u+"R"+_,_=Po++,0<_&&(u+="H"+_.toString(32)),u+=":"}else _=j7++,u=":"+u+"r"+_.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},G7={readContext:rr,useCallback:D2,useContext:rr,useEffect:Wf,useImperativeHandle:O2,useInsertionEffect:N2,useLayoutEffect:R2,useMemo:L2,useReducer:jf,useRef:M2,useState:function(){return jf(No)},useDebugValue:Hf,useDeferredValue:function(c){var u=ir();return B2(u,Xt.memoizedState,c)},useTransition:function(){var c=jf(No)[0],u=ir().memoizedState;return[c,u]},useMutableSource:_2,useSyncExternalStore:x2,useId:F2,unstable_isNewReconciler:!1},Y7={readContext:rr,useCallback:D2,useContext:rr,useEffect:Wf,useImperativeHandle:O2,useInsertionEffect:N2,useLayoutEffect:R2,useMemo:L2,useReducer:Vf,useRef:M2,useState:function(){return Vf(No)},useDebugValue:Hf,useDeferredValue:function(c){var u=ir();return Xt===null?u.memoizedState=c:B2(u,Xt.memoizedState,c)},useTransition:function(){var c=Vf(No)[0],u=ir().memoizedState;return[c,u]},useMutableSource:_2,useSyncExternalStore:x2,useId:F2,unstable_isNewReconciler:!1};function yr(c,u){if(c&&c.defaultProps){u=I({},u),c=c.defaultProps;for(var _ in c)u[_]===void 0&&(u[_]=c[_]);return u}return u}function Uf(c,u,_,k){u=c.memoizedState,_=_(k,u),_=_==null?u:I({},u,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var kl={isMounted:function(c){return(c=c._reactInternals)?as(c)===c:!1},enqueueSetState:function(c,u,_){c=c._reactInternals;var k=Tn(),O=$i(c),q=ii(k,O);q.payload=u,_!=null&&(q.callback=_),u=Li(c,q,O),u!==null&&(_r(u,c,O,k),vl(u,c,O))},enqueueReplaceState:function(c,u,_){c=c._reactInternals;var k=Tn(),O=$i(c),q=ii(k,O);q.tag=1,q.payload=u,_!=null&&(q.callback=_),u=Li(c,q,O),u!==null&&(_r(u,c,O,k),vl(u,c,O))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var _=Tn(),k=$i(c),O=ii(_,k);O.tag=2,u!=null&&(O.callback=u),u=Li(c,O,k),u!==null&&(_r(u,c,k,_),vl(u,c,k))}};function j2(c,u,_,k,O,q,Y){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(k,q,Y):u.prototype&&u.prototype.isPureReactComponent?!yo(_,k)||!yo(O,q):!0}function V2(c,u,_){var k=!1,O=Ii,q=u.contextType;return typeof q=="object"&&q!==null?q=rr(q):(O=Rn(u)?cs:mn.current,k=u.contextTypes,q=(k=k!=null)?Ks(c,O):Ii),u=new u(_,q),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=kl,c.stateNode=u,u._reactInternals=c,k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=O,c.__reactInternalMemoizedMaskedChildContext=q),u}function W2(c,u,_,k){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(_,k),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(_,k),u.state!==c&&kl.enqueueReplaceState(u,u.state,null)}function Gf(c,u,_,k){var O=c.stateNode;O.props=_,O.state=c.memoizedState,O.refs={},If(c);var q=u.contextType;typeof q=="object"&&q!==null?O.context=rr(q):(q=Rn(u)?cs:mn.current,O.context=Ks(c,q)),O.state=c.memoizedState,q=u.getDerivedStateFromProps,typeof q=="function"&&(Uf(c,u,q,_),O.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(u=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),u!==O.state&&kl.enqueueReplaceState(O,O.state,null),yl(c,_,O,k),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308)}function ia(c,u){try{var _="",k=u;do _+=K(k),k=k.return;while(k);var O=_}catch(q){O=`
Error generating stack: `+q.message+`
`+q.stack}return{value:c,source:u,stack:O,digest:null}}function Yf(c,u,_){return{value:c,source:null,stack:_??null,digest:u??null}}function Xf(c,u){try{console.error(u.value)}catch(_){setTimeout(function(){throw _})}}var X7=typeof WeakMap=="function"?WeakMap:Map;function H2(c,u,_){_=ii(-1,_),_.tag=3,_.payload={element:null};var k=u.value;return _.callback=function(){Rl||(Rl=!0,uh=k),Xf(c,u)},_}function U2(c,u,_){_=ii(-1,_),_.tag=3;var k=c.type.getDerivedStateFromError;if(typeof k=="function"){var O=u.value;_.payload=function(){return k(O)},_.callback=function(){Xf(c,u)}}var q=c.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(_.callback=function(){Xf(c,u),typeof k!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var Y=u.stack;this.componentDidCatch(u.value,{componentStack:Y!==null?Y:""})}),_}function G2(c,u,_){var k=c.pingCache;if(k===null){k=c.pingCache=new X7;var O=new Set;k.set(u,O)}else O=k.get(u),O===void 0&&(O=new Set,k.set(u,O));O.has(_)||(O.add(_),c=lx.bind(null,c,u,_),u.then(c,c))}function Y2(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function X2(c,u,_,k,O){return c.mode&1?(c.flags|=65536,c.lanes=O,c):(c===u?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(u=ii(-1,1),u.tag=2,Li(_,u,1))),_.lanes|=1),c)}var K7=M.ReactCurrentOwner,In=!1;function kn(c,u,_,k){u.child=c===null?m2(u,null,_,k):ea(u,c.child,_,k)}function K2(c,u,_,k,O){_=_.render;var q=u.ref;return na(u,O),k=$f(c,u,_,k,q,O),_=qf(),c!==null&&!In?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~O,si(c,u,O)):(Et&&_&&Sf(u),u.flags|=1,kn(c,u,k,O),u.child)}function Q2(c,u,_,k,O){if(c===null){var q=_.type;return typeof q=="function"&&!vh(q)&&q.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(u.tag=15,u.type=q,Z2(c,u,q,k,O)):(c=Fl(_.type,null,k,u,u.mode,O),c.ref=u.ref,c.return=u,u.child=c)}if(q=c.child,!(c.lanes&O)){var Y=q.memoizedProps;if(_=_.compare,_=_!==null?_:yo,_(Y,k)&&c.ref===u.ref)return si(c,u,O)}return u.flags|=1,c=ji(q,k),c.ref=u.ref,c.return=u,u.child=c}function Z2(c,u,_,k,O){if(c!==null){var q=c.memoizedProps;if(yo(q,k)&&c.ref===u.ref)if(In=!1,u.pendingProps=k=q,(c.lanes&O)!==0)c.flags&131072&&(In=!0);else return u.lanes=c.lanes,si(c,u,O)}return Kf(c,u,_,k,O)}function J2(c,u,_){var k=u.pendingProps,O=k.children,q=c!==null?c.memoizedState:null;if(k.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(aa,Hn),Hn|=_;else{if(!(_&1073741824))return c=q!==null?q.baseLanes|_:_,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,yt(aa,Hn),Hn|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=q!==null?q.baseLanes:_,yt(aa,Hn),Hn|=k}else q!==null?(k=q.baseLanes|_,u.memoizedState=null):k=_,yt(aa,Hn),Hn|=k;return kn(c,u,O,_),u.child}function e3(c,u){var _=u.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(u.flags|=512,u.flags|=2097152)}function Kf(c,u,_,k,O){var q=Rn(_)?cs:mn.current;return q=Ks(u,q),na(u,O),_=$f(c,u,_,k,q,O),k=qf(),c!==null&&!In?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~O,si(c,u,O)):(Et&&k&&Sf(u),u.flags|=1,kn(c,u,_,O),u.child)}function t3(c,u,_,k,O){if(Rn(_)){var q=!0;ll(u)}else q=!1;if(na(u,O),u.stateNode===null)El(c,u),V2(u,_,k),Gf(u,_,k,O),k=!0;else if(c===null){var Y=u.stateNode,J=u.memoizedProps;Y.props=J;var te=Y.context,fe=_.contextType;typeof fe=="object"&&fe!==null?fe=rr(fe):(fe=Rn(_)?cs:mn.current,fe=Ks(u,fe));var we=_.getDerivedStateFromProps,xe=typeof we=="function"||typeof Y.getSnapshotBeforeUpdate=="function";xe||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(J!==k||te!==fe)&&W2(u,Y,k,fe),Di=!1;var be=u.memoizedState;Y.state=be,yl(u,k,Y,O),te=u.memoizedState,J!==k||be!==te||Nn.current||Di?(typeof we=="function"&&(Uf(u,_,we,k),te=u.memoizedState),(J=Di||j2(u,_,J,k,be,te,fe))?(xe||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=k,u.memoizedState=te),Y.props=k,Y.state=te,Y.context=fe,k=J):(typeof Y.componentDidMount=="function"&&(u.flags|=4194308),k=!1)}else{Y=u.stateNode,v2(c,u),J=u.memoizedProps,fe=u.type===u.elementType?J:yr(u.type,J),Y.props=fe,xe=u.pendingProps,be=Y.context,te=_.contextType,typeof te=="object"&&te!==null?te=rr(te):(te=Rn(_)?cs:mn.current,te=Ks(u,te));var Ne=_.getDerivedStateFromProps;(we=typeof Ne=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(J!==xe||be!==te)&&W2(u,Y,k,te),Di=!1,be=u.memoizedState,Y.state=be,yl(u,k,Y,O);var De=u.memoizedState;J!==xe||be!==De||Nn.current||Di?(typeof Ne=="function"&&(Uf(u,_,Ne,k),De=u.memoizedState),(fe=Di||j2(u,_,fe,k,be,De,te)||!1)?(we||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(k,De,te),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(k,De,te)),typeof Y.componentDidUpdate=="function"&&(u.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Y.componentDidUpdate!="function"||J===c.memoizedProps&&be===c.memoizedState||(u.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&be===c.memoizedState||(u.flags|=1024),u.memoizedProps=k,u.memoizedState=De),Y.props=k,Y.state=De,Y.context=te,k=fe):(typeof Y.componentDidUpdate!="function"||J===c.memoizedProps&&be===c.memoizedState||(u.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&be===c.memoizedState||(u.flags|=1024),k=!1)}return Qf(c,u,_,k,q,O)}function Qf(c,u,_,k,O,q){e3(c,u);var Y=(u.flags&128)!==0;if(!k&&!Y)return O&&a2(u,_,!1),si(c,u,q);k=u.stateNode,K7.current=u;var J=Y&&typeof _.getDerivedStateFromError!="function"?null:k.render();return u.flags|=1,c!==null&&Y?(u.child=ea(u,c.child,null,q),u.child=ea(u,null,J,q)):kn(c,u,J,q),u.memoizedState=k.state,O&&a2(u,_,!0),u.child}function n3(c){var u=c.stateNode;u.pendingContext?i2(c,u.pendingContext,u.pendingContext!==u.context):u.context&&i2(c,u.context,!1),Of(c,u.containerInfo)}function r3(c,u,_,k,O){return Js(),Ef(O),u.flags|=256,kn(c,u,_,k),u.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Jf(c){return{baseLanes:c,cachePool:null,transitions:null}}function i3(c,u,_){var k=u.pendingProps,O=Pt.current,q=!1,Y=(u.flags&128)!==0,J;if((J=Y)||(J=c!==null&&c.memoizedState===null?!1:(O&2)!==0),J?(q=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(O|=1),yt(Pt,O&1),c===null)return Tf(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(u.mode&1?c.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(Y=k.children,c=k.fallback,q?(k=u.mode,q=u.child,Y={mode:"hidden",children:Y},!(k&1)&&q!==null?(q.childLanes=0,q.pendingProps=Y):q=zl(Y,k,0,null),c=ys(c,k,_,null),q.return=u,c.return=u,q.sibling=c,u.child=q,u.child.memoizedState=Jf(_),u.memoizedState=Zf,c):eh(u,Y));if(O=c.memoizedState,O!==null&&(J=O.dehydrated,J!==null))return Q7(c,u,Y,k,J,O,_);if(q){q=k.fallback,Y=u.mode,O=c.child,J=O.sibling;var te={mode:"hidden",children:k.children};return!(Y&1)&&u.child!==O?(k=u.child,k.childLanes=0,k.pendingProps=te,u.deletions=null):(k=ji(O,te),k.subtreeFlags=O.subtreeFlags&14680064),J!==null?q=ji(J,q):(q=ys(q,Y,_,null),q.flags|=2),q.return=u,k.return=u,k.sibling=q,u.child=k,k=q,q=u.child,Y=c.child.memoizedState,Y=Y===null?Jf(_):{baseLanes:Y.baseLanes|_,cachePool:null,transitions:Y.transitions},q.memoizedState=Y,q.childLanes=c.childLanes&~_,u.memoizedState=Zf,k}return q=c.child,c=q.sibling,k=ji(q,{mode:"visible",children:k.children}),!(u.mode&1)&&(k.lanes=_),k.return=u,k.sibling=null,c!==null&&(_=u.deletions,_===null?(u.deletions=[c],u.flags|=16):_.push(c)),u.child=k,u.memoizedState=null,k}function eh(c,u){return u=zl({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function Tl(c,u,_,k){return k!==null&&Ef(k),ea(u,c.child,null,_),c=eh(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Q7(c,u,_,k,O,q,Y){if(_)return u.flags&256?(u.flags&=-257,k=Yf(Error(n(422))),Tl(c,u,Y,k)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(q=k.fallback,O=u.mode,k=zl({mode:"visible",children:k.children},O,0,null),q=ys(q,O,Y,null),q.flags|=2,k.return=u,q.return=u,k.sibling=q,u.child=k,u.mode&1&&ea(u,c.child,null,Y),u.child.memoizedState=Jf(Y),u.memoizedState=Zf,q);if(!(u.mode&1))return Tl(c,u,Y,null);if(O.data==="$!"){if(k=O.nextSibling&&O.nextSibling.dataset,k)var J=k.dgst;return k=J,q=Error(n(419)),k=Yf(q,k,void 0),Tl(c,u,Y,k)}if(J=(Y&c.childLanes)!==0,In||J){if(k=tn,k!==null){switch(Y&-Y){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=O&(k.suspendedLanes|Y)?0:O,O!==0&&O!==q.retryLane&&(q.retryLane=O,ri(c,O),_r(k,c,O,-1))}return gh(),k=Yf(Error(n(421))),Tl(c,u,Y,k)}return O.data==="$?"?(u.flags|=128,u.child=c.child,u=ux.bind(null,c),O._reactRetry=u,null):(c=q.treeContext,Wn=Ni(O.nextSibling),Vn=u,Et=!0,vr=null,c!==null&&(tr[nr++]=ti,tr[nr++]=ni,tr[nr++]=ls,ti=c.id,ni=c.overflow,ls=u),u=eh(u,k.children),u.flags|=4096,u)}function s3(c,u,_){c.lanes|=u;var k=c.alternate;k!==null&&(k.lanes|=u),Nf(c.return,u,_)}function th(c,u,_,k,O){var q=c.memoizedState;q===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:k,tail:_,tailMode:O}:(q.isBackwards=u,q.rendering=null,q.renderingStartTime=0,q.last=k,q.tail=_,q.tailMode=O)}function a3(c,u,_){var k=u.pendingProps,O=k.revealOrder,q=k.tail;if(kn(c,u,k.children,_),k=Pt.current,k&2)k=k&1|2,u.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&s3(c,_,u);else if(c.tag===19)s3(c,_,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}k&=1}if(yt(Pt,k),!(u.mode&1))u.memoizedState=null;else switch(O){case"forwards":for(_=u.child,O=null;_!==null;)c=_.alternate,c!==null&&bl(c)===null&&(O=_),_=_.sibling;_=O,_===null?(O=u.child,u.child=null):(O=_.sibling,_.sibling=null),th(u,!1,O,_,q);break;case"backwards":for(_=null,O=u.child,u.child=null;O!==null;){if(c=O.alternate,c!==null&&bl(c)===null){u.child=O;break}c=O.sibling,O.sibling=_,_=O,O=c}th(u,!0,_,null,q);break;case"together":th(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function El(c,u){!(u.mode&1)&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function si(c,u,_){if(c!==null&&(u.dependencies=c.dependencies),ps|=u.lanes,!(_&u.childLanes))return null;if(c!==null&&u.child!==c.child)throw Error(n(153));if(u.child!==null){for(c=u.child,_=ji(c,c.pendingProps),u.child=_,_.return=u;c.sibling!==null;)c=c.sibling,_=_.sibling=ji(c,c.pendingProps),_.return=u;_.sibling=null}return u.child}function Z7(c,u,_){switch(u.tag){case 3:n3(u),Js();break;case 5:w2(u);break;case 1:Rn(u.type)&&ll(u);break;case 4:Of(u,u.stateNode.containerInfo);break;case 10:var k=u.type._context,O=u.memoizedProps.value;yt(ml,k._currentValue),k._currentValue=O;break;case 13:if(k=u.memoizedState,k!==null)return k.dehydrated!==null?(yt(Pt,Pt.current&1),u.flags|=128,null):_&u.child.childLanes?i3(c,u,_):(yt(Pt,Pt.current&1),c=si(c,u,_),c!==null?c.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(k=(_&u.childLanes)!==0,c.flags&128){if(k)return a3(c,u,_);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),yt(Pt,Pt.current),k)break;return null;case 22:case 23:return u.lanes=0,J2(c,u,_)}return si(c,u,_)}var o3,nh,c3,l3;o3=function(c,u){for(var _=u.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},nh=function(){},c3=function(c,u,_,k){var O=c.memoizedProps;if(O!==k){c=u.stateNode,hs(Or.current);var q=null;switch(_){case"input":O=me(c,O),k=me(c,k),q=[];break;case"select":O=I({},O,{value:void 0}),k=I({},k,{value:void 0}),q=[];break;case"textarea":O=ie(c,O),k=ie(c,k),q=[];break;default:typeof O.onClick!="function"&&typeof k.onClick=="function"&&(c.onclick=al)}Je(_,k);var Y;_=null;for(fe in O)if(!k.hasOwnProperty(fe)&&O.hasOwnProperty(fe)&&O[fe]!=null)if(fe==="style"){var J=O[fe];for(Y in J)J.hasOwnProperty(Y)&&(_||(_={}),_[Y]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(a.hasOwnProperty(fe)?q||(q=[]):(q=q||[]).push(fe,null));for(fe in k){var te=k[fe];if(J=O!=null?O[fe]:void 0,k.hasOwnProperty(fe)&&te!==J&&(te!=null||J!=null))if(fe==="style")if(J){for(Y in J)!J.hasOwnProperty(Y)||te&&te.hasOwnProperty(Y)||(_||(_={}),_[Y]="");for(Y in te)te.hasOwnProperty(Y)&&J[Y]!==te[Y]&&(_||(_={}),_[Y]=te[Y])}else _||(q||(q=[]),q.push(fe,_)),_=te;else fe==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,J=J?J.__html:void 0,te!=null&&J!==te&&(q=q||[]).push(fe,te)):fe==="children"?typeof te!="string"&&typeof te!="number"||(q=q||[]).push(fe,""+te):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(a.hasOwnProperty(fe)?(te!=null&&fe==="onScroll"&&xt("scroll",c),q||J===te||(q=[])):(q=q||[]).push(fe,te))}_&&(q=q||[]).push("style",_);var fe=q;(u.updateQueue=fe)&&(u.flags|=4)}},l3=function(c,u,_,k){_!==k&&(u.flags|=4)};function Io(c,u){if(!Et)switch(c.tailMode){case"hidden":u=c.tail;for(var _=null;u!==null;)u.alternate!==null&&(_=u),u=u.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var k=null;_!==null;)_.alternate!==null&&(k=_),_=_.sibling;k===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:k.sibling=null}}function vn(c){var u=c.alternate!==null&&c.alternate.child===c.child,_=0,k=0;if(u)for(var O=c.child;O!==null;)_|=O.lanes|O.childLanes,k|=O.subtreeFlags&14680064,k|=O.flags&14680064,O.return=c,O=O.sibling;else for(O=c.child;O!==null;)_|=O.lanes|O.childLanes,k|=O.subtreeFlags,k|=O.flags,O.return=c,O=O.sibling;return c.subtreeFlags|=k,c.childLanes=_,u}function J7(c,u,_){var k=u.pendingProps;switch(Cf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(u),null;case 1:return Rn(u.type)&&cl(),vn(u),null;case 3:return k=u.stateNode,ra(),St(Nn),St(mn),Bf(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(c===null||c.child===null)&&(dl(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,vr!==null&&(dh(vr),vr=null))),nh(c,u),vn(u),null;case 5:Df(u);var O=hs(Ao.current);if(_=u.type,c!==null&&u.stateNode!=null)c3(c,u,_,k,O),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!k){if(u.stateNode===null)throw Error(n(166));return vn(u),null}if(c=hs(Or.current),dl(u)){k=u.stateNode,_=u.type;var q=u.memoizedProps;switch(k[Ir]=u,k[So]=q,c=(u.mode&1)!==0,_){case"dialog":xt("cancel",k),xt("close",k);break;case"iframe":case"object":case"embed":xt("load",k);break;case"video":case"audio":for(O=0;O<wo.length;O++)xt(wo[O],k);break;case"source":xt("error",k);break;case"img":case"image":case"link":xt("error",k),xt("load",k);break;case"details":xt("toggle",k);break;case"input":ve(k,q),xt("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!q.multiple},xt("invalid",k);break;case"textarea":ce(k,q),xt("invalid",k)}Je(_,q),O=null;for(var Y in q)if(q.hasOwnProperty(Y)){var J=q[Y];Y==="children"?typeof J=="string"?k.textContent!==J&&(q.suppressHydrationWarning!==!0&&sl(k.textContent,J,c),O=["children",J]):typeof J=="number"&&k.textContent!==""+J&&(q.suppressHydrationWarning!==!0&&sl(k.textContent,J,c),O=["children",""+J]):a.hasOwnProperty(Y)&&J!=null&&Y==="onScroll"&&xt("scroll",k)}switch(_){case"input":de(k),Pe(k,q,!0);break;case"textarea":de(k),ye(k);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(k.onclick=al)}k=O,u.updateQueue=k,k!==null&&(u.flags|=4)}else{Y=O.nodeType===9?O:O.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Me(_)),c==="http://www.w3.org/1999/xhtml"?_==="script"?(c=Y.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof k.is=="string"?c=Y.createElement(_,{is:k.is}):(c=Y.createElement(_),_==="select"&&(Y=c,k.multiple?Y.multiple=!0:k.size&&(Y.size=k.size))):c=Y.createElementNS(c,_),c[Ir]=u,c[So]=k,o3(c,u,!1,!1),u.stateNode=c;e:{switch(Y=ut(_,k),_){case"dialog":xt("cancel",c),xt("close",c),O=k;break;case"iframe":case"object":case"embed":xt("load",c),O=k;break;case"video":case"audio":for(O=0;O<wo.length;O++)xt(wo[O],c);O=k;break;case"source":xt("error",c),O=k;break;case"img":case"image":case"link":xt("error",c),xt("load",c),O=k;break;case"details":xt("toggle",c),O=k;break;case"input":ve(c,k),O=me(c,k),xt("invalid",c);break;case"option":O=k;break;case"select":c._wrapperState={wasMultiple:!!k.multiple},O=I({},k,{value:void 0}),xt("invalid",c);break;case"textarea":ce(c,k),O=ie(c,k),xt("invalid",c);break;default:O=k}Je(_,O),J=O;for(q in J)if(J.hasOwnProperty(q)){var te=J[q];q==="style"?mt(c,te):q==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&Ee(c,te)):q==="children"?typeof te=="string"?(_!=="textarea"||te!=="")&&Be(c,te):typeof te=="number"&&Be(c,""+te):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?te!=null&&q==="onScroll"&&xt("scroll",c):te!=null&&T(c,q,te,Y))}switch(_){case"input":de(c),Pe(c,k,!1);break;case"textarea":de(c),ye(c);break;case"option":k.value!=null&&c.setAttribute("value",""+ee(k.value));break;case"select":c.multiple=!!k.multiple,q=k.value,q!=null?re(c,!!k.multiple,q,!1):k.defaultValue!=null&&re(c,!!k.multiple,k.defaultValue,!0);break;default:typeof O.onClick=="function"&&(c.onclick=al)}switch(_){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return vn(u),null;case 6:if(c&&u.stateNode!=null)l3(c,u,c.memoizedProps,k);else{if(typeof k!="string"&&u.stateNode===null)throw Error(n(166));if(_=hs(Ao.current),hs(Or.current),dl(u)){if(k=u.stateNode,_=u.memoizedProps,k[Ir]=u,(q=k.nodeValue!==_)&&(c=Vn,c!==null))switch(c.tag){case 3:sl(k.nodeValue,_,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&sl(k.nodeValue,_,(c.mode&1)!==0)}q&&(u.flags|=4)}else k=(_.nodeType===9?_:_.ownerDocument).createTextNode(k),k[Ir]=u,u.stateNode=k}return vn(u),null;case 13:if(St(Pt),k=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Et&&Wn!==null&&u.mode&1&&!(u.flags&128))h2(),Js(),u.flags|=98560,q=!1;else if(q=dl(u),k!==null&&k.dehydrated!==null){if(c===null){if(!q)throw Error(n(318));if(q=u.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(n(317));q[Ir]=u}else Js(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;vn(u),q=!1}else vr!==null&&(dh(vr),vr=null),q=!0;if(!q)return u.flags&65536?u:null}return u.flags&128?(u.lanes=_,u):(k=k!==null,k!==(c!==null&&c.memoizedState!==null)&&k&&(u.child.flags|=8192,u.mode&1&&(c===null||Pt.current&1?Kt===0&&(Kt=3):gh())),u.updateQueue!==null&&(u.flags|=4),vn(u),null);case 4:return ra(),nh(c,u),c===null&&_o(u.stateNode.containerInfo),vn(u),null;case 10:return Pf(u.type._context),vn(u),null;case 17:return Rn(u.type)&&cl(),vn(u),null;case 19:if(St(Pt),q=u.memoizedState,q===null)return vn(u),null;if(k=(u.flags&128)!==0,Y=q.rendering,Y===null)if(k)Io(q,!1);else{if(Kt!==0||c!==null&&c.flags&128)for(c=u.child;c!==null;){if(Y=bl(c),Y!==null){for(u.flags|=128,Io(q,!1),k=Y.updateQueue,k!==null&&(u.updateQueue=k,u.flags|=4),u.subtreeFlags=0,k=_,_=u.child;_!==null;)q=_,c=k,q.flags&=14680066,Y=q.alternate,Y===null?(q.childLanes=0,q.lanes=c,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=Y.childLanes,q.lanes=Y.lanes,q.child=Y.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=Y.memoizedProps,q.memoizedState=Y.memoizedState,q.updateQueue=Y.updateQueue,q.type=Y.type,c=Y.dependencies,q.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),_=_.sibling;return yt(Pt,Pt.current&1|2),u.child}c=c.sibling}q.tail!==null&&zt()>oa&&(u.flags|=128,k=!0,Io(q,!1),u.lanes=4194304)}else{if(!k)if(c=bl(Y),c!==null){if(u.flags|=128,k=!0,_=c.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),Io(q,!0),q.tail===null&&q.tailMode==="hidden"&&!Y.alternate&&!Et)return vn(u),null}else 2*zt()-q.renderingStartTime>oa&&_!==1073741824&&(u.flags|=128,k=!0,Io(q,!1),u.lanes=4194304);q.isBackwards?(Y.sibling=u.child,u.child=Y):(_=q.last,_!==null?_.sibling=Y:u.child=Y,q.last=Y)}return q.tail!==null?(u=q.tail,q.rendering=u,q.tail=u.sibling,q.renderingStartTime=zt(),u.sibling=null,_=Pt.current,yt(Pt,k?_&1|2:_&1),u):(vn(u),null);case 22:case 23:return mh(),k=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==k&&(u.flags|=8192),k&&u.mode&1?Hn&1073741824&&(vn(u),u.subtreeFlags&6&&(u.flags|=8192)):vn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function ex(c,u){switch(Cf(u),u.tag){case 1:return Rn(u.type)&&cl(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return ra(),St(Nn),St(mn),Bf(),c=u.flags,c&65536&&!(c&128)?(u.flags=c&-65537|128,u):null;case 5:return Df(u),null;case 13:if(St(Pt),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Js()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return St(Pt),null;case 4:return ra(),null;case 10:return Pf(u.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Al=!1,yn=!1,tx=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function sa(c,u){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(k){Ot(c,u,k)}else _.current=null}function rh(c,u,_){try{_()}catch(k){Ot(c,u,k)}}var u3=!1;function nx(c,u){if(mf=Yc,c=jv(),of(c)){if("selectionStart"in c)var _={start:c.selectionStart,end:c.selectionEnd};else e:{_=(_=c.ownerDocument)&&_.defaultView||window;var k=_.getSelection&&_.getSelection();if(k&&k.rangeCount!==0){_=k.anchorNode;var O=k.anchorOffset,q=k.focusNode;k=k.focusOffset;try{_.nodeType,q.nodeType}catch{_=null;break e}var Y=0,J=-1,te=-1,fe=0,we=0,xe=c,be=null;t:for(;;){for(var Ne;xe!==_||O!==0&&xe.nodeType!==3||(J=Y+O),xe!==q||k!==0&&xe.nodeType!==3||(te=Y+k),xe.nodeType===3&&(Y+=xe.nodeValue.length),(Ne=xe.firstChild)!==null;)be=xe,xe=Ne;for(;;){if(xe===c)break t;if(be===_&&++fe===O&&(J=Y),be===q&&++we===k&&(te=Y),(Ne=xe.nextSibling)!==null)break;xe=be,be=xe.parentNode}xe=Ne}_=J===-1||te===-1?null:{start:J,end:te}}else _=null}_=_||{start:0,end:0}}else _=null;for(gf={focusedElem:c,selectionRange:_},Yc=!1,Ie=u;Ie!==null;)if(u=Ie,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ie=c;else for(;Ie!==null;){u=Ie;try{var De=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,$t=De.memoizedState,le=u.stateNode,ne=le.getSnapshotBeforeUpdate(u.elementType===u.type?Le:yr(u.type,Le),$t);le.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=u.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ce){Ot(u,u.return,Ce)}if(c=u.sibling,c!==null){c.return=u.return,Ie=c;break}Ie=u.return}return De=u3,u3=!1,De}function Oo(c,u,_){var k=u.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var O=k=k.next;do{if((O.tag&c)===c){var q=O.destroy;O.destroy=void 0,q!==void 0&&rh(u,_,q)}O=O.next}while(O!==k)}}function Ml(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var _=u=u.next;do{if((_.tag&c)===c){var k=_.create;_.destroy=k()}_=_.next}while(_!==u)}}function ih(c){var u=c.ref;if(u!==null){var _=c.stateNode;switch(c.tag){case 5:c=_;break;default:c=_}typeof u=="function"?u(c):u.current=c}}function f3(c){var u=c.alternate;u!==null&&(c.alternate=null,f3(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[Ir],delete u[So],delete u[wf],delete u[F7],delete u[z7])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function h3(c){return c.tag===5||c.tag===3||c.tag===4}function d3(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||h3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function sh(c,u,_){var k=c.tag;if(k===5||k===6)c=c.stateNode,u?_.nodeType===8?_.parentNode.insertBefore(c,u):_.insertBefore(c,u):(_.nodeType===8?(u=_.parentNode,u.insertBefore(c,_)):(u=_,u.appendChild(c)),_=_._reactRootContainer,_!=null||u.onclick!==null||(u.onclick=al));else if(k!==4&&(c=c.child,c!==null))for(sh(c,u,_),c=c.sibling;c!==null;)sh(c,u,_),c=c.sibling}function ah(c,u,_){var k=c.tag;if(k===5||k===6)c=c.stateNode,u?_.insertBefore(c,u):_.appendChild(c);else if(k!==4&&(c=c.child,c!==null))for(ah(c,u,_),c=c.sibling;c!==null;)ah(c,u,_),c=c.sibling}var un=null,br=!1;function Bi(c,u,_){for(_=_.child;_!==null;)p3(c,u,_),_=_.sibling}function p3(c,u,_){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(jc,_)}catch{}switch(_.tag){case 5:yn||sa(_,u);case 6:var k=un,O=br;un=null,Bi(c,u,_),un=k,br=O,un!==null&&(br?(c=un,_=_.stateNode,c.nodeType===8?c.parentNode.removeChild(_):c.removeChild(_)):un.removeChild(_.stateNode));break;case 18:un!==null&&(br?(c=un,_=_.stateNode,c.nodeType===8?bf(c.parentNode,_):c.nodeType===1&&bf(c,_),fo(c)):bf(un,_.stateNode));break;case 4:k=un,O=br,un=_.stateNode.containerInfo,br=!0,Bi(c,u,_),un=k,br=O;break;case 0:case 11:case 14:case 15:if(!yn&&(k=_.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){O=k=k.next;do{var q=O,Y=q.destroy;q=q.tag,Y!==void 0&&(q&2||q&4)&&rh(_,u,Y),O=O.next}while(O!==k)}Bi(c,u,_);break;case 1:if(!yn&&(sa(_,u),k=_.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=_.memoizedProps,k.state=_.memoizedState,k.componentWillUnmount()}catch(J){Ot(_,u,J)}Bi(c,u,_);break;case 21:Bi(c,u,_);break;case 22:_.mode&1?(yn=(k=yn)||_.memoizedState!==null,Bi(c,u,_),yn=k):Bi(c,u,_);break;default:Bi(c,u,_)}}function m3(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new tx),u.forEach(function(k){var O=fx.bind(null,c,k);_.has(k)||(_.add(k),k.then(O,O))})}}function wr(c,u){var _=u.deletions;if(_!==null)for(var k=0;k<_.length;k++){var O=_[k];try{var q=c,Y=u,J=Y;e:for(;J!==null;){switch(J.tag){case 5:un=J.stateNode,br=!1;break e;case 3:un=J.stateNode.containerInfo,br=!0;break e;case 4:un=J.stateNode.containerInfo,br=!0;break e}J=J.return}if(un===null)throw Error(n(160));p3(q,Y,O),un=null,br=!1;var te=O.alternate;te!==null&&(te.return=null),O.return=null}catch(fe){Ot(O,u,fe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)g3(u,c),u=u.sibling}function g3(c,u){var _=c.alternate,k=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(wr(u,c),Lr(c),k&4){try{Oo(3,c,c.return),Ml(3,c)}catch(Le){Ot(c,c.return,Le)}try{Oo(5,c,c.return)}catch(Le){Ot(c,c.return,Le)}}break;case 1:wr(u,c),Lr(c),k&512&&_!==null&&sa(_,_.return);break;case 5:if(wr(u,c),Lr(c),k&512&&_!==null&&sa(_,_.return),c.flags&32){var O=c.stateNode;try{Be(O,"")}catch(Le){Ot(c,c.return,Le)}}if(k&4&&(O=c.stateNode,O!=null)){var q=c.memoizedProps,Y=_!==null?_.memoizedProps:q,J=c.type,te=c.updateQueue;if(c.updateQueue=null,te!==null)try{J==="input"&&q.type==="radio"&&q.name!=null&&_e(O,q),ut(J,Y);var fe=ut(J,q);for(Y=0;Y<te.length;Y+=2){var we=te[Y],xe=te[Y+1];we==="style"?mt(O,xe):we==="dangerouslySetInnerHTML"?Ee(O,xe):we==="children"?Be(O,xe):T(O,we,xe,fe)}switch(J){case"input":Ae(O,q);break;case"textarea":se(O,q);break;case"select":var be=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!q.multiple;var Ne=q.value;Ne!=null?re(O,!!q.multiple,Ne,!1):be!==!!q.multiple&&(q.defaultValue!=null?re(O,!!q.multiple,q.defaultValue,!0):re(O,!!q.multiple,q.multiple?[]:"",!1))}O[So]=q}catch(Le){Ot(c,c.return,Le)}}break;case 6:if(wr(u,c),Lr(c),k&4){if(c.stateNode===null)throw Error(n(162));O=c.stateNode,q=c.memoizedProps;try{O.nodeValue=q}catch(Le){Ot(c,c.return,Le)}}break;case 3:if(wr(u,c),Lr(c),k&4&&_!==null&&_.memoizedState.isDehydrated)try{fo(u.containerInfo)}catch(Le){Ot(c,c.return,Le)}break;case 4:wr(u,c),Lr(c);break;case 13:wr(u,c),Lr(c),O=c.child,O.flags&8192&&(q=O.memoizedState!==null,O.stateNode.isHidden=q,!q||O.alternate!==null&&O.alternate.memoizedState!==null||(lh=zt())),k&4&&m3(c);break;case 22:if(we=_!==null&&_.memoizedState!==null,c.mode&1?(yn=(fe=yn)||we,wr(u,c),yn=fe):wr(u,c),Lr(c),k&8192){if(fe=c.memoizedState!==null,(c.stateNode.isHidden=fe)&&!we&&c.mode&1)for(Ie=c,we=c.child;we!==null;){for(xe=Ie=we;Ie!==null;){switch(be=Ie,Ne=be.child,be.tag){case 0:case 11:case 14:case 15:Oo(4,be,be.return);break;case 1:sa(be,be.return);var De=be.stateNode;if(typeof De.componentWillUnmount=="function"){k=be,_=be.return;try{u=k,De.props=u.memoizedProps,De.state=u.memoizedState,De.componentWillUnmount()}catch(Le){Ot(k,_,Le)}}break;case 5:sa(be,be.return);break;case 22:if(be.memoizedState!==null){b3(xe);continue}}Ne!==null?(Ne.return=be,Ie=Ne):b3(xe)}we=we.sibling}e:for(we=null,xe=c;;){if(xe.tag===5){if(we===null){we=xe;try{O=xe.stateNode,fe?(q=O.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(J=xe.stateNode,te=xe.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null,J.style.display=Ve("display",Y))}catch(Le){Ot(c,c.return,Le)}}}else if(xe.tag===6){if(we===null)try{xe.stateNode.nodeValue=fe?"":xe.memoizedProps}catch(Le){Ot(c,c.return,Le)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===c)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===c)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===c)break e;we===xe&&(we=null),xe=xe.return}we===xe&&(we=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:wr(u,c),Lr(c),k&4&&m3(c);break;case 21:break;default:wr(u,c),Lr(c)}}function Lr(c){var u=c.flags;if(u&2){try{e:{for(var _=c.return;_!==null;){if(h3(_)){var k=_;break e}_=_.return}throw Error(n(160))}switch(k.tag){case 5:var O=k.stateNode;k.flags&32&&(Be(O,""),k.flags&=-33);var q=d3(c);ah(c,q,O);break;case 3:case 4:var Y=k.stateNode.containerInfo,J=d3(c);sh(c,J,Y);break;default:throw Error(n(161))}}catch(te){Ot(c,c.return,te)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function rx(c,u,_){Ie=c,v3(c)}function v3(c,u,_){for(var k=(c.mode&1)!==0;Ie!==null;){var O=Ie,q=O.child;if(O.tag===22&&k){var Y=O.memoizedState!==null||Al;if(!Y){var J=O.alternate,te=J!==null&&J.memoizedState!==null||yn;J=Al;var fe=yn;if(Al=Y,(yn=te)&&!fe)for(Ie=O;Ie!==null;)Y=Ie,te=Y.child,Y.tag===22&&Y.memoizedState!==null?w3(O):te!==null?(te.return=Y,Ie=te):w3(O);for(;q!==null;)Ie=q,v3(q),q=q.sibling;Ie=O,Al=J,yn=fe}y3(c)}else O.subtreeFlags&8772&&q!==null?(q.return=O,Ie=q):y3(c)}}function y3(c){for(;Ie!==null;){var u=Ie;if(u.flags&8772){var _=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:yn||Ml(5,u);break;case 1:var k=u.stateNode;if(u.flags&4&&!yn)if(_===null)k.componentDidMount();else{var O=u.elementType===u.type?_.memoizedProps:yr(u.type,_.memoizedProps);k.componentDidUpdate(O,_.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var q=u.updateQueue;q!==null&&b2(u,q,k);break;case 3:var Y=u.updateQueue;if(Y!==null){if(_=null,u.child!==null)switch(u.child.tag){case 5:_=u.child.stateNode;break;case 1:_=u.child.stateNode}b2(u,Y,_)}break;case 5:var J=u.stateNode;if(_===null&&u.flags&4){_=J;var te=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&_.focus();break;case"img":te.src&&(_.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var fe=u.alternate;if(fe!==null){var we=fe.memoizedState;if(we!==null){var xe=we.dehydrated;xe!==null&&fo(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||u.flags&512&&ih(u)}catch(be){Ot(u,u.return,be)}}if(u===c){Ie=null;break}if(_=u.sibling,_!==null){_.return=u.return,Ie=_;break}Ie=u.return}}function b3(c){for(;Ie!==null;){var u=Ie;if(u===c){Ie=null;break}var _=u.sibling;if(_!==null){_.return=u.return,Ie=_;break}Ie=u.return}}function w3(c){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var _=u.return;try{Ml(4,u)}catch(te){Ot(u,_,te)}break;case 1:var k=u.stateNode;if(typeof k.componentDidMount=="function"){var O=u.return;try{k.componentDidMount()}catch(te){Ot(u,O,te)}}var q=u.return;try{ih(u)}catch(te){Ot(u,q,te)}break;case 5:var Y=u.return;try{ih(u)}catch(te){Ot(u,Y,te)}}}catch(te){Ot(u,u.return,te)}if(u===c){Ie=null;break}var J=u.sibling;if(J!==null){J.return=u.return,Ie=J;break}Ie=u.return}}var ix=Math.ceil,Pl=M.ReactCurrentDispatcher,oh=M.ReactCurrentOwner,sr=M.ReactCurrentBatchConfig,tt=0,tn=null,Wt=null,fn=0,Hn=0,aa=Ri(0),Kt=0,Do=null,ps=0,Nl=0,ch=0,Lo=null,On=null,lh=0,oa=1/0,ai=null,Rl=!1,uh=null,Fi=null,Il=!1,zi=null,Ol=0,Bo=0,fh=null,Dl=-1,Ll=0;function Tn(){return tt&6?zt():Dl!==-1?Dl:Dl=zt()}function $i(c){return c.mode&1?tt&2&&fn!==0?fn&-fn:q7.transition!==null?(Ll===0&&(Ll=dv()),Ll):(c=ct,c!==0||(c=window.event,c=c===void 0?16:xv(c.type)),c):1}function _r(c,u,_,k){if(50<Bo)throw Bo=0,fh=null,Error(n(185));ao(c,_,k),(!(tt&2)||c!==tn)&&(c===tn&&(!(tt&2)&&(Nl|=_),Kt===4&&qi(c,fn)),Dn(c,k),_===1&&tt===0&&!(u.mode&1)&&(oa=zt()+500,ul&&Oi()))}function Dn(c,u){var _=c.callbackNode;q8(c,u);var k=Hc(c,c===tn?fn:0);if(k===0)_!==null&&uv(_),c.callbackNode=null,c.callbackPriority=0;else if(u=k&-k,c.callbackPriority!==u){if(_!=null&&uv(_),u===1)c.tag===0?$7(x3.bind(null,c)):o2(x3.bind(null,c)),L7(function(){!(tt&6)&&Oi()}),_=null;else{switch(pv(k)){case 1:_=Vu;break;case 4:_=fv;break;case 16:_=qc;break;case 536870912:_=hv;break;default:_=qc}_=P3(_,_3.bind(null,c))}c.callbackPriority=u,c.callbackNode=_}}function _3(c,u){if(Dl=-1,Ll=0,tt&6)throw Error(n(327));var _=c.callbackNode;if(ca()&&c.callbackNode!==_)return null;var k=Hc(c,c===tn?fn:0);if(k===0)return null;if(k&30||k&c.expiredLanes||u)u=Bl(c,k);else{u=k;var O=tt;tt|=2;var q=C3();(tn!==c||fn!==u)&&(ai=null,oa=zt()+500,gs(c,u));do try{ox();break}catch(J){S3(c,J)}while(!0);Mf(),Pl.current=q,tt=O,Wt!==null?u=0:(tn=null,fn=0,u=Kt)}if(u!==0){if(u===2&&(O=Wu(c),O!==0&&(k=O,u=hh(c,O))),u===1)throw _=Do,gs(c,0),qi(c,k),Dn(c,zt()),_;if(u===6)qi(c,k);else{if(O=c.current.alternate,!(k&30)&&!sx(O)&&(u=Bl(c,k),u===2&&(q=Wu(c),q!==0&&(k=q,u=hh(c,q))),u===1))throw _=Do,gs(c,0),qi(c,k),Dn(c,zt()),_;switch(c.finishedWork=O,c.finishedLanes=k,u){case 0:case 1:throw Error(n(345));case 2:vs(c,On,ai);break;case 3:if(qi(c,k),(k&130023424)===k&&(u=lh+500-zt(),10<u)){if(Hc(c,0)!==0)break;if(O=c.suspendedLanes,(O&k)!==k){Tn(),c.pingedLanes|=c.suspendedLanes&O;break}c.timeoutHandle=yf(vs.bind(null,c,On,ai),u);break}vs(c,On,ai);break;case 4:if(qi(c,k),(k&4194240)===k)break;for(u=c.eventTimes,O=-1;0<k;){var Y=31-mr(k);q=1<<Y,Y=u[Y],Y>O&&(O=Y),k&=~q}if(k=O,k=zt()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*ix(k/1960))-k,10<k){c.timeoutHandle=yf(vs.bind(null,c,On,ai),k);break}vs(c,On,ai);break;case 5:vs(c,On,ai);break;default:throw Error(n(329))}}}return Dn(c,zt()),c.callbackNode===_?_3.bind(null,c):null}function hh(c,u){var _=Lo;return c.current.memoizedState.isDehydrated&&(gs(c,u).flags|=256),c=Bl(c,u),c!==2&&(u=On,On=_,u!==null&&dh(u)),c}function dh(c){On===null?On=c:On.push.apply(On,c)}function sx(c){for(var u=c;;){if(u.flags&16384){var _=u.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var k=0;k<_.length;k++){var O=_[k],q=O.getSnapshot;O=O.value;try{if(!gr(q(),O))return!1}catch{return!1}}}if(_=u.child,u.subtreeFlags&16384&&_!==null)_.return=u,u=_;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function qi(c,u){for(u&=~ch,u&=~Nl,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var _=31-mr(u),k=1<<_;c[_]=-1,u&=~k}}function x3(c){if(tt&6)throw Error(n(327));ca();var u=Hc(c,0);if(!(u&1))return Dn(c,zt()),null;var _=Bl(c,u);if(c.tag!==0&&_===2){var k=Wu(c);k!==0&&(u=k,_=hh(c,k))}if(_===1)throw _=Do,gs(c,0),qi(c,u),Dn(c,zt()),_;if(_===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,vs(c,On,ai),Dn(c,zt()),null}function ph(c,u){var _=tt;tt|=1;try{return c(u)}finally{tt=_,tt===0&&(oa=zt()+500,ul&&Oi())}}function ms(c){zi!==null&&zi.tag===0&&!(tt&6)&&ca();var u=tt;tt|=1;var _=sr.transition,k=ct;try{if(sr.transition=null,ct=1,c)return c()}finally{ct=k,sr.transition=_,tt=u,!(tt&6)&&Oi()}}function mh(){Hn=aa.current,St(aa)}function gs(c,u){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==-1&&(c.timeoutHandle=-1,D7(_)),Wt!==null)for(_=Wt.return;_!==null;){var k=_;switch(Cf(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&cl();break;case 3:ra(),St(Nn),St(mn),Bf();break;case 5:Df(k);break;case 4:ra();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:Pf(k.type._context);break;case 22:case 23:mh()}_=_.return}if(tn=c,Wt=c=ji(c.current,null),fn=Hn=u,Kt=0,Do=null,ch=Nl=ps=0,On=Lo=null,fs!==null){for(u=0;u<fs.length;u++)if(_=fs[u],k=_.interleaved,k!==null){_.interleaved=null;var O=k.next,q=_.pending;if(q!==null){var Y=q.next;q.next=O,k.next=Y}_.pending=k}fs=null}return c}function S3(c,u){do{var _=Wt;try{if(Mf(),wl.current=Cl,_l){for(var k=Nt.memoizedState;k!==null;){var O=k.queue;O!==null&&(O.pending=null),k=k.next}_l=!1}if(ds=0,en=Xt=Nt=null,Mo=!1,Po=0,oh.current=null,_===null||_.return===null){Kt=1,Do=u,Wt=null;break}e:{var q=c,Y=_.return,J=_,te=u;if(u=fn,J.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var fe=te,we=J,xe=we.tag;if(!(we.mode&1)&&(xe===0||xe===11||xe===15)){var be=we.alternate;be?(we.updateQueue=be.updateQueue,we.memoizedState=be.memoizedState,we.lanes=be.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ne=Y2(Y);if(Ne!==null){Ne.flags&=-257,X2(Ne,Y,J,q,u),Ne.mode&1&&G2(q,fe,u),u=Ne,te=fe;var De=u.updateQueue;if(De===null){var Le=new Set;Le.add(te),u.updateQueue=Le}else De.add(te);break e}else{if(!(u&1)){G2(q,fe,u),gh();break e}te=Error(n(426))}}else if(Et&&J.mode&1){var $t=Y2(Y);if($t!==null){!($t.flags&65536)&&($t.flags|=256),X2($t,Y,J,q,u),Ef(ia(te,J));break e}}q=te=ia(te,J),Kt!==4&&(Kt=2),Lo===null?Lo=[q]:Lo.push(q),q=Y;do{switch(q.tag){case 3:q.flags|=65536,u&=-u,q.lanes|=u;var le=H2(q,te,u);y2(q,le);break e;case 1:J=te;var ne=q.type,ue=q.stateNode;if(!(q.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Fi===null||!Fi.has(ue)))){q.flags|=65536,u&=-u,q.lanes|=u;var Ce=U2(q,J,u);y2(q,Ce);break e}}q=q.return}while(q!==null)}T3(_)}catch(Fe){u=Fe,Wt===_&&_!==null&&(Wt=_=_.return);continue}break}while(!0)}function C3(){var c=Pl.current;return Pl.current=Cl,c===null?Cl:c}function gh(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),tn===null||!(ps&268435455)&&!(Nl&268435455)||qi(tn,fn)}function Bl(c,u){var _=tt;tt|=2;var k=C3();(tn!==c||fn!==u)&&(ai=null,gs(c,u));do try{ax();break}catch(O){S3(c,O)}while(!0);if(Mf(),tt=_,Pl.current=k,Wt!==null)throw Error(n(261));return tn=null,fn=0,Kt}function ax(){for(;Wt!==null;)k3(Wt)}function ox(){for(;Wt!==null&&!R8();)k3(Wt)}function k3(c){var u=M3(c.alternate,c,Hn);c.memoizedProps=c.pendingProps,u===null?T3(c):Wt=u,oh.current=null}function T3(c){var u=c;do{var _=u.alternate;if(c=u.return,u.flags&32768){if(_=ex(_,u),_!==null){_.flags&=32767,Wt=_;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Kt=6,Wt=null;return}}else if(_=J7(_,u,Hn),_!==null){Wt=_;return}if(u=u.sibling,u!==null){Wt=u;return}Wt=u=c}while(u!==null);Kt===0&&(Kt=5)}function vs(c,u,_){var k=ct,O=sr.transition;try{sr.transition=null,ct=1,cx(c,u,_,k)}finally{sr.transition=O,ct=k}return null}function cx(c,u,_,k){do ca();while(zi!==null);if(tt&6)throw Error(n(327));_=c.finishedWork;var O=c.finishedLanes;if(_===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var q=_.lanes|_.childLanes;if(j8(c,q),c===tn&&(Wt=tn=null,fn=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Il||(Il=!0,P3(qc,function(){return ca(),null})),q=(_.flags&15990)!==0,_.subtreeFlags&15990||q){q=sr.transition,sr.transition=null;var Y=ct;ct=1;var J=tt;tt|=4,oh.current=null,nx(c,_),g3(_,c),A7(gf),Yc=!!mf,gf=mf=null,c.current=_,rx(_),I8(),tt=J,ct=Y,sr.transition=q}else c.current=_;if(Il&&(Il=!1,zi=c,Ol=O),q=c.pendingLanes,q===0&&(Fi=null),L8(_.stateNode),Dn(c,zt()),u!==null)for(k=c.onRecoverableError,_=0;_<u.length;_++)O=u[_],k(O.value,{componentStack:O.stack,digest:O.digest});if(Rl)throw Rl=!1,c=uh,uh=null,c;return Ol&1&&c.tag!==0&&ca(),q=c.pendingLanes,q&1?c===fh?Bo++:(Bo=0,fh=c):Bo=0,Oi(),null}function ca(){if(zi!==null){var c=pv(Ol),u=sr.transition,_=ct;try{if(sr.transition=null,ct=16>c?16:c,zi===null)var k=!1;else{if(c=zi,zi=null,Ol=0,tt&6)throw Error(n(331));var O=tt;for(tt|=4,Ie=c.current;Ie!==null;){var q=Ie,Y=q.child;if(Ie.flags&16){var J=q.deletions;if(J!==null){for(var te=0;te<J.length;te++){var fe=J[te];for(Ie=fe;Ie!==null;){var we=Ie;switch(we.tag){case 0:case 11:case 15:Oo(8,we,q)}var xe=we.child;if(xe!==null)xe.return=we,Ie=xe;else for(;Ie!==null;){we=Ie;var be=we.sibling,Ne=we.return;if(f3(we),we===fe){Ie=null;break}if(be!==null){be.return=Ne,Ie=be;break}Ie=Ne}}}var De=q.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var $t=Le.sibling;Le.sibling=null,Le=$t}while(Le!==null)}}Ie=q}}if(q.subtreeFlags&2064&&Y!==null)Y.return=q,Ie=Y;else e:for(;Ie!==null;){if(q=Ie,q.flags&2048)switch(q.tag){case 0:case 11:case 15:Oo(9,q,q.return)}var le=q.sibling;if(le!==null){le.return=q.return,Ie=le;break e}Ie=q.return}}var ne=c.current;for(Ie=ne;Ie!==null;){Y=Ie;var ue=Y.child;if(Y.subtreeFlags&2064&&ue!==null)ue.return=Y,Ie=ue;else e:for(Y=ne;Ie!==null;){if(J=Ie,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:Ml(9,J)}}catch(Fe){Ot(J,J.return,Fe)}if(J===Y){Ie=null;break e}var Ce=J.sibling;if(Ce!==null){Ce.return=J.return,Ie=Ce;break e}Ie=J.return}}if(tt=O,Oi(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(jc,c)}catch{}k=!0}return k}finally{ct=_,sr.transition=u}}return!1}function E3(c,u,_){u=ia(_,u),u=H2(c,u,1),c=Li(c,u,1),u=Tn(),c!==null&&(ao(c,1,u),Dn(c,u))}function Ot(c,u,_){if(c.tag===3)E3(c,c,_);else for(;u!==null;){if(u.tag===3){E3(u,c,_);break}else if(u.tag===1){var k=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Fi===null||!Fi.has(k))){c=ia(_,c),c=U2(u,c,1),u=Li(u,c,1),c=Tn(),u!==null&&(ao(u,1,c),Dn(u,c));break}}u=u.return}}function lx(c,u,_){var k=c.pingCache;k!==null&&k.delete(u),u=Tn(),c.pingedLanes|=c.suspendedLanes&_,tn===c&&(fn&_)===_&&(Kt===4||Kt===3&&(fn&130023424)===fn&&500>zt()-lh?gs(c,0):ch|=_),Dn(c,u)}function A3(c,u){u===0&&(c.mode&1?(u=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):u=1);var _=Tn();c=ri(c,u),c!==null&&(ao(c,u,_),Dn(c,_))}function ux(c){var u=c.memoizedState,_=0;u!==null&&(_=u.retryLane),A3(c,_)}function fx(c,u){var _=0;switch(c.tag){case 13:var k=c.stateNode,O=c.memoizedState;O!==null&&(_=O.retryLane);break;case 19:k=c.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(u),A3(c,_)}var M3;M3=function(c,u,_){if(c!==null)if(c.memoizedProps!==u.pendingProps||Nn.current)In=!0;else{if(!(c.lanes&_)&&!(u.flags&128))return In=!1,Z7(c,u,_);In=!!(c.flags&131072)}else In=!1,Et&&u.flags&1048576&&c2(u,hl,u.index);switch(u.lanes=0,u.tag){case 2:var k=u.type;El(c,u),c=u.pendingProps;var O=Ks(u,mn.current);na(u,_),O=$f(null,u,k,c,O,_);var q=qf();return u.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Rn(k)?(q=!0,ll(u)):q=!1,u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,If(u),O.updater=kl,u.stateNode=O,O._reactInternals=u,Gf(u,k,c,_),u=Qf(null,u,k,!0,q,_)):(u.tag=0,Et&&q&&Sf(u),kn(null,u,O,_),u=u.child),u;case 16:k=u.elementType;e:{switch(El(c,u),c=u.pendingProps,O=k._init,k=O(k._payload),u.type=k,O=u.tag=dx(k),c=yr(k,c),O){case 0:u=Kf(null,u,k,c,_);break e;case 1:u=t3(null,u,k,c,_);break e;case 11:u=K2(null,u,k,c,_);break e;case 14:u=Q2(null,u,k,yr(k.type,c),_);break e}throw Error(n(306,k,""))}return u;case 0:return k=u.type,O=u.pendingProps,O=u.elementType===k?O:yr(k,O),Kf(c,u,k,O,_);case 1:return k=u.type,O=u.pendingProps,O=u.elementType===k?O:yr(k,O),t3(c,u,k,O,_);case 3:e:{if(n3(u),c===null)throw Error(n(387));k=u.pendingProps,q=u.memoizedState,O=q.element,v2(c,u),yl(u,k,null,_);var Y=u.memoizedState;if(k=Y.element,q.isDehydrated)if(q={element:k,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},u.updateQueue.baseState=q,u.memoizedState=q,u.flags&256){O=ia(Error(n(423)),u),u=r3(c,u,k,_,O);break e}else if(k!==O){O=ia(Error(n(424)),u),u=r3(c,u,k,_,O);break e}else for(Wn=Ni(u.stateNode.containerInfo.firstChild),Vn=u,Et=!0,vr=null,_=m2(u,null,k,_),u.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Js(),k===O){u=si(c,u,_);break e}kn(c,u,k,_)}u=u.child}return u;case 5:return w2(u),c===null&&Tf(u),k=u.type,O=u.pendingProps,q=c!==null?c.memoizedProps:null,Y=O.children,vf(k,O)?Y=null:q!==null&&vf(k,q)&&(u.flags|=32),e3(c,u),kn(c,u,Y,_),u.child;case 6:return c===null&&Tf(u),null;case 13:return i3(c,u,_);case 4:return Of(u,u.stateNode.containerInfo),k=u.pendingProps,c===null?u.child=ea(u,null,k,_):kn(c,u,k,_),u.child;case 11:return k=u.type,O=u.pendingProps,O=u.elementType===k?O:yr(k,O),K2(c,u,k,O,_);case 7:return kn(c,u,u.pendingProps,_),u.child;case 8:return kn(c,u,u.pendingProps.children,_),u.child;case 12:return kn(c,u,u.pendingProps.children,_),u.child;case 10:e:{if(k=u.type._context,O=u.pendingProps,q=u.memoizedProps,Y=O.value,yt(ml,k._currentValue),k._currentValue=Y,q!==null)if(gr(q.value,Y)){if(q.children===O.children&&!Nn.current){u=si(c,u,_);break e}}else for(q=u.child,q!==null&&(q.return=u);q!==null;){var J=q.dependencies;if(J!==null){Y=q.child;for(var te=J.firstContext;te!==null;){if(te.context===k){if(q.tag===1){te=ii(-1,_&-_),te.tag=2;var fe=q.updateQueue;if(fe!==null){fe=fe.shared;var we=fe.pending;we===null?te.next=te:(te.next=we.next,we.next=te),fe.pending=te}}q.lanes|=_,te=q.alternate,te!==null&&(te.lanes|=_),Nf(q.return,_,u),J.lanes|=_;break}te=te.next}}else if(q.tag===10)Y=q.type===u.type?null:q.child;else if(q.tag===18){if(Y=q.return,Y===null)throw Error(n(341));Y.lanes|=_,J=Y.alternate,J!==null&&(J.lanes|=_),Nf(Y,_,u),Y=q.sibling}else Y=q.child;if(Y!==null)Y.return=q;else for(Y=q;Y!==null;){if(Y===u){Y=null;break}if(q=Y.sibling,q!==null){q.return=Y.return,Y=q;break}Y=Y.return}q=Y}kn(c,u,O.children,_),u=u.child}return u;case 9:return O=u.type,k=u.pendingProps.children,na(u,_),O=rr(O),k=k(O),u.flags|=1,kn(c,u,k,_),u.child;case 14:return k=u.type,O=yr(k,u.pendingProps),O=yr(k.type,O),Q2(c,u,k,O,_);case 15:return Z2(c,u,u.type,u.pendingProps,_);case 17:return k=u.type,O=u.pendingProps,O=u.elementType===k?O:yr(k,O),El(c,u),u.tag=1,Rn(k)?(c=!0,ll(u)):c=!1,na(u,_),V2(u,k,O),Gf(u,k,O,_),Qf(null,u,k,!0,c,_);case 19:return a3(c,u,_);case 22:return J2(c,u,_)}throw Error(n(156,u.tag))};function P3(c,u){return lv(c,u)}function hx(c,u,_,k){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(c,u,_,k){return new hx(c,u,_,k)}function vh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function dx(c){if(typeof c=="function")return vh(c)?1:0;if(c!=null){if(c=c.$$typeof,c===j)return 11;if(c===D)return 14}return 2}function ji(c,u){var _=c.alternate;return _===null?(_=ar(c.tag,u,c.key,c.mode),_.elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=u,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=c.flags&14680064,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,u=c.dependencies,_.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function Fl(c,u,_,k,O,q){var Y=2;if(k=c,typeof c=="function")vh(c)&&(Y=1);else if(typeof c=="string")Y=5;else e:switch(c){case F:return ys(_.children,O,q,u);case E:Y=8,O|=8;break;case $:return c=ar(12,_,u,O|2),c.elementType=$,c.lanes=q,c;case V:return c=ar(13,_,u,O),c.elementType=V,c.lanes=q,c;case L:return c=ar(19,_,u,O),c.elementType=L,c.lanes=q,c;case G:return zl(_,O,q,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case P:Y=10;break e;case z:Y=9;break e;case j:Y=11;break e;case D:Y=14;break e;case W:Y=16,k=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return u=ar(Y,_,u,O),u.elementType=c,u.type=k,u.lanes=q,u}function ys(c,u,_,k){return c=ar(7,c,k,u),c.lanes=_,c}function zl(c,u,_,k){return c=ar(22,c,k,u),c.elementType=G,c.lanes=_,c.stateNode={isHidden:!1},c}function yh(c,u,_){return c=ar(6,c,null,u),c.lanes=_,c}function bh(c,u,_){return u=ar(4,c.children!==null?c.children:[],c.key,u),u.lanes=_,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function px(c,u,_,k,O){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=k,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function wh(c,u,_,k,O,q,Y,J,te){return c=new px(c,u,_,J,te),u===1?(u=1,q===!0&&(u|=8)):u=0,q=ar(3,null,null,u),c.current=q,q.stateNode=c,q.memoizedState={element:k,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(q),c}function mx(c,u,_){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:k==null?null:""+k,children:c,containerInfo:u,implementation:_}}function N3(c){if(!c)return Ii;c=c._reactInternals;e:{if(as(c)!==c||c.tag!==1)throw Error(n(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Rn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(c.tag===1){var _=c.type;if(Rn(_))return s2(c,_,u)}return u}function R3(c,u,_,k,O,q,Y,J,te){return c=wh(_,k,!0,c,O,q,Y,J,te),c.context=N3(null),_=c.current,k=Tn(),O=$i(_),q=ii(k,O),q.callback=u??null,Li(_,q,O),c.current.lanes=O,ao(c,O,k),Dn(c,k),c}function $l(c,u,_,k){var O=u.current,q=Tn(),Y=$i(O);return _=N3(_),u.context===null?u.context=_:u.pendingContext=_,u=ii(q,Y),u.payload={element:c},k=k===void 0?null:k,k!==null&&(u.callback=k),c=Li(O,u,Y),c!==null&&(_r(c,O,Y,q),vl(c,O,Y)),Y}function ql(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function I3(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<u?_:u}}function _h(c,u){I3(c,u),(c=c.alternate)&&I3(c,u)}var O3=typeof reportError=="function"?reportError:function(c){console.error(c)};function xh(c){this._internalRoot=c}jl.prototype.render=xh.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(n(409));$l(c,u,null,null)},jl.prototype.unmount=xh.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;ms(function(){$l(null,c,null,null)}),u[Jr]=null}};function jl(c){this._internalRoot=c}jl.prototype.unstable_scheduleHydration=function(c){if(c){var u=vv();c={blockedOn:null,target:c,priority:u};for(var _=0;_<Ai.length&&u!==0&&u<Ai[_].priority;_++);Ai.splice(_,0,c),_===0&&wv(c)}};function Sh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Vl(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function D3(){}function gx(c,u,_,k,O){if(O){if(typeof k=="function"){var q=k;k=function(){var fe=ql(Y);q.call(fe)}}var Y=R3(u,k,c,0,null,!1,!1,"",D3);return c._reactRootContainer=Y,c[Jr]=Y.current,_o(c.nodeType===8?c.parentNode:c),ms(),Y}for(;O=c.lastChild;)c.removeChild(O);if(typeof k=="function"){var J=k;k=function(){var fe=ql(te);J.call(fe)}}var te=wh(c,0,!1,null,null,!1,!1,"",D3);return c._reactRootContainer=te,c[Jr]=te.current,_o(c.nodeType===8?c.parentNode:c),ms(function(){$l(u,te,_,k)}),te}function Wl(c,u,_,k,O){var q=_._reactRootContainer;if(q){var Y=q;if(typeof O=="function"){var J=O;O=function(){var te=ql(Y);J.call(te)}}$l(u,Y,c,O)}else Y=gx(_,u,c,O,k);return ql(Y)}mv=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var _=so(u.pendingLanes);_!==0&&(Uu(u,_|1),Dn(u,zt()),!(tt&6)&&(oa=zt()+500,Oi()))}break;case 13:ms(function(){var k=ri(c,1);if(k!==null){var O=Tn();_r(k,c,1,O)}}),_h(c,1)}},Gu=function(c){if(c.tag===13){var u=ri(c,134217728);if(u!==null){var _=Tn();_r(u,c,134217728,_)}_h(c,134217728)}},gv=function(c){if(c.tag===13){var u=$i(c),_=ri(c,u);if(_!==null){var k=Tn();_r(_,c,u,k)}_h(c,u)}},vv=function(){return ct},yv=function(c,u){var _=ct;try{return ct=c,u()}finally{ct=_}},wt=function(c,u,_){switch(u){case"input":if(Ae(c,_),u=_.name,_.type==="radio"&&u!=null){for(_=c;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<_.length;u++){var k=_[u];if(k!==c&&k.form===c.form){var O=ol(k);if(!O)throw Error(n(90));ke(k),Ae(k,O)}}}break;case"textarea":se(c,_);break;case"select":u=_.value,u!=null&&re(c,!!_.multiple,u,!1)}},Ci=ph,Pn=ms;var vx={usingClientEntryPoint:!1,Events:[Co,Ys,ol,xi,Si,ph]},Fo={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ov(c),c===null?null:c.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{jc=Hl.inject(yx),Rr=Hl}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx,Ln.createPortal=function(c,u){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(u))throw Error(n(200));return mx(c,u,null,_)},Ln.createRoot=function(c,u){if(!Sh(c))throw Error(n(299));var _=!1,k="",O=O3;return u!=null&&(u.unstable_strictMode===!0&&(_=!0),u.identifierPrefix!==void 0&&(k=u.identifierPrefix),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=wh(c,1,!1,null,null,_,!1,k,O),c[Jr]=u.current,_o(c.nodeType===8?c.parentNode:c),new xh(u)},Ln.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=ov(u),c=c===null?null:c.stateNode,c},Ln.flushSync=function(c){return ms(c)},Ln.hydrate=function(c,u,_){if(!Vl(u))throw Error(n(200));return Wl(null,c,u,!0,_)},Ln.hydrateRoot=function(c,u,_){if(!Sh(c))throw Error(n(405));var k=_!=null&&_.hydratedSources||null,O=!1,q="",Y=O3;if(_!=null&&(_.unstable_strictMode===!0&&(O=!0),_.identifierPrefix!==void 0&&(q=_.identifierPrefix),_.onRecoverableError!==void 0&&(Y=_.onRecoverableError)),u=R3(u,null,c,1,_??null,O,!1,q,Y),c[Jr]=u.current,_o(c),k)for(c=0;c<k.length;c++)_=k[c],O=_._getVersion,O=O(_._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[_,O]:u.mutableSourceEagerHydrationData.push(_,O);return new jl(u)},Ln.render=function(c,u,_){if(!Vl(u))throw Error(n(200));return Wl(null,c,u,!1,_)},Ln.unmountComponentAtNode=function(c){if(!Vl(c))throw Error(n(40));return c._reactRootContainer?(ms(function(){Wl(null,null,c,!1,function(){c._reactRootContainer=null,c[Jr]=null})}),!0):!1},Ln.unstable_batchedUpdates=ph,Ln.unstable_renderSubtreeIntoContainer=function(c,u,_,k){if(!Vl(_))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Wl(c,u,_,!1,k)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var V3;function L4(){if(V3)return Th.exports;V3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Th.exports=Ax(),Th.exports}var W3;function Mx(){if(W3)return Ul;W3=1;var t=L4();return Ul.createRoot=t.createRoot,Ul.hydrateRoot=t.hydrateRoot,Ul}var Px=Mx(),Bn=function(){return Bn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bn.apply(this,arguments)};function Mr(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(o=(a<3?l(o):a>3?l(e,n,o):l(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function Yt(t,e,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function f(w){try{m(r.next(w))}catch(b){l(b)}}function d(w){try{m(r.throw(w))}catch(b){l(b)}}function m(w){w.done?o(w.value):a(w.value).then(f,d)}m((r=r.apply(t,e||[])).next())})}function E0(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ct="-ms-",Qo="-moz-",at="-webkit-",B4="comm",Q0="rule",Cm="decl",Nx="@import",F4="@keyframes",Rx="@layer",z4=Math.abs,km=String.fromCharCode,D1=Object.assign;function Ix(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function $4(t){return t.trim()}function li(t,e){return(t=e.exec(t))?t[0]:t}function Ue(t,e,n){return t.replace(e,n)}function f0(t,e,n){return t.indexOf(e,n)}function rn(t,e){return t.charCodeAt(e)|0}function Ma(t,e,n){return t.slice(e,n)}function Fr(t){return t.length}function q4(t){return t.length}function Uo(t,e){return e.push(t),t}function Ox(t,e){return t.map(e).join("")}function H3(t,e){return t.filter(function(n){return!li(n,e)})}var Z0=1,Pa=1,j4=0,dr=0,Ut=0,Ha="";function J0(t,e,n,r,a,o,l,f){return{value:t,root:e,parent:n,type:r,props:a,children:o,line:Z0,column:Pa,length:l,return:"",siblings:f}}function Ui(t,e){return D1(J0("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function la(t){for(;t.root;)t=Ui(t.root,{children:[t]});Uo(t,t.siblings)}function Dx(){return Ut}function Lx(){return Ut=dr>0?rn(Ha,--dr):0,Pa--,Ut===10&&(Pa=1,Z0--),Ut}function Cr(){return Ut=dr<j4?rn(Ha,dr++):0,Pa++,Ut===10&&(Pa=1,Z0++),Ut}function Cs(){return rn(Ha,dr)}function h0(){return dr}function eu(t,e){return Ma(Ha,t,e)}function L1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bx(t){return Z0=Pa=1,j4=Fr(Ha=t),dr=0,[]}function Fx(t){return Ha="",t}function Mh(t){return $4(eu(dr-1,B1(t===91?t+2:t===40?t+1:t)))}function zx(t){for(;(Ut=Cs())&&Ut<33;)Cr();return L1(t)>2||L1(Ut)>3?"":" "}function $x(t,e){for(;--e&&Cr()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return eu(t,h0()+(e<6&&Cs()==32&&Cr()==32))}function B1(t){for(;Cr();)switch(Ut){case t:return dr;case 34:case 39:t!==34&&t!==39&&B1(Ut);break;case 40:t===41&&B1(t);break;case 92:Cr();break}return dr}function qx(t,e){for(;Cr()&&t+Ut!==57;)if(t+Ut===84&&Cs()===47)break;return"/*"+eu(e,dr-1)+"*"+km(t===47?t:Cr())}function jx(t){for(;!L1(Cs());)Cr();return eu(t,dr)}function Vx(t){return Fx(d0("",null,null,null,[""],t=Bx(t),0,[0],t))}function d0(t,e,n,r,a,o,l,f,d){for(var m=0,w=0,b=l,g=0,p=0,y=0,h=1,x=1,S=1,C=0,T="",M=a,A=o,B=r,F=T;x;)switch(y=C,C=Cr()){case 40:if(y!=108&&rn(F,b-1)==58){f0(F+=Ue(Mh(C),"&","&\f"),"&\f",z4(m?f[m-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:F+=Mh(C);break;case 9:case 10:case 13:case 32:F+=zx(y);break;case 92:F+=$x(h0()-1,7);continue;case 47:switch(Cs()){case 42:case 47:Uo(Wx(qx(Cr(),h0()),e,n,d),d);break;default:F+="/"}break;case 123*h:f[m++]=Fr(F)*S;case 125*h:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+w:S==-1&&(F=Ue(F,/\f/g,"")),p>0&&Fr(F)-b&&Uo(p>32?G3(F+";",r,n,b-1,d):G3(Ue(F," ","")+";",r,n,b-2,d),d);break;case 59:F+=";";default:if(Uo(B=U3(F,e,n,m,w,a,f,T,M=[],A=[],b,o),o),C===123)if(w===0)d0(F,e,B,B,M,o,b,f,A);else switch(g===99&&rn(F,3)===110?100:g){case 100:case 108:case 109:case 115:d0(t,B,B,r&&Uo(U3(t,B,B,0,0,a,f,T,a,M=[],b,A),A),a,A,b,f,r?M:A);break;default:d0(F,B,B,B,[""],A,0,f,A)}}m=w=p=0,h=S=1,T=F="",b=l;break;case 58:b=1+Fr(F),p=y;default:if(h<1){if(C==123)--h;else if(C==125&&h++==0&&Lx()==125)continue}switch(F+=km(C),C*h){case 38:S=w>0?1:(F+="\f",-1);break;case 44:f[m++]=(Fr(F)-1)*S,S=1;break;case 64:Cs()===45&&(F+=Mh(Cr())),g=Cs(),w=b=Fr(T=F+=jx(h0())),C++;break;case 45:y===45&&Fr(F)==2&&(h=0)}}return o}function U3(t,e,n,r,a,o,l,f,d,m,w,b){for(var g=a-1,p=a===0?o:[""],y=q4(p),h=0,x=0,S=0;h<r;++h)for(var C=0,T=Ma(t,g+1,g=z4(x=l[h])),M=t;C<y;++C)(M=$4(x>0?p[C]+" "+T:Ue(T,/&\f/g,p[C])))&&(d[S++]=M);return J0(t,e,n,a===0?Q0:f,d,m,w,b)}function Wx(t,e,n,r){return J0(t,e,n,B4,km(Dx()),Ma(t,2,-2),0,r)}function G3(t,e,n,r,a){return J0(t,e,n,Cm,Ma(t,0,r),Ma(t,r+1,-1),r,a)}function V4(t,e,n){switch(Ix(t,e)){case 5103:return at+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+t+t;case 4789:return Qo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return at+t+Qo+t+Ct+t+t;case 5936:switch(rn(t,e+11)){case 114:return at+t+Ct+Ue(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return at+t+Ct+Ue(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return at+t+Ct+Ue(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return at+t+Ct+t+t;case 6165:return at+t+Ct+"flex-"+t+t;case 5187:return at+t+Ue(t,/(\w+).+(:[^]+)/,at+"box-$1$2"+Ct+"flex-$1$2")+t;case 5443:return at+t+Ct+"flex-item-"+Ue(t,/flex-|-self/g,"")+(li(t,/flex-|baseline/)?"":Ct+"grid-row-"+Ue(t,/flex-|-self/g,""))+t;case 4675:return at+t+Ct+"flex-line-pack"+Ue(t,/align-content|flex-|-self/g,"")+t;case 5548:return at+t+Ct+Ue(t,"shrink","negative")+t;case 5292:return at+t+Ct+Ue(t,"basis","preferred-size")+t;case 6060:return at+"box-"+Ue(t,"-grow","")+at+t+Ct+Ue(t,"grow","positive")+t;case 4554:return at+Ue(t,/([^-])(transform)/g,"$1"+at+"$2")+t;case 6187:return Ue(Ue(Ue(t,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),t,"")+t;case 5495:case 3959:return Ue(t,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return Ue(Ue(t,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+Ct+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+t+t;case 4200:if(!li(t,/flex-|baseline/))return Ct+"grid-column-align"+Ma(t,e)+t;break;case 2592:case 3360:return Ct+Ue(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,a){return e=a,li(r.props,/grid-\w+-end/)})?~f0(t+(n=n[e].value),"span",0)?t:Ct+Ue(t,"-start","")+t+Ct+"grid-row-span:"+(~f0(n,"span",0)?li(n,/\d+/):+li(n,/\d+/)-+li(t,/\d+/))+";":Ct+Ue(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return li(r.props,/grid-\w+-start/)})?t:Ct+Ue(Ue(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ue(t,/(.+)-inline(.+)/,at+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fr(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return Ue(t,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+Qo+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~f0(t,"stretch",0)?V4(Ue(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ue(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,a,o,l,f,d,m){return Ct+a+":"+o+m+(l?Ct+a+"-span:"+(f?d:+d-+o)+m:"")+t});case 4949:if(rn(t,e+6)===121)return Ue(t,":",":"+at)+t;break;case 6444:switch(rn(t,rn(t,14)===45?18:11)){case 120:return Ue(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+at+(rn(t,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+Ct+"$2box$3")+t;case 100:return Ue(t,":",":"+Ct)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ue(t,"scroll-","scroll-snap-")+t}return t}function A0(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Hx(t,e,n,r){switch(t.type){case Rx:if(t.children.length)break;case Nx:case Cm:return t.return=t.return||t.value;case B4:return"";case F4:return t.return=t.value+"{"+A0(t.children,r)+"}";case Q0:if(!Fr(t.value=t.props.join(",")))return""}return Fr(n=A0(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ux(t){var e=q4(t);return function(n,r,a,o){for(var l="",f=0;f<e;f++)l+=t[f](n,r,a,o)||"";return l}}function Gx(t){return function(e){e.root||(e=e.return)&&t(e)}}function Yx(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Cm:t.return=V4(t.value,t.length,n);return;case F4:return A0([Ui(t,{value:Ue(t.value,"@","@"+at)})],r);case Q0:if(t.length)return Ox(n=t.props,function(a){switch(li(a,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":la(Ui(t,{props:[Ue(a,/:(read-\w+)/,":"+Qo+"$1")]})),la(Ui(t,{props:[a]})),D1(t,{props:H3(n,r)});break;case"::placeholder":la(Ui(t,{props:[Ue(a,/:(plac\w+)/,":"+at+"input-$1")]})),la(Ui(t,{props:[Ue(a,/:(plac\w+)/,":"+Qo+"$1")]})),la(Ui(t,{props:[Ue(a,/:(plac\w+)/,Ct+"input-$1")]})),la(Ui(t,{props:[a]})),D1(t,{props:H3(n,r)});break}return""})}}var Xx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gn={},Na=typeof process<"u"&&Gn!==void 0&&(Gn.REACT_APP_SC_ATTR||Gn.SC_ATTR)||"data-styled",W4="active",H4="data-styled-version",tu="6.1.14",Tm=`/*!sc*/
`,M0=typeof window<"u"&&"HTMLElement"in window,Kx=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gn!==void 0&&Gn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gn.REACT_APP_SC_DISABLE_SPEEDY!==""?Gn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gn!==void 0&&Gn.SC_DISABLE_SPEEDY!==void 0&&Gn.SC_DISABLE_SPEEDY!==""&&Gn.SC_DISABLE_SPEEDY!=="false"&&Gn.SC_DISABLE_SPEEDY),nu=Object.freeze([]),Ra=Object.freeze({});function Qx(t,e,n){return n===void 0&&(n=Ra),t.theme!==n.theme&&t.theme||e||n.theme}var U4=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Zx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Jx=/(^-|-$)/g;function Y3(t){return t.replace(Zx,"-").replace(Jx,"")}var eS=/(a)(d)/gi,Gl=52,X3=function(t){return String.fromCharCode(t+(t>25?39:97))};function F1(t){var e,n="";for(e=Math.abs(t);e>Gl;e=e/Gl|0)n=X3(e%Gl)+n;return(X3(e%Gl)+n).replace(eS,"$1-$2")}var Ph,G4=5381,ba=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Y4=function(t){return ba(G4,t)};function tS(t){return F1(Y4(t)>>>0)}function nS(t){return t.displayName||t.name||"Component"}function Nh(t){return typeof t=="string"&&!0}var X4=typeof Symbol=="function"&&Symbol.for,K4=X4?Symbol.for("react.memo"):60115,rS=X4?Symbol.for("react.forward_ref"):60112,iS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aS=((Ph={})[rS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ph[K4]=Q4,Ph);function K3(t){return("type"in(e=t)&&e.type.$$typeof)===K4?Q4:"$$typeof"in t?aS[t.$$typeof]:iS;var e}var oS=Object.defineProperty,cS=Object.getOwnPropertyNames,Q3=Object.getOwnPropertySymbols,lS=Object.getOwnPropertyDescriptor,uS=Object.getPrototypeOf,Z3=Object.prototype;function Z4(t,e,n){if(typeof e!="string"){if(Z3){var r=uS(e);r&&r!==Z3&&Z4(t,r,n)}var a=cS(e);Q3&&(a=a.concat(Q3(e)));for(var o=K3(t),l=K3(e),f=0;f<a.length;++f){var d=a[f];if(!(d in sS||n&&n[d]||l&&d in l||o&&d in o)){var m=lS(e,d);try{oS(t,d,m)}catch{}}}}return t}function Ia(t){return typeof t=="function"}function Em(t){return typeof t=="object"&&"styledComponentId"in t}function xs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function J3(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function rc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function z1(t,e,n){if(n===void 0&&(n=!1),!n&&!rc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=z1(t[r],e[r]);else if(rc(e))for(var r in e)t[r]=z1(t[r],e[r]);return t}function Am(t,e){Object.defineProperty(t,"toString",{value:e})}function mc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fS=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,a=r.length,o=a;e>=o;)if((o<<=1)<0)throw mc(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var l=a;l<o;l++)this.groupSizes[l]=0}for(var f=this.indexOfGroup(e+1),d=(l=0,n.length);l<d;l++)this.tag.insertRule(f,n[l])&&(this.groupSizes[e]++,f++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n;this.groupSizes[e]=0;for(var o=r;o<a;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],a=this.indexOfGroup(e),o=a+r,l=a;l<o;l++)n+="".concat(this.tag.getRule(l)).concat(Tm);return n},t}(),p0=new Map,P0=new Map,m0=1,Yl=function(t){if(p0.has(t))return p0.get(t);for(;P0.has(m0);)m0++;var e=m0++;return p0.set(t,e),P0.set(e,t),e},hS=function(t,e){m0=e+1,p0.set(t,e),P0.set(e,t)},dS="style[".concat(Na,"][").concat(H4,'="').concat(tu,'"]'),pS=new RegExp("^".concat(Na,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),mS=function(t,e,n){for(var r,a=n.split(","),o=0,l=a.length;o<l;o++)(r=a[o])&&t.registerName(e,r)},gS=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Tm),a=[],o=0,l=r.length;o<l;o++){var f=r[o].trim();if(f){var d=f.match(pS);if(d){var m=0|parseInt(d[1],10),w=d[2];m!==0&&(hS(w,m),mS(t,w,d[3]),t.getTag().insertRules(m,a)),a.length=0}else a.push(f)}}},ey=function(t){for(var e=document.querySelectorAll(dS),n=0,r=e.length;n<r;n++){var a=e[n];a&&a.getAttribute(Na)!==W4&&(gS(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function vS(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var J4=function(t){var e=document.head,n=t||e,r=document.createElement("style"),a=function(f){var d=Array.from(f.querySelectorAll("style[".concat(Na,"]")));return d[d.length-1]}(n),o=a!==void 0?a.nextSibling:null;r.setAttribute(Na,W4),r.setAttribute(H4,tu);var l=vS();return l&&r.setAttribute("nonce",l),n.insertBefore(r,o),r},yS=function(){function t(e){this.element=J4(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,a=0,o=r.length;a<o;a++){var l=r[a];if(l.ownerNode===n)return l}throw mc(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),bS=function(){function t(e){this.element=J4(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),wS=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),ty=M0,_S={isServer:!M0,useCSSOMInjection:!Kx},ew=function(){function t(e,n,r){e===void 0&&(e=Ra),n===void 0&&(n={});var a=this;this.options=Bn(Bn({},_S),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&M0&&ty&&(ty=!1,ey(this)),Am(this,function(){return function(o){for(var l=o.getTag(),f=l.length,d="",m=function(b){var g=function(S){return P0.get(S)}(b);if(g===void 0)return"continue";var p=o.names.get(g),y=l.getGroup(b);if(p===void 0||!p.size||y.length===0)return"continue";var h="".concat(Na,".g").concat(b,'[id="').concat(g,'"]'),x="";p!==void 0&&p.forEach(function(S){S.length>0&&(x+="".concat(S,","))}),d+="".concat(y).concat(h,'{content:"').concat(x,'"}').concat(Tm)},w=0;w<f;w++)m(w);return d}(a)})}return t.registerId=function(e){return Yl(e)},t.prototype.rehydrate=function(){!this.server&&M0&&ey(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Bn(Bn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,a=n.target;return n.isServer?new wS(a):r?new yS(a):new bS(a)}(this.options),new fS(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Yl(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Yl(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Yl(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),xS=/&/g,SS=/^\s*\/\/.*$/gm;function tw(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=tw(n.children,e)),n})}function CS(t){var e,n,r,a=Ra,o=a.options,l=o===void 0?Ra:o,f=a.plugins,d=f===void 0?nu:f,m=function(g,p,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):g},w=d.slice();w.push(function(g){g.type===Q0&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(xS,n).replace(r,m))}),l.prefix&&w.push(Yx),w.push(Hx);var b=function(g,p,y,h){p===void 0&&(p=""),y===void 0&&(y=""),h===void 0&&(h="&"),e=h,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=g.replace(SS,""),S=Vx(y||p?"".concat(y," ").concat(p," { ").concat(x," }"):x);l.namespace&&(S=tw(S,l.namespace));var C=[];return A0(S,Ux(w.concat(Gx(function(T){return C.push(T)})))),C};return b.hash=d.length?d.reduce(function(g,p){return p.name||mc(15),ba(g,p.name)},G4).toString():"",b}var kS=new ew,$1=CS(),nw=wn.createContext({shouldForwardProp:void 0,styleSheet:kS,stylis:$1});nw.Consumer;wn.createContext(void 0);function ny(){return Q.useContext(nw)}var TS=function(){function t(e,n){var r=this;this.inject=function(a,o){o===void 0&&(o=$1);var l=r.name+o.hash;a.hasNameForId(r.id,l)||a.insertRules(r.id,l,o(r.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Am(this,function(){throw mc(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=$1),this.name+e.hash},t}(),ES=function(t){return t>="A"&&t<="Z"};function ry(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;ES(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var rw=function(t){return t==null||t===!1||t===""},iw=function(t){var e,n,r=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!rw(o)&&(Array.isArray(o)&&o.isCss||Ia(o)?r.push("".concat(ry(a),":"),o,";"):rc(o)?r.push.apply(r,E0(E0(["".concat(a," {")],iw(o),!1),["}"],!1)):r.push("".concat(ry(a),": ").concat((e=a,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Xx||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ks(t,e,n,r){if(rw(t))return[];if(Em(t))return[".".concat(t.styledComponentId)];if(Ia(t)){if(!Ia(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var a=t(e);return ks(a,e,n,r)}var o;return t instanceof TS?n?(t.inject(n,r),[t.getName(r)]):[t]:rc(t)?iw(t):Array.isArray(t)?Array.prototype.concat.apply(nu,t.map(function(l){return ks(l,e,n,r)})):[t.toString()]}function AS(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ia(n)&&!Em(n))return!1}return!0}var MS=Y4(tu),PS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&AS(e),this.componentId=n,this.baseHash=ba(MS,n),this.baseStyle=r,ew.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))a=xs(a,this.staticRulesId);else{var o=J3(ks(this.rules,e,n,r)),l=F1(ba(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,l)){var f=r(o,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,f)}a=xs(a,l),this.staticRulesId=l}else{for(var d=ba(this.baseHash,r.hash),m="",w=0;w<this.rules.length;w++){var b=this.rules[w];if(typeof b=="string")m+=b;else if(b){var g=J3(ks(b,e,n,r));d=ba(d,g+w),m+=g}}if(m){var p=F1(d>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(m,".".concat(p),void 0,this.componentId)),a=xs(a,p)}}return a},t}(),sw=wn.createContext(void 0);sw.Consumer;var Rh={};function NS(t,e,n){var r=Em(t),a=t,o=!Nh(t),l=e.attrs,f=l===void 0?nu:l,d=e.componentId,m=d===void 0?function(M,A){var B=typeof M!="string"?"sc":Y3(M);Rh[B]=(Rh[B]||0)+1;var F="".concat(B,"-").concat(tS(tu+B+Rh[B]));return A?"".concat(A,"-").concat(F):F}(e.displayName,e.parentComponentId):d,w=e.displayName,b=w===void 0?function(M){return Nh(M)?"styled.".concat(M):"Styled(".concat(nS(M),")")}(t):w,g=e.displayName&&e.componentId?"".concat(Y3(e.displayName),"-").concat(e.componentId):e.componentId||m,p=r&&a.attrs?a.attrs.concat(f).filter(Boolean):f,y=e.shouldForwardProp;if(r&&a.shouldForwardProp){var h=a.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;y=function(M,A){return h(M,A)&&x(M,A)}}else y=h}var S=new PS(n,g,r?a.componentStyle:void 0);function C(M,A){return function(B,F,E){var $=B.attrs,P=B.componentStyle,z=B.defaultProps,j=B.foldedComponentIds,V=B.styledComponentId,L=B.target,D=wn.useContext(sw),W=ny(),G=B.shouldForwardProp||W.shouldForwardProp,U=Qx(F,D,z)||Ra,R=function(K,ae,he){for(var ee,ge=Bn(Bn({},ae),{className:void 0,theme:he}),Se=0;Se<K.length;Se+=1){var de=Ia(ee=K[Se])?ee(ge):ee;for(var ke in de)ge[ke]=ke==="className"?xs(ge[ke],de[ke]):ke==="style"?Bn(Bn({},ge[ke]),de[ke]):de[ke]}return ae.className&&(ge.className=xs(ge.className,ae.className)),ge}($,F,U),I=R.as||L,N={};for(var H in R)R[H]===void 0||H[0]==="$"||H==="as"||H==="theme"&&R.theme===U||(H==="forwardedAs"?N.as=R.forwardedAs:G&&!G(H,I)||(N[H]=R[H]));var X=function(K,ae){var he=ny(),ee=K.generateAndInjectStyles(ae,he.styleSheet,he.stylis);return ee}(P,R),Z=xs(j,V);return X&&(Z+=" "+X),R.className&&(Z+=" "+R.className),N[Nh(I)&&!U4.has(I)?"class":"className"]=Z,E&&(N.ref=E),Q.createElement(I,N)}(T,M,A)}C.displayName=b;var T=wn.forwardRef(C);return T.attrs=p,T.componentStyle=S,T.displayName=b,T.shouldForwardProp=y,T.foldedComponentIds=r?xs(a.foldedComponentIds,a.styledComponentId):"",T.styledComponentId=g,T.target=r?a.target:t,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(M){this._foldedDefaultProps=r?function(A){for(var B=[],F=1;F<arguments.length;F++)B[F-1]=arguments[F];for(var E=0,$=B;E<$.length;E++)z1(A,$[E],!0);return A}({},a.defaultProps,M):M}}),Am(T,function(){return".".concat(T.styledComponentId)}),o&&Z4(T,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function iy(t,e){for(var n=[t[0]],r=0,a=e.length;r<a;r+=1)n.push(e[r],t[r+1]);return n}var sy=function(t){return Object.assign(t,{isCss:!0})};function RS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ia(t)||rc(t))return sy(ks(iy(nu,E0([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ks(r):sy(ks(iy(r,e)))}function q1(t,e,n){if(n===void 0&&(n=Ra),!e)throw mc(1,e);var r=function(a){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];return t(e,n,RS.apply(void 0,E0([a],o,!1)))};return r.attrs=function(a){return q1(t,e,Bn(Bn({},n),{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},r.withConfig=function(a){return q1(t,e,Bn(Bn({},n),a))},r}var aw=function(t){return q1(NS,t)},ot=aw;U4.forEach(function(t){ot[t]=aw(t)});function ow(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function cw(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var lw=[0,2,4,-1,1,3,5],uw=lw.map(t=>Math.floor(t*7/12));function fw(t){const{step:e,alt:n,oct:r,dir:a=1}=t,o=lw[e]+7*n;if(r===void 0)return[a*o];const l=r-uw[e]-4*n;return[a*o,a*l]}var IS=[3,0,4,1,5,2,6];function OS(t){const[e,n,r]=t,a=IS[DS(e)],o=Math.floor((e+1)/7);if(n===void 0)return{step:a,alt:o,dir:r};const l=n+4*o+uw[a];return{step:a,alt:o,oct:l,dir:r}}function DS(t){const e=(t+1)%7;return e<0?7+e:e}var ay=(t,e)=>Array(Math.abs(e)+1).join(t),j1=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),LS="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",BS="(AA|A|P|M|m|d|dd)([-+]?\\d+)",FS=new RegExp("^"+LS+"|"+BS+"$");function zS(t){const e=FS.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var oy={};function N0(t){return typeof t=="string"?oy[t]||(oy[t]=$S(t)):cw(t)?N0(jS(t)):ow(t)?N0(t.name):j1}var cy=[0,2,4,5,7,9,11],hw="PMMPPMM";function $S(t){const e=zS(t);if(e[0]==="")return j1;const n=+e[0],r=e[1],a=(Math.abs(n)-1)%7,o=hw[a];if(o==="M"&&r==="P")return j1;const l=o==="M"?"majorable":"perfectable",f=""+n+r,d=n<0?-1:1,m=n===8||n===-8?n:d*(a+1),w=qS(l,r),b=Math.floor((Math.abs(n)-1)/7),g=d*(cy[a]+w+12*b),p=(d*(cy[a]+w)%12+12)%12,y=fw({step:a,alt:w,oct:b,dir:d});return{empty:!1,name:f,num:n,q:r,step:a,alt:w,dir:d,type:l,simple:m,semitones:g,chroma:p,coord:y,oct:b}}function qS(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function jS(t){const{step:e,alt:n,oct:r=0,dir:a}=t;if(!a)return"";const o=e+1+7*r,l=o===0?e+1:o,f=a<0?"-":"",d=hw[e]==="M"?"majorable":"perfectable";return f+l+VS(d,n)}function VS(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?ay("A",e):ay("d",t==="perfectable"?e:e+1)}var ly=(t,e)=>Array(Math.abs(e)+1).join(t),dw=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),uy=new Map,WS=t=>"CDEFGAB".charAt(t),HS=t=>t<0?ly("b",-t):ly("#",t),US=t=>t[0]==="b"?-t.length:t.length;function di(t){const e=JSON.stringify(t),n=uy.get(e);if(n)return n;const r=typeof t=="string"?QS(t):cw(t)?di(ZS(t)):ow(t)?di(t.name):dw;return uy.set(e,r),r}var GS=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function YS(t){const e=GS.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function XS(t){return di(OS(t))}var KS=(t,e)=>(t%e+e)%e,Ih=[0,2,4,5,7,9,11];function QS(t){const e=YS(t);if(e[0]===""||e[3]!=="")return dw;const n=e[0],r=e[1],a=e[2],o=(n.charCodeAt(0)+3)%7,l=US(r),f=a.length?+a:void 0,d=fw({step:o,alt:l,oct:f}),m=n+r+a,w=n+r,b=(Ih[o]+l+120)%12,g=f===void 0?KS(Ih[o]+l,12)-12*99:Ih[o]+l+12*(f+1),p=g>=0&&g<=127?g:null,y=f===void 0?null:Math.pow(2,(g-69)/12)*440;return{empty:!1,acc:r,alt:l,chroma:b,coord:d,freq:y,height:g,letter:n,midi:p,name:m,oct:f,pc:w,step:o}}function ZS(t){const{step:e,alt:n,oct:r}=t,a=WS(e);if(!a)return"";const o=a+HS(n);return r||r===0?o+r:o}function pw(t,e){const n=di(t),r=Array.isArray(e)?e:N0(e).coord;if(n.empty||!r||r.length<2)return"";const a=n.coord,o=a.length===1?[a[0]+r[0]]:[a[0]+r[0],a[1]+r[1]];return XS(o).name}function mw(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}var Es={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},gw=t=>Number(t).toString(2).padStart(12,"0"),fy=t=>parseInt(t,2),JS=/^[01]{12}$/;function vw(t){return JS.test(t)}var eC=t=>typeof t=="number"&&t>=0&&t<=4095,tC=t=>t&&vw(t.chroma),hy={[Es.chroma]:Es};function yw(t){const e=vw(t)?t:eC(t)?gw(t):Array.isArray(t)?aC(t):tC(t)?t.chroma:Es.chroma;return hy[e]=hy[e]||sC(e)}var nC=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function rC(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(nC[n]);return e}function iC(t){const e=t.split("");return e.map((n,r)=>mw(r,e).join(""))}function sC(t){const e=fy(t),n=iC(t).map(fy).filter(o=>o>=2048).sort()[0],r=gw(n),a=rC(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:a}}function aC(t){if(t.length===0)return Es.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=di(t[r]),e.empty&&(e=N0(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var oC=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],cC=oC;({...Es});var bw=[],g0={};function lC(t,e,n){const r=fC(t),a={...yw(t),name:n||"",quality:r,intervals:t,aliases:e};bw.push(a),a.name&&(g0[a.name]=a),g0[a.setNum]=a,g0[a.chroma]=a,a.aliases.forEach(o=>uC(a,o))}function uC(t,e){g0[e]=t}function fC(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}cC.forEach(([t,e,n])=>lC(t.split(" "),n.split(" "),e));bw.sort((t,e)=>t.setNum-e.setNum);var hC=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],dC=hC,pC={...Es,intervals:[],aliases:[]},Zo={};function ww(t){return Zo[t]||pC}function mC(t,e,n=[]){const r={...yw(t),name:e,intervals:t,aliases:n};return Zo[r.name]=r,Zo[r.setNum]=r,Zo[r.chroma]=r,r.aliases.forEach(a=>gC(r,a)),r}function gC(t,e){Zo[e]=t}dC.forEach(([t,e,...n])=>mC(t.split(" "),e,n));var vC=di,yC=t=>vC(t).midi,Mm=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],dy={...Es,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},bC=Mm.map(wC),V1={};bC.forEach(t=>{V1[t.name]=t,t.aliases.forEach(e=>{V1[e]=t})});function _w(t){return typeof t=="string"?V1[t.toLowerCase()]||dy:t&&t.name?_w(t.name):dy}function wC(t){const[e,n,r,a,o,l,f]=t,d=f?[f]:[],m=Number(n).toString(2);return{empty:!1,intervals:ww(a).intervals,modeNum:e,chroma:m,normalized:m,name:a,setNum:n,alt:r,triad:o,seventh:l,aliases:d}}function xw(t){return(e,n)=>{const r=_w(e);if(r.empty)return[];const a=mw(r.modeNum,t),o=r.intervals.map(l=>pw(n,l));return a.map((l,f)=>o[f]+l)}}xw(Mm.map(t=>t[4]));xw(Mm.map(t=>t[5]));var _C={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function xC(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=di(t.substring(0,e));if(n.empty){const a=di(t);return a.empty?["",t]:[a.name,""]}const r=t.substring(n.name.length+1).toLowerCase();return[n.name,r.length?r:""]}function Oh(t){const e=Array.isArray(t)?t:xC(t),n=di(e[0]).name,r=ww(e[1]);if(r.empty)return _C;const a=r.name,o=n?r.intervals.map(f=>pw(n,f)):[],l=n?n+" "+a:a;return{...r,name:l,type:a,tonic:n,notes:o}}const Sw="15.0.4",py=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),my=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),W1=(t,e)=>({startTime:e,type:"setValue",value:t}),Cw=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),kw=(t,e,{startTime:n,target:r,timeConstant:a})=>r+(e-r)*Math.exp((n-t)/a),wa=t=>t.type==="exponentialRampToValue",R0=t=>t.type==="linearRampToValue",Gi=t=>wa(t)||R0(t),Pm=t=>t.type==="setValue",ui=t=>t.type==="setValueCurve",I0=(t,e,n,r)=>{const a=t[e];return a===void 0?r:Gi(a)||Pm(a)?a.value:ui(a)?a.values[a.values.length-1]:kw(n,I0(t,e-1,a.startTime,r),a)},gy=(t,e,n,r,a)=>n===void 0?[r.insertTime,a]:Gi(n)?[n.endTime,n.value]:Pm(n)?[n.startTime,n.value]:ui(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,I0(t,e-1,n.startTime,a)],H1=t=>t.type==="cancelAndHold",U1=t=>t.type==="cancelScheduledValues",Wi=t=>H1(t)||U1(t)?t.cancelTime:wa(t)||R0(t)?t.endTime:t.startTime,vy=(t,e,n,{endTime:r,value:a})=>n===a?a:0<n&&0<a||n<0&&a<0?n*(a/n)**((t-e)/(r-e)):0,yy=(t,e,n,{endTime:r,value:a})=>n+(t-e)/(r-e)*(a-n),SC=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},CC=(t,{duration:e,startTime:n,values:r})=>{const a=(t-n)/e*(r.length-1);return SC(r,a)},Xl=t=>t.type==="setTarget";class kC{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Wi(e);if(H1(e)||U1(e)){const r=this._automationEvents.findIndex(o=>U1(e)&&ui(o)?o.startTime+o.duration>=n:Wi(o)>=n),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),H1(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&Gi(a)){if(o!==void 0&&Xl(o))throw new Error("The internal list is malformed.");const l=o===void 0?a.insertTime:ui(o)?o.startTime+o.duration:Wi(o),f=o===void 0?this._defaultValue:ui(o)?o.values[o.values.length-1]:o.value,d=wa(a)?vy(n,l,f,a):yy(n,l,f,a),m=wa(a)?py(d,n,this._currenTime):my(d,n,this._currenTime);this._automationEvents.push(m)}if(o!==void 0&&Xl(o)&&this._automationEvents.push(W1(this.getValue(n),n)),o!==void 0&&ui(o)&&o.startTime+o.duration>n){const l=n-o.startTime,f=(o.values.length-1)/o.duration,d=Math.max(2,1+Math.ceil(l*f)),m=l/(d-1)*f,w=o.values.slice(0,d);if(m<1)for(let b=1;b<d;b+=1){const g=m*b%1;w[b]=o.values[b-1]*(1-g)+o.values[b]*g}this._automationEvents[this._automationEvents.length-1]=Cw(w,o.startTime,l)}}}else{const r=this._automationEvents.findIndex(l=>Wi(l)>n),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&ui(a)&&Wi(a)+a.duration>n)return!1;const o=wa(e)?py(e.value,e.endTime,this._currenTime):R0(e)?my(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(ui(e)&&n+e.duration>Wi(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Wi(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),a=r[0];Xl(a)&&r.unshift(W1(I0(this._automationEvents,n-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(l=>Wi(l)>e),r=this._automationEvents[n],a=(n===-1?this._automationEvents.length:n)-1,o=this._automationEvents[a];if(o!==void 0&&Xl(o)&&(r===void 0||!Gi(r)||r.insertTime>e))return kw(e,I0(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Pm(o)&&(r===void 0||!Gi(r)))return o.value;if(o!==void 0&&ui(o)&&(r===void 0||!Gi(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?CC(e,o):o.values[o.values.length-1];if(o!==void 0&&Gi(o)&&(r===void 0||!Gi(r)))return o.value;if(r!==void 0&&wa(r)){const[l,f]=gy(this._automationEvents,a,o,r,this._defaultValue);return vy(e,l,f,r)}if(r!==void 0&&R0(r)){const[l,f]=gy(this._automationEvents,a,o,r,this._defaultValue);return yy(e,l,f,r)}return this._defaultValue}}const TC=t=>({cancelTime:t,type:"cancelAndHold"}),EC=t=>({cancelTime:t,type:"cancelScheduledValues"}),AC=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),MC=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),PC=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),NC=()=>new DOMException("","AbortError"),RC=t=>(e,n,[r,a,o],l)=>{t(e[a],[n,r,o],f=>f[0]===n&&f[1]===r,l)},IC=t=>(e,n,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);t.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},OC=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Oa=new WeakSet,Tw=new WeakMap,Nm=new WeakMap,Ew=new WeakMap,Rm=new WeakMap,ru=new WeakMap,Aw=new WeakMap,G1=new WeakMap,Y1=new WeakMap,X1=new WeakMap,Mw={construct(){return Mw}},DC=t=>{try{const e=new Proxy(t,Mw);new e}catch{return!1}return!0},by=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,wy=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),a=r.match(by);for(;a!==null;){const o=a[1].slice(1,-1),l=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());n.push(l),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(by)}return[n.join(";"),r]},_y=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},xy=t=>{if(!DC(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},LC=(t,e,n,r,a,o,l,f,d,m,w,b,g)=>{let p=0;return(y,h,x={credentials:"omit"})=>{const S=w.get(y);if(S!==void 0&&S.has(h))return Promise.resolve();const C=m.get(y);if(C!==void 0){const A=C.get(h);if(A!==void 0)return A}const T=o(y),M=T.audioWorklet===void 0?a(h).then(([A,B])=>{const[F,E]=wy(A,B),$=`${F};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n($)}).then(()=>{const A=g._AWGS.pop();if(A===void 0)throw new SyntaxError;r(T.currentTime,T.sampleRate,()=>A(class{},void 0,(B,F)=>{if(B.trim()==="")throw e();const E=Y1.get(T);if(E!==void 0){if(E.has(B))throw e();xy(F),_y(F.parameterDescriptors),E.set(B,F)}else xy(F),_y(F.parameterDescriptors),Y1.set(T,new Map([[B,F]]))},T.sampleRate,void 0,void 0))}):Promise.all([a(h),Promise.resolve(t(b,b))]).then(([[A,B],F])=>{const E=p+1;p=E;const[$,P]=wy(A,B),L=`${$};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${F?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${F?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${F?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,D=new Blob([L],{type:"application/javascript; charset=utf-8"}),W=URL.createObjectURL(D);return T.audioWorklet.addModule(W,x).then(()=>{if(f(T))return T;const G=l(T);return G.audioWorklet.addModule(W,x).then(()=>G)}).then(G=>{if(d===null)throw new SyntaxError;try{new d(G,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(W))});return C===void 0?m.set(y,new Map([[h,M]])):C.set(h,M),M.then(()=>{const A=w.get(y);A===void 0?w.set(y,new Set([h])):A.add(h)}).finally(()=>{const A=m.get(y);A!==void 0&&A.delete(h)}),M}},Tr=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},iu=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Pw=(t,e,n,r)=>{const a=Tr(t,e),o=iu(a,l=>l[0]===n&&l[1]===r);return a.size===0&&t.delete(e),o},gc=t=>Tr(Aw,t),Da=t=>{if(Oa.has(t))throw new Error("The AudioNode is already stored.");Oa.add(t),gc(t).forEach(e=>e(!0))},Nw=t=>"port"in t,vc=t=>{if(!Oa.has(t))throw new Error("The AudioNode is not stored.");Oa.delete(t),gc(t).forEach(e=>e(!1))},K1=(t,e)=>{!Nw(t)&&e.every(n=>n.size===0)&&vc(t)},BC=(t,e,n,r,a,o,l,f,d,m,w,b,g)=>{const p=new WeakMap;return(y,h,x,S,C)=>{const{activeInputs:T,passiveInputs:M}=o(h),{outputs:A}=o(y),B=f(y),F=E=>{const $=d(h),P=d(y);if(E){const z=Pw(M,y,x,S);t(T,y,z,!1),!C&&!b(y)&&n(P,$,x,S),g(h)&&Da(h)}else{const z=r(T,y,x,S);e(M,S,z,!1),!C&&!b(y)&&a(P,$,x,S);const j=l(h);if(j===0)w(h)&&K1(h,T);else{const V=p.get(h);V!==void 0&&clearTimeout(V),p.set(h,setTimeout(()=>{w(h)&&K1(h,T)},j*1e3))}}};return m(A,[h,x,S],E=>E[0]===h&&E[1]===x&&E[2]===S,!0)?(B.add(F),w(y)?t(T,y,[x,S,F],!0):e(M,S,[y,x,F],!0),!0):!1}},FC=t=>(e,n,[r,a,o],l)=>{const f=e.get(r);f===void 0?e.set(r,new Set([[a,n,o]])):t(f,[a,n,o],d=>d[0]===a&&d[1]===n,l)},zC=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const a=()=>{n.removeEventListener("ended",a),n.disconnect(r),r.disconnect()};n.addEventListener("ended",a)},$C=t=>(e,n)=>{t(e).add(n)},qC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},jC=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=a(f),w={...qC,...d},b=r(m,w),g=o(m)?e():null;super(f,!1,b,g),this._nativeAnalyserNode=b}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=d,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},Sn=(t,e)=>t.context===e,VC=(t,e,n)=>()=>{const r=new WeakMap,a=async(o,l)=>{let f=e(o);if(!Sn(f,l)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=t(l,m)}return r.set(l,f),await n(o,l,f),f};return{render(o,l){const f=r.get(l);return f!==void 0?Promise.resolve(f):a(o,l)}}},O0=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ur=()=>new DOMException("","IndexSizeError"),Im=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Ur():r}})(t.getChannelData)},WC={numberOfChannels:1},HC=(t,e,n,r,a,o,l,f)=>{let d=null;return class Rw{constructor(w){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:b,numberOfChannels:g,sampleRate:p}={...WC,...w};d===null&&(d=new a(1,1,44100));const y=r!==null&&e(o,o)?new r({length:b,numberOfChannels:g,sampleRate:p}):d.createBuffer(g,b,p);if(y.numberOfChannels===0)throw n();return typeof y.copyFromChannel!="function"?(l(y),Im(y)):e(O0,()=>O0(y))||f(y),t.add(y),y}static[Symbol.hasInstance](w){return w!==null&&typeof w=="object"&&Object.getPrototypeOf(w)===Rw.prototype||t.has(w)}}},Yn=-34028234663852886e22,En=34028234663852886e22,fi=t=>Oa.has(t),UC={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},GC=(t,e,n,r,a,o,l,f)=>class extends t{constructor(m,w){const b=o(m),g={...UC,...w},p=a(b,g),y=l(b),h=y?e():null;super(m,!1,p,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=g.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,y,p.playbackRate,En,Yn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const w=typeof m=="function"?f(this,m):null;this._nativeAudioBufferSourceNode.onended=w;const b=this._nativeAudioBufferSourceNode.onended;this._onended=b!==null&&b===w?m:b}get playbackRate(){return this._playbackRate}start(m=0,w=0,b){if(this._nativeAudioBufferSourceNode.start(m,w,b),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=b===void 0?[m,w]:[m,w,b]),this.context.state!=="closed"){Da(this);const g=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",g),fi(this)&&vc(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",g)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},YC=(t,e,n,r,a)=>()=>{const o=new WeakMap;let l=null,f=null;const d=async(m,w)=>{let b=n(m);const g=Sn(b,w);if(!g){const p={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,loop:b.loop,loopEnd:b.loopEnd,loopStart:b.loopStart,playbackRate:b.playbackRate.value};b=e(w,p),l!==null&&b.start(...l),f!==null&&b.stop(f)}return o.set(w,b),g?await t(w,m.playbackRate,b.playbackRate):await r(w,m.playbackRate,b.playbackRate),await a(m,w,b),b};return{set start(m){l=m},set stop(m){f=m},render(m,w){const b=o.get(w);return b!==void 0?Promise.resolve(b):d(m,w)}}},XC=t=>"playbackRate"in t,KC=t=>"frequency"in t&&"gain"in t,QC=t=>"offset"in t,ZC=t=>!("frequency"in t)&&"gain"in t,JC=t=>"detune"in t&&"frequency"in t&&!("gain"in t),ek=t=>"pan"in t,An=t=>Tr(Tw,t),yc=t=>Tr(Ew,t),Q1=(t,e)=>{const{activeInputs:n}=An(t);n.forEach(a=>a.forEach(([o])=>{e.includes(t)||Q1(o,[...e,t])}));const r=XC(t)?[t.playbackRate]:Nw(t)?Array.from(t.parameters.values()):KC(t)?[t.Q,t.detune,t.frequency,t.gain]:QC(t)?[t.offset]:ZC(t)?[t.gain]:JC(t)?[t.detune,t.frequency]:ek(t)?[t.pan]:[];for(const a of r){const o=yc(a);o!==void 0&&o.activeInputs.forEach(([l])=>Q1(l,e))}fi(t)&&vc(t)},Iw=t=>{Q1(t.destination,[])},tk=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),nk=(t,e,n,r,a,o,l,f,d)=>class extends t{constructor(w={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let b;try{b=new d(w)}catch(y){throw y.code===12&&y.message==="sampleRate is not in range"?n():y}if(b===null)throw r();if(!tk(w.latencyHint))throw new TypeError(`The provided value '${w.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(w.sampleRate!==void 0&&b.sampleRate!==w.sampleRate)throw n();super(b,2);const{latencyHint:g}=w,{sampleRate:p}=b;if(this._baseLatency=typeof b.baseLatency=="number"?b.baseLatency:g==="balanced"?512/p:g==="interactive"||g===void 0?256/p:g==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(g*p/128)))*128/p,this._nativeAudioContext=b,d.name==="webkitAudioContext"?(this._nativeGainNode=b.createGain(),this._nativeOscillatorNode=b.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(b.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,b.state==="running"){this._state="suspended";const y=()=>{this._state==="suspended"&&(this._state=null),b.removeEventListener("statechange",y)};b.addEventListener("statechange",y)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Iw(this)}))}createMediaElementSource(w){return new a(this,{mediaElement:w})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(w){return new l(this,{mediaStream:w})}createMediaStreamTrackSource(w){return new f(this,{mediaStreamTrack:w})}resume(){return this._state==="suspended"?new Promise((w,b)=>{const g=()=>{this._nativeAudioContext.removeEventListener("statechange",g),this._nativeAudioContext.state==="running"?w():this.resume().then(w,b)};this._nativeAudioContext.addEventListener("statechange",g)}):this._nativeAudioContext.resume().catch(w=>{throw w===void 0||w.code===15?e():w})}suspend(){return this._nativeAudioContext.suspend().catch(w=>{throw w===void 0?e():w})}},rk=(t,e,n,r,a,o,l,f)=>class extends t{constructor(m,w){const b=o(m),g=l(b),p=a(b,w,g),y=g?e(f):null;super(m,!1,p,y),this._isNodeOfNativeOfflineAudioContext=g,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ik=t=>{const e=new WeakMap,n=async(r,a)=>{const o=a.destination;return e.set(a,o),await t(r,a,o),o};return{render(r,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):n(r,a)}}},sk=(t,e,n,r,a,o,l,f)=>(d,m)=>{const w=m.listener,b=()=>{const A=new Float32Array(1),B=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),F=l(m);let E=!1,$=[0,0,-1,0,1,0],P=[0,0,0];const z=()=>{if(E)return;E=!0;const D=r(m,256,9,0);D.onaudioprocess=({inputBuffer:W})=>{const G=[o(W,A,0),o(W,A,1),o(W,A,2),o(W,A,3),o(W,A,4),o(W,A,5)];G.some((R,I)=>R!==$[I])&&(w.setOrientation(...G),$=G);const U=[o(W,A,6),o(W,A,7),o(W,A,8)];U.some((R,I)=>R!==P[I])&&(w.setPosition(...U),P=U)},B.connect(D)},j=D=>W=>{W!==$[D]&&($[D]=W,w.setOrientation(...$))},V=D=>W=>{W!==P[D]&&(P[D]=W,w.setPosition(...P))},L=(D,W,G)=>{const U=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W});U.connect(B,0,D),U.start(),Object.defineProperty(U.offset,"defaultValue",{get(){return W}});const R=t({context:d},F,U.offset,En,Yn);return f(R,"value",I=>()=>I.call(R),I=>N=>{try{I.call(R,N)}catch(H){if(H.code!==9)throw H}z(),F&&G(N)}),R.cancelAndHoldAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.cancelAndHoldAtTime),R.cancelScheduledValues=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.cancelScheduledValues),R.exponentialRampToValueAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.exponentialRampToValueAtTime),R.linearRampToValueAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.linearRampToValueAtTime),R.setTargetAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.setTargetAtTime),R.setValueAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.setValueAtTime),R.setValueCurveAtTime=(I=>F?()=>{throw a()}:(...N)=>{const H=I.apply(R,N);return z(),H})(R.setValueCurveAtTime),R};return{forwardX:L(0,0,j(0)),forwardY:L(1,0,j(1)),forwardZ:L(2,-1,j(2)),positionX:L(6,0,V(0)),positionY:L(7,0,V(1)),positionZ:L(8,0,V(2)),upX:L(3,0,j(3)),upY:L(4,1,j(4)),upZ:L(5,0,j(5))}},{forwardX:g,forwardY:p,forwardZ:y,positionX:h,positionY:x,positionZ:S,upX:C,upY:T,upZ:M}=w.forwardX===void 0?b():w;return{get forwardX(){return g},get forwardY(){return p},get forwardZ(){return y},get positionX(){return h},get positionY(){return x},get positionZ(){return S},get upX(){return C},get upY(){return T},get upZ(){return M}}},D0=t=>"context"in t,bc=t=>D0(t[0]),Is=(t,e,n,r)=>{for(const a of t)if(n(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Sy=(t,e,[n,r],a)=>{Is(t,[e,n,r],o=>o[0]===e&&o[1]===n,a)},Cy=(t,[e,n,r],a)=>{const o=t.get(e);o===void 0?t.set(e,new Set([[n,r]])):Is(o,[n,r],l=>l[0]===n,a)},Ua=t=>"inputs"in t,L0=(t,e,n,r)=>{if(Ua(e)){const a=e.inputs[r];return t.connect(a,n,0),[a,n,0]}return t.connect(e,n,r),[e,n,r]},Ow=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},ak=(t,e,n)=>iu(t,r=>r[0]===e&&r[1]===n),Dw=(t,e)=>{if(!gc(t).delete(e))throw new Error("Missing the expected event listener.")},Lw=(t,e,n)=>{const r=Tr(t,e),a=iu(r,o=>o[0]===n);return r.size===0&&t.delete(e),a},B0=(t,e,n,r)=>{Ua(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Tt=t=>Tr(Nm,t),ic=t=>Tr(Rm,t),As=t=>G1.has(t),v0=t=>!Oa.has(t),ky=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),a=t.createGain(),o=t.createBuffer(1,2,44100),l=o.getChannelData(0);l[0]=1,l[1]=1;const f=t.createBufferSource();f.buffer=o,f.loop=!0,f.connect(r).connect(t.destination),f.connect(a),f.disconnect(a),r.onaudioprocess=d=>{const m=d.inputBuffer.getChannelData(0);Array.prototype.some.call(m,w=>w===1)?n(!0):n(!1),f.stop(),r.onaudioprocess=null,f.disconnect(r),r.disconnect(t.destination)},f.start()}}),Dh=(t,e)=>{const n=new Map;for(const r of t)for(const a of r){const o=n.get(a);n.set(a,o===void 0?1:o+1)}n.forEach((r,a)=>e(a,r))},F0=t=>"context"in t,ok=t=>{const e=new Map;t.connect=(n=>(r,a=0,o=0)=>{const l=F0(r)?n(r,a,o):n(r,a),f=e.get(r);return f===void 0?e.set(r,[{input:o,output:a}]):f.every(d=>d.input!==o||d.output!==a)&&f.push({input:o,output:a}),l})(t.connect.bind(t)),t.disconnect=(n=>(r,a,o)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[l,f]of e){const d=f.filter(m=>m.output!==r);d.length===0?e.delete(l):e.set(l,d)}else if(e.has(r))if(a===void 0)e.delete(r);else{const l=e.get(r);if(l!==void 0){const f=l.filter(d=>d.output!==a&&(d.input!==o||o===void 0));f.length===0?e.delete(r):e.set(r,f)}}for(const[l,f]of e)f.forEach(d=>{F0(l)?t.connect(l,d.output,d.input):t.connect(l,d.output)})})(t.disconnect)},ck=(t,e,n,r)=>{const{activeInputs:a,passiveInputs:o}=yc(e),{outputs:l}=An(t),f=gc(t),d=m=>{const w=Tt(t),b=ic(e);if(m){const g=Lw(o,t,n);Sy(a,t,g,!1),!r&&!As(t)&&w.connect(b,n)}else{const g=ak(a,t,n);Cy(o,g,!1),!r&&!As(t)&&w.disconnect(b,n)}};return Is(l,[e,n],m=>m[0]===e&&m[1]===n,!0)?(f.add(d),fi(t)?Sy(a,t,[n,d],!0):Cy(o,[t,n,d],!0),!0):!1},lk=(t,e,n,r)=>{const{activeInputs:a,passiveInputs:o}=An(e),l=Ow(a[r],t,n);return l===null?[Pw(o,t,n,r)[2],!1]:[l[2],!0]},uk=(t,e,n)=>{const{activeInputs:r,passiveInputs:a}=yc(e),o=Ow(r,t,n);return o===null?[Lw(a,t,n)[1],!1]:[o[2],!0]},Om=(t,e,n,r,a)=>{const[o,l]=lk(t,n,r,a);if(o!==null&&(Dw(t,o),l&&!e&&!As(t)&&B0(Tt(t),Tt(n),r,a)),fi(n)){const{activeInputs:f}=An(n);K1(n,f)}},Dm=(t,e,n,r)=>{const[a,o]=uk(t,n,r);a!==null&&(Dw(t,a),o&&!e&&!As(t)&&Tt(t).disconnect(ic(n),r))},fk=(t,e)=>{const n=An(t),r=[];for(const a of n.outputs)bc(a)?Om(t,e,...a):Dm(t,e,...a),r.push(a[0]);return n.outputs.clear(),r},hk=(t,e,n)=>{const r=An(t),a=[];for(const o of r.outputs)o[1]===n&&(bc(o)?Om(t,e,...o):Dm(t,e,...o),a.push(o[0]),r.outputs.delete(o));return a},dk=(t,e,n,r,a)=>{const o=An(t);return Array.from(o.outputs).filter(l=>l[0]===n&&(r===void 0||l[1]===r)&&(a===void 0||l[2]===a)).map(l=>(bc(l)?Om(t,e,...l):Dm(t,e,...l),o.outputs.delete(l),l[0]))},pk=(t,e,n,r,a,o,l,f,d,m,w,b,g,p,y,h)=>class extends m{constructor(S,C,T,M){super(T),this._context=S,this._nativeAudioNode=T;const A=w(S);b(A)&&n(ky,()=>ky(A,h))!==!0&&ok(T),Nm.set(this,T),Aw.set(this,new Set),S.state!=="closed"&&C&&Da(this),t(this,M,T)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(S){this._nativeAudioNode.channelCount=S}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(S){this._nativeAudioNode.channelCountMode=S}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(S){this._nativeAudioNode.channelInterpretation=S}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(S,C=0,T=0){if(C<0||C>=this._nativeAudioNode.numberOfOutputs)throw a();const M=w(this._context),A=y(M);if(g(S)||p(S))throw o();if(D0(S)){const E=Tt(S);try{const P=L0(this._nativeAudioNode,E,C,T),z=v0(this);(A||z)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!z&&v0(S)&&Da(S)}catch(P){throw P.code===12?o():P}if(e(this,S,C,T,A)){const P=d([this],S);Dh(P,r(A))}return S}const B=ic(S);if(B.name==="playbackRate"&&B.maxValue===1024)throw l();try{this._nativeAudioNode.connect(B,C),(A||v0(this))&&this._nativeAudioNode.disconnect(B,C)}catch(E){throw E.code===12?o():E}if(ck(this,S,C,A)){const E=d([this],S);Dh(E,r(A))}}disconnect(S,C,T){let M;const A=w(this._context),B=y(A);if(S===void 0)M=fk(this,B);else if(typeof S=="number"){if(S<0||S>=this.numberOfOutputs)throw a();M=hk(this,B,S)}else{if(C!==void 0&&(C<0||C>=this.numberOfOutputs)||D0(S)&&T!==void 0&&(T<0||T>=S.numberOfInputs))throw a();if(M=dk(this,B,S,C,T),M.length===0)throw o()}for(const F of M){const E=d([this],F);Dh(E,f)}}},mk=(t,e,n,r,a,o,l,f,d,m,w,b,g)=>(p,y,h,x=null,S=null)=>{const C=h.value,T=new kC(C),M=y?r(T):null,A={get defaultValue(){return C},get maxValue(){return x===null?h.maxValue:x},get minValue(){return S===null?h.minValue:S},get value(){return h.value},set value(B){h.value=B,A.setValueAtTime(B,p.context.currentTime)},cancelAndHoldAtTime(B){if(typeof h.cancelAndHoldAtTime=="function")M===null&&T.flush(p.context.currentTime),T.add(a(B)),h.cancelAndHoldAtTime(B);else{const F=Array.from(T).pop();M===null&&T.flush(p.context.currentTime),T.add(a(B));const E=Array.from(T).pop();h.cancelScheduledValues(B),F!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?h.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?h.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&h.setValueCurveAtTime(E.values,E.startTime,E.duration))}return A},cancelScheduledValues(B){return M===null&&T.flush(p.context.currentTime),T.add(o(B)),h.cancelScheduledValues(B),A},exponentialRampToValueAtTime(B,F){if(B===0)throw new RangeError;if(!Number.isFinite(F)||F<0)throw new RangeError;const E=p.context.currentTime;return M===null&&T.flush(E),Array.from(T).length===0&&(T.add(m(C,E)),h.setValueAtTime(C,E)),T.add(l(B,F)),h.exponentialRampToValueAtTime(B,F),A},linearRampToValueAtTime(B,F){const E=p.context.currentTime;return M===null&&T.flush(E),Array.from(T).length===0&&(T.add(m(C,E)),h.setValueAtTime(C,E)),T.add(f(B,F)),h.linearRampToValueAtTime(B,F),A},setTargetAtTime(B,F,E){return M===null&&T.flush(p.context.currentTime),T.add(d(B,F,E)),h.setTargetAtTime(B,F,E),A},setValueAtTime(B,F){return M===null&&T.flush(p.context.currentTime),T.add(m(B,F)),h.setValueAtTime(B,F),A},setValueCurveAtTime(B,F,E){const $=B instanceof Float32Array?B:new Float32Array(B);if(b!==null&&b.name==="webkitAudioContext"){const P=F+E,z=p.context.sampleRate,j=Math.ceil(F*z),V=Math.floor(P*z),L=V-j,D=new Float32Array(L);for(let G=0;G<L;G+=1){const U=($.length-1)/E*((j+G)/z-F),R=Math.floor(U),I=Math.ceil(U);D[G]=R===I?$[R]:(1-(U-R))*$[R]+(1-(I-U))*$[I]}M===null&&T.flush(p.context.currentTime),T.add(w(D,F,E)),h.setValueCurveAtTime(D,F,E);const W=V/z;W<P&&g(A,D[D.length-1],W),g(A,$[$.length-1],P)}else M===null&&T.flush(p.context.currentTime),T.add(w($,F,E)),h.setValueCurveAtTime($,F,E);return A}};return n.set(A,h),e.set(A,p),t(A,M),A},gk=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:a}=n;e.exponentialRampToValueAtTime(a,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:a}=n;e.linearRampToValueAtTime(a,r)}else if(n.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=n;e.setTargetAtTime(a,r,o)}else if(n.type==="setValue"){const{startTime:r,value:a}=n;e.setValueAtTime(a,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=n;e.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class Bw{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,a)=>e.call(n,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const vk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},yk=(t,e,n,r,a,o,l,f,d,m,w,b,g,p)=>class extends e{constructor(h,x,S){var C;const T=f(h),M=d(T),A=w({...vk,...S});g(A);const B=Y1.get(T),F=B==null?void 0:B.get(x),E=M||T.state!=="closed"?T:(C=l(T))!==null&&C!==void 0?C:T,$=a(E,M?null:h.baseLatency,m,x,F,A),P=M?r(x,A,F):null;super(h,!0,$,P);const z=[];$.parameters.forEach((V,L)=>{const D=n(this,M,V);z.push([L,D])}),this._nativeAudioWorkletNode=$,this._onprocessorerror=null,this._parameters=new Bw(z),M&&t(T,this);const{activeInputs:j}=o(this);b($,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){const x=typeof h=="function"?p(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=x;const S=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=S!==null&&S===x?h:S}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function z0(t,e,n,r,a){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,a);else{const o=t.getChannelData(r);if(e[n].byteLength===0)e[n]=o.slice(a,a+128);else{const l=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(l)}}}const Fw=(t,e,n,r,a)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,a):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],a)},$0=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const a=[],o=typeof e=="number"?e:e[r];for(let l=0;l<o;l+=1)a.push(new Float32Array(128));n.push(a)}return n},bk=(t,e)=>{const n=Tr(X1,t),r=Tt(e);return Tr(n,r)},wk=async(t,e,n,r,a,o,l)=>{const f=e===null?Math.ceil(t.context.length/128)*128:e.length,d=r.channelCount*r.numberOfInputs,m=a.reduce((x,S)=>x+S,0),w=m===0?null:n.createBuffer(m,f,n.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const b=An(t),g=await bk(n,t),p=$0(r.numberOfInputs,r.channelCount),y=$0(r.numberOfOutputs,a),h=Array.from(t.parameters.keys()).reduce((x,S)=>({...x,[S]:new Float32Array(128)}),{});for(let x=0;x<f;x+=128){if(r.numberOfInputs>0&&e!==null)for(let S=0;S<r.numberOfInputs;S+=1)for(let C=0;C<r.channelCount;C+=1)z0(e,p[S],C,C,x);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:S},C)=>{z0(e,h,S,d+C,x)});for(let S=0;S<r.numberOfInputs;S+=1)for(let C=0;C<a[S];C+=1)y[S][C].byteLength===0&&(y[S][C]=new Float32Array(128));try{const S=p.map((T,M)=>b.activeInputs[M].size===0?[]:T),C=l(x/n.sampleRate,n.sampleRate,()=>g.process(S,y,h));if(w!==null)for(let T=0,M=0;T<r.numberOfOutputs;T+=1){for(let A=0;A<a[T];A+=1)Fw(w,y[T],A,M+A,x);M+=a[T]}if(!C)break}catch(S){t.dispatchEvent(new ErrorEvent("processorerror",{colno:S.colno,filename:S.filename,lineno:S.lineno,message:S.message}));break}}return w},_k=(t,e,n,r,a,o,l,f,d,m,w,b,g,p,y,h)=>(x,S,C)=>{const T=new WeakMap;let M=null;const A=async(B,F)=>{let E=w(B),$=null;const P=Sn(E,F),z=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(b===null){const j=z.reduce((W,G)=>W+G,0),V=a(F,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),L=[];for(let W=0;W<B.numberOfOutputs;W+=1)L.push(r(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:z[W]}));const D=l(F,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1});D.connect=e.bind(null,L),D.disconnect=d.bind(null,L),$=[V,L,D]}else P||(E=new b(F,x));if(T.set(F,$===null?E:$[2]),$!==null){if(M===null){if(C===void 0)throw new Error("Missing the processor constructor.");if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=B.channelCount*B.numberOfInputs,U=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length,R=G+U;M=wk(B,R===0?null:await(async()=>{const N=new g(R,Math.ceil(B.context.length/128)*128,F.sampleRate),H=[],X=[];for(let ae=0;ae<S.numberOfInputs;ae+=1)H.push(l(N,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),X.push(a(N,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const Z=await Promise.all(Array.from(B.parameters.values()).map(async ae=>{const he=o(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await p(N,ae,he.offset),he})),K=r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+U)});for(let ae=0;ae<S.numberOfInputs;ae+=1){H[ae].connect(X[ae]);for(let he=0;he<S.channelCount;he+=1)X[ae].connect(K,he,ae*S.channelCount+he)}for(const[ae,he]of Z.entries())he.connect(K,0,G+ae),he.start(0);return K.connect(N.destination),await Promise.all(H.map(ae=>y(B,N,ae))),h(N)})(),F,S,z,C,m)}const j=await M,V=n(F,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[L,D,W]=$;j!==null&&(V.buffer=j,V.start(0)),V.connect(L);for(let G=0,U=0;G<B.numberOfOutputs;G+=1){const R=D[G];for(let I=0;I<z[G];I+=1)L.connect(R,U+I,I);U+=z[G]}return W}if(P)for(const[j,V]of B.parameters.entries())await t(F,V,E.parameters.get(j));else for(const[j,V]of B.parameters.entries())await p(F,V,E.parameters.get(j));return await y(B,F,E),E};return{render(B,F){f(F,B);const E=T.get(F);return E!==void 0?Promise.resolve(E):A(B,F)}}},xk=(t,e,n,r,a,o,l,f,d,m,w,b,g,p,y,h,x,S,C,T)=>class extends y{constructor(A,B){super(A,B),this._nativeContext=A,this._audioWorklet=t===void 0?void 0:{addModule:(F,E)=>t(this,F,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(A,B,F){return new n({length:B,numberOfChannels:A,sampleRate:F})}createBufferSource(){return new r(this)}createChannelMerger(A=6){return new o(this,{numberOfInputs:A})}createChannelSplitter(A=6){return new l(this,{numberOfOutputs:A})}createConstantSource(){return new f(this)}createConvolver(){return new d(this)}createDelay(A=1){return new w(this,{maxDelayTime:A})}createDynamicsCompressor(){return new b(this)}createGain(){return new g(this)}createIIRFilter(A,B){return new p(this,{feedback:B,feedforward:A})}createOscillator(){return new h(this)}createPanner(){return new x(this)}createPeriodicWave(A,B,F={disableNormalization:!1}){return new S(this,{...F,imag:B,real:A})}createStereoPanner(){return new C(this)}createWaveShaper(){return new T(this)}decodeAudioData(A,B,F){return m(this._nativeContext,A).then(E=>(typeof B=="function"&&B(E),E),E=>{throw typeof F=="function"&&F(E),E})}},Sk={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ck=(t,e,n,r,a,o,l,f)=>class extends t{constructor(m,w){const b=o(m),g={...Sk,...w},p=a(b,g),y=l(b),h=y?n():null;super(m,!1,p,h),this._Q=e(this,y,p.Q,En,Yn),this._detune=e(this,y,p.detune,1200*Math.log2(En),-1200*Math.log2(En)),this._frequency=e(this,y,p.frequency,m.sampleRate/2,0),this._gain=e(this,y,p.gain,40*Math.log10(En),Yn),this._nativeBiquadFilterNode=p,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,w,b){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,w,b)}catch(g){throw g.code===11?r():g}if(m.length!==w.length||w.length!==b.length)throw r()}},kk=(t,e,n,r,a)=>()=>{const o=new WeakMap,l=async(f,d)=>{let m=n(f);const w=Sn(m,d);if(!w){const b={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(d,b)}return o.set(d,m),w?(await t(d,f.Q,m.Q),await t(d,f.detune,m.detune),await t(d,f.frequency,m.frequency),await t(d,f.gain,m.gain)):(await r(d,f.Q,m.Q),await r(d,f.detune,m.detune),await r(d,f.frequency,m.frequency),await r(d,f.gain,m.gain)),await a(f,d,m),m};return{render(f,d){const m=o.get(d);return m!==void 0?Promise.resolve(m):l(f,d)}}},Tk=(t,e)=>(n,r)=>{const a=e.get(n);if(a!==void 0)return a;const o=t.get(n);if(o!==void 0)return o;try{const l=r();return l instanceof Promise?(t.set(n,l),l.catch(()=>!1).then(f=>(t.delete(n),e.set(n,f),f))):(e.set(n,l),l)}catch{return e.set(n,!1),!1}},Ek={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ak=(t,e,n,r,a)=>class extends t{constructor(l,f){const d=r(l),m={...Ek,...f},w=n(d,m),b=a(d)?e():null;super(l,!1,w,b)}},Mk=(t,e,n)=>()=>{const r=new WeakMap,a=async(o,l)=>{let f=e(o);if(!Sn(f,l)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=t(l,m)}return r.set(l,f),await n(o,l,f),f};return{render(o,l){const f=r.get(l);return f!==void 0?Promise.resolve(f):a(o,l)}}},Pk={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Nk=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=r(f),w=o({...Pk,...d}),b=n(m,w),g=a(m)?e():null;super(f,!1,b,g)}},Rk=(t,e,n)=>()=>{const r=new WeakMap,a=async(o,l)=>{let f=e(o);if(!Sn(f,l)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=t(l,m)}return r.set(l,f),await n(o,l,f),f};return{render(o,l){const f=r.get(l);return f!==void 0?Promise.resolve(f):a(o,l)}}},Ik=t=>(e,n,r)=>t(n,e,r),Ok=t=>(e,n,r=0,a=0)=>{const o=e[r];if(o===void 0)throw t();return F0(n)?o.connect(n,0,a):o.connect(n,0)},Dk=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Lk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Bk=(t,e,n,r,a,o,l)=>class extends t{constructor(d,m){const w=a(d),b={...Lk,...m},g=r(w,b),p=o(w),y=p?n():null;super(d,!1,g,y),this._constantSourceNodeRenderer=y,this._nativeConstantSourceNode=g,this._offset=e(this,p,g.offset,En,Yn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?l(this,d):null;this._nativeConstantSourceNode.onended=m;const w=this._nativeConstantSourceNode.onended;this._onended=w!==null&&w===m?d:w}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){Da(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),fi(this)&&vc(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},Fk=(t,e,n,r,a)=>()=>{const o=new WeakMap;let l=null,f=null;const d=async(m,w)=>{let b=n(m);const g=Sn(b,w);if(!g){const p={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,offset:b.offset.value};b=e(w,p),l!==null&&b.start(l),f!==null&&b.stop(f)}return o.set(w,b),g?await t(w,m.offset,b.offset):await r(w,m.offset,b.offset),await a(m,w,b),b};return{set start(m){l=m},set stop(m){f=m},render(m,w){const b=o.get(w);return b!==void 0?Promise.resolve(b):d(m,w)}}},zk=t=>e=>(t[0]=e,t[0]),$k={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},qk=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=r(f),w={...$k,...d},b=n(m,w),p=a(m)?e():null;super(f,!1,b,p),this._isBufferNullified=!1,this._nativeConvolverNode=b,w.buffer!==null&&o(this,w.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},jk=(t,e,n)=>()=>{const r=new WeakMap,a=async(o,l)=>{let f=e(o);if(!Sn(f,l)){const m={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=t(l,m)}return r.set(l,f),Ua(f)?await n(o,l,f.inputs[0]):await n(o,l,f),f};return{render(o,l){const f=r.get(l);return f!==void 0?Promise.resolve(f):a(o,l)}}},Vk=(t,e)=>(n,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,a)}catch(o){throw o.name==="SyntaxError"?t():o}},Wk=()=>new DOMException("","DataCloneError"),Ty=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const a=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>a();try{e.postMessage(t,[t])}catch{}finally{a()}})},Hk=(t,e,n,r,a,o,l,f,d,m,w)=>(b,g)=>{const p=l(b)?b:o(b);if(a.has(g)){const y=n();return Promise.reject(y)}try{a.add(g)}catch{}return e(d,()=>d(p))?p.decodeAudioData(g).then(y=>(Ty(g).catch(()=>{}),e(f,()=>f(y))||w(y),t.add(y),y)):new Promise((y,h)=>{const x=async()=>{try{await Ty(g)}catch{}},S=C=>{h(C),x()};try{p.decodeAudioData(g,C=>{typeof C.copyFromChannel!="function"&&(m(C),Im(C)),t.add(C),x().then(()=>y(C))},C=>{S(C===null?r():C)})}catch(C){S(C)}})},Uk=(t,e,n,r,a,o,l,f)=>(d,m)=>{const w=e.get(d);if(w===void 0)throw new Error("Missing the expected cycle count.");const b=o(d.context),g=f(b);if(w===m){if(e.delete(d),!g&&l(d)){const p=r(d),{outputs:y}=n(d);for(const h of y)if(bc(h)){const x=r(h[0]);t(p,x,h[1],h[2])}else{const x=a(h[0]);p.connect(x,h[1])}}}else e.set(d,w-m)},Gk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Yk=(t,e,n,r,a,o,l)=>class extends t{constructor(d,m){const w=a(d),b={...Gk,...m},g=r(w,b),p=o(w),y=p?n(b.maxDelayTime):null;super(d,!1,g,y),this._delayTime=e(this,p,g.delayTime),l(this,b.maxDelayTime)}get delayTime(){return this._delayTime}},Xk=(t,e,n,r,a)=>o=>{const l=new WeakMap,f=async(d,m)=>{let w=n(d);const b=Sn(w,m);if(!b){const g={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,delayTime:w.delayTime.value,maxDelayTime:o};w=e(m,g)}return l.set(m,w),b?await t(m,d.delayTime,w.delayTime):await r(m,d.delayTime,w.delayTime),await a(d,m,w),w};return{render(d,m){const w=l.get(m);return w!==void 0?Promise.resolve(w):f(d,m)}}},Kk=t=>(e,n,r,a)=>t(e[a],o=>o[0]===n&&o[1]===r),Qk=t=>(e,n)=>{t(e).delete(n)},Zk=t=>"delayTime"in t,Jk=(t,e,n)=>function r(a,o){const l=D0(o)?o:n(t,o);if(Zk(l))return[];if(a[0]===l)return[a];if(a.includes(l))return[];const{outputs:f}=e(l);return Array.from(f).map(d=>r([...a,l],d[0])).reduce((d,m)=>d.concat(m),[])},Kl=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},eT=t=>(e,n=void 0,r=void 0,a=0)=>n===void 0?e.forEach(o=>o.disconnect()):typeof n=="number"?Kl(t,e,n).disconnect():F0(n)?r===void 0?e.forEach(o=>o.disconnect(n)):a===void 0?Kl(t,e,r).disconnect(n,0):Kl(t,e,r).disconnect(n,0,a):r===void 0?e.forEach(o=>o.disconnect(n)):Kl(t,e,r).disconnect(n,0),tT={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},nT=(t,e,n,r,a,o,l,f)=>class extends t{constructor(m,w){const b=o(m),g={...tT,...w},p=r(b,g),y=l(b),h=y?n():null;super(m,!1,p,h),this._attack=e(this,y,p.attack),this._knee=e(this,y,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,y,p.ratio),this._release=e(this,y,p.release),this._threshold=e(this,y,p.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const w=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=w,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const w=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=w,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},rT=(t,e,n,r,a)=>()=>{const o=new WeakMap,l=async(f,d)=>{let m=n(f);const w=Sn(m,d);if(!w){const b={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(d,b)}return o.set(d,m),w?(await t(d,f.attack,m.attack),await t(d,f.knee,m.knee),await t(d,f.ratio,m.ratio),await t(d,f.release,m.release),await t(d,f.threshold,m.threshold)):(await r(d,f.attack,m.attack),await r(d,f.knee,m.knee),await r(d,f.ratio,m.ratio),await r(d,f.release,m.release),await r(d,f.threshold,m.threshold)),await a(f,d,m),m};return{render(f,d){const m=o.get(d);return m!==void 0?Promise.resolve(m):l(f,d)}}},iT=()=>new DOMException("","EncodingError"),sT=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const a=t.document.head;if(a===null)r(new SyntaxError);else{const o=t.document.createElement("script"),l=new Blob([e],{type:"application/javascript"}),f=URL.createObjectURL(l),d=t.onerror,m=()=>{t.onerror=d,URL.revokeObjectURL(f)};t.onerror=(w,b,g,p,y)=>{if(b===f||b===t.location.href&&g===1&&p===1)return m(),r(y),!1;if(d!==null)return d(w,b,g,p,y)},o.onerror=()=>{m(),r(new SyntaxError)},o.onload=()=>{m(),n()},o.src=f,o.type="module",a.appendChild(o)}}),aT=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=t(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(n,o,a)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,o===void 0?null:o,a)}},oT=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},cT=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},lT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},uT=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=a(f),w={...lT,...d},b=r(m,w),g=o(m),p=g?n():null;super(f,!1,b,p),this._gain=e(this,g,b.gain,En,Yn)}get gain(){return this._gain}},fT=(t,e,n,r,a)=>()=>{const o=new WeakMap,l=async(f,d)=>{let m=n(f);const w=Sn(m,d);if(!w){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(d,b)}return o.set(d,m),w?await t(d,f.gain,m.gain):await r(d,f.gain,m.gain),await a(f,d,m),m};return{render(f,d){const m=o.get(d);return m!==void 0?Promise.resolve(m):l(f,d)}}},hT=(t,e)=>n=>e(t,n),dT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},pT=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},mT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},gT=t=>e=>t.get(e),sn=()=>new DOMException("","InvalidStateError"),vT=t=>e=>{const n=t.get(e);if(n===void 0)throw sn();return n},yT=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},bT=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},su=()=>new DOMException("","InvalidAccessError"),wT=t=>{t.getFrequencyResponse=(e=>(n,r,a)=>{if(n.length!==r.length||r.length!==a.length)throw su();return e.call(t,n,r,a)})(t.getFrequencyResponse)},_T={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},xT=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=r(f),w=a(m),b={..._T,...d},g=e(m,w?null:f.baseLatency,b),p=w?n(b.feedback,b.feedforward):null;super(f,!1,g,p),wT(g),this._nativeIIRFilterNode=g,o(this,1)}getFrequencyResponse(f,d,m){return this._nativeIIRFilterNode.getFrequencyResponse(f,d,m)}},zw=(t,e,n,r,a,o,l,f,d,m,w)=>{const b=m.length;let g=f;for(let p=0;p<b;p+=1){let y=n[0]*m[p];for(let h=1;h<a;h+=1){const x=g-h&d-1;y+=n[h]*o[x],y-=t[h]*l[x]}for(let h=a;h<r;h+=1)y+=n[h]*o[g-h&d-1];for(let h=a;h<e;h+=1)y-=t[h]*l[g-h&d-1];o[g]=m[p],l[g]=y,g=g+1&d-1,w[p]=y}return g},ST=(t,e,n,r)=>{const a=n instanceof Float64Array?n:new Float64Array(n),o=r instanceof Float64Array?r:new Float64Array(r),l=a.length,f=o.length,d=Math.min(l,f);if(a[0]!==1){for(let y=0;y<l;y+=1)o[y]/=a[0];for(let y=1;y<f;y+=1)a[y]/=a[0]}const m=32,w=new Float32Array(m),b=new Float32Array(m),g=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let y=0;y<p;y+=1){const h=t.getChannelData(y),x=g.getChannelData(y);w.fill(0),b.fill(0),zw(a,l,o,f,d,w,b,0,m,h,x)}return g},CT=(t,e,n,r,a)=>(o,l)=>{const f=new WeakMap;let d=null;const m=async(w,b)=>{let g=null,p=e(w);const y=Sn(p,b);if(b.createIIRFilter===void 0?g=t(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):y||(p=b.createIIRFilter(l,o)),f.set(b,g===null?p:g),g!==null){if(d===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new n(w.context.destination.channelCount,w.context.length,b.sampleRate);d=(async()=>{await r(w,x,x.destination);const S=await a(x);return ST(S,b,o,l)})()}const h=await d;return g.buffer=h,g.start(0),g}return await r(w,b,p),p};return{render(w,b){const g=f.get(b);return g!==void 0?Promise.resolve(g):m(w,b)}}},kT=(t,e,n,r,a,o)=>l=>(f,d)=>{const m=t.get(f);if(m===void 0){if(!l&&o(f)){const w=r(f),{outputs:b}=n(f);for(const g of b)if(bc(g)){const p=r(g[0]);e(w,p,g[1],g[2])}else{const p=a(g[0]);w.disconnect(p,g[1])}}t.set(f,d)}else t.set(f,m+d)},TT=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},ET=(t,e)=>n=>t.has(n)||e(n),AT=(t,e)=>n=>t.has(n)||e(n),MT=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},PT=t=>e=>t!==null&&e instanceof t,NT=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,RT=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,IT=(t,e)=>n=>t(n)||e(n),OT=t=>e=>t!==null&&e instanceof t,DT=t=>t!==null&&t.isSecureContext,LT=(t,e,n,r)=>class extends t{constructor(o,l){const f=n(o),d=e(f,l);if(r(f))throw TypeError();super(o,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},BT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},FT=(t,e,n,r)=>class extends t{constructor(o,l){const f=n(o);if(r(f))throw new TypeError;const d={...BT,...l},m=e(f,d);super(o,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},zT=(t,e,n,r)=>class extends t{constructor(o,l){const f=n(o),d=e(f,l);if(r(f))throw new TypeError;super(o,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},$T=(t,e,n)=>class extends t{constructor(a,o){const l=n(a),f=e(l,o);super(a,!0,f,null)}},qT=(t,e,n,r,a,o)=>class extends n{constructor(f,d){super(f),this._nativeContext=f,ru.set(this,f),r(f)&&a.set(f,new Set),this._destination=new t(this,d),this._listener=e(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const d=typeof f=="function"?o(this,f):null;this._nativeContext.onstatechange=d;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===d?f:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},sc=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},jT=(t,e)=>(n,r,a)=>{const o=new Set;return n.connect=(l=>(f,d=0,m=0)=>{const w=o.size===0;if(e(f))return l.call(n,f,d,m),t(o,[f,d,m],b=>b[0]===f&&b[1]===d&&b[2]===m,!0),w&&r(),f;l.call(n,f,d),t(o,[f,d],b=>b[0]===f&&b[1]===d,!0),w&&r()})(n.connect),n.disconnect=(l=>(f,d,m)=>{const w=o.size>0;if(f===void 0)l.apply(n),o.clear();else if(typeof f=="number"){l.call(n,f);for(const g of o)g[1]===f&&o.delete(g)}else{e(f)?l.call(n,f,d,m):l.call(n,f,d);for(const g of o)g[0]===f&&(d===void 0||g[1]===d)&&(m===void 0||g[2]===m)&&o.delete(g)}const b=o.size===0;w&&b&&a()})(n.disconnect),n},Mt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Qt=(t,e)=>{Mt(t,e,"channelCount"),Mt(t,e,"channelCountMode"),Mt(t,e,"channelInterpretation")},Ey=t=>typeof t.getFloatTimeDomainData=="function",VT=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let a=0;a<r;a+=1)e[a]=(n[a]-128)*.0078125;return e}},WT=(t,e)=>(n,r)=>{const a=n.createAnalyser();if(Qt(a,r),!(r.maxDecibels>r.minDecibels))throw e();return Mt(a,r,"fftSize"),Mt(a,r,"maxDecibels"),Mt(a,r,"minDecibels"),Mt(a,r,"smoothingTimeConstant"),t(Ey,()=>Ey(a))||VT(a),a},HT=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Bt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},UT=t=>{t.start=(e=>{let n=!1;return(r=0,a=0,o)=>{if(n)throw sn();e.call(t,r,a,o),n=!0}})(t.start)},Lm=t=>{t.start=(e=>(n=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,a)})(t.start)},Bm=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},GT=(t,e,n,r,a,o,l,f,d,m,w)=>(b,g)=>{const p=b.createBufferSource();return Qt(p,g),Bt(p,g,"playbackRate"),Mt(p,g,"buffer"),Mt(p,g,"loop"),Mt(p,g,"loopEnd"),Mt(p,g,"loopStart"),e(n,()=>n(b))||UT(p),e(r,()=>r(b))||d(p),e(a,()=>a(b))||m(p,b),e(o,()=>o(b))||Lm(p),e(l,()=>l(b))||w(p,b),e(f,()=>f(b))||Bm(p),t(b,p),p},YT=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,XT=(t,e)=>(n,r,a)=>{const o=n.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const l=t(n,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(l,"channelCount",f=>()=>f.call(l),f=>d=>{f.call(l,d);try{o.channelCount=d}catch(m){if(d>o.maxChannelCount)throw m}}),e(l,"channelCountMode",f=>()=>f.call(l),f=>d=>{f.call(l,d),o.channelCountMode=d}),e(l,"channelInterpretation",f=>()=>f.call(l),f=>d=>{f.call(l,d),o.channelInterpretation=d}),Object.defineProperty(l,"maxChannelCount",{get:()=>o.maxChannelCount}),l.connect(o),l},KT=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,QT=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},ZT=(t,e,n,r,a)=>(o,l,f,d,m,w)=>{if(f!==null)try{const b=new f(o,d,w),g=new Map;let p=null;if(Object.defineProperties(b,{channelCount:{get:()=>w.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:y=>{typeof p=="function"&&b.removeEventListener("processorerror",p),p=typeof y=="function"?y:null,typeof p=="function"&&b.addEventListener("processorerror",p)}}}),b.addEventListener=(y=>(...h)=>{if(h[0]==="processorerror"){const x=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(x!==null){const S=g.get(h[1]);S!==void 0?h[1]=S:(h[1]=C=>{C.type==="error"?(Object.defineProperties(C,{type:{value:"processorerror"}}),x(C)):x(new ErrorEvent(h[0],{...C}))},g.set(x,h[1]))}}return y.call(b,"error",h[1],h[2]),y.call(b,...h)})(b.addEventListener),b.removeEventListener=(y=>(...h)=>{if(h[0]==="processorerror"){const x=g.get(h[1]);x!==void 0&&(g.delete(h[1]),h[1]=x)}return y.call(b,"error",h[1],h[2]),y.call(b,h[0],h[1],h[2])})(b.removeEventListener),w.numberOfOutputs!==0){const y=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return b.connect(y).connect(o.destination),a(b,()=>y.disconnect(),()=>y.connect(o.destination))}return b}catch(b){throw b.code===11?r():b}if(m===void 0)throw r();return QT(w),e(o,l,m,w)},$w=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),JT=t=>new Promise((e,n)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),n(o)},a.postMessage(t)}),eE=async(t,e)=>{const n=await JT(e);return new t(n)},tE=(t,e,n,r)=>{let a=X1.get(t);a===void 0&&(a=new WeakMap,X1.set(t,a));const o=eE(n,r);return a.set(e,o),o},nE=(t,e,n,r,a,o,l,f,d,m,w,b,g)=>(p,y,h,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw d();const S=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(S.some(ve=>ve<1))throw d();if(S.length!==x.numberOfOutputs)throw e();if(x.channelCountMode!=="explicit")throw d();const C=x.channelCount*x.numberOfInputs,T=S.reduce((ve,_e)=>ve+_e,0),M=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(C+M>6||T>6)throw d();const A=new MessageChannel,B=[],F=[];for(let ve=0;ve<x.numberOfInputs;ve+=1)B.push(l(p,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),F.push(a(p,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const E=[];if(h.parameterDescriptors!==void 0)for(const{defaultValue:ve,maxValue:_e,minValue:Ae,name:Pe}of h.parameterDescriptors){const Re=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[Pe]!==void 0?x.parameterData[Pe]:ve===void 0?0:ve});Object.defineProperties(Re.offset,{defaultValue:{get:()=>ve===void 0?0:ve},maxValue:{get:()=>_e===void 0?En:_e},minValue:{get:()=>Ae===void 0?Yn:Ae}}),E.push(Re)}const $=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+M)}),P=$w(y,p.sampleRate),z=f(p,P,C+M,Math.max(1,T)),j=a(p,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),V=[];for(let ve=0;ve<x.numberOfOutputs;ve+=1)V.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[ve]}));for(let ve=0;ve<x.numberOfInputs;ve+=1){B[ve].connect(F[ve]);for(let _e=0;_e<x.channelCount;_e+=1)F[ve].connect($,_e,ve*x.channelCount+_e)}const L=new Bw(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:ve},_e)=>{const Ae=E[_e];return Ae.connect($,0,C+_e),Ae.start(0),[ve,Ae.offset]}));$.connect(z);let D=x.channelInterpretation,W=null;const G=x.numberOfOutputs===0?[z]:V,U={get bufferSize(){return P},get channelCount(){return x.channelCount},set channelCount(ve){throw n()},get channelCountMode(){return x.channelCountMode},set channelCountMode(ve){throw n()},get channelInterpretation(){return D},set channelInterpretation(ve){for(const _e of B)_e.channelInterpretation=ve;D=ve},get context(){return z.context},get inputs(){return B},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return W},set onprocessorerror(ve){typeof W=="function"&&U.removeEventListener("processorerror",W),W=typeof ve=="function"?ve:null,typeof W=="function"&&U.addEventListener("processorerror",W)},get parameters(){return L},get port(){return A.port2},addEventListener(...ve){return z.addEventListener(ve[0],ve[1],ve[2])},connect:t.bind(null,G),disconnect:m.bind(null,G),dispatchEvent(...ve){return z.dispatchEvent(ve[0])},removeEventListener(...ve){return z.removeEventListener(ve[0],ve[1],ve[2])}},R=new Map;A.port1.addEventListener=(ve=>(..._e)=>{if(_e[0]==="message"){const Ae=typeof _e[1]=="function"?_e[1]:typeof _e[1]=="object"&&_e[1]!==null&&typeof _e[1].handleEvent=="function"?_e[1].handleEvent:null;if(Ae!==null){const Pe=R.get(_e[1]);Pe!==void 0?_e[1]=Pe:(_e[1]=Re=>{w(p.currentTime,p.sampleRate,()=>Ae(Re))},R.set(Ae,_e[1]))}}return ve.call(A.port1,_e[0],_e[1],_e[2])})(A.port1.addEventListener),A.port1.removeEventListener=(ve=>(..._e)=>{if(_e[0]==="message"){const Ae=R.get(_e[1]);Ae!==void 0&&(R.delete(_e[1]),_e[1]=Ae)}return ve.call(A.port1,_e[0],_e[1],_e[2])})(A.port1.removeEventListener);let I=null;Object.defineProperty(A.port1,"onmessage",{get:()=>I,set:ve=>{typeof I=="function"&&A.port1.removeEventListener("message",I),I=typeof ve=="function"?ve:null,typeof I=="function"&&(A.port1.addEventListener("message",I),A.port1.start())}}),h.prototype.port=A.port1;let N=null;tE(p,U,h,x).then(ve=>N=ve);const X=$0(x.numberOfInputs,x.channelCount),Z=$0(x.numberOfOutputs,S),K=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((ve,{name:_e})=>({...ve,[_e]:new Float32Array(128)}),{});let ae=!0;const he=()=>{x.numberOfOutputs>0&&z.disconnect(j);for(let ve=0,_e=0;ve<x.numberOfOutputs;ve+=1){const Ae=V[ve];for(let Pe=0;Pe<S[ve];Pe+=1)j.disconnect(Ae,_e+Pe,Pe);_e+=S[ve]}},ee=new Map;z.onaudioprocess=({inputBuffer:ve,outputBuffer:_e})=>{if(N!==null){const Ae=b(U);for(let Pe=0;Pe<P;Pe+=128){for(let Re=0;Re<x.numberOfInputs;Re+=1)for(let ze=0;ze<x.channelCount;ze+=1)z0(ve,X[Re],ze,ze,Pe);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:Re},ze)=>{z0(ve,K,Re,C+ze,Pe)});for(let Re=0;Re<x.numberOfInputs;Re+=1)for(let ze=0;ze<S[Re];ze+=1)Z[Re][ze].byteLength===0&&(Z[Re][ze]=new Float32Array(128));try{const Re=X.map((re,ie)=>{if(Ae[ie].size>0)return ee.set(ie,P/128),re;const se=ee.get(ie);return se===void 0?[]:(re.every(ye=>ye.every(Me=>Me===0))&&(se===1?ee.delete(ie):ee.set(ie,se-1)),re)});ae=w(p.currentTime+Pe/p.sampleRate,p.sampleRate,()=>N.process(Re,Z,K));for(let re=0,ie=0;re<x.numberOfOutputs;re+=1){for(let ce=0;ce<S[re];ce+=1)Fw(_e,Z[re],ce,ie+ce,Pe);ie+=S[re]}}catch(Re){ae=!1,U.dispatchEvent(new ErrorEvent("processorerror",{colno:Re.colno,filename:Re.filename,lineno:Re.lineno,message:Re.message}))}if(!ae){for(let Re=0;Re<x.numberOfInputs;Re+=1){B[Re].disconnect(F[Re]);for(let ze=0;ze<x.channelCount;ze+=1)F[Pe].disconnect($,ze,Re*x.channelCount+ze)}if(h.parameterDescriptors!==void 0){const Re=h.parameterDescriptors.length;for(let ze=0;ze<Re;ze+=1){const re=E[ze];re.disconnect($,0,C+ze),re.stop()}}$.disconnect(z),z.onaudioprocess=null,ge?he():ke();break}}}};let ge=!1;const Se=l(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),de=()=>z.connect(Se).connect(p.destination),ke=()=>{z.disconnect(Se),Se.disconnect()},Te=()=>{if(ae){ke(),x.numberOfOutputs>0&&z.connect(j);for(let ve=0,_e=0;ve<x.numberOfOutputs;ve+=1){const Ae=V[ve];for(let Pe=0;Pe<S[ve];Pe+=1)j.connect(Ae,_e+Pe,Pe);_e+=S[ve]}}ge=!0},me=()=>{ae&&(de(),he()),ge=!1};return de(),g(U,Te,me)},qw=(t,e)=>{const n=t.createBiquadFilter();return Qt(n,e),Bt(n,e,"Q"),Bt(n,e,"detune"),Bt(n,e,"frequency"),Bt(n,e,"gain"),Mt(n,e,"type"),n},rE=(t,e)=>(n,r)=>{const a=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,a),Qt(a,r),a},iE=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw sn()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw sn()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw sn()}})},wc=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Qt(n,e),iE(n),n},sE=(t,e,n,r,a)=>(o,l)=>{if(o.createConstantSource===void 0)return n(o,l);const f=o.createConstantSource();return Qt(f,l),Bt(f,l,"offset"),e(r,()=>r(o))||Lm(f),e(a,()=>a(o))||Bm(f),t(o,f),f},Ga=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),aE=(t,e,n,r)=>(a,{offset:o,...l})=>{const f=a.createBuffer(1,2,44100),d=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=n(a,{...l,gain:o}),w=f.getChannelData(0);w[0]=1,w[1]=1,d.buffer=f,d.loop=!0;const b={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(y){m.channelCount=y},get channelCountMode(){return m.channelCountMode},set channelCountMode(y){m.channelCountMode=y},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(y){m.channelInterpretation=y},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return d.onended},set onended(y){d.onended=y},addEventListener(...y){return d.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return d.dispatchEvent(y[0])},removeEventListener(...y){return d.removeEventListener(y[0],y[1],y[2])},start(y=0){d.start.call(d,y)},stop(y=0){d.stop.call(d,y)}},g=()=>d.connect(m),p=()=>d.disconnect(m);return t(a,d),r(Ga(b,m),g,p)},oE=(t,e)=>(n,r)=>{const a=n.createConvolver();if(Qt(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),Mt(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>l=>{if(l>2)throw t();return o.call(a,l)}),r.channelCountMode==="max"))throw t();return e(a,"channelCountMode",o=>()=>o.call(a),o=>l=>{if(l==="max")throw t();return o.call(a,l)}),a},jw=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Qt(n,e),Bt(n,e,"delayTime"),n},cE=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Qt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Bt(r,n,"attack"),Bt(r,n,"knee"),Bt(r,n,"ratio"),Bt(r,n,"release"),Bt(r,n,"threshold"),r},zn=(t,e)=>{const n=t.createGain();return Qt(n,e),Bt(n,e,"gain"),n},lE=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return Qt(a,r),a};function uE(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function fE(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Ay(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=fE(n,e),n[0]+=t[r];return n}const hE=(t,e,n,r)=>(a,o,{channelCount:l,channelCountMode:f,channelInterpretation:d,feedback:m,feedforward:w})=>{const b=$w(o,a.sampleRate),g=m instanceof Float64Array?m:new Float64Array(m),p=w instanceof Float64Array?w:new Float64Array(w),y=g.length,h=p.length,x=Math.min(y,h);if(y===0||y>20)throw r();if(g[0]===0)throw e();if(h===0||h>20)throw r();if(p[0]===0)throw e();if(g[0]!==1){for(let E=0;E<h;E+=1)p[E]/=g[0];for(let E=1;E<y;E+=1)g[E]/=g[0]}const S=n(a,b,l,l);S.channelCount=l,S.channelCountMode=f,S.channelInterpretation=d;const C=32,T=[],M=[],A=[];for(let E=0;E<l;E+=1){T.push(0);const $=new Float32Array(C),P=new Float32Array(C);$.fill(0),P.fill(0),M.push($),A.push(P)}S.onaudioprocess=E=>{const $=E.inputBuffer,P=E.outputBuffer,z=$.numberOfChannels;for(let j=0;j<z;j+=1){const V=$.getChannelData(j),L=P.getChannelData(j);T[j]=zw(g,y,p,h,x,M[j],A[j],T[j],C,V,L)}};const B=a.sampleRate/2;return Ga({get bufferSize(){return b},get channelCount(){return S.channelCount},set channelCount(E){S.channelCount=E},get channelCountMode(){return S.channelCountMode},set channelCountMode(E){S.channelCountMode=E},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(E){S.channelInterpretation=E},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},addEventListener(...E){return S.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return S.dispatchEvent(E[0])},getFrequencyResponse(E,$,P){if(E.length!==$.length||$.length!==P.length)throw t();const z=E.length;for(let j=0;j<z;j+=1){const V=-Math.PI*(E[j]/B),L=[Math.cos(V),Math.sin(V)],D=Ay(p,L),W=Ay(g,L),G=uE(D,W);$[j]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),P[j]=Math.atan2(G[1],G[0])}},removeEventListener(...E){return S.removeEventListener(E[0],E[1],E[2])}},S)},dE=(t,e)=>t.createMediaElementSource(e.mediaElement),pE=(t,e)=>{const n=t.createMediaStreamDestination();return Qt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},mE=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((o,l)=>o.id<l.id?-1:o.id>l.id?1:0);const r=n.slice(0,1),a=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},gE=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=n.createMediaStreamSource(a);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return o},vE=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,yE=(t,e,n,r,a,o)=>(l,f)=>{const d=l.createOscillator();return Qt(d,f),Bt(d,f,"detune"),Bt(d,f,"frequency"),f.periodicWave!==void 0?d.setPeriodicWave(f.periodicWave):Mt(d,f,"type"),e(n,()=>n(l))||Lm(d),e(r,()=>r(l))||o(d,l),e(a,()=>a(l))||Bm(d),t(l,d),d},bE=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Qt(r,n),Bt(r,n,"orientationX"),Bt(r,n,"orientationY"),Bt(r,n,"orientationZ"),Bt(r,n,"positionX"),Bt(r,n,"positionY"),Bt(r,n,"positionZ"),Mt(r,n,"coneInnerAngle"),Mt(r,n,"coneOuterAngle"),Mt(r,n,"coneOuterGain"),Mt(r,n,"distanceModel"),Mt(r,n,"maxDistance"),Mt(r,n,"panningModel"),Mt(r,n,"refDistance"),Mt(r,n,"rolloffFactor"),r)},wE=(t,e,n,r,a,o,l,f,d,m)=>(w,{coneInnerAngle:b,coneOuterAngle:g,coneOuterGain:p,distanceModel:y,maxDistance:h,orientationX:x,orientationY:S,orientationZ:C,panningModel:T,positionX:M,positionY:A,positionZ:B,refDistance:F,rolloffFactor:E,...$})=>{const P=w.createPanner();if($.channelCount>2||$.channelCountMode==="max")throw l();Qt(P,$);const z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=n(w,{...z,channelInterpretation:"speakers",numberOfInputs:6}),V=r(w,{...$,gain:1}),L=r(w,{...z,gain:1}),D=r(w,{...z,gain:0}),W=r(w,{...z,gain:0}),G=r(w,{...z,gain:0}),U=r(w,{...z,gain:0}),R=r(w,{...z,gain:0}),I=a(w,256,6,1),N=o(w,{...z,curve:new Float32Array([1,1]),oversample:"none"});let H=[x,S,C],X=[M,A,B];const Z=new Float32Array(1);I.onaudioprocess=({inputBuffer:ee})=>{const ge=[d(ee,Z,0),d(ee,Z,1),d(ee,Z,2)];ge.some((de,ke)=>de!==H[ke])&&(P.setOrientation(...ge),H=ge);const Se=[d(ee,Z,3),d(ee,Z,4),d(ee,Z,5)];Se.some((de,ke)=>de!==X[ke])&&(P.setPosition(...Se),X=Se)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(ee){if(ee>2)throw l();V.channelCount=ee,P.channelCount=ee},get channelCountMode(){return P.channelCountMode},set channelCountMode(ee){if(ee==="max")throw l();V.channelCountMode=ee,P.channelCountMode=ee},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(ee){V.channelInterpretation=ee,P.channelInterpretation=ee},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(ee){P.coneInnerAngle=ee},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(ee){P.coneOuterAngle=ee},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(ee){if(ee<0||ee>1)throw e();P.coneOuterGain=ee},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(ee){P.distanceModel=ee},get inputs(){return[V]},get maxDistance(){return P.maxDistance},set maxDistance(ee){if(ee<0)throw new RangeError;P.maxDistance=ee},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return L.gain},get orientationY(){return D.gain},get orientationZ(){return W.gain},get panningModel(){return P.panningModel},set panningModel(ee){P.panningModel=ee},get positionX(){return G.gain},get positionY(){return U.gain},get positionZ(){return R.gain},get refDistance(){return P.refDistance},set refDistance(ee){if(ee<0)throw new RangeError;P.refDistance=ee},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(ee){if(ee<0)throw new RangeError;P.rolloffFactor=ee},addEventListener(...ee){return V.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return V.dispatchEvent(ee[0])},removeEventListener(...ee){return V.removeEventListener(ee[0],ee[1],ee[2])}};b!==K.coneInnerAngle&&(K.coneInnerAngle=b),g!==K.coneOuterAngle&&(K.coneOuterAngle=g),p!==K.coneOuterGain&&(K.coneOuterGain=p),y!==K.distanceModel&&(K.distanceModel=y),h!==K.maxDistance&&(K.maxDistance=h),x!==K.orientationX.value&&(K.orientationX.value=x),S!==K.orientationY.value&&(K.orientationY.value=S),C!==K.orientationZ.value&&(K.orientationZ.value=C),T!==K.panningModel&&(K.panningModel=T),M!==K.positionX.value&&(K.positionX.value=M),A!==K.positionY.value&&(K.positionY.value=A),B!==K.positionZ.value&&(K.positionZ.value=B),F!==K.refDistance&&(K.refDistance=F),E!==K.rolloffFactor&&(K.rolloffFactor=E),(H[0]!==1||H[1]!==0||H[2]!==0)&&P.setOrientation(...H),(X[0]!==0||X[1]!==0||X[2]!==0)&&P.setPosition(...X);const ae=()=>{V.connect(P),t(V,N,0,0),N.connect(L).connect(j,0,0),N.connect(D).connect(j,0,1),N.connect(W).connect(j,0,2),N.connect(G).connect(j,0,3),N.connect(U).connect(j,0,4),N.connect(R).connect(j,0,5),j.connect(I).connect(w.destination)},he=()=>{V.disconnect(P),f(V,N,0,0),N.disconnect(L),L.disconnect(j),N.disconnect(D),D.disconnect(j),N.disconnect(W),W.disconnect(j),N.disconnect(G),G.disconnect(j),N.disconnect(U),U.disconnect(j),N.disconnect(R),R.disconnect(j),j.disconnect(I),I.disconnect(w.destination)};return m(Ga(K,P),ae,he)},_E=t=>(e,{disableNormalization:n,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),l=a instanceof Float32Array?a:new Float32Array(a),f=e.createPeriodicWave(l,o,{disableNormalization:n});if(Array.from(r).length<2)throw t();return f},_c=(t,e,n,r)=>t.createScriptProcessor(e,n,r),xE=(t,e)=>(n,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const o=n.createStereoPanner();return Qt(o,r),Bt(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:l=>{if(l!==a)throw e()}}),o},SE=(t,e,n,r,a,o)=>{const f=new Float32Array([1,1]),d=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},w={...m,oversample:"none"},b=(y,h,x,S)=>{const C=new Float32Array(16385),T=new Float32Array(16385);for(let $=0;$<16385;$+=1){const P=$/16384*d;C[$]=Math.cos(P),T[$]=Math.sin(P)}const M=n(y,{...m,gain:0}),A=r(y,{...w,curve:C}),B=r(y,{...w,curve:f}),F=n(y,{...m,gain:0}),E=r(y,{...w,curve:T});return{connectGraph(){h.connect(M),h.connect(B.inputs===void 0?B:B.inputs[0]),h.connect(F),B.connect(x),x.connect(A.inputs===void 0?A:A.inputs[0]),x.connect(E.inputs===void 0?E:E.inputs[0]),A.connect(M.gain),E.connect(F.gain),M.connect(S,0,0),F.connect(S,0,1)},disconnectGraph(){h.disconnect(M),h.disconnect(B.inputs===void 0?B:B.inputs[0]),h.disconnect(F),B.disconnect(x),x.disconnect(A.inputs===void 0?A:A.inputs[0]),x.disconnect(E.inputs===void 0?E:E.inputs[0]),A.disconnect(M.gain),E.disconnect(F.gain),M.disconnect(S,0,0),F.disconnect(S,0,1)}}},g=(y,h,x,S)=>{const C=new Float32Array(16385),T=new Float32Array(16385),M=new Float32Array(16385),A=new Float32Array(16385),B=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>B){const U=(G-B)/(16384-B)*d;C[G]=Math.cos(U),T[G]=Math.sin(U),M[G]=0,A[G]=1}else{const U=G/(16384-B)*d;C[G]=1,T[G]=0,M[G]=Math.cos(U),A[G]=Math.sin(U)}const F=e(y,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=n(y,{...m,gain:0}),$=r(y,{...w,curve:C}),P=n(y,{...m,gain:0}),z=r(y,{...w,curve:T}),j=r(y,{...w,curve:f}),V=n(y,{...m,gain:0}),L=r(y,{...w,curve:M}),D=n(y,{...m,gain:0}),W=r(y,{...w,curve:A});return{connectGraph(){h.connect(F),h.connect(j.inputs===void 0?j:j.inputs[0]),F.connect(E,0),F.connect(P,0),F.connect(V,1),F.connect(D,1),j.connect(x),x.connect($.inputs===void 0?$:$.inputs[0]),x.connect(z.inputs===void 0?z:z.inputs[0]),x.connect(L.inputs===void 0?L:L.inputs[0]),x.connect(W.inputs===void 0?W:W.inputs[0]),$.connect(E.gain),z.connect(P.gain),L.connect(V.gain),W.connect(D.gain),E.connect(S,0,0),V.connect(S,0,0),P.connect(S,0,1),D.connect(S,0,1)},disconnectGraph(){h.disconnect(F),h.disconnect(j.inputs===void 0?j:j.inputs[0]),F.disconnect(E,0),F.disconnect(P,0),F.disconnect(V,1),F.disconnect(D,1),j.disconnect(x),x.disconnect($.inputs===void 0?$:$.inputs[0]),x.disconnect(z.inputs===void 0?z:z.inputs[0]),x.disconnect(L.inputs===void 0?L:L.inputs[0]),x.disconnect(W.inputs===void 0?W:W.inputs[0]),$.disconnect(E.gain),z.disconnect(P.gain),L.disconnect(V.gain),W.disconnect(D.gain),E.disconnect(S,0,0),V.disconnect(S,0,0),P.disconnect(S,0,1),D.disconnect(S,0,1)}}},p=(y,h,x,S,C)=>{if(h===1)return b(y,x,S,C);if(h===2)return g(y,x,S,C);throw a()};return(y,{channelCount:h,channelCountMode:x,pan:S,...C})=>{if(x==="max")throw a();const T=t(y,{...C,channelCount:1,channelCountMode:x,numberOfInputs:2}),M=n(y,{...C,channelCount:h,channelCountMode:x,gain:1}),A=n(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:S});let{connectGraph:B,disconnectGraph:F}=p(y,h,M,A,T);Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"maxValue",{get:()=>1}),Object.defineProperty(A.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(j){M.channelCount!==j&&($&&F(),{connectGraph:B,disconnectGraph:F}=p(y,j,M,A,T),$&&B()),M.channelCount=j},get channelCountMode(){return M.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();M.channelCountMode=j},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(j){M.channelInterpretation=j},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return A.gain},addEventListener(...j){return M.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return M.dispatchEvent(j[0])},removeEventListener(...j){return M.removeEventListener(j[0],j[1],j[2])}};let $=!1;const P=()=>{B(),$=!0},z=()=>{F(),$=!1};return o(Ga(E,T),P,z)}},CE=(t,e,n,r,a,o,l)=>(f,d)=>{const m=f.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return n(f,d);Qt(m,d);const w=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(w!==null&&w.length<2)throw e();Mt(m,{curve:w},"curve"),Mt(m,d,"oversample");let b=null,g=!1;return l(m,"curve",h=>()=>h.call(m),h=>x=>(h.call(m,x),g&&(r(x)&&b===null?b=t(f,m):!r(x)&&b!==null&&(b(),b=null)),x)),a(m,()=>{g=!0,r(m.curve)&&(b=t(f,m))},()=>{g=!1,b!==null&&(b(),b=null)})},kE=(t,e,n,r,a)=>(o,{curve:l,oversample:f,...d})=>{const m=o.createWaveShaper(),w=o.createWaveShaper();Qt(m,d),Qt(w,d);const b=n(o,{...d,gain:1}),g=n(o,{...d,gain:-1}),p=n(o,{...d,gain:1}),y=n(o,{...d,gain:-1});let h=null,x=!1,S=null;const C={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(A){b.channelCount=A,g.channelCount=A,m.channelCount=A,p.channelCount=A,w.channelCount=A,y.channelCount=A},get channelCountMode(){return m.channelCountMode},set channelCountMode(A){b.channelCountMode=A,g.channelCountMode=A,m.channelCountMode=A,p.channelCountMode=A,w.channelCountMode=A,y.channelCountMode=A},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(A){b.channelInterpretation=A,g.channelInterpretation=A,m.channelInterpretation=A,p.channelInterpretation=A,w.channelInterpretation=A,y.channelInterpretation=A},get context(){return m.context},get curve(){return S},set curve(A){if(A!==null&&A.length<2)throw e();if(A===null)m.curve=A,w.curve=A;else{const B=A.length,F=new Float32Array(B+2-B%2),E=new Float32Array(B+2-B%2);F[0]=A[0],E[0]=-A[B-1];const $=Math.ceil((B+1)/2),P=(B+1)/2-1;for(let z=1;z<$;z+=1){const j=z/$*P,V=Math.floor(j),L=Math.ceil(j);F[z]=V===L?A[V]:(1-(j-V))*A[V]+(1-(L-j))*A[L],E[z]=V===L?-A[B-1-V]:-((1-(j-V))*A[B-1-V])-(1-(L-j))*A[B-1-L]}F[$]=B%2===1?A[$-1]:(A[$-2]+A[$-1])/2,m.curve=F,w.curve=E}S=A,x&&(r(S)&&h===null?h=t(o,b):h!==null&&(h(),h=null))},get inputs(){return[b]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(A){m.oversample=A,w.oversample=A},addEventListener(...A){return b.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return b.dispatchEvent(A[0])},removeEventListener(...A){return b.removeEventListener(A[0],A[1],A[2])}};l!==null&&(C.curve=l instanceof Float32Array?l:new Float32Array(l)),f!==C.oversample&&(C.oversample=f);const T=()=>{b.connect(m).connect(p),b.connect(g).connect(w).connect(y).connect(p),x=!0,r(S)&&(h=t(o,b))},M=()=>{b.disconnect(m),m.disconnect(p),b.disconnect(g),g.disconnect(w),w.disconnect(y),y.disconnect(p),x=!1,h!==null&&(h(),h=null)};return a(Ga(C,p),T,M)},Mn=()=>new DOMException("","NotSupportedError"),TE={numberOfChannels:1},EE=(t,e,n,r,a)=>class extends t{constructor(l,f,d){let m;if(typeof l=="number"&&f!==void 0&&d!==void 0)m={length:f,numberOfChannels:l,sampleRate:d};else if(typeof l=="object")m=l;else throw new Error("The given parameters are not valid.");const{length:w,numberOfChannels:b,sampleRate:g}={...TE,...m},p=r(b,w,g);e(sc,()=>sc(p))||p.addEventListener("statechange",(()=>{let y=0;const h=x=>{this._state==="running"&&(y>0?(p.removeEventListener("statechange",h),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):y+=1)};return h})()),super(p,b),this._length=w,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Iw(this)}))}_waitForThePromiseToSettle(l){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(l):setTimeout(()=>this._waitForThePromiseToSettle(l))}},AE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ME=(t,e,n,r,a,o,l)=>class extends t{constructor(d,m){const w=a(d),b={...AE,...m},g=n(w,b),p=o(w),y=p?r():null,h=d.sampleRate/2;super(d,!1,g,y),this._detune=e(this,p,g.detune,153600,-153600),this._frequency=e(this,p,g.frequency,h,-h),this._nativeOscillatorNode=g,this._onended=null,this._oscillatorNodeRenderer=y,this._oscillatorNodeRenderer!==null&&b.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=b.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?l(this,d):null;this._nativeOscillatorNode.onended=m;const w=this._nativeOscillatorNode.onended;this._onended=w!==null&&w===m?d:w}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){Da(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),fi(this)&&vc(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},PE=(t,e,n,r,a)=>()=>{const o=new WeakMap;let l=null,f=null,d=null;const m=async(w,b)=>{let g=n(w);const p=Sn(g,b);if(!p){const y={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,detune:g.detune.value,frequency:g.frequency.value,periodicWave:l===null?void 0:l,type:g.type};g=e(b,y),f!==null&&g.start(f),d!==null&&g.stop(d)}return o.set(b,g),p?(await t(b,w.detune,g.detune),await t(b,w.frequency,g.frequency)):(await r(b,w.detune,g.detune),await r(b,w.frequency,g.frequency)),await a(w,b,g),g};return{set periodicWave(w){l=w},set start(w){f=w},set stop(w){d=w},render(w,b){const g=o.get(b);return g!==void 0?Promise.resolve(g):m(w,b)}}},NE={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},RE=(t,e,n,r,a,o,l)=>class extends t{constructor(d,m){const w=a(d),b={...NE,...m},g=n(w,b),p=o(w),y=p?r():null;super(d,!1,g,y),this._nativePannerNode=g,this._orientationX=e(this,p,g.orientationX,En,Yn),this._orientationY=e(this,p,g.orientationY,En,Yn),this._orientationZ=e(this,p,g.orientationZ,En,Yn),this._positionX=e(this,p,g.positionX,En,Yn),this._positionY=e(this,p,g.positionY,En,Yn),this._positionZ=e(this,p,g.positionZ,En,Yn),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},IE=(t,e,n,r,a,o,l,f,d,m)=>()=>{const w=new WeakMap;let b=null;const g=async(p,y)=>{let h=null,x=o(p);const S={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},C={...S,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},T=Sn(x,y);if("bufferSize"in x)h=r(y,{...S,gain:1});else if(!T){const M={...C,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=a(y,M)}if(w.set(y,h===null?x:h),h!==null){if(b===null){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=new l(6,p.context.length,y.sampleRate),j=e(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(z.destination),b=(async()=>{const V=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(L,D)=>{const W=n(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:D===0?1:0});return await f(z,L,W.offset),W}));for(let L=0;L<6;L+=1)V[L].connect(j,0,L),V[L].start(0);return m(z)})()}const M=await b,A=r(y,{...S,gain:1});await d(p,y,A);const B=[];for(let z=0;z<M.numberOfChannels;z+=1)B.push(M.getChannelData(z));let F=[B[0][0],B[1][0],B[2][0]],E=[B[3][0],B[4][0],B[5][0]],$=r(y,{...S,gain:1}),P=a(y,{...C,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:E[0],positionY:E[1],positionZ:E[2]});A.connect($).connect(P.inputs[0]),P.connect(h);for(let z=128;z<M.length;z+=128){const j=[B[0][z],B[1][z],B[2][z]],V=[B[3][z],B[4][z],B[5][z]];if(j.some((L,D)=>L!==F[D])||V.some((L,D)=>L!==E[D])){F=j,E=V;const L=z/y.sampleRate;$.gain.setValueAtTime(0,L),$=r(y,{...S,gain:0}),P=a(y,{...C,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:E[0],positionY:E[1],positionZ:E[2]}),$.gain.setValueAtTime(1,L),A.connect($).connect(P.inputs[0]),P.connect(h)}}return h}return T?(await t(y,p.orientationX,x.orientationX),await t(y,p.orientationY,x.orientationY),await t(y,p.orientationZ,x.orientationZ),await t(y,p.positionX,x.positionX),await t(y,p.positionY,x.positionY),await t(y,p.positionZ,x.positionZ)):(await f(y,p.orientationX,x.orientationX),await f(y,p.orientationY,x.orientationY),await f(y,p.orientationZ,x.orientationZ),await f(y,p.positionX,x.positionX),await f(y,p.positionY,x.positionY),await f(y,p.positionZ,x.positionZ)),Ua(x)?await d(p,y,x.inputs[0]):await d(p,y,x),x};return{render(p,y){const h=w.get(y);return h!==void 0?Promise.resolve(h):g(p,y)}}},OE={disableNormalization:!1},DE=(t,e,n,r)=>class Vw{constructor(o,l){const f=e(o),d=r({...OE,...l}),m=t(f,d);return n.add(m),m}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Vw.prototype||n.has(o)}},LE=(t,e)=>(n,r,a)=>(t(r).replay(a),e(r,n,a)),BE=(t,e,n)=>async(r,a,o)=>{const l=t(r);await Promise.all(l.activeInputs.map((f,d)=>Array.from(f).map(async([m,w])=>{const g=await e(m).render(m,a),p=r.context.destination;!n(m)&&(r!==p||!n(r))&&g.connect(o,w,d)})).reduce((f,d)=>[...f,...d],[]))},FE=(t,e,n)=>async(r,a,o)=>{const l=e(r);await Promise.all(Array.from(l.activeInputs).map(async([f,d])=>{const w=await t(f).render(f,a);n(f)||w.connect(o,d)}))},zE=(t,e,n,r)=>a=>t(sc,()=>sc(a))?Promise.resolve(t(r,r)).then(o=>{if(!o){const l=n(a,512,0,1);a.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>a.currentTime,l.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const l=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=f=>{l.disconnect(),o(f.renderedBuffer)},l.connect(a.destination),a.startRendering()}),$E=t=>(e,n)=>{t.set(e,n)},qE=t=>(e,n)=>t.set(e,n),jE=(t,e,n,r,a,o,l,f)=>(d,m)=>n(d).render(d,m).then(()=>Promise.all(Array.from(r(m)).map(w=>n(w).render(w,m)))).then(()=>a(m)).then(w=>(typeof w.copyFromChannel!="function"?(l(w),Im(w)):e(o,()=>o(w))||f(w),t.add(w),w)),VE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},WE=(t,e,n,r,a,o)=>class extends t{constructor(f,d){const m=a(f),w={...VE,...d},b=n(m,w),g=o(m),p=g?r():null;super(f,!1,b,p),this._pan=e(this,g,b.pan)}get pan(){return this._pan}},HE=(t,e,n,r,a)=>()=>{const o=new WeakMap,l=async(f,d)=>{let m=n(f);const w=Sn(m,d);if(!w){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(d,b)}return o.set(d,m),w?await t(d,f.pan,m.pan):await r(d,f.pan,m.pan),Ua(m)?await a(f,d,m.inputs[0]):await a(f,d,m),m};return{render(f,d){const m=o.get(d);return m!==void 0?Promise.resolve(m):l(f,d)}}},UE=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},GE=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(n);let o=!1,l=!1;try{await r.audioWorklet.addModule(a);const f=new t(r,"a",{numberOfOutputs:0}),d=r.createOscillator();f.port.onmessage=()=>o=!0,f.onprocessorerror=()=>l=!0,d.connect(f),d.start(0),await r.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(a)}return o&&!l},YE=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{n.oncomplete=()=>{r.disconnect(),a(n.currentTime!==0)},n.startRendering()})},XE=()=>new DOMException("","UnknownError"),KE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},QE=(t,e,n,r,a,o,l)=>class extends t{constructor(d,m){const w=a(d),b={...KE,...m},g=n(w,b),y=o(w)?r():null;super(d,!0,g,y),this._isCurveNullified=!1,this._nativeWaveShaperNode=g,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},ZE=(t,e,n)=>()=>{const r=new WeakMap,a=async(o,l)=>{let f=e(o);if(!Sn(f,l)){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=t(l,m)}return r.set(l,f),Ua(f)?await n(o,l,f.inputs[0]):await n(o,l,f),f};return{render(o,l){const f=r.get(l);return f!==void 0?Promise.resolve(f):a(o,l)}}},JE=()=>typeof window>"u"?null:window,eA=(t,e)=>n=>{n.copyFromChannel=(r,a,o=0)=>{const l=t(o),f=t(a);if(f>=n.numberOfChannels)throw e();const d=n.length,m=n.getChannelData(f),w=r.length;for(let b=l<0?-l:0;b+l<d&&b<w;b+=1)r[b]=m[b+l]},n.copyToChannel=(r,a,o=0)=>{const l=t(o),f=t(a);if(f>=n.numberOfChannels)throw e();const d=n.length,m=n.getChannelData(f),w=r.length;for(let b=l<0?-l:0;b+l<d&&b<w;b+=1)m[b+l]=r[b]}},tA=t=>e=>{e.copyFromChannel=(n=>(r,a,o=0)=>{const l=t(o),f=t(a);if(l<e.length)return n.call(e,r,f,l)})(e.copyFromChannel),e.copyToChannel=(n=>(r,a,o=0)=>{const l=t(o),f=t(a);if(l<e.length)return n.call(e,r,f,l)})(e.copyToChannel)},nA=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",a=>()=>{const o=a.call(e);return o===r?null:o},a=>o=>a.call(e,o===null?r:o))},rA=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const a=n.createBufferSource();e(r,()=>{const f=r.numberOfInputs;for(let d=0;d<f;d+=1)a.connect(r,0,d)},()=>a.disconnect(r))},Ww=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Hw=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},xc=(t,e,n,r)=>{let a=t;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:l}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(t,e,{get:n(o),set:r(l)})},iA=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),sA=t=>({...t,channelCount:t.numberOfOutputs}),aA=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Uw=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Uw(t,e,n+1e-7)}},oA=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},cA=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},lA=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Fm=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Gw=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},zm=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},uA=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},fA=t=>{t.start=(e=>(n=0,r=0,a)=>{const o=t.buffer,l=o===null?r:Math.min(o.duration,r);o!==null&&l>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,l,a)})(t.start)},Yw=(t,e)=>{const n=e.createGain();t.connect(n);const r=(a=>()=>{a.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Ga(t,n),t.stop=(a=>{let o=!1;return(l=0)=>{if(o)try{a.call(t,l)}catch{n.gain.setValueAtTime(0,l)}else a.call(t,l),o=!0}})(t.stop)},Ya=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},hA=RC(Is),dA=FC(Is),pA=Kk(iu),Xw=new WeakMap,mA=pT(Xw),Pr=Tk(new Map,new WeakMap),Hr=JE(),Kw=WT(Pr,Ur),$m=dT(An),dn=BE(An,$m,As),gA=VC(Kw,Tt,dn),bt=vT(ru),gi=vE(Hr),pt=OT(gi),Qw=new WeakMap,Zw=aT(Ya),Sc=YT(Hr),qm=PT(Sc),jm=NT(Hr),Jw=RT(Hr),ac=KT(Hr),jt=pk(IC(Tw),BC(hA,dA,L0,pA,B0,An,mA,gc,Tt,Is,fi,As,v0),Pr,kT(G1,B0,An,Tt,ic,fi),Ur,su,Mn,Uk(L0,G1,An,Tt,ic,bt,fi,pt),Jk(Qw,An,Tr),Zw,bt,qm,jm,Jw,pt,ac),vA=jC(jt,gA,Ur,Kw,bt,pt),Vm=new WeakSet,My=HT(Hr),e_=zk(new Uint32Array(1)),Wm=eA(e_,Ur),Hm=tA(e_),t_=HC(Vm,Pr,Mn,My,gi,UE(My),Wm,Hm),au=zC(zn),n_=FE($m,yc,As),Gr=Ik(n_),Xa=GT(au,Pr,oA,cA,lA,Fm,Gw,zm,fA,nA(xc),Yw),Yr=LE(mT(yc),n_),yA=YC(Gr,Xa,Tt,Yr,dn),Nr=mk(OC(Ew),Qw,Rm,gk,TC,EC,AC,MC,PC,W1,Cw,Sc,Uw),bA=GC(jt,yA,Nr,sn,Xa,bt,pt,Ya),wA=rk(jt,ik,Ur,sn,XT(zn,xc),bt,pt,dn),_A=kk(Gr,qw,Tt,Yr,dn),Os=qE(Xw),xA=Ck(jt,Nr,_A,su,qw,bt,pt,Os),ts=jT(Is,jm),SA=rA(sn,ts),ns=rE(Sc,SA),CA=Mk(ns,Tt,dn),kA=Ak(jt,CA,ns,bt,pt),TA=Rk(wc,Tt,dn),EA=Nk(jt,TA,wc,bt,pt,sA),AA=aE(au,Xa,zn,ts),Ka=sE(au,Pr,AA,Fm,zm),MA=Fk(Gr,Ka,Tt,Yr,dn),PA=Bk(jt,Nr,MA,Ka,bt,pt,Ya),r_=oE(Mn,xc),NA=jk(r_,Tt,dn),RA=qk(jt,NA,r_,bt,pt,Os),IA=Xk(Gr,jw,Tt,Yr,dn),OA=Yk(jt,Nr,IA,jw,bt,pt,Os),i_=cE(Mn),DA=rT(Gr,i_,Tt,Yr,dn),LA=nT(jt,Nr,DA,i_,Mn,bt,pt,Os),BA=fT(Gr,zn,Tt,Yr,dn),FA=uT(jt,Nr,BA,zn,bt,pt),zA=hE(su,sn,_c,Mn),ou=zE(Pr,zn,_c,YE(zn,gi)),$A=CT(Xa,Tt,gi,dn,ou),qA=lE(zA),jA=xT(jt,qA,$A,bt,pt,Os),VA=sk(Nr,ns,Ka,_c,Mn,Ww,pt,xc),s_=new WeakMap,WA=qT(wA,VA,Zw,pt,s_,Ya),a_=yE(au,Pr,Fm,Gw,zm,Yw),HA=PE(Gr,a_,Tt,Yr,dn),UA=ME(jt,Nr,a_,HA,bt,pt,Ya),o_=Dk(Xa),GA=kE(o_,sn,zn,Hw,ts),cu=CE(o_,sn,GA,Hw,ts,Sc,xc),YA=wE(L0,sn,ns,zn,_c,cu,Mn,B0,Ww,ts),c_=bE(YA),XA=IE(Gr,ns,Ka,zn,c_,Tt,gi,Yr,dn,ou),KA=RE(jt,Nr,c_,XA,bt,pt,Os),QA=_E(Ur),ZA=DE(QA,bt,new WeakSet,aA),JA=SE(ns,wc,zn,cu,Mn,ts),l_=xE(JA,Mn),eM=HE(Gr,l_,Tt,Yr,dn),tM=WE(jt,Nr,l_,eM,bt,pt),nM=ZE(cu,Tt,dn),rM=QE(jt,sn,cu,nM,bt,pt,Os),u_=DT(Hr),Um=oT(Hr),f_=new WeakMap,iM=yT(f_,gi),sM=u_?LC(Pr,Mn,sT(Hr),Um,cT(NC),bt,iM,pt,ac,new WeakMap,new WeakMap,GE(ac,gi),Hr):void 0,aM=IT(qm,pt),oM=Hk(Vm,Pr,Wk,iT,new WeakSet,bt,aM,O0,sc,Wm,Hm),h_=xk(sM,vA,t_,bA,xA,kA,EA,PA,RA,oM,OA,LA,FA,jA,WA,UA,KA,ZA,tM,rM),cM=LT(jt,dE,bt,pt),lM=FT(jt,pE,bt,pt),uM=zT(jt,mE,bt,pt),fM=gE(sn,pt),hM=$T(jt,fM,bt),dM=nk(h_,sn,Mn,XE,cM,lM,uM,hM,Sc),Gm=bT(s_),pM=$C(Gm),d_=Ok(Ur),mM=Qk(Gm),p_=eT(Ur),m_=new WeakMap,gM=hT(m_,Tr),vM=nE(d_,Ur,sn,ns,wc,Ka,zn,_c,Mn,p_,Um,gM,ts),yM=ZT(sn,vM,zn,Mn,ts),bM=_k(Gr,d_,Xa,ns,wc,Ka,zn,mM,p_,Um,Tt,ac,gi,Yr,dn,ou),wM=gT(f_),_M=$E(m_),Py=u_?yk(pM,jt,Nr,bM,yM,An,wM,bt,pt,ac,iA,_M,uA,Ya):void 0,xM=Vk(Mn,gi),SM=jE(Vm,Pr,$m,Gm,ou,O0,Wm,Hm),CM=EE(h_,Pr,sn,xM,SM),kM=TT(ru,qm),TM=ET(Nm,jm),EM=AT(Rm,Jw),AM=MT(ru,pt);function fr(t){return t===void 0}function Qe(t){return t!==void 0}function MM(t){return typeof t=="function"}function Ms(t){return typeof t=="number"}function Ts(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function PM(t){return typeof t=="boolean"}function kr(t){return Array.isArray(t)}function pi(t){return typeof t=="string"}function Ql(t){return pi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Ge(t,e){if(!t)throw new Error(e)}function Ki(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function g_(t){!t.isOffline&&t.state!=="running"&&Ym('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let v_=!1,Ny=!1;function Ry(t){v_=t}function NM(t){fr(t)&&v_&&!Ny&&(Ny=!0,Ym("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let y_=console;function RM(...t){y_.log(...t)}function Ym(...t){y_.warn(...t)}function IM(t){return new dM(t)}function OM(t,e,n){return new CM(t,e,n)}const Xn=typeof self=="object"?self:null,DM=Xn&&(Xn.hasOwnProperty("AudioContext")||Xn.hasOwnProperty("webkitAudioContext"));function LM(t,e,n){return Ge(Qe(Py),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(Xn==null?void 0:Xn.BaseAudioContext)?Xn==null?void 0:Xn.AudioWorkletNode:Py)(t,e,n)}class BM{constructor(e,n,r,a){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ps(t){return EM(t)}function Yi(t){return TM(t)}function y0(t){return AM(t)}function ga(t){return kM(t)}function FM(t){return t instanceof t_}function zM(t,e){return t==="value"||Ps(e)||Yi(e)||FM(e)}function Ca(t,...e){if(!e.length)return t;const n=e.shift();if(Ts(t)&&Ts(n))for(const r in n)zM(r,n[r])?t[r]=n[r]:Ts(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Ca(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Ca(t,...e)}function $M(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function He(t,e,n=[],r){const a={},o=Array.from(e);if(Ts(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(f=>Reflect.has(t,f))||(Ca(a,{[r]:o[0]}),n.splice(n.indexOf(r),1),o.shift())),o.length===1&&Ts(o[0]))Ca(a,o[0]);else for(let l=0;l<n.length;l++)Qe(o[l])&&(a[n[l]]=o[l]);return Ca(t,a)}function qM(t){return t.constructor.getDefaults()}function ka(t,e){return fr(t)?e:t}function Iy(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class vi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Xn&&this.toString()===Xn.TONE_DEBUG_CLASS)&&RM(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}vi.version=Sw;const Xm=1e-6;function La(t,e){return t>e+Xm}function Z1(t,e){return La(t,e)||xr(t,e)}function q0(t,e){return t+Xm<e}function xr(t,e){return Math.abs(t-e)<Xm}function jM(t,e,n){return Math.max(Math.min(t,n),e)}class hr extends vi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=He(hr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ge(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Ge(Z1(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(xr(this._timeline[n].time,e)){for(let r=n;r>=0&&xr(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Z1(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][n]<=e)return a-1;for(;r<o;){let l=Math.floor(r+(o-r)/2);const f=this._timeline[l],d=this._timeline[l+1];if(xr(f[n],e)){for(let m=l;m<this._timeline.length;m++){const w=this._timeline[m];if(xr(w[n],e))l=m;else break}return l}else{if(q0(f[n],e)&&La(d[n],e))return l;La(f[n],e)?o=l:r=l+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let a=this._search(e),o=this._search(n);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===n&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&xr(this._timeline[r].time,e)){let a=r;for(let o=r;o>=0&&xr(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{n(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const b_=[];function lu(t){b_.push(t)}function VM(t){b_.forEach(e=>e(t))}const w_=[];function uu(t){w_.push(t)}function WM(t){w_.forEach(e=>e(t))}class Cc extends vi{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(a=>{fr(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(n)}),this}once(e,n){const r=(...a)=>{n(...a),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(a=>{if(fr(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(fr(n))this._events[a]=[];else{const o=this._events[a];for(let l=o.length-1;l>=0;l--)o[l]===n&&o.splice(l,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Cc.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class __ extends Cc{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class kc extends __{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new hr,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=He(kc.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=IM({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new BM(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(VM(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Ge(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Ge(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Ge(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ge(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ge(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ge(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ge(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return LM(this.rawContext,e,n)}addAudioWorkletModule(e){return Yt(this,void 0,void 0,function*(){Ge(Qe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Yt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ga(this._context)?this._context.resume():Promise.resolve()}close(){return Yt(this,void 0,void 0,function*(){ga(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&WM(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=n,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:o+n})};return a(),r}}class HM extends __{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Yt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ft(t,e){kr(e)?e.forEach(n=>Ft(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function x_(t,e){kr(e)?e.forEach(n=>x_(t,n)):Object.defineProperty(t,e,{writable:!0})}const ht=()=>{};class kt extends vi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ht;const e=He(kt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pi(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ht,onload:ht,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:lr().sampleRate}set(e){return e instanceof kt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Yt(this,void 0,void 0,function*(){const n=kt.load(e).then(r=>{this.set(r),this.onload(this)});kt.downloads.push(n);try{yield n}finally{const r=kt.downloads.indexOf(n);kt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=kr(e)&&e[0].length>0,r=n?e.length:1,a=n?e[0].length:e.length,o=lr(),l=o.createBuffer(r,a,o.sampleRate),f=!n&&r===1?[e]:e;for(let d=0;d<r;d++)l.copyToChannel(f[d],d);return this._buffer=l,this}toMono(e){if(Ms(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let l=0;l<o.length;l++)n[l]+=o[l]}n=n.map(a=>a/r),this.fromArray(n)}return this}toArray(e){if(Ms(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Ge(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(n*this.sampleRate);Ge(r<a,"The start time must be less than the end time");const o=a-r,l=lr().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)l.copyToChannel(this.getChannelData(f).subarray(r,a),f);return new kt(l)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new kt().fromArray(e)}static fromUrl(e){return Yt(this,void 0,void 0,function*(){return yield new kt().load(e)})}static load(e){return Yt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const d=n[1].split("|");let m=d[0];for(const w of d)if(kt.supportsType(w)){m=w;break}e=e.replace(n[0],m)}const r=kt.baseUrl===""||kt.baseUrl.endsWith("/")?kt.baseUrl:kt.baseUrl+"/",a=document.createElement("a");a.href=r+e,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const o=yield fetch(a.href);if(!o.ok)throw new Error(`could not load url: ${e}`);const l=yield o.arrayBuffer();return yield lr().decodeAudioData(l)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Yt(this,void 0,void 0,function*(){for(yield Promise.resolve();kt.downloads.length;)yield kt.downloads[0]})}}kt.baseUrl="";kt.downloads=[];class Km extends kc{constructor(){super({clockSource:"offline",context:y0(arguments[0])?arguments[0]:OM(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:y0(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=y0(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Yt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Yt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new kt(n)})}close(){return Promise.resolve()}}const S_=new HM;let _a=S_;function lr(){return _a===S_&&DM&&UM(new kc),_a}function UM(t,e=!1){e&&_a.dispose(),ga(t)?_a=new kc(t):y0(t)?_a=new Km(t):_a=t}if(Xn&&!Xn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Sw} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function GM(t){return Math.pow(10,t/20)}function YM(t){return 20*(Math.log(t)/Math.LN10)}function C_(t){return Math.pow(2,t/12)}let fu=440;function XM(){return fu}function KM(t){fu=t}function J1(t){return Math.round(k_(t))}function k_(t){return 69+12*Math.log2(t/fu)}function QM(t){return fu*Math.pow(2,(t-69)/12)}class Qm extends vi{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),a=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(a+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Qm&&this.fromType(this._val),fr(this._val))return this._noArg();if(pi(this._val)&&fr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Ts(this._val)){let e=0;for(const n in this._val)if(Qe(this._val[n])){const r=this._val[n],a=new this.constructor(this.context,n).valueOf()*r;e+=a}return e}if(Qe(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return pi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Sr extends Qm{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Sr(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),f=Math.round(a/r)*r-a;return a+f*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let o=1;o<9;o++){const l=Math.pow(2,o);n.push(l+"n."),n.push(l+"n"),n.push(l+"t")}n.push("0");let r=n[0],a=new Sr(this.context,n[0]).toSeconds();return n.forEach(o=>{const l=new Sr(this.context,o).toSeconds();Math.abs(l-e)<Math.abs(a-e)&&(r=o,a=l)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let a=n%1*4;n=Math.floor(n)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,n,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return J1(this.toFrequency())}_now(){return this.context.now()}}class ur extends Sr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return XM()}static set A4(e){KM(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ur.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const a=ZM[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?a:ur.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(a*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new ur(this.context,this.valueOf()*C_(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return J1(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/ur.A4);let r=Math.round(12*n)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),JM[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return QM(e)}static ftom(e){return J1(e)}}const ZM={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},JM=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Jo extends Sr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Fn extends vi{constructor(){super();const e=He(Fn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:lr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return NM(e),new Sr(this.context,e).toSeconds()}toFrequency(e){return new ur(this.context,e).toFrequency()}toTicks(e){return new Jo(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{fr(e[r])&&delete n[r]}),n}get(){const e=qM(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Qe(r)&&Qe(r.value)&&Qe(r.setValueAtTime)?e[n]=r.value:r instanceof Fn?e[n]=r._getPartialProperties(e[n]):kr(r)||Ms(r)||pi(r)||PM(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Qe(this[n])&&(this[n]&&Qe(this[n].value)&&Qe(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Fn?this[n].set(e[n]):this[n]=e[n])}),this}}class Zm extends hr{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Ki(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class Rt extends Fn{constructor(){const e=He(Rt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ge(Qe(e.param)&&(Ps(e.param)||e.param instanceof Rt),"param must be an AudioParam");!Ps(e.param);)e.param=e.param._param;this._swappable=Qe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new hr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Qe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Fn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Qe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Qe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Qe(this.maxValue)&&Qe(this.minValue)&&Ki(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?GM(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?YM(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),a=this._fromType(e);return Ge(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),a=this._events.get(n);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const l=this._events.getBefore(a.time);let f;l===null?f=this._initialValue:f=l.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,f,a.value,a.constant,n))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let l=a.value;if(a.type==="setTargetAtTime"){const f=this._events.getBefore(a.time);f===null?l=this._initialValue:l=f.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,l,r.time,r.value,n):o=this._exponentialInterpolate(a.time,l,r.time,r.value,n)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),a=this.toSeconds(n);return Ge(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=xr(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(n);return Ge(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,a),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const a=this._fromType(e);Ge(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(n);return this._assertRange(a),Ge(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(e,n,r,a=1){r=this.toSeconds(r),n=this.toSeconds(n);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),n);const l=r/(e.length-1);for(let f=1;f<e.length;f++){const d=this._fromType(e[f])*a;this.linearRampToValueAtTime(this._toType(d),n+f*l)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Ge(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Ge(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const a=this._events.get(n),o=this._events.getAfter(n);return a&&xr(a.time,n)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:n+2,l=(o-n)/10;for(let f=n;f<o;f+=l)e.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Ge(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,a,o){return r+(n-r)*Math.exp(-(o-e)/a)}_linearInterpolate(e,n,r,a,o){return n+(a-n)*((o-e)/(r-e))}_exponentialInterpolate(e,n,r,a,o){return n*Math.pow(a/n,(o-e)/(r-e))}}class Ke extends Fn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Qe(this.input)?Ps(this.input)||this.input instanceof Rt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Qe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Qe(e)&&(e instanceof Ke||Yi(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Ge(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Qa(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ym("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return eP(this,e,n,r),this}chain(...e){return em(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Qe(this.input)&&(this.input instanceof Ke?this.input.dispose():Yi(this.input)&&this.input.disconnect()),Qe(this.output)&&(this.output instanceof Ke?this.output.dispose():Yi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function em(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Ke?n.connect(r):Yi(n)&&Qa(n,r),r),e)}function Qa(t,e,n=0,r=0){for(Ge(Qe(t),"Cannot connect from undefined node"),Ge(Qe(e),"Cannot connect to undefined node"),(e instanceof Ke||Yi(e))&&Ge(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ge(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ke||e instanceof Rt;)Qe(e.input)&&(e=e.input);for(;t instanceof Ke;)Qe(t.output)&&(t=t.output);Ps(e)?t.connect(e,n):t.connect(e,n,r)}function eP(t,e,n=0,r=0){if(Qe(e))for(;e instanceof Ke;)e=e.input;for(;!Yi(t);)Qe(t.output)&&(t=t.output);Ps(e)?t.disconnect(e,n):Yi(e)?t.disconnect(e,n,r):t.disconnect()}class _n extends Ke{constructor(){const e=He(_n.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Rt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ft(this,"gain")}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ba extends Ke{constructor(e){super(e),this.onended=ht,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new _n({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ke.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ht})}_startGain(e,n=1){Ge(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ge(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ht&&(this.onended(this),this.onended=ht,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ge(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ht,this}}class Jm extends Ba{constructor(){const e=He(Jm.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Qa(this._source,this._gainNode),this.offset=new Rt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ba.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class an extends Ke{constructor(){const e=He(an.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Jm({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return eg(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,a){return this._param.setValueCurveAtTime(e,n,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function eg(t,e,n,r){(e instanceof Rt||Ps(e)||e instanceof an&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof an&&(e.overridden=!0)),Qa(t,e,n,r)}class tg extends Rt{constructor(){const e=He(tg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new hr(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Rt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const a=this._fromType(e),o=this._events.get(n),l=Math.round(Math.max(1/r,1));for(let f=0;f<=l;f++){const d=r*f+n,m=this._exponentialApproach(o.time,o.value,a,r,d);this.linearRampToValueAtTime(this._toType(m),d)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const a=this._events.get(r),o=this._events.previousEvent(a),l=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(l,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const a=this._events.get(r),o=this._events.previousEvent(a),l=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(l,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),a=this._events.get(n),o=Math.round(Math.max((n-a.time)*10,1)),l=(n-a.time)/o;for(let f=0;f<=o;f++){const d=l*f+a.time,m=this._exponentialInterpolate(a.time,a.value,n,r,d);this.linearRampToValueAtTime(this._toType(m),d)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(fr(e.ticks)){const l=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(l,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(n));const o=this._events.get(n);return o&&o.time===n&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),a=this.getTicksAtTime(n);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const a=this._fromType(this.getValueAtTime(n.time)),l=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-n.time),f=Math.sqrt(Math.pow(a,2)-2*l*(n.ticks-e)),d=(-a+f)/l,m=(-a-f)/l;return(d>0?d:m)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),a=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ng extends an{constructor(){const e=He(ng.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new tg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(an.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class rg extends Fn{constructor(){const e=He(rg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Zm,this._tickOffset=new hr,this._ticksAtTime=new hr,this._secondsAtTime=new hr,this.frequency=new ng({context:this.context,units:e.units,value:e.frequency}),Ft(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Fn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Qe(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),a=this._ticksAtTime.get(n),o={state:"paused",time:n};this._state.add(o);let l=a||r,f=a?a.ticks:0,d=null;return this._state.forEachBetween(l.time,n+this.sampleTime,m=>{let w=l.time;const b=this._tickOffset.get(m.time);b&&b.time>=l.time&&(f=b.ticks,w=b.time),l.state==="started"&&m.state!=="started"&&(f+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(w),m.time!==o.time&&(d={state:m.state,time:m.time,ticks:f})),l=m}),this._state.remove(o),d&&this._ticksAtTime.add(d),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let o=a||n,l=a?a.seconds:0,f=null;return this._state.forEachBetween(o.time,e+this.sampleTime,d=>{let m=o.time;const w=this._tickOffset.get(d.time);w&&w.time>=o.time&&(l=w.seconds,m=w.time),o.state==="started"&&d.state!=="started"&&(l+=d.time-m,d.time!==r.time&&(f={state:d.state,time:d.time,seconds:l})),o=d}),this._state.remove(r),f&&this._secondsAtTime.add(f),l}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),a=this._state.get(n),o=Math.max(r.time,a.time),l=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(l)}forEachTickBetween(e,n,r){let a=this._state.get(e);this._state.forEachBetween(e,n,l=>{a&&a.state==="started"&&l.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),l.time-this.sampleTime,r),a=l});let o=null;if(a&&a.state==="started"){const l=Math.max(a.time,e),f=this.frequency.getTicksAtTime(l),d=this.frequency.getTicksAtTime(a.time),m=f-d;let w=Math.ceil(m)-m;w=xr(w,1)?0:w;let b=this.frequency.getTimeOfTick(f+w);for(;b<n;){try{r(b,Math.round(this.getTicksAtTime(b)))}catch(g){o=g;break}b+=this.frequency.getDurationOfTicks(1,b)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class hu extends Fn{constructor(){const e=He(hu.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ht,this._lastUpdate=0,this._state=new Zm("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new rg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ft(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Fn.getDefaults(),{callback:ht,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){g_(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Cc.mixin(hu);class Ds extends Ke{constructor(){const e=He(Ds.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new _n({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ft(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ig extends Ke{constructor(){const e=He(ig.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ds({context:this.context}),this.output=new _n({context:this.context}),this.volume=this.input.volume,em(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),em(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}lu(t=>{t.destination=new ig({context:t})});uu(t=>{t.destination.dispose()});class tP extends Ke{constructor(){super(...arguments),this.name="Listener",this.positionX=new Rt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Rt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Rt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Rt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Rt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Rt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Rt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Rt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Rt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ke.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}lu(t=>{t.listener=new tP({context:t})});uu(t=>{t.listener.dispose()});class sg extends vi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=He(sg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ht,onload:ht,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ge(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=ht,a=ht){return pi(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new kt(this.baseUrl+n,r,a))):this._buffers.set(e.toString(),new kt(n,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class xa extends Jo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class nP extends Fn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new hr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}lu(t=>{t.draw=new nP({context:t})});uu(t=>{t.draw.dispose()});class rP extends vi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ge(Qe(e.time),"Events must have a time property"),Ge(Qe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new iP(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,a=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),n!==null?r?n.left=a:n.right=a:this._setRoot(a)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),n!==null?r?n.left=a:n.right=a:this._setRoot(a)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let a=1;a<n.length;a++)n[a].low>r.low&&(r=n[a]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&n(a.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&n(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class iP{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class sP extends vi{constructor(e){super(),this.name="TimelineValue",this._timeline=new hr({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Fa extends Ke{constructor(){super(He(Fa.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return eg(this,e,n,r),this}}class Tc extends Fa{constructor(){const e=He(Tc.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,kr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):MM(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(an.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let a=0,o=n;a<o;a++){const l=a/(o-1)*2-1;r[a]=e(l,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));Ge(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ag extends Fa{constructor(){const e=He(ag.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Tc({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Fa.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Qi{constructor(e,n){this.id=Qi._eventId++,this._remainderTime=0;const r=Object.assign(Qi.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:ht,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Qi._eventId=0;class og extends Qi{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(og.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return q0(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new xa(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){q0(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xa(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);La(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class du extends Fn{constructor(){const e=He(du.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new sP(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new hr,this._repeatedEvents=new rP,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new hu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ft(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Fn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new xa(this.context,this._swingTicks*2/3).toSeconds()*a}Ry(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Ry(!1)}schedule(e,n){const r=new Qi(this,{callback:e,time:new Jo(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,a=1/0){const o=new og(this,{callback:e,duration:new Sr(this.context,a).toTicks(),interval:new Sr(this.context,n).toTicks(),time:new Jo(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,n){const r=new Qi(this,{callback:e,once:!0,time:new Jo(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new xa(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return Qe(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){kr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Sr(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Sr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new xa(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new xa(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),o=n+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),a=e-r%e;return this._clock.nextTickTime(a,n)}}syncSignal(e,n){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),l=[];if(e.units==="time"){const d=.015625/o,m=new _n(d),w=new ag(-1),b=new _n(d);a.chain(m,w,b),a=b,o=1/o,l=[m,w,b]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/o:n=0);const f=new _n(n);return a.connect(f),f.connect(e._param),l.push(f),this._syncedSignals.push({initial:e.value,nodes:l,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),x_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Cc.mixin(du);lu(t=>{t.transport=new du({context:t})});uu(t=>{t.transport.dispose()});class Jn extends Ke{constructor(e){super(e),this.input=void 0,this._state=new Zm("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ht,this._syncedStop=ht,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ds({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ft(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,onstop:ht,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let a=fr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Ge(La(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,n,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(ka(n,0)),o.duration=r?this.toSeconds(r):void 0);const l=this.context.transport.schedule(f=>{this._start(f,n,r)},a);this._scheduled.push(l),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else g_(this.context),this._start(a,n,r);return this}stop(e){let n=fr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Qe(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(La(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const a=n-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ht,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class pu extends Ba{constructor(){const e=He(pu.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Qa(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Rt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new kt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ba.getDefaults(),{url:new kt,loop:!1,loopEnd:0,loopStart:0,onload:ht,onerror:ht,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,a=1){Ge(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?n=ka(n,this.loopStart):n=ka(n,0);let l=Math.max(this.toSeconds(n),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),m=f-d;Z1(l,f)&&(l=(l-d)%m+d),xr(l,this.buffer.duration)&&(l=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,q0(l,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,l)),Qe(r)){let f=this.toSeconds(r);f=Math.max(f,0),this.stop(o+f)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ls(t,e){return Yt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Km(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class cg extends Ba{constructor(){const e=He(cg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Qa(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Rt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Rt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ft(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ba.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class qt extends Jn{constructor(){const e=He(qt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new an({context:this.context,units:"frequency",value:e.frequency}),Ft(this,"frequency"),this.detune=new an({context:this.context,units:"cents",value:e.detune}),Ft(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Jn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new cg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return qt._periodicWaveCache.find(n=>n.phase===this._phase&&$M(n.partials,this._partials));{const e=qt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Qe(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),l=this.context.createPeriodicWave(a,o);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),qt._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),qt._periodicWaveCache.length>100&&qt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ki(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,l)=>a[l]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,n){let a=2048;const o=new Float32Array(a),l=new Float32Array(a);let f=1;if(e==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,a=f,this._partials.length===0)return[o,l]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(f=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],f=Math.max(f,2),a=f):this._partialCount=0,this._partials=[]}for(let d=1;d<a;++d){const m=2/(d*Math.PI);let w;switch(e){case"sine":w=d<=f?1:0,this._partials[d-1]=w;break;case"square":w=d&1?2*m:0,this._partials[d-1]=w;break;case"sawtooth":w=m*(d&1?1:-1),this._partials[d-1]=w;break;case"triangle":d&1?w=2*(m*m)*(d-1>>1&1?-1:1):w=0,this._partials[d-1]=w;break;case"custom":w=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}w!==0?(o[d]=-w*Math.sin(n*d),l[d]=w*Math.cos(n*d)):(o[d]=0,l[d]=0)}return[o,l]}_inverseFFT(e,n,r){let a=0;const o=e.length;for(let l=0;l<o;l++)a+=e[l]*Math.cos(l*r)+n[l]*Math.sin(l*r);return a}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let l=0;l<o;l++)r=Math.max(this._inverseFFT(e,n,l/o*a),r);return jM(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}qt._periodicWaveCache=[];class aP extends Fa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Tc({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class za extends an{constructor(){const e=He(za.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new _n({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(an.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class mu extends Jn{constructor(){const e=He(mu.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new aP({context:this.context}),this._modulationNode=new _n({context:this.context}),this._carrier=new qt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new qt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new za({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ft(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class gu extends Jn{constructor(){const e=He(gu.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new _n({context:this.context,gain:0}),this._carrier=new qt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new an({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new qt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new za({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new za({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ft(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ec extends Jn{constructor(){const e=He(Ec.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new _n({context:this.context,gain:0}),this._thresh=new Tc({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new an({context:this.context,units:"audioRange",value:e.width}),this._triangle=new qt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ft(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Jn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class vu extends Jn{constructor(){const e=He(vu.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new an({context:this.context,units:"frequency",value:e.frequency}),this.detune=new an({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ft(this,["frequency","detune"])}static getDefaults(){return Object.assign(qt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=n+r*o)}}get count(){return this._oscillators.length}set count(e){if(Ki(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new qt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ht});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class yu extends Jn{constructor(){const e=He(yu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new za({context:this.context,value:2}),this._pulse=new Ec({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new qt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ft(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Jn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Oy={am:mu,fat:vu,fm:gu,oscillator:qt,pulse:Ec,pwm:yu};class j0 extends Jn{constructor(){const e=He(j0.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new an({context:this.context,units:"frequency",value:e.frequency}),this.detune=new an({context:this.context,units:"cents",value:e.detune}),Ft(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(qt.getDefaults(),gu.getDefaults(),mu.getDefaults(),vu.getDefaults(),Ec.getDefaults(),yu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Oy[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Oy[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Ms(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Ms(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pi(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Yt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function T_(t,e=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Ki(o,t,e),n.set(this,o)}})}}function yi(t,e=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Ki(this.toSeconds(o),t,e),n.set(this,o)}})}}class bu extends Jn{constructor(){const e=He(bu.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new kt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Jn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ht,onerror:ht,playbackRate:1,reverse:!1})}load(e){return Yt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ht){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=ka(n,this._loopStart):n=ka(n,0);const a=this.toSeconds(n),o=r;r=ka(r,Math.max(this._buffer.duration-a,0));let l=this.toSeconds(r);l=l/this._playbackRate,e=this.toSeconds(e);const f=new pu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+l),this._state.setStateAtTime("stopped",e+l,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&fr(o)?f.start(e,a):f.start(e,a,l-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ki(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ki(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Mr([yi(0)],bu.prototype,"fadeIn",void 0);Mr([yi(0)],bu.prototype,"fadeOut",void 0);class rs extends Ke{constructor(){const e=He(rs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new an({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ke.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(pi(e))return e;{let r;for(r in Zl)if(Zl[r][n]===e)return r;return e}}_setCurve(e,n,r){if(pi(r)&&Reflect.has(Zl,r)){const a=Zl[r];Ts(a)?e!=="_decayCurve"&&(this[e]=a[n]):this[e]=a}else if(kr(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),l=this.getValueAtTime(e);if(l>0){const f=1/a;a=(1-l)/f}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,a,e);else{this._sig.cancelAndHoldAtTime(e);let f=this._attackCurve;for(let d=1;d<f.length;d++)if(f[d-1]<=l&&l<=f[d]){f=this._attackCurve.slice(d),f[0]=l;break}this._sig.setValueCurveAtTime(f,e,a,n)}if(o&&this.sustain<1){const f=n*this.sustain,d=e+a;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,o+d):this._sig.exponentialApproachValueAtTime(f,d,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Ge(kr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return eg(this,e,n,r),this}asArray(){return Yt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new Km(1,n,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),l=o*.1,f=o+l,d=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/f,decay:n*this.toSeconds(this.decay)/f,release:n*this.toSeconds(this.release)/f,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(n*(a+l)/f,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Mr([yi(0)],rs.prototype,"attack",void 0);Mr([yi(0)],rs.prototype,"decay",void 0);Mr([T_(0,1)],rs.prototype,"sustain",void 0);Mr([yi(0)],rs.prototype,"release",void 0);const Zl=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){n=e/127;const g=Math.sin(n*(Math.PI*2)*o-Math.PI/2)+1;a[e]=g/10+n*.83}a[127]=1;const l=[],f=5;for(e=0;e<128;e++)l[e]=Math.ceil(e/127*f)/f;const d=[];for(e=0;e<128;e++)n=e/127,d[e]=.5*(1-Math.cos(Math.PI*n));const m=[];for(e=0;e<128;e++){n=e/127;const g=Math.pow(n,3)*4+.2,p=Math.cos(g*Math.PI*2*n);m[e]=Math.abs(p*(1-n))}function w(g){const p=new Array(g.length);for(let y=0;y<g.length;y++)p[y]=1-g[y];return p}function b(g){return g.slice(0).reverse()}return{bounce:{In:w(m),Out:m},cosine:{In:r,Out:b(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:w(a)},sine:{In:d,Out:w(d)},step:{In:l,Out:w(l)}}})();class $a extends Ke{constructor(){const e=He($a.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ft(this,"volume")}static getDefaults(){return Object.assign(Ke.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[n],l=this.context.transport.schedule(f=>{a[n]=f,r.apply(this,a)},o);this._scheduledEvents.push(l)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,a){const o=this.toSeconds(r),l=this.toSeconds(n);return this.triggerAttack(e,o,a),this.triggerRelease(o+l),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class qa extends $a{constructor(){const e=He(qa.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign($a.getDefaults(),{detune:0,onsilence:ht,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const a=this.toSeconds(n);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),a=e instanceof ur?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}Mr([yi(0)],qa.prototype,"portamento",void 0);class lg extends rs{constructor(){super(He(lg.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new _n({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class oc extends qa{constructor(){const e=He(oc.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new j0(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new lg(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ft(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(qa.getDefaults(),{envelope:Object.assign(Iy(rs.getDefaults(),Object.keys(Ke.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Iy(j0.getDefaults(),[...Object.keys(Jn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class wu extends oc{constructor(){const e=He(wu.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ft(this,["oscillator","envelope"])}static getDefaults(){return Ca(qa.getDefaults(),oc.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),a=this.toFrequency(e instanceof ur?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Mr([T_(0)],wu.prototype,"octaves",void 0);Mr([yi(0)],wu.prototype,"pitchDecay",void 0);const E_=new Set;function ug(t){E_.add(t)}function A_(t,e){const n=`registerProcessor("${t}", ${e})`;E_.add(n)}const oP=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;ug(oP);const cP=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;ug(cP);const lP=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;ug(lP);const uP="feedback-comb-filter",fP=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;A_(uP,fP);class _u extends $a{constructor(){const e=He(_u.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(Ge(Ql(r)||Ms(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),Ql(r)){const o=new ur(this.context,r).toMidi();n[o]=e.urls[r]}else Ms(a)&&isFinite(a)&&(n[a]=e.urls[a])}),this._buffers=new sg({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign($a.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ht,onerror:ht,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=k_(new ur(this.context,a).toFrequency()),l=Math.round(o),f=o-l,d=this._findClosest(l),m=l-d,w=this._buffers.get(m),b=C_(d+f),g=new pu({url:w,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:b}).connect(this.output);g.start(n,0,w.duration/b,r),kr(this._activeSources.get(l))||this._activeSources.set(l,[]),this._activeSources.get(l).push(g),g.onended=()=>{if(this._activeSources&&this._activeSources.has(l)){const p=this._activeSources.get(l),y=p.indexOf(g);y!==-1&&p.splice(y,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new ur(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);n=this.toSeconds(n),o.forEach(l=>{l.stop(n)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,a),kr(n)?(Ge(kr(e),"notes must be an array when duration is array"),e.forEach((l,f)=>{const d=n[Math.min(f,n.length-1)];this.triggerRelease(l,o+this.toSeconds(d))})):this.triggerRelease(e,o+this.toSeconds(n)),this}add(e,n,r){if(Ge(Ql(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ql(e)){const a=new ur(this.context,e).toMidi();this._buffers.add(a,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Mr([yi(0)],_u.prototype,"attack",void 0);Mr([yi(0)],_u.prototype,"release",void 0);class fg extends Ke{constructor(){const e=He(fg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Rt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ft(this,"pan")}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const hP="bit-crusher",dP=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;A_(hP,dP);class Ht extends Ke{constructor(){const e=He(Ht.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new _n({context:this.context}),Ht._allSolos.has(this.context)||Ht._allSolos.set(this.context,new Set),Ht._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ke.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ht._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ht._soloed.has(this.context)||Ht._soloed.set(this.context,new Set),Ht._soloed.get(this.context).add(this)}_removeSolo(){Ht._soloed.has(this.context)&&Ht._soloed.get(this.context).delete(this)}_isSoloed(){return Ht._soloed.has(this.context)&&Ht._soloed.get(this.context).has(this)}_noSolos(){return!Ht._soloed.has(this.context)||Ht._soloed.has(this.context)&&Ht._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ht._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ht._allSolos=new Map;Ht._soloed=new Map;class hg extends Ke{constructor(){const e=He(hg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new fg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ft(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Sa extends Ke{constructor(){const e=He(Sa.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ht({solo:e.solo,context:this.context}),this._panVol=this.output=new hg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ft(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Sa.buses.has(e)||Sa.buses.set(e,new _n({context:this.context})),Sa.buses.get(e)}send(e,n=0){const r=this._getBus(e),a=new _n({context:this.context,units:"decibels",gain:n});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Sa.buses=new Map;function M_(){return lr().now()}lr().transport;lr().destination;lr().destination;lr().listener;lr().draw;lr();const dg=ot.div`
  text-align: center;
`,P_=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],N_=[2,3,4,5,6,7],pP=["Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian","Harmonic Minor","Melodic Minor","Phrygian Dominant","Major Pentatonic","Minor Pentatonic","Whole Tone","Chromatic","Whole-Half Diminished","Half-Whole Diminished","Altered"],mP=[437,438,439,440,441,442,443,444,445],Dy=document.documentElement.clientWidth,gP=ot.div`
  padding: 48px 16px;
`,vP=ot.select`
  width: 48px;
  height: 36px;
  font-size: 14pt;
`,yP=ot.select`
  width: 48px;
  height: 36px;
  font-size: 14pt;
`,bP=ot.input`
  width: 300px
`,wP=ot.p`
  font-size: 32px;
  font-weight: bold;
`,_P=ot.button`
  width: 96px;
  height: 40px;
  font-size: 12pt;
  vertical-align: middle;
  font-weight: 400;
  margin-top: 26px;
`,xP=ot.span`
  margin: 4px;
`,Ly=ot.div`
  padding: 16px;
`,SP=ot.div`
  display: flex;
  justify-content: center;
  width: ${Dy<=400?"300px":"100%"};
  overflow-x: auto; /*  */
  overflow-y: hidden; /*  */
  white-space: nowrap; /*  */
  box-sizing: border-box; /*  */
  p {
    font-size: ${Dy<=400?"20pt":"28pt"};
    font-weight: bold;
  }
`,CP=ot.div`
  text-align: left;
  width: 400px;
  padding: 0 16px;
`,By=ot.label`
  font-size: 16px;
  margin-bottom: 4px;
  margin-left: 2px;
  display: block;
  text-align: left;
`,Fy=ot.div`
  display: flex;
  justify-content: center;
  width: 100%;       /*  */
`,Jl=ot.div`
  display: block;
`,zy=-8,kP=()=>{const[t,e]=Q.useState("C"),[n,r]=Q.useState(4),[a,o]=Q.useState(60),[l,f]=Q.useState(261.63),[d,m]=Q.useState(440),[w,b]=Q.useState(!1),g=Q.useRef(null);Q.useEffect(()=>{const h=new Ds(zy).toDestination(),x=new qt(l,"sine").toDestination().connect(h);return g.current=x,g.current.volume.rampTo(-1/0,0),()=>{x.stop(),x.dispose()}},[]),Q.useEffect(()=>{g.current&&g.current.frequency.setValueAtTime(l,M_())},[l]),Q.useEffect(()=>{o(Number(yC(t+n)))},[t,n]),Q.useEffect(()=>{f(y(a,d))},[a,d]);const p=()=>{g.current&&(w?(g.current.volume.rampTo(-1/0,.5),setTimeout(()=>{var h;(h=g.current)==null||h.stop()},500)):(g.current.volume.rampTo(zy,.2),g.current.start()),b(!w))},y=(h,x)=>{const S=h-69,C=x*Math.pow(2,S/12);return Math.round(C*100)/100};return oe.jsx(dg,{children:oe.jsxs(gP,{children:[oe.jsx("h1",{children:"Oscillator"}),oe.jsxs(Jl,{children:[oe.jsx(wP,{children:d+"Hz"}),oe.jsx(bP,{type:"range",defaultValue:440,min:437,max:445,id:"temp",name:"temp",list:"markers",onChange:h=>m(Number(h.target.value))}),oe.jsx("datalist",{id:"markers",children:mP.map(h=>oe.jsx("option",{value:h},h))})]}),oe.jsx(Ly,{}),oe.jsxs(Fy,{children:[oe.jsxs(Jl,{children:[oe.jsx(By,{htmlFor:"note",children:"Note"}),oe.jsx(vP,{id:"note",onChange:h=>e(h.target.value),children:P_.map(h=>oe.jsx("option",{value:h,children:h},h))})]}),oe.jsx(xP,{}),oe.jsxs(Jl,{children:[oe.jsx(By,{htmlFor:"octave",children:"Octave"}),oe.jsx(yP,{id:"octave",defaultValue:4,onChange:h=>r(parseInt(h.target.value)),children:N_.map(h=>oe.jsx("option",{value:h,children:h},h))})]})]}),oe.jsx(Ly,{}),oe.jsx(SP,{children:oe.jsxs(CP,{children:[oe.jsx("p",{children:"Note Number: "+a}),oe.jsx("p",{children:"Frequency: "+l+"Hz"})]})}),oe.jsx(Fy,{children:oe.jsx(Jl,{children:oe.jsx(_P,{onClick:p,children:w?"Stop":"Play"})})})]})})},TP=ot.footer`
  margin-top: auto;
  bottom: 0;
  width: 100%;
  text-align: center;
  background-color: #242424;
  padding: 0.5rem 0;
  font-size: 0.9rem;
  color: #888;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
`,R_=()=>oe.jsx(TP,{children:oe.jsxs("p",{children:[" ",new Date().getFullYear()," Hibiki TAKEMURA. All rights reserved."]})}),I_=ot.div`
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
`;function Ns(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Vr="$$material";function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(null,arguments)}function EP(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AP(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var MP=function(){function t(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AP(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=EP(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),bn="-ms-",W0="-moz-",rt="-webkit-",O_="comm",pg="rule",mg="decl",PP="@import",D_="@keyframes",NP="@layer",RP=Math.abs,xu=String.fromCharCode,IP=Object.assign;function OP(t,e){return hn(t,0)^45?(((e<<2^hn(t,0))<<2^hn(t,1))<<2^hn(t,2))<<2^hn(t,3):0}function L_(t){return t.trim()}function DP(t,e){return(t=e.exec(t))?t[0]:t}function it(t,e,n){return t.replace(e,n)}function tm(t,e){return t.indexOf(e)}function hn(t,e){return t.charCodeAt(e)|0}function cc(t,e,n){return t.slice(e,n)}function zr(t){return t.length}function gg(t){return t.length}function e0(t,e){return e.push(t),t}function LP(t,e){return t.map(e).join("")}var Su=1,ja=1,B_=0,$n=0,Gt=0,Za="";function Cu(t,e,n,r,a,o,l){return{value:t,root:e,parent:n,type:r,props:a,children:o,line:Su,column:ja,length:l,return:""}}function qo(t,e){return IP(Cu("",null,null,"",null,null,0),t,{length:-t.length},e)}function BP(){return Gt}function FP(){return Gt=$n>0?hn(Za,--$n):0,ja--,Gt===10&&(ja=1,Su--),Gt}function Qn(){return Gt=$n<B_?hn(Za,$n++):0,ja++,Gt===10&&(ja=1,Su++),Gt}function Wr(){return hn(Za,$n)}function b0(){return $n}function Ac(t,e){return cc(Za,t,e)}function lc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F_(t){return Su=ja=1,B_=zr(Za=t),$n=0,[]}function z_(t){return Za="",t}function w0(t){return L_(Ac($n-1,nm(t===91?t+2:t===40?t+1:t)))}function zP(t){for(;(Gt=Wr())&&Gt<33;)Qn();return lc(t)>2||lc(Gt)>3?"":" "}function $P(t,e){for(;--e&&Qn()&&!(Gt<48||Gt>102||Gt>57&&Gt<65||Gt>70&&Gt<97););return Ac(t,b0()+(e<6&&Wr()==32&&Qn()==32))}function nm(t){for(;Qn();)switch(Gt){case t:return $n;case 34:case 39:t!==34&&t!==39&&nm(Gt);break;case 40:t===41&&nm(t);break;case 92:Qn();break}return $n}function qP(t,e){for(;Qn()&&t+Gt!==57;)if(t+Gt===84&&Wr()===47)break;return"/*"+Ac(e,$n-1)+"*"+xu(t===47?t:Qn())}function jP(t){for(;!lc(Wr());)Qn();return Ac(t,$n)}function VP(t){return z_(_0("",null,null,null,[""],t=F_(t),0,[0],t))}function _0(t,e,n,r,a,o,l,f,d){for(var m=0,w=0,b=l,g=0,p=0,y=0,h=1,x=1,S=1,C=0,T="",M=a,A=o,B=r,F=T;x;)switch(y=C,C=Qn()){case 40:if(y!=108&&hn(F,b-1)==58){tm(F+=it(w0(C),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:F+=w0(C);break;case 9:case 10:case 13:case 32:F+=zP(y);break;case 92:F+=$P(b0()-1,7);continue;case 47:switch(Wr()){case 42:case 47:e0(WP(qP(Qn(),b0()),e,n),d);break;default:F+="/"}break;case 123*h:f[m++]=zr(F)*S;case 125*h:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+w:S==-1&&(F=it(F,/\f/g,"")),p>0&&zr(F)-b&&e0(p>32?qy(F+";",r,n,b-1):qy(it(F," ","")+";",r,n,b-2),d);break;case 59:F+=";";default:if(e0(B=$y(F,e,n,m,w,a,f,T,M=[],A=[],b),o),C===123)if(w===0)_0(F,e,B,B,M,o,b,f,A);else switch(g===99&&hn(F,3)===110?100:g){case 100:case 108:case 109:case 115:_0(t,B,B,r&&e0($y(t,B,B,0,0,a,f,T,a,M=[],b),A),a,A,b,f,r?M:A);break;default:_0(F,B,B,B,[""],A,0,f,A)}}m=w=p=0,h=S=1,T=F="",b=l;break;case 58:b=1+zr(F),p=y;default:if(h<1){if(C==123)--h;else if(C==125&&h++==0&&FP()==125)continue}switch(F+=xu(C),C*h){case 38:S=w>0?1:(F+="\f",-1);break;case 44:f[m++]=(zr(F)-1)*S,S=1;break;case 64:Wr()===45&&(F+=w0(Qn())),g=Wr(),w=b=zr(T=F+=jP(b0())),C++;break;case 45:y===45&&zr(F)==2&&(h=0)}}return o}function $y(t,e,n,r,a,o,l,f,d,m,w){for(var b=a-1,g=a===0?o:[""],p=gg(g),y=0,h=0,x=0;y<r;++y)for(var S=0,C=cc(t,b+1,b=RP(h=l[y])),T=t;S<p;++S)(T=L_(h>0?g[S]+" "+C:it(C,/&\f/g,g[S])))&&(d[x++]=T);return Cu(t,e,n,a===0?pg:f,d,m,w)}function WP(t,e,n){return Cu(t,e,n,O_,xu(BP()),cc(t,2,-2),0)}function qy(t,e,n,r){return Cu(t,e,n,mg,cc(t,0,r),cc(t,r+1,-1),r)}function Ta(t,e){for(var n="",r=gg(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function HP(t,e,n,r){switch(t.type){case NP:if(t.children.length)break;case PP:case mg:return t.return=t.return||t.value;case O_:return"";case D_:return t.return=t.value+"{"+Ta(t.children,r)+"}";case pg:t.value=t.props.join(",")}return zr(n=Ta(t.children,r))?t.return=t.value+"{"+n+"}":""}function UP(t){var e=gg(t);return function(n,r,a,o){for(var l="",f=0;f<e;f++)l+=t[f](n,r,a,o)||"";return l}}function GP(t){return function(e){e.root||(e=e.return)&&t(e)}}var YP=function(e,n,r){for(var a=0,o=0;a=o,o=Wr(),a===38&&o===12&&(n[r]=1),!lc(o);)Qn();return Ac(e,$n)},XP=function(e,n){var r=-1,a=44;do switch(lc(a)){case 0:a===38&&Wr()===12&&(n[r]=1),e[r]+=YP($n-1,n,r);break;case 2:e[r]+=w0(a);break;case 4:if(a===44){e[++r]=Wr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xu(a)}while(a=Qn());return e},KP=function(e,n){return z_(XP(F_(e),n))},jy=new WeakMap,QP=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jy.get(r))&&!a){jy.set(e,!0);for(var o=[],l=KP(n,o),f=r.props,d=0,m=0;d<l.length;d++)for(var w=0;w<f.length;w++,m++)e.props[m]=o[d]?l[d].replace(/&\f/g,f[w]):f[w]+" "+l[d]}}},ZP=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $_(t,e){switch(OP(t,e)){case 5103:return rt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+t+W0+t+bn+t+t;case 6828:case 4268:return rt+t+bn+t+t;case 6165:return rt+t+bn+"flex-"+t+t;case 5187:return rt+t+it(t,/(\w+).+(:[^]+)/,rt+"box-$1$2"+bn+"flex-$1$2")+t;case 5443:return rt+t+bn+"flex-item-"+it(t,/flex-|-self/,"")+t;case 4675:return rt+t+bn+"flex-line-pack"+it(t,/align-content|flex-|-self/,"")+t;case 5548:return rt+t+bn+it(t,"shrink","negative")+t;case 5292:return rt+t+bn+it(t,"basis","preferred-size")+t;case 6060:return rt+"box-"+it(t,"-grow","")+rt+t+bn+it(t,"grow","positive")+t;case 4554:return rt+it(t,/([^-])(transform)/g,"$1"+rt+"$2")+t;case 6187:return it(it(it(t,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),t,"")+t;case 5495:case 3959:return it(t,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(t,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+t+t;case 4095:case 3583:case 4068:case 2532:return it(t,/(.+)-inline(.+)/,rt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zr(t)-1-e>6)switch(hn(t,e+1)){case 109:if(hn(t,e+4)!==45)break;case 102:return it(t,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+W0+(hn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tm(t,"stretch")?$_(it(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(hn(t,e+1)!==115)break;case 6444:switch(hn(t,zr(t)-3-(~tm(t,"!important")&&10))){case 107:return it(t,":",":"+rt)+t;case 101:return it(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(hn(t,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+bn+"$2box$3")+t}break;case 5936:switch(hn(t,e+11)){case 114:return rt+t+bn+it(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rt+t+bn+it(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rt+t+bn+it(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rt+t+bn+t+t}return t}var JP=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case mg:e.return=$_(e.value,e.length);break;case D_:return Ta([qo(e,{value:it(e.value,"@","@"+rt)})],a);case pg:if(e.length)return LP(e.props,function(o){switch(DP(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ta([qo(e,{props:[it(o,/:(read-\w+)/,":"+W0+"$1")]})],a);case"::placeholder":return Ta([qo(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),qo(e,{props:[it(o,/:(plac\w+)/,":"+W0+"$1")]}),qo(e,{props:[it(o,/:(plac\w+)/,bn+"input-$1")]})],a)}return""})}},eN=[JP],tN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(h){var x=h.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var a=e.stylisPlugins||eN,o={},l,f=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(h){for(var x=h.getAttribute("data-emotion").split(" "),S=1;S<x.length;S++)o[x[S]]=!0;f.push(h)});var d,m=[QP,ZP];{var w,b=[HP,GP(function(h){w.insert(h)})],g=UP(m.concat(a,b)),p=function(x){return Ta(VP(x),g)};d=function(x,S,C,T){w=C,p(x?x+"{"+S.styles+"}":S.styles),T&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new MP({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return y.sheet.hydrate(f),y},Lh={exports:{}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function nN(){if(Vy)return st;Vy=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,w=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,h=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function T(A){if(typeof A=="object"&&A!==null){var B=A.$$typeof;switch(B){case e:switch(A=A.type,A){case d:case m:case r:case o:case a:case b:return A;default:switch(A=A&&A.$$typeof,A){case f:case w:case y:case p:case l:return A;default:return B}}case n:return B}}}function M(A){return T(A)===m}return st.AsyncMode=d,st.ConcurrentMode=m,st.ContextConsumer=f,st.ContextProvider=l,st.Element=e,st.ForwardRef=w,st.Fragment=r,st.Lazy=y,st.Memo=p,st.Portal=n,st.Profiler=o,st.StrictMode=a,st.Suspense=b,st.isAsyncMode=function(A){return M(A)||T(A)===d},st.isConcurrentMode=M,st.isContextConsumer=function(A){return T(A)===f},st.isContextProvider=function(A){return T(A)===l},st.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},st.isForwardRef=function(A){return T(A)===w},st.isFragment=function(A){return T(A)===r},st.isLazy=function(A){return T(A)===y},st.isMemo=function(A){return T(A)===p},st.isPortal=function(A){return T(A)===n},st.isProfiler=function(A){return T(A)===o},st.isStrictMode=function(A){return T(A)===a},st.isSuspense=function(A){return T(A)===b},st.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===m||A===o||A===a||A===b||A===g||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===p||A.$$typeof===l||A.$$typeof===f||A.$$typeof===w||A.$$typeof===x||A.$$typeof===S||A.$$typeof===C||A.$$typeof===h)},st.typeOf=T,st}var Wy;function rN(){return Wy||(Wy=1,Lh.exports=nN()),Lh.exports}var Bh,Hy;function iN(){if(Hy)return Bh;Hy=1;var t=rN(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=a;function l(y){return t.isMemo(y)?a:o[y.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,w=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,g=Object.prototype;function p(y,h,x){if(typeof h!="string"){if(g){var S=b(h);S&&S!==g&&p(y,S,x)}var C=d(h);m&&(C=C.concat(m(h)));for(var T=l(y),M=l(h),A=0;A<C.length;++A){var B=C[A];if(!n[B]&&!(x&&x[B])&&!(M&&M[B])&&!(T&&T[B])){var F=w(h,B);try{f(y,B,F)}catch{}}}}return y}return Bh=p,Bh}iN();var sN=!0;function q_(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var vg=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||sN===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},yg=function(e,n,r){vg(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function aN(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var oN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function cN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lN=/[A-Z]|^ms/g,uN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j_=function(e){return e.charCodeAt(1)===45},Uy=function(e){return e!=null&&typeof e!="boolean"},Fh=cN(function(t){return j_(t)?t:t.replace(lN,"-$&").toLowerCase()}),Gy=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(uN,function(r,a,o){return $r={name:a,styles:o,next:$r},a})}return oN[e]!==1&&!j_(e)&&typeof n=="number"&&n!==0?n+"px":n};function uc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return $r={name:a.name,styles:a.styles,next:$r},a.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)$r={name:l.name,styles:l.styles,next:$r},l=l.next;var f=o.styles+";";return f}return fN(t,e,n)}case"function":{if(t!==void 0){var d=$r,m=n(t);return $r=d,uc(t,e,m)}break}}var w=n;if(e==null)return w;var b=e[w];return b!==void 0?b:w}function fN(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=uc(t,e,n[a])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var f=l;e!=null&&e[f]!==void 0?r+=o+"{"+e[f]+"}":Uy(f)&&(r+=Fh(o)+":"+Gy(o,f)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)Uy(l[d])&&(r+=Fh(o)+":"+Gy(o,l[d])+";");else{var m=uc(t,e,l);switch(o){case"animation":case"animationName":{r+=Fh(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var Yy=/label:\s*([^\s;{]+)\s*(;|$)/g,$r;function Mc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";$r=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,a+=uc(n,e,o);else{var l=o;a+=l[0]}for(var f=1;f<t.length;f++)if(a+=uc(n,e,t[f]),r){var d=o;a+=d[f]}Yy.lastIndex=0;for(var m="",w;(w=Yy.exec(a))!==null;)m+="-"+w[1];var b=aN(a)+m;return{name:b,styles:a,next:$r}}var hN=function(e){return e()},V_=O1.useInsertionEffect?O1.useInsertionEffect:!1,W_=V_||hN,Xy=V_||Q.useLayoutEffect,H_=Q.createContext(typeof HTMLElement<"u"?tN({key:"css"}):null);H_.Provider;var bg=function(e){return Q.forwardRef(function(n,r){var a=Q.useContext(H_);return e(n,a,r)})},Pc=Q.createContext({}),wg={}.hasOwnProperty,rm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dN=function(e,n){var r={};for(var a in n)wg.call(n,a)&&(r[a]=n[a]);return r[rm]=e,r},pN=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return vg(n,r,a),W_(function(){return yg(n,r,a)}),null},mN=bg(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[rm],o=[r],l="";typeof t.className=="string"?l=q_(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var f=Mc(o,void 0,Q.useContext(Pc));l+=e.key+"-"+f.name;var d={};for(var m in t)wg.call(t,m)&&m!=="css"&&m!==rm&&(d[m]=t[m]);return d.className=l,n&&(d.ref=n),Q.createElement(Q.Fragment,null,Q.createElement(pN,{cache:e,serialized:f,isStringTag:typeof a=="string"}),Q.createElement(a,d))}),gN=mN,vN=function(e,n){var r=arguments;if(n==null||!wg.call(n,"css"))return Q.createElement.apply(void 0,r);var a=r.length,o=new Array(a);o[0]=gN,o[1]=dN(e,n);for(var l=2;l<a;l++)o[l]=r[l];return Q.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(vN);var yN=bg(function(t,e){var n=t.styles,r=Mc([n],void 0,Q.useContext(Pc)),a=Q.useRef();return Xy(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),f=!1,d=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(f=!0,d.setAttribute("data-emotion",o),l.hydrate([d])),a.current=[l,f],function(){l.flush()}},[e]),Xy(function(){var o=a.current,l=o[0],f=o[1];if(f){o[1]=!1;return}if(r.next!==void 0&&yg(e,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",r,l,!1)},[e,r.name]),null});function _g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Mc(e)}function Nc(){var t=_g.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function bN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_N=bN(function(t){return wN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),xN=_N,SN=function(e){return e!=="theme"},Ky=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?xN:SN},Qy=function(e,n,r){var a;if(n){var o=n.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},CN=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return vg(n,r,a),W_(function(){return yg(n,r,a)}),null},kN=function t(e,n){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,o,l;n!==void 0&&(o=n.label,l=n.target);var f=Qy(e,n,r),d=f||Ky(a),m=!d("as");return function(){var w=arguments,b=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&b.push("label:"+o+";"),w[0]==null||w[0].raw===void 0)b.push.apply(b,w);else{var g=w[0];b.push(g[0]);for(var p=w.length,y=1;y<p;y++)b.push(w[y],g[y])}var h=bg(function(x,S,C){var T=m&&x.as||a,M="",A=[],B=x;if(x.theme==null){B={};for(var F in x)B[F]=x[F];B.theme=Q.useContext(Pc)}typeof x.className=="string"?M=q_(S.registered,A,x.className):x.className!=null&&(M=x.className+" ");var E=Mc(b.concat(A),S.registered,B);M+=S.key+"-"+E.name,l!==void 0&&(M+=" "+l);var $=m&&f===void 0?Ky(T):d,P={};for(var z in x)m&&z==="as"||$(z)&&(P[z]=x[z]);return P.className=M,C&&(P.ref=C),Q.createElement(Q.Fragment,null,Q.createElement(CN,{cache:S,serialized:E,isStringTag:typeof T=="string"}),Q.createElement(T,P))});return h.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",h.defaultProps=e.defaultProps,h.__emotion_real=h,h.__emotion_base=a,h.__emotion_styles=b,h.__emotion_forwardProp=f,Object.defineProperty(h,"toString",{value:function(){return"."+l}}),h.withComponent=function(x,S){var C=t(x,V0({},n,S,{shouldForwardProp:Qy(h,S,!0)}));return C.apply(void 0,b)},h}},TN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],im=kN.bind(null);TN.forEach(function(t){im[t]=im(t)});function EN(t){return t==null||Object.keys(t).length===0}function U_(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?a=>e(EN(a)?n:a):e;return oe.jsx(yN,{styles:r})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function G_(t,e){return im(t,e)}function AN(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Zy=[];function Jy(t){return Zy[0]=t,Mc(Zy)}var zh={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function MN(){if(eb)return ft;eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),p=Symbol.for("react.client.reference");function y(h){if(typeof h=="object"&&h!==null){var x=h.$$typeof;switch(x){case t:switch(h=h.type,h){case n:case a:case r:case d:case m:return h;default:switch(h=h&&h.$$typeof,h){case l:case f:case b:case w:return h;case o:return h;default:return x}}case e:return x}}}return ft.ContextConsumer=o,ft.ContextProvider=l,ft.Element=t,ft.ForwardRef=f,ft.Fragment=n,ft.Lazy=b,ft.Memo=w,ft.Portal=e,ft.Profiler=a,ft.StrictMode=r,ft.Suspense=d,ft.SuspenseList=m,ft.isContextConsumer=function(h){return y(h)===o},ft.isContextProvider=function(h){return y(h)===l},ft.isElement=function(h){return typeof h=="object"&&h!==null&&h.$$typeof===t},ft.isForwardRef=function(h){return y(h)===f},ft.isFragment=function(h){return y(h)===n},ft.isLazy=function(h){return y(h)===b},ft.isMemo=function(h){return y(h)===w},ft.isPortal=function(h){return y(h)===e},ft.isProfiler=function(h){return y(h)===a},ft.isStrictMode=function(h){return y(h)===r},ft.isSuspense=function(h){return y(h)===d},ft.isSuspenseList=function(h){return y(h)===m},ft.isValidElementType=function(h){return typeof h=="string"||typeof h=="function"||h===n||h===a||h===r||h===d||h===m||h===g||typeof h=="object"&&h!==null&&(h.$$typeof===b||h.$$typeof===w||h.$$typeof===l||h.$$typeof===o||h.$$typeof===f||h.$$typeof===p||h.getModuleId!==void 0)},ft.typeOf=y,ft}var tb;function PN(){return tb||(tb=1,zh.exports=MN()),zh.exports}var Y_=PN();function qr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function X_(t){if(Q.isValidElement(t)||Y_.isValidElementType(t)||!qr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=X_(t[n])}),e}function Zn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return qr(t)&&qr(e)&&Object.keys(e).forEach(a=>{Q.isValidElement(e[a])||Y_.isValidElementType(e[a])?r[a]=e[a]:qr(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&qr(t[a])?r[a]=Zn(t[a],e[a],n):n.clone?r[a]=qr(e[a])?X_(e[a]):e[a]:r[a]=e[a]}),r}const NN=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function RN(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...a}=t,o=NN(e),l=Object.keys(o);function f(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function d(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function m(g,p){const y=l.indexOf(p);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(y!==-1&&typeof e[l[y]]=="number"?e[l[y]]:p)-r/100}${n})`}function w(g){return l.indexOf(g)+1<l.length?m(g,l[l.indexOf(g)+1]):f(g)}function b(g){const p=l.indexOf(g);return p===0?f(l[1]):p===l.length-1?d(l[p]):m(g,l[l.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:f,down:d,between:m,only:w,not:b,unit:n,...a}}function IN(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,a)=>{var l,f;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((f=a.match(o))==null?void 0:f[1])||0)});return n.length?n.reduce((r,a)=>{const o=e[a];return delete r[a],r[a]=o,r},{...e}):e}function ON(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function DN(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(o)}function LN(t){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function n(o,l){o.up=(...f)=>e(t.breakpoints.up(...f),l),o.down=(...f)=>e(t.breakpoints.down(...f),l),o.between=(...f)=>e(t.breakpoints.between(...f),l),o.only=(...f)=>e(t.breakpoints.only(...f),l),o.not=(...f)=>{const d=e(t.breakpoints.not(...f),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},a=o=>(n(r,o),r);return n(a),{...t,containerQueries:a}}const BN={borderRadius:4};function ec(t,e){return e?Zn(t,e,{clone:!1}):t}const ku={xs:0,sm:600,md:900,lg:1200,xl:1536},nb={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ku[t]}px)`},FN={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:ku[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function mi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||nb;return e.reduce((l,f,d)=>(l[o.up(o.keys[d])]=n(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||nb;return Object.keys(e).reduce((l,f)=>{if(ON(o.keys,f)){const d=DN(r.containerQueries?r:FN,f);d&&(l[d]=n(e[f],f))}else if(Object.keys(o.values||ku).includes(f)){const d=o.up(f);l[d]=n(e[f],f)}else{const d=f;l[d]=e[d]}return l},{})}return n(e)}function zN(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,a)=>{const o=t.up(a);return r[o]={},r},{}))||{}}function $N(t,e){return t.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},e)}function dt(t){if(typeof t!="string")throw new Error(Ns(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Tu(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function H0(t,e,n,r=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||r:a=Tu(t,n)||r,e&&(a=e(a,r,t)),a}function Vt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:a}=t,o=l=>{if(l[e]==null)return null;const f=l[e],d=l.theme,m=Tu(d,r)||{};return mi(l,f,b=>{let g=H0(m,a,b);return b===g&&typeof b=="string"&&(g=H0(m,a,`${e}${b==="default"?"":dt(b)}`,b)),n===!1?g:{[n]:g}})};return o.propTypes={},o.filterProps=[e],o}function qN(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const jN={m:"margin",p:"padding"},VN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WN=qN(t=>{if(t.length>2)if(rb[t])t=rb[t];else return[t];const[e,n]=t.split(""),r=jN[e],a=VN[n]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),xg=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Sg=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xg,...Sg];function Rc(t,e,n,r){const a=Tu(t,e,!0)??n;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),f=a[l];return o>=0?f:typeof f=="number"?-f:`-${f}`}:typeof a=="function"?a:()=>{}}function Cg(t){return Rc(t,"spacing",8)}function Ic(t,e){return typeof e=="string"||e==null?e:t(e)}function HN(t,e){return n=>t.reduce((r,a)=>(r[a]=Ic(e,n),r),{})}function UN(t,e,n,r){if(!e.includes(n))return null;const a=WN(n),o=HN(a,r),l=t[n];return mi(t,l,o)}function K_(t,e){const n=Cg(t.theme);return Object.keys(t).map(r=>UN(t,e,r,n)).reduce(ec,{})}function Dt(t){return K_(t,xg)}Dt.propTypes={};Dt.filterProps=xg;function Lt(t){return K_(t,Sg)}Lt.propTypes={};Lt.filterProps=Sg;function Q_(t=8,e=Cg({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function Eu(...t){const e=t.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),n=r=>Object.keys(r).reduce((a,o)=>e[o]?ec(a,e[o](r)):a,{});return n.propTypes={},n.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),n}function cr(t){return typeof t!="number"?t:`${t}px solid`}function pr(t,e){return Vt({prop:t,themeKey:"borders",transform:e})}const GN=pr("border",cr),YN=pr("borderTop",cr),XN=pr("borderRight",cr),KN=pr("borderBottom",cr),QN=pr("borderLeft",cr),ZN=pr("borderColor"),JN=pr("borderTopColor"),eR=pr("borderRightColor"),tR=pr("borderBottomColor"),nR=pr("borderLeftColor"),rR=pr("outline",cr),iR=pr("outlineColor"),Au=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ic(e,r)});return mi(t,t.borderRadius,n)}return null};Au.propTypes={};Au.filterProps=["borderRadius"];Eu(GN,YN,XN,KN,QN,ZN,JN,eR,tR,nR,Au,rR,iR);const Mu=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({gap:Ic(e,r)});return mi(t,t.gap,n)}return null};Mu.propTypes={};Mu.filterProps=["gap"];const Pu=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({columnGap:Ic(e,r)});return mi(t,t.columnGap,n)}return null};Pu.propTypes={};Pu.filterProps=["columnGap"];const Nu=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({rowGap:Ic(e,r)});return mi(t,t.rowGap,n)}return null};Nu.propTypes={};Nu.filterProps=["rowGap"];const sR=Vt({prop:"gridColumn"}),aR=Vt({prop:"gridRow"}),oR=Vt({prop:"gridAutoFlow"}),cR=Vt({prop:"gridAutoColumns"}),lR=Vt({prop:"gridAutoRows"}),uR=Vt({prop:"gridTemplateColumns"}),fR=Vt({prop:"gridTemplateRows"}),hR=Vt({prop:"gridTemplateAreas"}),dR=Vt({prop:"gridArea"});Eu(Mu,Pu,Nu,sR,aR,oR,cR,lR,uR,fR,hR,dR);function Ea(t,e){return e==="grey"?e:t}const pR=Vt({prop:"color",themeKey:"palette",transform:Ea}),mR=Vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ea}),gR=Vt({prop:"backgroundColor",themeKey:"palette",transform:Ea});Eu(pR,mR,gR);function Kn(t){return t<=1&&t!==0?`${t*100}%`:t}const vR=Vt({prop:"width",transform:Kn}),kg=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var a,o,l,f,d;const r=((l=(o=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:o.values)==null?void 0:l[n])||ku[n];return r?((d=(f=t.theme)==null?void 0:f.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Kn(n)}};return mi(t,t.maxWidth,e)}return null};kg.filterProps=["maxWidth"];const yR=Vt({prop:"minWidth",transform:Kn}),bR=Vt({prop:"height",transform:Kn}),wR=Vt({prop:"maxHeight",transform:Kn}),_R=Vt({prop:"minHeight",transform:Kn});Vt({prop:"size",cssProperty:"width",transform:Kn});Vt({prop:"size",cssProperty:"height",transform:Kn});const xR=Vt({prop:"boxSizing"});Eu(vR,kg,yR,bR,wR,_R,xR);const Oc={border:{themeKey:"borders",transform:cr},borderTop:{themeKey:"borders",transform:cr},borderRight:{themeKey:"borders",transform:cr},borderBottom:{themeKey:"borders",transform:cr},borderLeft:{themeKey:"borders",transform:cr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:cr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Au},color:{themeKey:"palette",transform:Ea},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ea},backgroundColor:{themeKey:"palette",transform:Ea},p:{style:Lt},pt:{style:Lt},pr:{style:Lt},pb:{style:Lt},pl:{style:Lt},px:{style:Lt},py:{style:Lt},padding:{style:Lt},paddingTop:{style:Lt},paddingRight:{style:Lt},paddingBottom:{style:Lt},paddingLeft:{style:Lt},paddingX:{style:Lt},paddingY:{style:Lt},paddingInline:{style:Lt},paddingInlineStart:{style:Lt},paddingInlineEnd:{style:Lt},paddingBlock:{style:Lt},paddingBlockStart:{style:Lt},paddingBlockEnd:{style:Lt},m:{style:Dt},mt:{style:Dt},mr:{style:Dt},mb:{style:Dt},ml:{style:Dt},mx:{style:Dt},my:{style:Dt},margin:{style:Dt},marginTop:{style:Dt},marginRight:{style:Dt},marginBottom:{style:Dt},marginLeft:{style:Dt},marginX:{style:Dt},marginY:{style:Dt},marginInline:{style:Dt},marginInlineStart:{style:Dt},marginInlineEnd:{style:Dt},marginBlock:{style:Dt},marginBlockStart:{style:Dt},marginBlockEnd:{style:Dt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mu},rowGap:{style:Nu},columnGap:{style:Pu},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kn},maxWidth:{style:kg},minWidth:{transform:Kn},height:{transform:Kn},maxHeight:{transform:Kn},minHeight:{transform:Kn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function SR(...t){const e=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function CR(t,e){return typeof t=="function"?t(e):t}function kR(){function t(n,r,a,o){const l={[n]:r,theme:a},f=o[n];if(!f)return{[n]:r};const{cssProperty:d=n,themeKey:m,transform:w,style:b}=f;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const g=Tu(a,m)||{};return b?b(l):mi(l,r,y=>{let h=H0(g,w,y);return y===h&&typeof y=="string"&&(h=H0(g,w,`${n}${y==="default"?"":dt(y)}`,y)),d===!1?h:{[d]:h}})}function e(n){const{sx:r,theme:a={}}=n||{};if(!r)return null;const o=a.unstable_sxConfig??Oc;function l(f){let d=f;if(typeof f=="function")d=f(a);else if(typeof f!="object")return f;if(!d)return null;const m=zN(a.breakpoints),w=Object.keys(m);let b=m;return Object.keys(d).forEach(g=>{const p=CR(d[g],a);if(p!=null)if(typeof p=="object")if(o[g])b=ec(b,t(g,p,a,o));else{const y=mi({theme:a},p,h=>({[g]:h}));SR(y,p)?b[g]=e({sx:p,theme:a}):b=ec(b,y)}else b=ec(b,t(g,p,a,o))}),IN(a,$N(w,b))}return Array.isArray(r)?r.map(l):l(r)}return e}const Zi=kR();Zi.filterProps=["sx"];function TR(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function Tg(t={},...e){const{breakpoints:n={},palette:r={},spacing:a,shape:o={},...l}=t,f=RN(n),d=Q_(a);let m=Zn({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...BN,...o}},l);return m=LN(m),m.applyStyles=TR,m=e.reduce((w,b)=>Zn(w,b),m),m.unstable_sxConfig={...Oc,...l==null?void 0:l.unstable_sxConfig},m.unstable_sx=function(b){return Zi({sx:b,theme:this})},m}function ER(t){return Object.keys(t).length===0}function Z_(t=null){const e=Q.useContext(Pc);return!e||ER(e)?t:e}const AR=Tg();function Eg(t=AR){return Z_(t)}function MR({styles:t,themeId:e,defaultTheme:n={}}){const r=Eg(n),a=typeof t=="function"?t(e&&r[e]||r):t;return oe.jsx(U_,{styles:a})}const PR=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Oc;return Object.keys(t).forEach(a=>{n[a]?e.systemProps[a]=t[a]:e.otherProps[a]=t[a]}),e};function J_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:a}=PR(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...l)=>{const f=e(...l);return qr(f)?{...r,...f}:r}:o={...r,...e},{...a,sx:o}}const ib=t=>t,NR=()=>{let t=ib;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ib}}},e9=NR();function t9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=t9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=t9(t))&&(r&&(r+=" "),r+=e);return r}function RR(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=t,o=G_("div",{shouldForwardProp:f=>f!=="theme"&&f!=="sx"&&f!=="as"})(Zi);return Q.forwardRef(function(d,m){const w=Eg(n),{className:b,component:g="div",...p}=J_(d);return oe.jsx(o,{as:g,ref:m,className:et(b,a?a(r):r),theme:e&&w[e]||w,...p})})}const IR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function on(t,e,n="Mui"){const r=IR[e];return r?`${n}-${r}`:`${e9.generate(t)}-${e}`}function Zt(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=on(t,a,n)}),r}function n9(t){const{variants:e,...n}=t,r={variants:e,style:Jy(n),isProcessed:!0};return r.style===n||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=Jy(a.style))}),r}const OR=Tg();function $h(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function DR(t){return t?(e,n)=>n[t]:null}function LR(t,e,n){t.theme=zR(t.theme)?n:t.theme[e]||t.theme}function x0(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>x0(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:a,...o}=n;r=o}return r9(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function r9(t,e,n=[]){var a;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!l.props(r))continue}else for(const f in l.props)if(t[f]!==l.props[f]&&((a=t.ownerState)==null?void 0:a[f])!==l.props[f])continue e;typeof l.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(l.style(r))):n.push(l.style)}return n}function BR(t={}){const{themeId:e,defaultTheme:n=OR,rootShouldForwardProp:r=$h,slotShouldForwardProp:a=$h}=t;function o(f){LR(f,e,n)}return(f,d={})=>{AN(f,A=>A.filter(B=>B!==Zi));const{name:m,slot:w,skipVariantsResolver:b,skipSx:g,overridesResolver:p=DR(qR(w)),...y}=d,h=b!==void 0?b:w&&w!=="Root"&&w!=="root"||!1,x=g||!1;let S=$h;w==="Root"||w==="root"?S=r:w?S=a:$R(f)&&(S=void 0);const C=G_(f,{shouldForwardProp:S,label:FR(),...y}),T=A=>{if(typeof A=="function"&&A.__emotion_real!==A)return function(F){return x0(F,A)};if(qr(A)){const B=n9(A);return B.variants?function(E){return x0(E,B)}:B.style}return A},M=(...A)=>{const B=[],F=A.map(T),E=[];if(B.push(o),m&&p&&E.push(function(j){var W,G;const L=(G=(W=j.theme.components)==null?void 0:W[m])==null?void 0:G.styleOverrides;if(!L)return null;const D={};for(const U in L)D[U]=x0(j,L[U]);return p(j,D)}),m&&!h&&E.push(function(j){var D,W;const V=j.theme,L=(W=(D=V==null?void 0:V.components)==null?void 0:D[m])==null?void 0:W.variants;return L?r9(j,L):null}),x||E.push(Zi),Array.isArray(F[0])){const z=F.shift(),j=new Array(B.length).fill(""),V=new Array(E.length).fill("");let L;L=[...j,...z,...V],L.raw=[...j,...z.raw,...V],B.unshift(L)}const $=[...B,...F,...E],P=C(...$);return f.muiName&&(P.muiName=f.muiName),P};return C.withConfig&&(M.withConfig=C.withConfig),M}}function FR(t,e){return void 0}function zR(t){for(const e in t)return!1;return!0}function $R(t){return typeof t=="string"&&t.charCodeAt(0)>96}function qR(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function sm(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=r;if(a==="components"||a==="slots")n[a]={...t[a],...n[a]};else if(a==="componentsProps"||a==="slotProps"){const o=t[a],l=e[a];if(!l)n[a]=o||{};else if(!o)n[a]=l;else{n[a]={...l};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=f;n[a][d]=sm(o[d],l[d])}}}else n[a]===void 0&&(n[a]=t[a])}return n}const fc=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function jR(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Ag(t,e=0,n=1){return jR(t,e,n)}function VR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ji(t){if(t.type)return t;if(t.charAt(0)==="#")return Ji(VR(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ns(9,t));let r=t.substring(e+1,t.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Ns(10,a))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:a}}const WR=t=>{const e=Ji(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Go=(t,e)=>{try{return WR(t)}catch{return t}};function Ru(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function i9(t){t=Ji(t);const{values:e}=t,n=e[0],r=e[1]/100,a=e[2]/100,o=r*Math.min(a,1-a),l=(m,w=(m+n/30)%12)=>a-o*Math.max(Math.min(w-3,9-w,1),-1);let f="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(f+="a",d.push(e[3])),Ru({type:f,values:d})}function am(t){t=Ji(t);let e=t.type==="hsl"||t.type==="hsla"?Ji(i9(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function HR(t,e){const n=am(t),r=am(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function jr(t,e){return t=Ji(t),e=Ag(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ru(t)}function t0(t,e,n){try{return jr(t,e)}catch{return t}}function Mg(t,e){if(t=Ji(t),e=Ag(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ru(t)}function gt(t,e,n){try{return Mg(t,e)}catch{return t}}function Pg(t,e){if(t=Ji(t),e=Ag(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ru(t)}function vt(t,e,n){try{return Pg(t,e)}catch{return t}}function UR(t,e=.15){return am(t)>.5?Mg(t,e):Pg(t,e)}function n0(t,e,n){try{return UR(t,e)}catch{return t}}function sb(...t){return t.reduce((e,n)=>n==null?e:function(...a){e.apply(this,a),n.apply(this,a)},()=>{})}function GR(t,e=166){let n;function r(...a){const o=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function YR(t,e){var n,r,a;return Q.isValidElement(t)&&e.indexOf(t.type.muiName??((a=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:a.muiName))!==-1}function Rs(t){return t&&t.ownerDocument||document}function Va(t){return Rs(t).defaultView||window}function om(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let ab=0;function XR(t){const[e,n]=Q.useState(t),r=t||e;return Q.useEffect(()=>{e==null&&(ab+=1,n(`mui-${ab}`))},[e]),r}const KR={...O1},ob=KR.useId;function QR(t){if(ob!==void 0){const e=ob();return t??e}return XR(t)}function Aa(t){const e=Q.useRef(t);return fc(()=>{e.current=t}),Q.useRef((...n)=>(0,e.current)(...n)).current}function Er(...t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{om(n,e)})},t)}const cb={};function s9(t,e){const n=Q.useRef(cb);return n.current===cb&&(n.current=t(e)),n}const ZR=[];function JR(t){Q.useEffect(t,ZR)}class Ng{constructor(){zo(this,"currentId",null);zo(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});zo(this,"disposeEffect",()=>this.clear)}static create(){return new Ng}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function eI(){const t=s9(Ng.create).current;return JR(t.disposeEffect),t}function lb(t){try{return t.matches(":focus-visible")}catch{}return!1}function tI(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function pn(t,e,n=void 0){const r={};for(const a in t){const o=t[a];let l="",f=!0;for(let d=0;d<o.length;d+=1){const m=o[d];m&&(l+=(f===!0?"":" ")+e(m),f=!1,n&&n[m]&&(l+=" "+n[m]))}r[a]=l}return r}function nI(t){return typeof t=="string"}function rI(t,e,n){return t===void 0||nI(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function a9(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ub(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function iI(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:o}=t;if(!e){const p=et(n==null?void 0:n.className,o,a==null?void 0:a.className,r==null?void 0:r.className),y={...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},h={...n,...a,...r};return p.length>0&&(h.className=p),Object.keys(y).length>0&&(h.style=y),{props:h,internalRef:void 0}}const l=a9({...a,...r}),f=ub(r),d=ub(a),m=e(l),w=et(m==null?void 0:m.className,n==null?void 0:n.className,o,a==null?void 0:a.className,r==null?void 0:r.className),b={...m==null?void 0:m.style,...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},g={...m,...n,...d,...f};return w.length>0&&(g.className=w),Object.keys(b).length>0&&(g.style=b),{props:g,internalRef:m.ref}}function sI(t,e,n){return typeof t=="function"?t(e,n):t}function Iu(t){var e;return parseInt(Q.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const o9=Q.createContext(null);function Rg(){return Q.useContext(o9)}const aI=typeof Symbol=="function"&&Symbol.for,oI=aI?Symbol.for("mui.nested"):"__THEME_NESTED__";function cI(t,e){return typeof e=="function"?e(t):{...t,...e}}function lI(t){const{children:e,theme:n}=t,r=Rg(),a=Q.useMemo(()=>{const o=r===null?{...n}:cI(r,n);return o!=null&&(o[oI]=r!==null),o},[n,r]);return oe.jsx(o9.Provider,{value:a,children:e})}const c9=Q.createContext();function uI({value:t,...e}){return oe.jsx(c9.Provider,{value:t??!0,...e})}const fI=()=>Q.useContext(c9)??!1,l9=Q.createContext(void 0);function hI({value:t,children:e}){return oe.jsx(l9.Provider,{value:t,children:e})}function dI(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const a=e.components[n];return a.defaultProps?sm(a.defaultProps,r):!a.styleOverrides&&!a.variants?sm(a,r):r}function pI({props:t,name:e}){const n=Q.useContext(l9);return dI({props:t,name:e,theme:{components:n}})}const fb={};function hb(t,e,n,r=!1){return Q.useMemo(()=>{const a=t&&e[t]||e;if(typeof n=="function"){const o=n(a),l=t?{...e,[t]:o}:o;return r?()=>l:l}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function u9(t){const{children:e,theme:n,themeId:r}=t,a=Z_(fb),o=Rg()||fb,l=hb(r,a,n),f=hb(r,o,n,!0),d=(r?l[r]:l).direction==="rtl";return oe.jsx(lI,{theme:f,children:oe.jsx(Pc.Provider,{value:l,children:oe.jsx(uI,{value:d,children:oe.jsx(hI,{value:r?l[r].components:l.components,children:e})})})})}const db={theme:void 0};function mI(t){let e,n;return function(a){let o=e;return(o===void 0||a.theme!==n)&&(db.theme=a.theme,o=n9(t(db)),e=o,n=a.theme),o}}const Ig="mode",Og="color-scheme",gI="data-color-scheme";function vI(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=Ig,colorSchemeStorageKey:o=Og,attribute:l=gI,colorSchemeNode:f="document.documentElement",nonce:d}=t;let m="",w=l;if(l==="class"&&(w=".%s"),l==="data"&&(w="[data-%s]"),w.startsWith(".")){const g=w.substring(1);m+=`${f}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${f}.classList.add('${g}'.replace('%s', colorScheme));`}const b=w.match(/\[([^\]]+)\]/);if(b){const[g,p]=b[1].split("=");p||(m+=`${f}.removeAttribute('${g}'.replace('%s', light));
      ${f}.removeAttribute('${g}'.replace('%s', dark));`),m+=`
      ${f}.setAttribute('${g}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else m+=`${f}.setAttribute('${w}', colorScheme);`;return oe.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function pb(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function f9(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function yI(t){return f9(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function qh(t,e){if(typeof window>"u")return;let n;try{n=localStorage.getItem(t)||void 0,n||localStorage.setItem(t,e)}catch{}return n||e}function bI(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:o=Ig,colorSchemeStorageKey:l=Og,storageWindow:f=typeof window>"u"?void 0:window,noSsr:d=!1}=t,m=a.join(","),w=a.length>1,[b,g]=Q.useState(()=>{const M=qh(o,e),A=qh(`${l}-light`,n),B=qh(`${l}-dark`,r);return{mode:M,systemMode:pb(M),lightColorScheme:A,darkColorScheme:B}}),[p,y]=Q.useState(d||!w);Q.useEffect(()=>{y(!0)},[]);const h=yI(b),x=Q.useCallback(M=>{g(A=>{if(M===A.mode)return A;const B=M??e;try{localStorage.setItem(o,B)}catch{}return{...A,mode:B,systemMode:pb(B)}})},[o,e]),S=Q.useCallback(M=>{M?typeof M=="string"?M&&!m.includes(M)?console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`):g(A=>{const B={...A};return f9(A,F=>{try{localStorage.setItem(`${l}-${F}`,M)}catch{}F==="light"&&(B.lightColorScheme=M),F==="dark"&&(B.darkColorScheme=M)}),B}):g(A=>{const B={...A},F=M.light===null?n:M.light,E=M.dark===null?r:M.dark;if(F)if(!m.includes(F))console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`);else{B.lightColorScheme=F;try{localStorage.setItem(`${l}-light`,F)}catch{}}if(E)if(!m.includes(E))console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`);else{B.darkColorScheme=E;try{localStorage.setItem(`${l}-dark`,E)}catch{}}return B}):g(A=>{try{localStorage.setItem(`${l}-light`,n),localStorage.setItem(`${l}-dark`,r)}catch{}return{...A,lightColorScheme:n,darkColorScheme:r}})},[m,l,n,r]),C=Q.useCallback(M=>{b.mode==="system"&&g(A=>{const B=M!=null&&M.matches?"dark":"light";return A.systemMode===B?A:{...A,systemMode:B}})},[b.mode]),T=Q.useRef(C);return T.current=C,Q.useEffect(()=>{if(typeof window.matchMedia!="function"||!w)return;const M=(...B)=>T.current(...B),A=window.matchMedia("(prefers-color-scheme: dark)");return A.addListener(M),M(A),()=>{A.removeListener(M)}},[w]),Q.useEffect(()=>{if(f&&w){const M=A=>{const B=A.newValue;typeof A.key=="string"&&A.key.startsWith(l)&&(!B||m.match(B))&&(A.key.endsWith("light")&&S({light:B}),A.key.endsWith("dark")&&S({dark:B})),A.key===o&&(!B||["light","dark","system"].includes(B))&&x(B||e)};return f.addEventListener("storage",M),()=>{f.removeEventListener("storage",M)}}},[S,x,o,l,m,e,f,w]),{...b,mode:p?b.mode:void 0,systemMode:p?b.systemMode:void 0,colorScheme:p?h:void 0,setMode:x,setColorScheme:S}}const wI="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _I(t){const{themeId:e,theme:n={},modeStorageKey:r=Ig,colorSchemeStorageKey:a=Og,disableTransitionOnChange:o=!1,defaultColorScheme:l,resolveTheme:f}=t,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=Q.createContext(void 0),w=()=>Q.useContext(m)||d,b={},g={};function p(S){var ce,se,ye,Me;const{children:C,theme:T,modeStorageKey:M=r,colorSchemeStorageKey:A=a,disableTransitionOnChange:B=o,storageWindow:F=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:$=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:z=!1,defaultMode:j="system",noSsr:V}=S,L=Q.useRef(!1),D=Rg(),W=Q.useContext(m),G=!!W&&!P,U=Q.useMemo(()=>T||(typeof n=="function"?n():n),[T]),R=U[e],I=R||U,{colorSchemes:N=b,components:H=g,cssVarPrefix:X}=I,Z=Object.keys(N).filter(Oe=>!!N[Oe]).join(","),K=Q.useMemo(()=>Z.split(","),[Z]),ae=typeof l=="string"?l:l.light,he=typeof l=="string"?l:l.dark,ee=N[ae]&&N[he]?j:((se=(ce=N[I.defaultColorScheme])==null?void 0:ce.palette)==null?void 0:se.mode)||((ye=I.palette)==null?void 0:ye.mode),{mode:ge,setMode:Se,systemMode:de,lightColorScheme:ke,darkColorScheme:Te,colorScheme:me,setColorScheme:ve}=bI({supportedColorSchemes:K,defaultLightColorScheme:ae,defaultDarkColorScheme:he,modeStorageKey:M,colorSchemeStorageKey:A,defaultMode:ee,storageWindow:F,noSsr:V});let _e=ge,Ae=me;G&&(_e=W.mode,Ae=W.colorScheme);const Pe=Q.useMemo(()=>{var Be;const Oe=Ae||I.defaultColorScheme,$e=((Be=I.generateThemeVars)==null?void 0:Be.call(I))||I.vars,Ee={...I,components:H,colorSchemes:N,cssVarPrefix:X,vars:$e};if(typeof Ee.generateSpacing=="function"&&(Ee.spacing=Ee.generateSpacing()),Oe){const Ye=N[Oe];Ye&&typeof Ye=="object"&&Object.keys(Ye).forEach(Ze=>{Ye[Ze]&&typeof Ye[Ze]=="object"?Ee[Ze]={...Ee[Ze],...Ye[Ze]}:Ee[Ze]=Ye[Ze]})}return f?f(Ee):Ee},[I,Ae,H,N,X]),Re=I.colorSchemeSelector;fc(()=>{if(Ae&&$&&Re&&Re!=="media"){const Oe=Re;let $e=Re;if(Oe==="class"&&($e=".%s"),Oe==="data"&&($e="[data-%s]"),Oe!=null&&Oe.startsWith("data-")&&!Oe.includes("%s")&&($e=`[${Oe}="%s"]`),$e.startsWith("."))$.classList.remove(...K.map(Ee=>$e.substring(1).replace("%s",Ee))),$.classList.add($e.substring(1).replace("%s",Ae));else{const Ee=$e.replace("%s",Ae).match(/\[([^\]]+)\]/);if(Ee){const[Be,Ye]=Ee[1].split("=");Ye||K.forEach(Ze=>{$.removeAttribute(Be.replace(Ae,Ze))}),$.setAttribute(Be,Ye?Ye.replace(/"|'/g,""):"")}else $.setAttribute($e,Ae)}}},[Ae,Re,$,K]),Q.useEffect(()=>{let Oe;if(B&&L.current&&E){const $e=E.createElement("style");$e.appendChild(E.createTextNode(wI)),E.head.appendChild($e),window.getComputedStyle(E.body),Oe=setTimeout(()=>{E.head.removeChild($e)},1)}return()=>{clearTimeout(Oe)}},[Ae,B,E]),Q.useEffect(()=>(L.current=!0,()=>{L.current=!1}),[]);const ze=Q.useMemo(()=>({allColorSchemes:K,colorScheme:Ae,darkColorScheme:Te,lightColorScheme:ke,mode:_e,setColorScheme:ve,setMode:Se,systemMode:de}),[K,Ae,Te,ke,_e,ve,Se,de,Pe.colorSchemeSelector]);let re=!0;(z||I.cssVariables===!1||G&&(D==null?void 0:D.cssVarPrefix)===X)&&(re=!1);const ie=oe.jsxs(Q.Fragment,{children:[oe.jsx(u9,{themeId:R?e:void 0,theme:Pe,children:C}),re&&oe.jsx(U_,{styles:((Me=Pe.generateStyleSheets)==null?void 0:Me.call(Pe))||[]})]});return G?ie:oe.jsx(m.Provider,{value:ze,children:ie})}const y=typeof l=="string"?l:l.light,h=typeof l=="string"?l:l.dark;return{CssVarsProvider:p,useColorScheme:w,getInitColorSchemeScript:S=>vI({colorSchemeStorageKey:a,defaultLightColorScheme:y,defaultDarkColorScheme:h,modeStorageKey:r,...S})}}function xI(t=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${e(...a)})`}const mb=(t,e,n,r=[])=>{let a=t;e.forEach((o,l)=>{l===e.length-1?Array.isArray(a)?a[Number(o)]=n:a&&typeof a=="object"&&(a[o]=n):a&&typeof a=="object"&&(a[o]||(a[o]=r.includes(o)?[]:{}),a=a[o])})},SI=(t,e,n)=>{function r(a,o=[],l=[]){Object.entries(a).forEach(([f,d])=>{(!n||!n([...o,f]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,f],Array.isArray(d)?[...l,f]:l):e([...o,f],d,l))})}r(t)},CI=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function jh(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},a={},o={},l={};return SI(t,(f,d,m)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(f,d))){const w=`--${n?`${n}-`:""}${f.join("-")}`,b=CI(f,d);Object.assign(a,{[w]:b}),mb(o,f,`var(${w})`,m),mb(l,f,`var(${w}, ${b})`,m)}},f=>f[0]==="vars"),{css:a,vars:o,varsWithDefaults:l}}function kI(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:a}=e,{colorSchemes:o={},components:l,defaultColorScheme:f="light",...d}=t,{vars:m,css:w,varsWithDefaults:b}=jh(d,e);let g=b;const p={},{[f]:y,...h}=o;if(Object.entries(h||{}).forEach(([T,M])=>{const{vars:A,css:B,varsWithDefaults:F}=jh(M,e);g=Zn(g,F),p[T]={css:B,vars:A}}),y){const{css:T,vars:M,varsWithDefaults:A}=jh(y,e);g=Zn(g,A),p[f]={css:T,vars:M}}function x(T,M){var B,F;let A=a;if(a==="class"&&(A=".%s"),a==="data"&&(A="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(A=`[${a}="%s"]`),T){if(A==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((F=(B=o[T])==null?void 0:B.palette)==null?void 0:F.mode)||T})`]:{":root":M}};if(A)return t.defaultColorScheme===T?`:root, ${A.replace("%s",String(T))}`:A.replace("%s",String(T))}return":root"}return{vars:g,generateThemeVars:()=>{let T={...m};return Object.entries(p).forEach(([,{vars:M}])=>{T=Zn(T,M)}),T},generateStyleSheets:()=>{var E,$;const T=[],M=t.defaultColorScheme||"light";function A(P,z){Object.keys(z).length&&T.push(typeof P=="string"?{[P]:{...z}}:P)}A(n(void 0,{...w}),w);const{[M]:B,...F}=p;if(B){const{css:P}=B,z=($=(E=o[M])==null?void 0:E.palette)==null?void 0:$.mode,j=!r&&z?{colorScheme:z,...P}:{...P};A(n(M,{...j}),j)}return Object.entries(F).forEach(([P,{css:z}])=>{var L,D;const j=(D=(L=o[P])==null?void 0:L.palette)==null?void 0:D.mode,V=!r&&j?{colorScheme:j,...z}:{...z};A(n(P,{...V}),V)}),T}}}function TI(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const hc={black:"#000",white:"#fff"},EI={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ua={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},fa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jo={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ha={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},da={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},pa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function h9(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hc.white,default:hc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const AI=h9();function d9(){return{text:{primary:hc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gb=d9();function vb(t,e,n,r){const a=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Pg(t.main,a):e==="dark"&&(t.dark=Mg(t.main,o)))}function MI(t="light"){return t==="dark"?{main:ha[200],light:ha[50],dark:ha[400]}:{main:ha[700],light:ha[400],dark:ha[800]}}function PI(t="light"){return t==="dark"?{main:ua[200],light:ua[50],dark:ua[400]}:{main:ua[500],light:ua[300],dark:ua[700]}}function NI(t="light"){return t==="dark"?{main:fa[500],light:fa[300],dark:fa[700]}:{main:fa[700],light:fa[400],dark:fa[800]}}function RI(t="light"){return t==="dark"?{main:da[400],light:da[300],dark:da[700]}:{main:da[700],light:da[500],dark:da[900]}}function II(t="light"){return t==="dark"?{main:pa[400],light:pa[300],dark:pa[700]}:{main:pa[800],light:pa[500],dark:pa[900]}}function OI(t="light"){return t==="dark"?{main:jo[400],light:jo[300],dark:jo[700]}:{main:"#ed6c02",light:jo[500],dark:jo[900]}}function Dg(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...a}=t,o=t.primary||MI(e),l=t.secondary||PI(e),f=t.error||NI(e),d=t.info||RI(e),m=t.success||II(e),w=t.warning||OI(e);function b(h){return HR(h,gb.text.primary)>=n?gb.text.primary:AI.text.primary}const g=({color:h,name:x,mainShade:S=500,lightShade:C=300,darkShade:T=700})=>{if(h={...h},!h.main&&h[S]&&(h.main=h[S]),!h.hasOwnProperty("main"))throw new Error(Ns(11,x?` (${x})`:"",S));if(typeof h.main!="string")throw new Error(Ns(12,x?` (${x})`:"",JSON.stringify(h.main)));return vb(h,"light",C,r),vb(h,"dark",T,r),h.contrastText||(h.contrastText=b(h.main)),h};let p;return e==="light"?p=h9():e==="dark"&&(p=d9()),Zn({common:{...hc},mode:e,primary:g({color:o,name:"primary"}),secondary:g({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:f,name:"error"}),warning:g({color:w,name:"warning"}),info:g({color:d,name:"info"}),success:g({color:m,name:"success"}),grey:EI,contrastThreshold:n,getContrastText:b,augmentColor:g,tonalOffset:r,...p},a)}function DI(t){const e={};return Object.entries(t).forEach(r=>{const[a,o]=r;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function LI(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function BI(t){return Math.round(t*1e5)/1e5}const yb={textTransform:"uppercase"},bb='"Roboto", "Helvetica", "Arial", sans-serif';function p9(t,e){const{fontFamily:n=bb,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:d=16,allVariants:m,pxToRem:w,...b}=typeof e=="function"?e(t):e,g=r/14,p=w||(x=>`${x/d*g}rem`),y=(x,S,C,T,M)=>({fontFamily:n,fontWeight:x,fontSize:p(S),lineHeight:C,...n===bb?{letterSpacing:`${BI(T/S)}em`}:{},...M,...m}),h={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(l,14,1.75,.4,yb),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,yb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zn({htmlFontSize:d,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:f,...h},b,{clone:!1})}const FI=.2,zI=.14,$I=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${FI})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zI})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${$I})`].join(",")}const qI=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],jI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VI={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wb(t){return`${Math.round(t)}ms`}function WI(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function HI(t){const e={...jI,...t.easing},n={...VI,...t.duration};return{getAutoHeightDuration:WI,create:(a=["all"],o={})=>{const{duration:l=n.standard,easing:f=e.easeInOut,delay:d=0,...m}=o;return(Array.isArray(a)?a:[a]).map(w=>`${w} ${typeof l=="string"?l:wb(l)} ${f} ${typeof d=="string"?d:wb(d)}`).join(",")},...t,easing:e,duration:n}}const UI={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function GI(t){return qr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function m9(t={}){const e={...t};function n(r){const a=Object.entries(r);for(let o=0;o<a.length;o++){const[l,f]=a[o];!GI(f)||l.startsWith("unstable_")?delete r[l]:qr(f)&&(r[l]={...f},n(r[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cm(t={},...e){const{breakpoints:n,mixins:r={},spacing:a,palette:o={},transitions:l={},typography:f={},shape:d,...m}=t;if(t.vars)throw new Error(Ns(20));const w=Dg(o),b=Tg(t);let g=Zn(b,{mixins:LI(b.breakpoints,r),palette:w,shadows:qI.slice(),typography:p9(w,f),transitions:HI(l),zIndex:{...UI}});return g=Zn(g,m),g=e.reduce((p,y)=>Zn(p,y),g),g.unstable_sxConfig={...Oc,...m==null?void 0:m.unstable_sxConfig},g.unstable_sx=function(y){return Zi({sx:y,theme:this})},g.toRuntimeSource=m9,g}function lm(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const YI=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=lm(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function g9(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function v9(t){return t==="dark"?YI:[]}function XI(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...a}=t,o=Dg(e);return{palette:o,opacity:{...g9(o.mode),...n},overlays:r||v9(o.mode),...a}}function KI(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const QI=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],ZI=t=>(e,n)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return QI(t.cssVarPrefix).forEach(f=>{l[f]=n[f],delete n[f]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function JI(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function pe(t,e,n){!t[e]&&n&&(t[e]=n)}function Yo(t){return typeof t!="string"||!t.startsWith("hsl")?t:i9(t)}function oi(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Go(Yo(t[e])))}function eO(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Br=t=>{try{return t()}catch{}},tO=(t="mui")=>xI(t);function Vh(t,e,n,r){if(!e)return;e=e===!0?{}:e;const a=r==="dark"?"dark":"light";if(!n){t[r]=XI({...e,palette:{mode:a,...e==null?void 0:e.palette}});return}const{palette:o,...l}=cm({...n,palette:{mode:a,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...g9(a),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||v9(a)},l}function nO(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=KI,colorSchemeSelector:f=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...m}=t,w=Object.keys(n)[0],b=r||(n.light&&w!=="light"?"light":w),g=tO(o),{[b]:p,light:y,dark:h,...x}=n,S={...x};let C=p;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Ns(21,b));const T=Vh(S,C,m,b);y&&!S.light&&Vh(S,y,void 0,"light"),h&&!S.dark&&Vh(S,h,void 0,"dark");let M={defaultColorScheme:b,...T,cssVarPrefix:o,colorSchemeSelector:f,rootSelector:d,getCssVar:g,colorSchemes:S,font:{...DI(T.typography),...T.font},spacing:eO(m.spacing)};Object.keys(M.colorSchemes).forEach($=>{const P=M.colorSchemes[$].palette,z=j=>{const V=j.split("-"),L=V[1],D=V[2];return g(j,P[L][D])};if(P.mode==="light"&&(pe(P.common,"background","#fff"),pe(P.common,"onBackground","#000")),P.mode==="dark"&&(pe(P.common,"background","#000"),pe(P.common,"onBackground","#fff")),JI(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){pe(P.Alert,"errorColor",gt(P.error.light,.6)),pe(P.Alert,"infoColor",gt(P.info.light,.6)),pe(P.Alert,"successColor",gt(P.success.light,.6)),pe(P.Alert,"warningColor",gt(P.warning.light,.6)),pe(P.Alert,"errorFilledBg",z("palette-error-main")),pe(P.Alert,"infoFilledBg",z("palette-info-main")),pe(P.Alert,"successFilledBg",z("palette-success-main")),pe(P.Alert,"warningFilledBg",z("palette-warning-main")),pe(P.Alert,"errorFilledColor",Br(()=>P.getContrastText(P.error.main))),pe(P.Alert,"infoFilledColor",Br(()=>P.getContrastText(P.info.main))),pe(P.Alert,"successFilledColor",Br(()=>P.getContrastText(P.success.main))),pe(P.Alert,"warningFilledColor",Br(()=>P.getContrastText(P.warning.main))),pe(P.Alert,"errorStandardBg",vt(P.error.light,.9)),pe(P.Alert,"infoStandardBg",vt(P.info.light,.9)),pe(P.Alert,"successStandardBg",vt(P.success.light,.9)),pe(P.Alert,"warningStandardBg",vt(P.warning.light,.9)),pe(P.Alert,"errorIconColor",z("palette-error-main")),pe(P.Alert,"infoIconColor",z("palette-info-main")),pe(P.Alert,"successIconColor",z("palette-success-main")),pe(P.Alert,"warningIconColor",z("palette-warning-main")),pe(P.AppBar,"defaultBg",z("palette-grey-100")),pe(P.Avatar,"defaultBg",z("palette-grey-400")),pe(P.Button,"inheritContainedBg",z("palette-grey-300")),pe(P.Button,"inheritContainedHoverBg",z("palette-grey-A100")),pe(P.Chip,"defaultBorder",z("palette-grey-400")),pe(P.Chip,"defaultAvatarColor",z("palette-grey-700")),pe(P.Chip,"defaultIconColor",z("palette-grey-700")),pe(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),pe(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),pe(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),pe(P.LinearProgress,"primaryBg",vt(P.primary.main,.62)),pe(P.LinearProgress,"secondaryBg",vt(P.secondary.main,.62)),pe(P.LinearProgress,"errorBg",vt(P.error.main,.62)),pe(P.LinearProgress,"infoBg",vt(P.info.main,.62)),pe(P.LinearProgress,"successBg",vt(P.success.main,.62)),pe(P.LinearProgress,"warningBg",vt(P.warning.main,.62)),pe(P.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.11)`),pe(P.Slider,"primaryTrack",vt(P.primary.main,.62)),pe(P.Slider,"secondaryTrack",vt(P.secondary.main,.62)),pe(P.Slider,"errorTrack",vt(P.error.main,.62)),pe(P.Slider,"infoTrack",vt(P.info.main,.62)),pe(P.Slider,"successTrack",vt(P.success.main,.62)),pe(P.Slider,"warningTrack",vt(P.warning.main,.62));const j=n0(P.background.default,.8);pe(P.SnackbarContent,"bg",j),pe(P.SnackbarContent,"color",Br(()=>P.getContrastText(j))),pe(P.SpeedDialAction,"fabHoverBg",n0(P.background.paper,.15)),pe(P.StepConnector,"border",z("palette-grey-400")),pe(P.StepContent,"border",z("palette-grey-400")),pe(P.Switch,"defaultColor",z("palette-common-white")),pe(P.Switch,"defaultDisabledColor",z("palette-grey-100")),pe(P.Switch,"primaryDisabledColor",vt(P.primary.main,.62)),pe(P.Switch,"secondaryDisabledColor",vt(P.secondary.main,.62)),pe(P.Switch,"errorDisabledColor",vt(P.error.main,.62)),pe(P.Switch,"infoDisabledColor",vt(P.info.main,.62)),pe(P.Switch,"successDisabledColor",vt(P.success.main,.62)),pe(P.Switch,"warningDisabledColor",vt(P.warning.main,.62)),pe(P.TableCell,"border",vt(t0(P.divider,1),.88)),pe(P.Tooltip,"bg",t0(P.grey[700],.92))}if(P.mode==="dark"){pe(P.Alert,"errorColor",vt(P.error.light,.6)),pe(P.Alert,"infoColor",vt(P.info.light,.6)),pe(P.Alert,"successColor",vt(P.success.light,.6)),pe(P.Alert,"warningColor",vt(P.warning.light,.6)),pe(P.Alert,"errorFilledBg",z("palette-error-dark")),pe(P.Alert,"infoFilledBg",z("palette-info-dark")),pe(P.Alert,"successFilledBg",z("palette-success-dark")),pe(P.Alert,"warningFilledBg",z("palette-warning-dark")),pe(P.Alert,"errorFilledColor",Br(()=>P.getContrastText(P.error.dark))),pe(P.Alert,"infoFilledColor",Br(()=>P.getContrastText(P.info.dark))),pe(P.Alert,"successFilledColor",Br(()=>P.getContrastText(P.success.dark))),pe(P.Alert,"warningFilledColor",Br(()=>P.getContrastText(P.warning.dark))),pe(P.Alert,"errorStandardBg",gt(P.error.light,.9)),pe(P.Alert,"infoStandardBg",gt(P.info.light,.9)),pe(P.Alert,"successStandardBg",gt(P.success.light,.9)),pe(P.Alert,"warningStandardBg",gt(P.warning.light,.9)),pe(P.Alert,"errorIconColor",z("palette-error-main")),pe(P.Alert,"infoIconColor",z("palette-info-main")),pe(P.Alert,"successIconColor",z("palette-success-main")),pe(P.Alert,"warningIconColor",z("palette-warning-main")),pe(P.AppBar,"defaultBg",z("palette-grey-900")),pe(P.AppBar,"darkBg",z("palette-background-paper")),pe(P.AppBar,"darkColor",z("palette-text-primary")),pe(P.Avatar,"defaultBg",z("palette-grey-600")),pe(P.Button,"inheritContainedBg",z("palette-grey-800")),pe(P.Button,"inheritContainedHoverBg",z("palette-grey-700")),pe(P.Chip,"defaultBorder",z("palette-grey-700")),pe(P.Chip,"defaultAvatarColor",z("palette-grey-300")),pe(P.Chip,"defaultIconColor",z("palette-grey-300")),pe(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),pe(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),pe(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),pe(P.LinearProgress,"primaryBg",gt(P.primary.main,.5)),pe(P.LinearProgress,"secondaryBg",gt(P.secondary.main,.5)),pe(P.LinearProgress,"errorBg",gt(P.error.main,.5)),pe(P.LinearProgress,"infoBg",gt(P.info.main,.5)),pe(P.LinearProgress,"successBg",gt(P.success.main,.5)),pe(P.LinearProgress,"warningBg",gt(P.warning.main,.5)),pe(P.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.13)`),pe(P.Slider,"primaryTrack",gt(P.primary.main,.5)),pe(P.Slider,"secondaryTrack",gt(P.secondary.main,.5)),pe(P.Slider,"errorTrack",gt(P.error.main,.5)),pe(P.Slider,"infoTrack",gt(P.info.main,.5)),pe(P.Slider,"successTrack",gt(P.success.main,.5)),pe(P.Slider,"warningTrack",gt(P.warning.main,.5));const j=n0(P.background.default,.98);pe(P.SnackbarContent,"bg",j),pe(P.SnackbarContent,"color",Br(()=>P.getContrastText(j))),pe(P.SpeedDialAction,"fabHoverBg",n0(P.background.paper,.15)),pe(P.StepConnector,"border",z("palette-grey-600")),pe(P.StepContent,"border",z("palette-grey-600")),pe(P.Switch,"defaultColor",z("palette-grey-300")),pe(P.Switch,"defaultDisabledColor",z("palette-grey-600")),pe(P.Switch,"primaryDisabledColor",gt(P.primary.main,.55)),pe(P.Switch,"secondaryDisabledColor",gt(P.secondary.main,.55)),pe(P.Switch,"errorDisabledColor",gt(P.error.main,.55)),pe(P.Switch,"infoDisabledColor",gt(P.info.main,.55)),pe(P.Switch,"successDisabledColor",gt(P.success.main,.55)),pe(P.Switch,"warningDisabledColor",gt(P.warning.main,.55)),pe(P.TableCell,"border",gt(t0(P.divider,1),.68)),pe(P.Tooltip,"bg",t0(P.grey[700],.92))}oi(P.background,"default"),oi(P.background,"paper"),oi(P.common,"background"),oi(P.common,"onBackground"),oi(P,"divider"),Object.keys(P).forEach(j=>{const V=P[j];j!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&pe(P[j],"mainChannel",Go(Yo(V.main))),V.light&&pe(P[j],"lightChannel",Go(Yo(V.light))),V.dark&&pe(P[j],"darkChannel",Go(Yo(V.dark))),V.contrastText&&pe(P[j],"contrastTextChannel",Go(Yo(V.contrastText))),j==="text"&&(oi(P[j],"primary"),oi(P[j],"secondary")),j==="action"&&(V.active&&oi(P[j],"active"),V.selected&&oi(P[j],"selected")))})}),M=e.reduce(($,P)=>Zn($,P),M);const A={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:ZI(M)},{vars:B,generateThemeVars:F,generateStyleSheets:E}=kI(M,A);return M.vars=B,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([$,P])=>{M[$]=P}),M.generateThemeVars=F,M.generateStyleSheets=E,M.generateSpacing=function(){return Q_(m.spacing,Cg(this))},M.getColorSchemeSelector=TI(f),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=l,M.unstable_sxConfig={...Oc,...m==null?void 0:m.unstable_sxConfig},M.unstable_sx=function(P){return Zi({sx:P,theme:this})},M.toRuntimeSource=m9,M}function _b(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Dg({...n===!0?{}:n.palette,mode:e})})}function Ou(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...l}=t,f=o||"light",d=a==null?void 0:a[f],m={...a,...n?{[f]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return cm(t,...e);let w=n;"palette"in t||m[f]&&(m[f]!==!0?w=m[f].palette:f==="dark"&&(w={mode:"dark"}));const b=cm({...t,palette:w},...e);return b.defaultColorScheme=f,b.colorSchemes=m,b.palette.mode==="light"&&(b.colorSchemes.light={...m.light!==!0&&m.light,palette:b.palette},_b(b,"dark",m.dark)),b.palette.mode==="dark"&&(b.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:b.palette},_b(b,"light",m.light)),b}return!n&&!("light"in m)&&f==="light"&&(m.light=!0),nO({...l,colorSchemes:m,defaultColorScheme:f,...typeof r!="boolean"&&r},...e)}const Lg=Ou();function Du(){const t=Eg(Lg);return t[Vr]||t}function rO(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Bg=t=>rO(t)&&t!=="classes",lt=BR({themeId:Vr,defaultTheme:Lg,rootShouldForwardProp:Bg});function xb({theme:t,...e}){const n=Vr in t?t[Vr]:void 0;return oe.jsx(u9,{...e,themeId:n?Vr:void 0,theme:n||t})}const r0={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:iO,useColorScheme:Z$,getInitColorSchemeScript:J$}=_I({themeId:Vr,theme:()=>Ou({cssVariables:!0}),colorSchemeStorageKey:r0.colorSchemeStorageKey,modeStorageKey:r0.modeStorageKey,defaultColorScheme:{light:r0.defaultLightColorScheme,dark:r0.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:p9(t.palette,t.typography)};return e.unstable_sx=function(r){return Zi({sx:r,theme:this})},e}}),sO=iO;function aO({theme:t,...e}){return typeof t=="function"?oe.jsx(xb,{theme:t,...e}):"colorSchemes"in(Vr in t?t[Vr]:t)?oe.jsx(sO,{theme:t,...e}):oe.jsx(xb,{theme:t,...e})}const oO=Zt("MuiBox",["root"]),cO=Ou(),Sb=RR({themeId:Vr,defaultTheme:cO,defaultClassName:oO.root,generateClassName:e9.generate});function lO(t){return oe.jsx(MR,{...t,defaultTheme:Lg,themeId:Vr})}function y9(t){return function(n){return oe.jsx(lO,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function uO(){return J_}function Jt(t){return pI(t)}const um=typeof y9({})=="function",fO=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),hO=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),b9=(t,e=!1)=>{var o,l;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([f,d])=>{var w,b;const m=t.getColorSchemeSelector(f);m.startsWith("@")?n[m]={":root":{colorScheme:(w=d.palette)==null?void 0:w.mode}}:n[m.replace(/\s*&/,"")]={colorScheme:(b=d.palette)==null?void 0:b.mode}});let r={html:fO(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...hO(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const a=(l=(o=t.components)==null?void 0:o.MuiCssBaseline)==null?void 0:l.styleOverrides;return a&&(r=[r,a]),r},S0="mui-ecs",dO=t=>{const e=b9(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${S0})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,a])=>{var l,f;const o=t.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${S0}))`]:{colorScheme:(l=a.palette)==null?void 0:l.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${S0}))`]:{colorScheme:(f=a.palette)==null?void 0:f.mode}}}),e},pO=y9(um?({theme:t,enableColorScheme:e})=>b9(t,e):({theme:t})=>dO(t));function mO(t){const e=Jt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return oe.jsxs(Q.Fragment,{children:[um&&oe.jsx(pO,{enableColorScheme:r}),!um&&!r&&oe.jsx("span",{className:S0,style:{display:"none"}}),n]})}const xn=mI;function gO(t){return on("MuiSvgIcon",t)}Zt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vO=t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root",e!=="inherit"&&`color${dt(e)}`,`fontSize${dt(n)}`]};return pn(a,gO,r)},yO=lt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${dt(n.color)}`],e[`fontSize${dt(n.fontSize)}`]]}})(xn(({theme:t})=>{var e,n,r,a,o,l,f,d,m,w,b,g,p,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(e=t.transitions)==null?void 0:e.create)==null?void 0:a.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:h=>!h.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(f=t.typography)==null?void 0:f.pxToRem)==null?void 0:d.call(f,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((w=(m=t.typography)==null?void 0:m.pxToRem)==null?void 0:w.call(m,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,h])=>h&&h.main).map(([h])=>{var x,S;return{props:{color:h},style:{color:(S=(x=(t.vars??t).palette)==null?void 0:x[h])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(g=(b=(t.vars??t).palette)==null?void 0:b.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(y=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fm=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:l="inherit",component:f="svg",fontSize:d="medium",htmlColor:m,inheritViewBox:w=!1,titleAccess:b,viewBox:g="0 0 24 24",...p}=r,y=Q.isValidElement(a)&&a.type==="svg",h={...r,color:l,component:f,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:g,hasSvgAsChild:y},x={};w||(x.viewBox=g);const S=vO(h);return oe.jsxs(yO,{as:f,className:et(S.root,o),focusable:"false",color:m,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:n,...x,...p,...y&&a.props,ownerState:h,children:[y?a.props.children:a,b?oe.jsx("title",{children:b}):null]})});fm.muiName="SvgIcon";function bO(t,e){function n(r,a){return oe.jsx(fm,{"data-testid":`${e}Icon`,ref:a,...r,children:t})}return n.muiName=fm.muiName,Q.memo(Q.forwardRef(n))}function w9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function hm(t,e){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hm(t,e)}function _9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hm(t,e)}var x9=L4();const i0=xm(x9),Cb={disabled:!1},U0=wn.createContext(null);var wO=function(e){return e.scrollTop},Xo="unmounted",ws="exited",_s="entering",va="entered",dm="exiting",Xr=function(t){_9(e,t);function e(r,a){var o;o=t.call(this,r,a)||this;var l=a,f=l&&!l.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?f?(d=ws,o.appearStatus=_s):d=va:r.unmountOnExit||r.mountOnEnter?d=Xo:d=ws,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var l=a.in;return l&&o.status===Xo?{status:ws}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var o=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==_s&&l!==va&&(o=_s):(l===_s||l===va)&&(o=dm)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,o,l,f;return o=l=f=a,a!=null&&typeof a!="number"&&(o=a.exit,l=a.enter,f=a.appear!==void 0?a.appear:l),{exit:o,enter:l,appear:f}},n.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===_s){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:i0.findDOMNode(this);l&&wO(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ws&&this.setState({status:Xo})},n.performEnter=function(a){var o=this,l=this.props.enter,f=this.context?this.context.isMounting:a,d=this.props.nodeRef?[f]:[i0.findDOMNode(this),f],m=d[0],w=d[1],b=this.getTimeouts(),g=f?b.appear:b.enter;if(!a&&!l||Cb.disabled){this.safeSetState({status:va},function(){o.props.onEntered(m)});return}this.props.onEnter(m,w),this.safeSetState({status:_s},function(){o.props.onEntering(m,w),o.onTransitionEnd(g,function(){o.safeSetState({status:va},function(){o.props.onEntered(m,w)})})})},n.performExit=function(){var a=this,o=this.props.exit,l=this.getTimeouts(),f=this.props.nodeRef?void 0:i0.findDOMNode(this);if(!o||Cb.disabled){this.safeSetState({status:ws},function(){a.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:dm},function(){a.props.onExiting(f),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:ws},function(){a.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},n.setNextCallback=function(a){var o=this,l=!0;return this.nextCallback=function(f){l&&(l=!1,o.nextCallback=null,a(f))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(a,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:i0.findDOMNode(this),f=a==null&&!this.props.addEndListener;if(!l||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],m=d[0],w=d[1];this.props.addEndListener(m,w)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Xo)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var f=w9(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(U0.Provider,{value:null},typeof l=="function"?l(a,f):wn.cloneElement(wn.Children.only(l),f))},e}(wn.Component);Xr.contextType=U0;Xr.propTypes={};function ma(){}Xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ma,onEntering:ma,onEntered:ma,onExit:ma,onExiting:ma,onExited:ma};Xr.UNMOUNTED=Xo;Xr.EXITED=ws;Xr.ENTERING=_s;Xr.ENTERED=va;Xr.EXITING=dm;function _O(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fg(t,e){var n=function(o){return e&&Q.isValidElement(o)?e(o):o},r=Object.create(null);return t&&Q.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function xO(t,e){t=t||{},e=e||{};function n(w){return w in e?e[w]:t[w]}var r=Object.create(null),a=[];for(var o in t)o in e?a.length&&(r[o]=a,a=[]):a.push(o);var l,f={};for(var d in e){if(r[d])for(l=0;l<r[d].length;l++){var m=r[d][l];f[r[d][l]]=n(m)}f[d]=n(d)}for(l=0;l<a.length;l++)f[a[l]]=n(a[l]);return f}function Ss(t,e,n){return n[e]!=null?n[e]:t.props[e]}function SO(t,e){return Fg(t.children,function(n){return Q.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ss(n,"appear",t),enter:Ss(n,"enter",t),exit:Ss(n,"exit",t)})})}function CO(t,e,n){var r=Fg(t.children),a=xO(e,r);return Object.keys(a).forEach(function(o){var l=a[o];if(Q.isValidElement(l)){var f=o in e,d=o in r,m=e[o],w=Q.isValidElement(m)&&!m.props.in;d&&(!f||w)?a[o]=Q.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:Ss(l,"exit",t),enter:Ss(l,"enter",t)}):!d&&f&&!w?a[o]=Q.cloneElement(l,{in:!1}):d&&f&&Q.isValidElement(m)&&(a[o]=Q.cloneElement(l,{onExited:n.bind(null,l),in:m.props.in,exit:Ss(l,"exit",t),enter:Ss(l,"enter",t)}))}}),a}var kO=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},TO={component:"div",childFactory:function(e){return e}},zg=function(t){_9(e,t);function e(r,a){var o;o=t.call(this,r,a)||this;var l=o.handleExited.bind(_O(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var l=o.children,f=o.handleExited,d=o.firstRender;return{children:d?SO(a,f):CO(a,l,f),firstRender:!1}},n.handleExited=function(a,o){var l=Fg(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(f){var d=V0({},f.children);return delete d[a.key],{children:d}}))},n.render=function(){var a=this.props,o=a.component,l=a.childFactory,f=w9(a,["component","childFactory"]),d=this.state.contextValue,m=kO(this.state.children).map(l);return delete f.appear,delete f.enter,delete f.exit,o===null?wn.createElement(U0.Provider,{value:d},m):wn.createElement(U0.Provider,{value:d},wn.createElement(o,f,m))},e}(wn.Component);zg.propTypes={};zg.defaultProps=TO;const S9=t=>t.scrollTop;function G0(t,e){const{timeout:n,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:a.transitionDelay}}function EO(t){return on("MuiPaper",t)}Zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const AO=t=>{const{square:e,elevation:n,variant:r,classes:a}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return pn(o,EO,a)},MO=lt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(xn(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),C9=Q.forwardRef(function(e,n){var p;const r=Jt({props:e,name:"MuiPaper"}),a=Du(),{className:o,component:l="div",elevation:f=1,square:d=!1,variant:m="elevation",...w}=r,b={...r,component:l,elevation:f,square:d,variant:m},g=AO(b);return oe.jsx(MO,{as:l,ownerState:b,className:et(g.root,o),ref:n,...w,style:{...m==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[f],...a.vars&&{"--Paper-overlay":(p=a.vars.overlays)==null?void 0:p[f]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${jr("#fff",lm(f))}, ${jr("#fff",lm(f))})`}},...w.style}})});function Wa(t,e){const{className:n,elementType:r,ownerState:a,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:f=!1,...d}=e,{component:m,slots:w={[t]:void 0},slotProps:b={[t]:void 0},...g}=o,p=w[t]||r,y=sI(b[t],a),{props:{component:h,...x},internalRef:S}=iI({className:n,...d,externalForwardedProps:t==="root"?g:void 0,externalSlotProps:y}),C=Er(S,y==null?void 0:y.ref,e.ref),T=t==="root"?h||m:h,M=rI(p,{...t==="root"&&!m&&!w[t]&&l,...t!=="root"&&!w[t]&&l,...x,...T&&!f&&{as:T},...T&&f&&{component:T},ref:C},a);return[p,M]}class Y0{constructor(){zo(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Y0}static use(){const e=s9(Y0.create).current,[n,r]=Q.useState(!1);return e.shouldMount=n,e.setShouldMount=r,Q.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=NO(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function PO(){return Y0.use()}function NO(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n}function RO(t){const{className:e,classes:n,pulsate:r=!1,rippleX:a,rippleY:o,rippleSize:l,in:f,onExited:d,timeout:m}=t,[w,b]=Q.useState(!1),g=et(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:l,height:l,top:-(l/2)+o,left:-(l/2)+a},y=et(n.child,w&&n.childLeaving,r&&n.childPulsate);return!f&&!w&&b(!0),Q.useEffect(()=>{if(!f&&d!=null){const h=setTimeout(d,m);return()=>{clearTimeout(h)}}},[d,f,m]),oe.jsx("span",{className:g,style:p,children:oe.jsx("span",{className:y})})}const or=Zt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pm=550,IO=80,OO=Nc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,DO=Nc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,LO=Nc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,BO=lt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),FO=lt(RO,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${or.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${OO};
    animation-duration: ${pm}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${or.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${or.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${or.childLeaving} {
    opacity: 0;
    animation-name: ${DO};
    animation-duration: ${pm}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${or.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${LO};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,zO=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:l,...f}=r,[d,m]=Q.useState([]),w=Q.useRef(0),b=Q.useRef(null);Q.useEffect(()=>{b.current&&(b.current(),b.current=null)},[d]);const g=Q.useRef(!1),p=eI(),y=Q.useRef(null),h=Q.useRef(null),x=Q.useCallback(M=>{const{pulsate:A,rippleX:B,rippleY:F,rippleSize:E,cb:$}=M;m(P=>[...P,oe.jsx(FO,{classes:{ripple:et(o.ripple,or.ripple),rippleVisible:et(o.rippleVisible,or.rippleVisible),ripplePulsate:et(o.ripplePulsate,or.ripplePulsate),child:et(o.child,or.child),childLeaving:et(o.childLeaving,or.childLeaving),childPulsate:et(o.childPulsate,or.childPulsate)},timeout:pm,pulsate:A,rippleX:B,rippleY:F,rippleSize:E},w.current)]),w.current+=1,b.current=$},[o]),S=Q.useCallback((M={},A={},B=()=>{})=>{const{pulsate:F=!1,center:E=a||A.pulsate,fakeElement:$=!1}=A;if((M==null?void 0:M.type)==="mousedown"&&g.current){g.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(g.current=!0);const P=$?null:h.current,z=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,V,L;if(E||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)j=Math.round(z.width/2),V=Math.round(z.height/2);else{const{clientX:D,clientY:W}=M.touches&&M.touches.length>0?M.touches[0]:M;j=Math.round(D-z.left),V=Math.round(W-z.top)}if(E)L=Math.sqrt((2*z.width**2+z.height**2)/3),L%2===0&&(L+=1);else{const D=Math.max(Math.abs((P?P.clientWidth:0)-j),j)*2+2,W=Math.max(Math.abs((P?P.clientHeight:0)-V),V)*2+2;L=Math.sqrt(D**2+W**2)}M!=null&&M.touches?y.current===null&&(y.current=()=>{x({pulsate:F,rippleX:j,rippleY:V,rippleSize:L,cb:B})},p.start(IO,()=>{y.current&&(y.current(),y.current=null)})):x({pulsate:F,rippleX:j,rippleY:V,rippleSize:L,cb:B})},[a,x,p]),C=Q.useCallback(()=>{S({},{pulsate:!0})},[S]),T=Q.useCallback((M,A)=>{if(p.clear(),(M==null?void 0:M.type)==="touchend"&&y.current){y.current(),y.current=null,p.start(0,()=>{T(M,A)});return}y.current=null,m(B=>B.length>0?B.slice(1):B),b.current=A},[p]);return Q.useImperativeHandle(n,()=>({pulsate:C,start:S,stop:T}),[C,S,T]),oe.jsx(BO,{className:et(or.root,o.root,l),ref:h,...f,children:oe.jsx(zg,{component:null,exit:!0,children:d})})});function $O(t){return on("MuiButtonBase",t)}const qO=Zt("MuiButtonBase",["root","disabled","focusVisible"]),jO=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:a}=t,l=pn({root:["root",e&&"disabled",n&&"focusVisible"]},$O,a);return n&&r&&(l.root+=` ${r}`),l},VO=lt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qO.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),k9=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:l,className:f,component:d="button",disabled:m=!1,disableRipple:w=!1,disableTouchRipple:b=!1,focusRipple:g=!1,focusVisibleClassName:p,LinkComponent:y="a",onBlur:h,onClick:x,onContextMenu:S,onDragLeave:C,onFocus:T,onFocusVisible:M,onKeyDown:A,onKeyUp:B,onMouseDown:F,onMouseLeave:E,onMouseUp:$,onTouchEnd:P,onTouchMove:z,onTouchStart:j,tabIndex:V=0,TouchRippleProps:L,touchRippleRef:D,type:W,...G}=r,U=Q.useRef(null),R=PO(),I=Er(R.ref,D),[N,H]=Q.useState(!1);m&&N&&H(!1),Q.useImperativeHandle(a,()=>({focusVisible:()=>{H(!0),U.current.focus()}}),[]);const X=R.shouldMount&&!w&&!m;Q.useEffect(()=>{N&&g&&!w&&R.pulsate()},[w,g,N,R]);const Z=ci(R,"start",F,b),K=ci(R,"stop",S,b),ae=ci(R,"stop",C,b),he=ci(R,"stop",$,b),ee=ci(R,"stop",ie=>{N&&ie.preventDefault(),E&&E(ie)},b),ge=ci(R,"start",j,b),Se=ci(R,"stop",P,b),de=ci(R,"stop",z,b),ke=ci(R,"stop",ie=>{lb(ie.target)||H(!1),h&&h(ie)},!1),Te=Aa(ie=>{U.current||(U.current=ie.currentTarget),lb(ie.target)&&(H(!0),M&&M(ie)),T&&T(ie)}),me=()=>{const ie=U.current;return d&&d!=="button"&&!(ie.tagName==="A"&&ie.href)},ve=Aa(ie=>{g&&!ie.repeat&&N&&ie.key===" "&&R.stop(ie,()=>{R.start(ie)}),ie.target===ie.currentTarget&&me()&&ie.key===" "&&ie.preventDefault(),A&&A(ie),ie.target===ie.currentTarget&&me()&&ie.key==="Enter"&&!m&&(ie.preventDefault(),x&&x(ie))}),_e=Aa(ie=>{g&&ie.key===" "&&N&&!ie.defaultPrevented&&R.stop(ie,()=>{R.pulsate(ie)}),B&&B(ie),x&&ie.target===ie.currentTarget&&me()&&ie.key===" "&&!ie.defaultPrevented&&x(ie)});let Ae=d;Ae==="button"&&(G.href||G.to)&&(Ae=y);const Pe={};Ae==="button"?(Pe.type=W===void 0?"button":W,Pe.disabled=m):(!G.href&&!G.to&&(Pe.role="button"),m&&(Pe["aria-disabled"]=m));const Re=Er(n,U),ze={...r,centerRipple:o,component:d,disabled:m,disableRipple:w,disableTouchRipple:b,focusRipple:g,tabIndex:V,focusVisible:N},re=jO(ze);return oe.jsxs(VO,{as:Ae,className:et(re.root,f),ownerState:ze,onBlur:ke,onClick:x,onContextMenu:K,onFocus:Te,onKeyDown:ve,onKeyUp:_e,onMouseDown:Z,onMouseLeave:ee,onMouseUp:he,onDragLeave:ae,onTouchEnd:Se,onTouchMove:de,onTouchStart:ge,ref:Re,tabIndex:m?-1:V,type:W,...Pe,...G,children:[l,X?oe.jsx(zO,{ref:I,center:o,...L}):null]})});function ci(t,e,n,r=!1){return Aa(a=>(n&&n(a),r||t[e](a),!0))}function WO(t){return typeof t.main=="string"}function HO(t,e=[]){if(!WO(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function dc(t=[]){return([,e])=>e&&HO(e,t)}function UO(t){return on("MuiCircularProgress",t)}Zt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Hi=44,mm=Nc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,gm=Nc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,GO=typeof mm!="string"?_g`
        animation: ${mm} 1.4s linear infinite;
      `:null,YO=typeof gm!="string"?_g`
        animation: ${gm} 1.4s ease-in-out infinite;
      `:null,XO=t=>{const{classes:e,variant:n,color:r,disableShrink:a}=t,o={root:["root",n,`color${dt(r)}`],svg:["svg"],circle:["circle",`circle${dt(n)}`,a&&"circleDisableShrink"]};return pn(o,UO,e)},KO=lt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${dt(n.color)}`]]}})(xn(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:GO||{animation:`${mm} 1.4s linear infinite`}},...Object.entries(t.palette).filter(dc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),QO=lt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),ZO=lt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${dt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(xn(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:YO||{animation:`${gm} 1.4s ease-in-out infinite`}}]}))),JO=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:l=!1,size:f=40,style:d,thickness:m=3.6,value:w=0,variant:b="indeterminate",...g}=r,p={...r,color:o,disableShrink:l,size:f,thickness:m,value:w,variant:b},y=XO(p),h={},x={},S={};if(b==="determinate"){const C=2*Math.PI*((Hi-m)/2);h.strokeDasharray=C.toFixed(3),S["aria-valuenow"]=Math.round(w),h.strokeDashoffset=`${((100-w)/100*C).toFixed(3)}px`,x.transform="rotate(-90deg)"}return oe.jsx(KO,{className:et(y.root,a),style:{width:f,height:f,...x,...d},ownerState:p,ref:n,role:"progressbar",...S,...g,children:oe.jsx(QO,{className:y.svg,ownerState:p,viewBox:`${Hi/2} ${Hi/2} ${Hi} ${Hi}`,children:oe.jsx(ZO,{className:y.circle,style:h,ownerState:p,cx:Hi,cy:Hi,r:(Hi-m)/2,fill:"none",strokeWidth:m})})})});function eD(t){return on("MuiIconButton",t)}const kb=Zt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tD=t=>{const{classes:e,disabled:n,color:r,edge:a,size:o,loading:l}=t,f={root:["root",l&&"loading",n&&"disabled",r!=="default"&&`color${dt(r)}`,a&&`edge${dt(a)}`,`size${dt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return pn(f,eD,e)},nD=lt(k9,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${dt(n.color)}`],n.edge&&e[`edge${dt(n.edge)}`],e[`size${dt(n.size)}`]]}})(xn(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),xn(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(dc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(dc()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${kb.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${kb.loading}`]:{color:"transparent"}}))),rD=lt("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),iD=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiIconButton"}),{edge:a=!1,children:o,className:l,color:f="default",disabled:d=!1,disableFocusRipple:m=!1,size:w="medium",id:b,loading:g=null,loadingIndicator:p,...y}=r,h=QR(b),x=p??oe.jsx(JO,{"aria-labelledby":h,color:"inherit",size:16}),S={...r,edge:a,color:f,disabled:d,disableFocusRipple:m,loading:g,loadingIndicator:x,size:w},C=tD(S);return oe.jsxs(nD,{id:h,className:et(C.root,l),centerRipple:!0,focusRipple:!m,disabled:d||g,ref:n,...y,ownerState:S,children:[typeof g=="boolean"&&oe.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:oe.jsx(rD,{className:C.loadingIndicator,ownerState:S,children:g&&x})}),o]})});function sD(t){return on("MuiTypography",t)}const Tb=Zt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),aD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},oD=uO(),cD=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:a,variant:o,classes:l}=t,f={root:["root",o,t.align!=="inherit"&&`align${dt(e)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return pn(f,sD,l)},lD=lt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${dt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(xn(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(dc()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${dt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Eb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ko=Q.forwardRef(function(e,n){const{color:r,...a}=Jt({props:e,name:"MuiTypography"}),o=!aD[r],l=oD({...a,...o&&{color:r}}),{align:f="inherit",className:d,component:m,gutterBottom:w=!1,noWrap:b=!1,paragraph:g=!1,variant:p="body1",variantMapping:y=Eb,...h}=l,x={...l,align:f,color:r,className:d,component:m,gutterBottom:w,noWrap:b,paragraph:g,variant:p,variantMapping:y},S=m||(g?"p":y[p]||Eb[p])||"span",C=cD(x);return oe.jsx(lD,{as:S,ref:n,className:et(C.root,d),...h,ownerState:x,style:{...f!=="inherit"&&{"--Typography-textAlign":f},...h.style}})});function uD(t){return on("MuiAppBar",t)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const fD=t=>{const{color:e,position:n,classes:r}=t,a={root:["root",`color${dt(e)}`,`position${dt(n)}`]};return pn(a,uD,r)},Ab=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,hD=lt(C9,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${dt(n.position)}`],e[`color${dt(n.color)}`]]}})(xn(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(dc(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Ab(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Ab(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),dD=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiAppBar"}),{className:a,color:o="primary",enableColorOnDark:l=!1,position:f="fixed",...d}=r,m={...r,color:o,position:f,enableColorOnDark:l},w=fD(m);return oe.jsx(hD,{square:!0,component:"header",ownerState:m,elevation:4,className:et(w.root,a,f==="fixed"&&"mui-fixed"),ref:n,...d})});function pD(t){return typeof t=="function"?t():t}const mD=Q.forwardRef(function(e,n){const{children:r,container:a,disablePortal:o=!1}=e,[l,f]=Q.useState(null),d=Er(Q.isValidElement(r)?Iu(r):null,n);if(fc(()=>{o||f(pD(a)||document.body)},[a,o]),fc(()=>{if(l&&!o)return om(n,l),()=>{om(n,null)}},[n,l,o]),o){if(Q.isValidElement(r)){const m={ref:d};return Q.cloneElement(r,m)}return r}return l&&x9.createPortal(r,l)});function Mb(t){return typeof t=="string"}const gD={entering:{opacity:1},entered:{opacity:1}},vD=Q.forwardRef(function(e,n){const r=Du(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:f,easing:d,in:m,onEnter:w,onEntered:b,onEntering:g,onExit:p,onExited:y,onExiting:h,style:x,timeout:S=a,TransitionComponent:C=Xr,...T}=e,M=Q.useRef(null),A=Er(M,Iu(f),n),B=L=>D=>{if(L){const W=M.current;D===void 0?L(W):L(W,D)}},F=B(g),E=B((L,D)=>{S9(L);const W=G0({style:x,timeout:S,easing:d},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",W),L.style.transition=r.transitions.create("opacity",W),w&&w(L,D)}),$=B(b),P=B(h),z=B(L=>{const D=G0({style:x,timeout:S,easing:d},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",D),L.style.transition=r.transitions.create("opacity",D),p&&p(L)}),j=B(y),V=L=>{o&&o(M.current,L)};return oe.jsx(C,{appear:l,in:m,nodeRef:M,onEnter:E,onEntered:$,onEntering:F,onExit:z,onExited:j,onExiting:P,addEndListener:V,timeout:S,...T,children:(L,{ownerState:D,...W})=>Q.cloneElement(f,{style:{opacity:0,visibility:L==="exited"&&!m?"hidden":void 0,...gD[L],...x,...f.props.style},ref:A,...W})})});function yD(t){return on("MuiBackdrop",t)}Zt("MuiBackdrop",["root","invisible"]);const bD=t=>{const{classes:e,invisible:n}=t;return pn({root:["root",n&&"invisible"]},yD,e)},wD=lt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),_D=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiBackdrop"}),{children:a,className:o,component:l="div",invisible:f=!1,open:d,components:m={},componentsProps:w={},slotProps:b={},slots:g={},TransitionComponent:p,transitionDuration:y,...h}=r,x={...r,component:l,invisible:f},S=bD(x),C={transition:p,root:m.Root,...g},T={...w,...b},M={slots:C,slotProps:T},[A,B]=Wa("root",{elementType:wD,externalForwardedProps:M,className:et(S.root,o),ownerState:x}),[F,E]=Wa("transition",{elementType:vD,externalForwardedProps:M,ownerState:x});return oe.jsx(F,{in:d,timeout:y,...h,...E,children:oe.jsx(A,{"aria-hidden":!0,...B,classes:S,ref:n,children:a})})});function xD(t){const e=Rs(t);return e.body===t?Va(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function tc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Pb(t){return parseInt(Va(t).getComputedStyle(t).paddingRight,10)||0}function SD(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Nb(t,e,n,r,a){const o=[e,n,...r];[].forEach.call(t.children,l=>{const f=!o.includes(l),d=!SD(l);f&&d&&tc(l,a)})}function Wh(t,e){let n=-1;return t.some((r,a)=>e(r)?(n=a,!0):!1),n}function CD(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(xD(r)){const l=tI(Va(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Pb(r)+l}px`;const f=Rs(r).querySelectorAll(".mui-fixed");[].forEach.call(f,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Pb(d)+l}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Rs(r).body;else{const l=r.parentElement,f=Va(r);o=(l==null?void 0:l.nodeName)==="HTML"&&f.getComputedStyle(l).overflowY==="scroll"?l:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:l,property:f})=>{o?l.style.setProperty(f,o):l.style.removeProperty(f)})}}function kD(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class TD{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&tc(e.modalRef,!1);const a=kD(n);Nb(n,e.mount,e.modalRef,a,!0);const o=Wh(this.containers,l=>l.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:a}),r)}mount(e,n){const r=Wh(this.containers,o=>o.modals.includes(e)),a=this.containers[r];a.restore||(a.restore=CD(a,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const a=Wh(this.containers,l=>l.modals.includes(e)),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&tc(e.modalRef,n),Nb(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&tc(l.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const ED=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function AD(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function MD(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function PD(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||MD(t))}function ND(t){const e=[],n=[];return Array.from(t.querySelectorAll(ED)).forEach((r,a)=>{const o=AD(r);o===-1||!PD(r)||(o===0?e.push(r):n.push({documentOrder:a,tabIndex:o,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(e)}function RD(){return!0}function ID(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:o=ND,isEnabled:l=RD,open:f}=t,d=Q.useRef(!1),m=Q.useRef(null),w=Q.useRef(null),b=Q.useRef(null),g=Q.useRef(null),p=Q.useRef(!1),y=Q.useRef(null),h=Er(Iu(e),y),x=Q.useRef(null);Q.useEffect(()=>{!f||!y.current||(p.current=!n)},[n,f]),Q.useEffect(()=>{if(!f||!y.current)return;const T=Rs(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),p.current&&y.current.focus()),()=>{a||(b.current&&b.current.focus&&(d.current=!0,b.current.focus()),b.current=null)}},[f]),Q.useEffect(()=>{if(!f||!y.current)return;const T=Rs(y.current),M=F=>{x.current=F,!(r||!l()||F.key!=="Tab")&&T.activeElement===y.current&&F.shiftKey&&(d.current=!0,w.current&&w.current.focus())},A=()=>{var $,P;const F=y.current;if(F===null)return;if(!T.hasFocus()||!l()||d.current){d.current=!1;return}if(F.contains(T.activeElement)||r&&T.activeElement!==m.current&&T.activeElement!==w.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!p.current)return;let E=[];if((T.activeElement===m.current||T.activeElement===w.current)&&(E=o(y.current)),E.length>0){const z=!!(($=x.current)!=null&&$.shiftKey&&((P=x.current)==null?void 0:P.key)==="Tab"),j=E[0],V=E[E.length-1];typeof j!="string"&&typeof V!="string"&&(z?V.focus():j.focus())}else F.focus()};T.addEventListener("focusin",A),T.addEventListener("keydown",M,!0);const B=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(B),T.removeEventListener("focusin",A),T.removeEventListener("keydown",M,!0)}},[n,r,a,l,f,o]);const S=T=>{b.current===null&&(b.current=T.relatedTarget),p.current=!0,g.current=T.target;const M=e.props.onFocus;M&&M(T)},C=T=>{b.current===null&&(b.current=T.relatedTarget),p.current=!0};return oe.jsxs(Q.Fragment,{children:[oe.jsx("div",{tabIndex:f?0:-1,onFocus:C,ref:m,"data-testid":"sentinelStart"}),Q.cloneElement(e,{ref:h,onFocus:S}),oe.jsx("div",{tabIndex:f?0:-1,onFocus:C,ref:w,"data-testid":"sentinelEnd"})]})}function OD(t){return typeof t=="function"?t():t}function DD(t){return t?t.props.hasOwnProperty("in"):!1}const Rb=()=>{},s0=new TD;function LD(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:f,onClose:d,open:m,rootRef:w}=t,b=Q.useRef({}),g=Q.useRef(null),p=Q.useRef(null),y=Er(p,w),[h,x]=Q.useState(!m),S=DD(f);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const T=()=>Rs(g.current),M=()=>(b.current.modalRef=p.current,b.current.mount=g.current,b.current),A=()=>{s0.mount(M(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},B=Aa(()=>{const D=OD(e)||T().body;s0.add(M(),D),p.current&&A()}),F=()=>s0.isTopModal(M()),E=Aa(D=>{g.current=D,D&&(m&&F()?A():p.current&&tc(p.current,C))}),$=Q.useCallback(()=>{s0.remove(M(),C)},[C]);Q.useEffect(()=>()=>{$()},[$]),Q.useEffect(()=>{m?B():(!S||!a)&&$()},[m,$,S,a,B]);const P=D=>W=>{var G;(G=D.onKeyDown)==null||G.call(D,W),!(W.key!=="Escape"||W.which===229||!F())&&(n||(W.stopPropagation(),d&&d(W,"escapeKeyDown")))},z=D=>W=>{var G;(G=D.onClick)==null||G.call(D,W),W.target===W.currentTarget&&d&&d(W,"backdropClick")};return{getRootProps:(D={})=>{const W=a9(t);delete W.onTransitionEnter,delete W.onTransitionExited;const G={...W,...D};return{role:"presentation",...G,onKeyDown:P(G),ref:y}},getBackdropProps:(D={})=>{const W=D;return{"aria-hidden":!0,...W,onClick:z(W),open:m}},getTransitionProps:()=>{const D=()=>{x(!1),o&&o()},W=()=>{x(!0),l&&l(),a&&$()};return{onEnter:sb(D,(f==null?void 0:f.props.onEnter)??Rb),onExited:sb(W,(f==null?void 0:f.props.onExited)??Rb)}},rootRef:y,portalRef:E,isTopModal:F,exited:h,hasTransition:S}}function BD(t){return on("MuiModal",t)}Zt("MuiModal",["root","hidden","backdrop"]);const FD=t=>{const{open:e,exited:n,classes:r}=t;return pn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},BD,r)},zD=lt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(xn(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),$D=lt(_D,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),qD=Q.forwardRef(function(e,n){const r=Jt({name:"MuiModal",props:e}),{BackdropComponent:a=$D,BackdropProps:o,classes:l,className:f,closeAfterTransition:d=!1,children:m,container:w,component:b,components:g={},componentsProps:p={},disableAutoFocus:y=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:x=!1,disablePortal:S=!1,disableRestoreFocus:C=!1,disableScrollLock:T=!1,hideBackdrop:M=!1,keepMounted:A=!1,onBackdropClick:B,onClose:F,onTransitionEnter:E,onTransitionExited:$,open:P,slotProps:z={},slots:j={},theme:V,...L}=r,D={...r,closeAfterTransition:d,disableAutoFocus:y,disableEnforceFocus:h,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:C,disableScrollLock:T,hideBackdrop:M,keepMounted:A},{getRootProps:W,getBackdropProps:G,getTransitionProps:U,portalRef:R,isTopModal:I,exited:N,hasTransition:H}=LD({...D,rootRef:n}),X={...D,exited:N},Z=FD(X),K={};if(m.props.tabIndex===void 0&&(K.tabIndex="-1"),H){const{onEnter:ke,onExited:Te}=U();K.onEnter=ke,K.onExited=Te}const ae={...L,slots:{root:g.Root,backdrop:g.Backdrop,...j},slotProps:{...p,...z}},[he,ee]=Wa("root",{elementType:zD,externalForwardedProps:ae,getSlotProps:W,additionalProps:{ref:n,as:b},ownerState:X,className:et(f,Z==null?void 0:Z.root,!X.open&&X.exited&&(Z==null?void 0:Z.hidden))}),[ge,Se]=Wa("backdrop",{elementType:a,externalForwardedProps:ae,additionalProps:o,getSlotProps:ke=>G({...ke,onClick:Te=>{B&&B(Te),ke!=null&&ke.onClick&&ke.onClick(Te)}}),className:et(o==null?void 0:o.className,Z==null?void 0:Z.backdrop),ownerState:X}),de=Er(o==null?void 0:o.ref,Se.ref);return!A&&!P&&(!H||N)?null:oe.jsx(mD,{ref:R,container:w,disablePortal:S,children:oe.jsxs(he,{...ee,children:[!M&&a?oe.jsx(ge,{...Se,ref:de}):null,oe.jsx(ID,{disableEnforceFocus:h,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:I,open:P,children:Q.cloneElement(m,K)})]})})});function jD(t){return on("MuiDivider",t)}Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const VD=t=>{const{absolute:e,children:n,classes:r,flexItem:a,light:o,orientation:l,textAlign:f,variant:d}=t;return pn({root:["root",e&&"absolute",d,o&&"light",l==="vertical"&&"vertical",a&&"flexItem",n&&"withChildren",n&&l==="vertical"&&"withChildrenVertical",f==="right"&&l!=="vertical"&&"textAlignRight",f==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},jD,r)},WD=lt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(xn(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:jr(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),HD=lt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(xn(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),vm=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiDivider"}),{absolute:a=!1,children:o,className:l,orientation:f="horizontal",component:d=o||f==="vertical"?"div":"hr",flexItem:m=!1,light:w=!1,role:b=d!=="hr"?"separator":void 0,textAlign:g="center",variant:p="fullWidth",...y}=r,h={...r,absolute:a,component:d,flexItem:m,light:w,orientation:f,role:b,textAlign:g,variant:p},x=VD(h);return oe.jsx(WD,{as:d,className:et(x.root,l),role:b,ref:n,ownerState:h,"aria-orientation":b==="separator"&&(d!=="hr"||f==="vertical")?f:void 0,...y,children:o?oe.jsx(HD,{className:x.wrapper,ownerState:h,children:o}):null})});vm&&(vm.muiSkipListHighlight=!0);function UD(t,e,n){const r=e.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=Va(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const m=o.getComputedStyle(e);l=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let f=0,d=0;if(l&&l!=="none"&&typeof l=="string"){const m=l.split("(")[1].split(")")[0].split(",");f=parseInt(m[4],10),d=parseInt(m[5],10)}return t==="left"?a?`translateX(${a.right+f-r.left}px)`:`translateX(${o.innerWidth+f-r.left}px)`:t==="right"?a?`translateX(-${r.right-a.left-f}px)`:`translateX(-${r.left+r.width-f}px)`:t==="up"?a?`translateY(${a.bottom+d-r.top}px)`:`translateY(${o.innerHeight+d-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-d}px)`:`translateY(-${r.top+r.height-d}px)`}function GD(t){return typeof t=="function"?t():t}function a0(t,e,n){const r=GD(n),a=UD(t,e,r);a&&(e.style.webkitTransform=a,e.style.transform=a)}const YD=Q.forwardRef(function(e,n){const r=Du(),a={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:f=!0,children:d,container:m,direction:w="down",easing:b=a,in:g,onEnter:p,onEntered:y,onEntering:h,onExit:x,onExited:S,onExiting:C,style:T,timeout:M=o,TransitionComponent:A=Xr,...B}=e,F=Q.useRef(null),E=Er(Iu(d),F,n),$=U=>R=>{U&&(R===void 0?U(F.current):U(F.current,R))},P=$((U,R)=>{a0(w,U,m),S9(U),p&&p(U,R)}),z=$((U,R)=>{const I=G0({timeout:M,style:T,easing:b},{mode:"enter"});U.style.webkitTransition=r.transitions.create("-webkit-transform",{...I}),U.style.transition=r.transitions.create("transform",{...I}),U.style.webkitTransform="none",U.style.transform="none",h&&h(U,R)}),j=$(y),V=$(C),L=$(U=>{const R=G0({timeout:M,style:T,easing:b},{mode:"exit"});U.style.webkitTransition=r.transitions.create("-webkit-transform",R),U.style.transition=r.transitions.create("transform",R),a0(w,U,m),x&&x(U)}),D=$(U=>{U.style.webkitTransition="",U.style.transition="",S&&S(U)}),W=U=>{l&&l(F.current,U)},G=Q.useCallback(()=>{F.current&&a0(w,F.current,m)},[w,m]);return Q.useEffect(()=>{if(g||w==="down"||w==="right")return;const U=GR(()=>{F.current&&a0(w,F.current,m)}),R=Va(F.current);return R.addEventListener("resize",U),()=>{U.clear(),R.removeEventListener("resize",U)}},[w,g,m]),Q.useEffect(()=>{g||G()},[g,G]),oe.jsx(A,{nodeRef:F,onEnter:P,onEntered:j,onEntering:z,onExit:L,onExited:D,onExiting:V,addEndListener:W,appear:f,in:g,timeout:M,...B,children:(U,{ownerState:R,...I})=>Q.cloneElement(d,{ref:E,style:{visibility:U==="exited"&&!g?"hidden":void 0,...T,...d.props.style},...I})})});function XD(t){return on("MuiDrawer",t)}Zt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const T9=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},KD=t=>{const{classes:e,anchor:n,variant:r}=t,a={root:["root",`anchor${dt(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${dt(n)}`,r!=="temporary"&&`paperAnchorDocked${dt(n)}`]};return pn(a,XD,e)},QD=lt(qD,{name:"MuiDrawer",slot:"Root",overridesResolver:T9})(xn(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Ib=lt("div",{shouldForwardProp:Bg,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:T9})({flex:"0 0 auto"}),ZD=lt(C9,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${dt(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${dt(n.anchor)}`]]}})(xn(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),E9={left:"right",right:"left",top:"down",bottom:"up"};function JD(t){return["left","right"].includes(t)}function eL({direction:t},e){return t==="rtl"&&JD(e)?E9[e]:e}const tL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiDrawer"}),a=Du(),o=fI(),l={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:d,children:m,className:w,elevation:b=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:p,...y}={},onClose:h,open:x=!1,PaperProps:S={},SlideProps:C,TransitionComponent:T=YD,transitionDuration:M=l,variant:A="temporary",...B}=r,F=Q.useRef(!1);Q.useEffect(()=>{F.current=!0},[]);const E=eL({direction:o?"rtl":"ltr"},f),P={...r,anchor:f,elevation:b,open:x,variant:A,...B},z=KD(P),j=oe.jsx(ZD,{elevation:A==="temporary"?b:0,square:!0,...S,className:et(z.paper,S.className),ownerState:P,children:m});if(A==="permanent")return oe.jsx(Ib,{className:et(z.root,z.docked,w),ownerState:P,ref:n,...B,children:j});const V=oe.jsx(T,{in:x,direction:E9[E],timeout:M,appear:F.current,...C,children:j});return A==="persistent"?oe.jsx(Ib,{className:et(z.root,z.docked,w),ownerState:P,ref:n,...B,children:V}):oe.jsx(QD,{BackdropProps:{...d,...p,transitionDuration:M},className:et(z.root,z.modal,w),open:x,ownerState:P,onClose:h,hideBackdrop:g,ref:n,...B,...y,children:V})}),Xi=Q.createContext({});function nL(t){return on("MuiList",t)}Zt("MuiList",["root","padding","dense","subheader"]);const rL=t=>{const{classes:e,disablePadding:n,dense:r,subheader:a}=t;return pn({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},nL,e)},iL=lt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),sL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiList"}),{children:a,className:o,component:l="ul",dense:f=!1,disablePadding:d=!1,subheader:m,...w}=r,b=Q.useMemo(()=>({dense:f}),[f]),g={...r,component:l,dense:f,disablePadding:d},p=rL(g);return oe.jsx(Xi.Provider,{value:b,children:oe.jsxs(iL,{as:l,className:et(p.root,o),ref:n,ownerState:g,...w,children:[m,a]})})});function aL(t){return on("MuiListItem",t)}Zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function oL(t){return on("MuiListItemButton",t)}const ya=Zt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),cL=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},lL=t=>{const{alignItems:e,classes:n,dense:r,disabled:a,disableGutters:o,divider:l,selected:f}=t,m=pn({root:["root",r&&"dense",!o&&"gutters",l&&"divider",a&&"disabled",e==="flex-start"&&"alignItemsFlexStart",f&&"selected"]},oL,n);return{...n,...m}},uL=lt(k9,{shouldForwardProp:t=>Bg(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:cL})(xn(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ya.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ya.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ya.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ya.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ya.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),fL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiListItemButton"}),{alignItems:a="center",autoFocus:o=!1,component:l="div",children:f,dense:d=!1,disableGutters:m=!1,divider:w=!1,focusVisibleClassName:b,selected:g=!1,className:p,...y}=r,h=Q.useContext(Xi),x=Q.useMemo(()=>({dense:d||h.dense||!1,alignItems:a,disableGutters:m}),[a,h.dense,d,m]),S=Q.useRef(null);fc(()=>{o&&S.current&&S.current.focus()},[o]);const C={...r,alignItems:a,dense:x.dense,disableGutters:m,divider:w,selected:g},T=lL(C),M=Er(S,n);return oe.jsx(Xi.Provider,{value:x,children:oe.jsx(uL,{ref:M,href:y.href||y.to,component:(y.href||y.to)&&l==="div"?"button":l,focusVisibleClassName:et(T.focusVisible,b),ownerState:C,className:et(T.root,p),...y,classes:T,children:f})})});function hL(t){return on("MuiListItemSecondaryAction",t)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const dL=t=>{const{disableGutters:e,classes:n}=t;return pn({root:["root",e&&"disableGutters"]},hL,n)},pL=lt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),A9=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiListItemSecondaryAction"}),{className:a,...o}=r,l=Q.useContext(Xi),f={...r,disableGutters:l.disableGutters},d=dL(f);return oe.jsx(pL,{className:et(d.root,a),ownerState:f,ref:n,...o})});A9.muiName="ListItemSecondaryAction";const mL=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},gL=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:f}=t;return pn({root:["root",r&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",e==="flex-start"&&"alignItemsFlexStart",f&&"secondaryAction"],container:["container"]},aL,n)},vL=lt("div",{name:"MuiListItem",slot:"Root",overridesResolver:mL})(xn(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${ya.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),yL=lt("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),bL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiListItem"}),{alignItems:a="center",children:o,className:l,component:f,components:d={},componentsProps:m={},ContainerComponent:w="li",ContainerProps:{className:b,...g}={},dense:p=!1,disableGutters:y=!1,disablePadding:h=!1,divider:x=!1,secondaryAction:S,slotProps:C={},slots:T={},...M}=r,A=Q.useContext(Xi),B=Q.useMemo(()=>({dense:p||A.dense||!1,alignItems:a,disableGutters:y}),[a,A.dense,p,y]),F=Q.useRef(null),E=Q.Children.toArray(o),$=E.length&&YR(E[E.length-1],["ListItemSecondaryAction"]),P={...r,alignItems:a,dense:B.dense,disableGutters:y,disablePadding:h,divider:x,hasSecondaryAction:$},z=gL(P),j=Er(F,n),V=T.root||d.Root||vL,L=C.root||m.root||{},D={className:et(z.root,L.className,l),...M};let W=f||"li";return $?(W=!D.component&&!f?"div":W,w==="li"&&(W==="li"?W="div":D.component==="li"&&(D.component="div")),oe.jsx(Xi.Provider,{value:B,children:oe.jsxs(yL,{as:w,className:et(z.container,b),ref:j,ownerState:P,...g,children:[oe.jsx(V,{...L,...!Mb(V)&&{as:W,ownerState:{...P,...L.ownerState}},...D,children:E}),E.pop()]})})):oe.jsx(Xi.Provider,{value:B,children:oe.jsxs(V,{...L,as:W,ref:j,...!Mb(V)&&{ownerState:{...P,...L.ownerState}},...D,children:[E,S&&oe.jsx(A9,{children:S})]})})});function wL(t){return on("MuiListItemText",t)}const o0=Zt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_L=t=>{const{classes:e,inset:n,primary:r,secondary:a,dense:o}=t;return pn({root:["root",n&&"inset",o&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},wL,e)},xL=lt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${o0.primary}`]:e.primary},{[`& .${o0.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Tb.root}:where(& .${o0.primary})`]:{display:"block"},[`.${Tb.root}:where(& .${o0.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),SL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiListItemText"}),{children:a,className:o,disableTypography:l=!1,inset:f=!1,primary:d,primaryTypographyProps:m,secondary:w,secondaryTypographyProps:b,slots:g={},slotProps:p={},...y}=r,{dense:h}=Q.useContext(Xi);let x=d??a,S=w;const C={...r,disableTypography:l,inset:f,primary:!!x,secondary:!!S,dense:h},T=_L(C),M={slots:g,slotProps:{primary:m,secondary:b,...p}},[A,B]=Wa("primary",{className:T.primary,elementType:Ko,externalForwardedProps:M,ownerState:C}),[F,E]=Wa("secondary",{className:T.secondary,elementType:Ko,externalForwardedProps:M,ownerState:C});return x!=null&&x.type!==Ko&&!l&&(x=oe.jsx(A,{variant:h?"body2":"body1",component:B!=null&&B.variant?void 0:"span",...B,children:x})),S!=null&&S.type!==Ko&&!l&&(S=oe.jsx(F,{variant:"body2",color:"textSecondary",...E,children:S})),oe.jsxs(xL,{className:et(T.root,o),ownerState:C,ref:n,...y,children:[x,S]})});function CL(t){return on("MuiToolbar",t)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const kL=t=>{const{classes:e,disableGutters:n,variant:r}=t;return pn({root:["root",!n&&"gutters",r]},CL,e)},TL=lt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(xn(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),EL=Q.forwardRef(function(e,n){const r=Jt({props:e,name:"MuiToolbar"}),{className:a,component:o="div",disableGutters:l=!1,variant:f="regular",...d}=r,m={...r,component:o,disableGutters:l,variant:f},w=kL(m);return oe.jsx(TL,{as:o,className:et(w.root,a),ref:n,ownerState:m,...d})}),AL=bO(oe.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ML=lt(dD)(({theme:t})=>({zIndex:t.zIndex.drawer+1})),PL=({handleDrawer:t})=>oe.jsx(ML,{position:"fixed",children:oe.jsxs(EL,{children:[oe.jsx(iD,{color:"inherit","aria-label":"open drawer",onClick:t,edge:"start",sx:{mr:2},children:oe.jsx(AL,{})}),oe.jsx(Ko,{variant:"h6",noWrap:!0,component:"div",children:"Music System"})]})}),NL=[{url:"/music-system/#/scale",title:"Scale"},{url:"/music-system/#/frequency",title:"Oscillator"}];let RL=0;function IL(t,e){const n=`atom${++RL}`,r={toString(){return n}};return r.init=t,r.read=OL,r.write=DL,r}function OL(t){return t(this)}function DL(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Ob=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Db=t=>"init"in t,Lb=t=>!!t.write,X0=new WeakMap,ym=t=>{var e;return bm(t)&&!((e=X0.get(t))!=null&&e[1])},LL=(t,e)=>{const n=X0.get(t);n&&(n[1]=!0,n[0].forEach(r=>r(e)))},BL=t=>{if(X0.has(t))return;const e=[new Set,!1];X0.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},bm=t=>typeof(t==null?void 0:t.then)=="function",Bb=t=>"v"in t||"e"in t,c0=t=>{if("e"in t)throw t.e;return t.v},M9=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Fb=(t,e,n,r,a)=>{var o;n.d.set(r,a.n),ym(n.v)&&M9(e,n.v,a),(o=a.m)==null||o.t.add(e),t&&FL(t,r,e)},Vo=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),nc=(t,e,n)=>{t[e].add(n)},zb=(t,e,n)=>{t.D.has(e)||(t.D.set(e,new Set),nc(t,"M",()=>{var r;(r=n.m)==null||r.l.forEach(a=>nc(t,"M",a))}))},FL=(t,e,n)=>{const r=t.D.get(e);r&&r.add(n)},zL=(t,e)=>t.D.get(e),bs=t=>{let e,n=!1;const r=a=>{try{a()}catch(o){n||(e=o,n=!0)}};for(;t.H.size||t.M.size||t.L.size;)t.D.clear(),t.H.forEach(r),t.H.clear(),t.M.forEach(r),t.M.clear(),t.L.forEach(r),t.L.clear();if(n)throw e},P9=(...[t,e,n,r])=>{const a=(S,C,T)=>{const M="v"in C,A=C.v,B=ym(C.v)?C.v:null;if(bm(T)){BL(T);for(const F of C.d.keys())M9(S,T,t(F));C.v=T}else C.v=T;delete C.e,delete C.x,(!M||!Object.is(A,C.v))&&(++C.n,B&&LL(B,T))},o=(S,C)=>{var T;const M=t(C);if(Bb(M)&&(M.m&&!M.x||Array.from(M.d).every(([P,z])=>o(S,P).n===z)))return M;M.d.clear();let A=!0;const B=P=>{if(Ob(C,P)){const j=t(P);if(!Bb(j))if(Db(P))a(P,j,P.init);else throw new Error("no atom init");return c0(j)}const z=o(S,P);try{return c0(z)}finally{if(A)Fb(S,C,M,P,z);else{const j=Vo();Fb(j,C,M,P,z),b(j,C,M),bs(j)}}};let F,E;const $={get signal(){return F||(F=new AbortController),F.signal},get setSelf(){return!E&&Lb(C)&&(E=(...P)=>{if(!A)return w(C,...P)}),E}};try{const P=e(C,B,$);if(a(C,M,P),bm(P)){(T=P.onCancel)==null||T.call(P,()=>F==null?void 0:F.abort());const z=()=>{if(M.m){const j=Vo();b(j,C,M),bs(j)}};P.then(z,z)}return M}catch(P){return delete M.v,M.e=P,delete M.x,++M.n,M}finally{A=!1}},l=S=>c0(o(void 0,S)),f=(S,C,T)=>{var M,A;const B=new Map;for(const F of((M=T.m)==null?void 0:M.t)||[]){const E=t(F);E.m&&B.set(F,E)}for(const F of T.p)B.set(F,t(F));return(A=zL(S,C))==null||A.forEach(F=>{B.set(F,t(F))}),B},d=(S,C,T)=>{const M=[],A=new Set,B=new Set,F=[[C,T]];for(;F.length>0;){const[E,$]=F[F.length-1];if(B.has(E)){F.pop();continue}if(A.has(E)){M.push([E,$,$.n]),B.add(E),$.x=!0,F.pop();continue}A.add(E);for(const[P,z]of f(S,E,$))E!==P&&!A.has(P)&&F.push([P,z])}nc(S,"H",()=>{const E=new Set([C]);for(let $=M.length-1;$>=0;--$){const[P,z,j]=M[$];let V=!1;for(const L of z.d.keys())if(L!==P&&E.has(L)){V=!0;break}V&&(o(S,P),b(S,P,z),j!==z.n&&(zb(S,P,z),E.add(P))),delete z.x}})},m=(S,C,...T)=>{let M=!0;const A=F=>c0(o(S,F)),B=(F,...E)=>{const $=t(F);try{if(Ob(C,F)){if(!Db(F))throw new Error("atom not writable");const P=$.n,z=E[0];a(F,$,z),b(S,F,$),P!==$.n&&(zb(S,F,$),d(S,F,$));return}else return m(S,F,...E)}finally{M||bs(S)}};try{return n(C,A,B,...T)}finally{M=!1}},w=(S,...C)=>{const T=Vo();try{return m(T,S,...C)}finally{bs(T)}},b=(S,C,T)=>{if(T.m&&!ym(T.v)){for(const M of T.d.keys())T.m.d.has(M)||(g(S,M,t(M)).t.add(C),T.m.d.add(M));for(const M of T.m.d||[])if(!T.d.has(M)){T.m.d.delete(M);const A=p(S,M,t(M));A==null||A.t.delete(C)}}},g=(S,C,T)=>{if(!T.m){o(S,C);for(const M of T.d.keys())g(S,M,t(M)).t.add(C);if(T.m={l:new Set,d:new Set(T.d.keys()),t:new Set},Lb(C)){const M=T.m;let A;const B=(F,E)=>{let $=!0;A=(...P)=>{try{return m(F,C,...P)}finally{$||bs(F)}};try{return E()}finally{$=!1}};nc(S,"L",()=>{const F=B(S,()=>r(C,(...E)=>A(...E)));F&&(M.u=E=>B(E,F))})}}return T.m},p=(S,C,T)=>{if(T.m&&!T.m.l.size&&!Array.from(T.m.t).some(M=>{var A;return(A=t(M).m)==null?void 0:A.d.has(C)})){const M=T.m.u;M&&nc(S,"L",()=>M(S)),delete T.m;for(const A of T.d.keys()){const B=p(S,A,t(A));B==null||B.t.delete(C)}return}return T.m};return{get:l,set:w,sub:(S,C)=>{const T=Vo(),M=t(S),B=g(T,S,M).l;return B.add(C),bs(T),()=>{B.delete(C);const F=Vo();p(F,S,M),bs(F)}},unstable_derive:S=>P9(...S(t,e,n,r))}},$L=()=>{const t=new WeakMap;return P9(r=>{let a=t.get(r);return a||(a={d:new Map,p:new Set,n:0},t.set(r,a)),a},(r,...a)=>r.read(...a),(r,...a)=>r.write(...a),(r,...a)=>{var o;return(o=r.onMount)==null?void 0:o.call(r,...a)})};let Hh;const qL=()=>(Hh||(Hh=$L()),Hh),jL=Q.createContext(void 0),N9=t=>Q.useContext(jL)||qL(),R9=t=>typeof(t==null?void 0:t.then)=="function",VL=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},WL=wn.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(VL(t),t)}),Uh=new WeakMap,HL=t=>{let e=Uh.get(t);return e||(e=new Promise((n,r)=>{let a=t;const o=d=>m=>{a===d&&n(m)},l=d=>m=>{a===d&&r(m)},f=d=>{"onCancel"in d&&typeof d.onCancel=="function"&&d.onCancel(m=>{R9(m)?(Uh.set(m,e),a=m,m.then(o(m),l(m)),f(m)):n(m)})};t.then(o(t),l(t)),f(t)}),Uh.set(t,e)),e};function UL(t,e){const n=N9(),[[r,a,o],l]=Q.useReducer(m=>{const w=n.get(t);return Object.is(m[0],w)&&m[1]===n&&m[2]===t?m:[w,n,t]},void 0,()=>[n.get(t),n,t]);let f=r;if((a!==n||o!==t)&&(l(),f=n.get(t)),Q.useEffect(()=>{const m=n.sub(t,()=>{l()});return l(),m},[n,t,void 0]),Q.useDebugValue(f),R9(f)){const m=HL(f);return WL(m)}return f}function GL(t,e){const n=N9();return Q.useCallback((...a)=>n.set(t,...a),[n,t])}function YL(t,e){return[UL(t),GL(t)]}const XL=IL(0),KL=lt("div")(({theme:t})=>({display:"flex",alignItems:"center",padding:t.spacing(0,10),...t.mixins.toolbar,justifyContent:"flex-end"})),QL=({handleDrawer:t,drawerWidth:e,open:n})=>{const[r,a]=YL(XL);return oe.jsxs(tL,{sx:{width:e,flexShrink:0},variant:"temporary",anchor:"left",open:n,onClose:t,children:[oe.jsx(KL,{}),oe.jsx(sL,{children:NL.map((o,l)=>oe.jsx(bL,{disablePadding:!0,children:oe.jsx(fL,{href:o.url,onClick:()=>{t(),a(l)},disabled:l===r,children:oe.jsx(SL,{primary:o.title})})},l))}),oe.jsx(vm,{})]})},ZL=960,JL=Ou({palette:{mode:"dark"}}),$g=t=>{const[e,n]=Q.useState(!1),r=()=>{n(!e)};return oe.jsxs(I_,{children:[oe.jsx(aO,{theme:JL,children:oe.jsxs(Sb,{sx:{display:"flex"},children:[oe.jsx(mO,{}),oe.jsx(PL,{handleDrawer:r}),oe.jsx(QL,{handleDrawer:r,open:e,drawerWidth:ZL}),oe.jsx(Sb,{component:"main",sx:{flexGrow:1,p:3}})]})}),t.children,oe.jsx(R_,{})]})},eB=()=>oe.jsx($g,{children:oe.jsx(kP,{})});var Wo={},$b;function tB(){if($b)return Wo;$b=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.parse=l,Wo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,p){const y=new o,h=g.length;if(h<2)return y;const x=(p==null?void 0:p.decode)||w;let S=0;do{const C=g.indexOf("=",S);if(C===-1)break;const T=g.indexOf(";",S),M=T===-1?h:T;if(C>M){S=g.lastIndexOf(";",C-1)+1;continue}const A=f(g,S,C),B=d(g,C,A),F=g.slice(A,B);if(y[F]===void 0){let E=f(g,C+1,M),$=d(g,M,E);const P=x(g.slice(E,$));y[F]=P}S=M+1}while(S<h);return y}function f(g,p,y){do{const h=g.charCodeAt(p);if(h!==32&&h!==9)return p}while(++p<y);return y}function d(g,p,y){for(;p>y;){const h=g.charCodeAt(--p);if(h!==32&&h!==9)return p+1}return y}function m(g,p,y){const h=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=h(p);if(!e.test(x))throw new TypeError(`argument val is invalid: ${p}`);let S=g+"="+x;if(!y)return S;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);S+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);S+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);S+="; Path="+y.path}if(y.expires){if(!b(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.partitioned&&(S+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return S}function w(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function b(g){return a.call(g)==="[object Date]"}return Wo}tB();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qb="popstate";function nB(t={}){function e(a,o){let{pathname:l="/",search:f="",hash:d=""}=Bs(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),wm("",{pathname:l,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let l=a.document.querySelector("base"),f="";if(l&&l.getAttribute("href")){let d=a.location.href,m=d.indexOf("#");f=m===-1?d:d.slice(0,m)}return f+"#"+(typeof o=="string"?o:pc(o))}function r(a,o){Ar(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return iB(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ar(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rB(){return Math.random().toString(36).substring(2,10)}function jb(t,e){return{usr:t.state,key:t.key,idx:e}}function wm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:n,key:e&&e.key||r||rB()}}function pc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iB(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,f="POP",d=null,m=w();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function w(){return(l.state||{idx:null}).idx}function b(){f="POP";let x=w(),S=x==null?null:x-m;m=x,d&&d({action:f,location:h.location,delta:S})}function g(x,S){f="PUSH";let C=wm(h.location,x,S);n(C,x),m=w()+1;let T=jb(C,m),M=h.createHref(C);try{l.pushState(T,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(M)}o&&d&&d({action:f,location:h.location,delta:1})}function p(x,S){f="REPLACE";let C=wm(h.location,x,S);n(C,x),m=w();let T=jb(C,m),M=h.createHref(C);l.replaceState(T,"",M),o&&d&&d({action:f,location:h.location,delta:0})}function y(x){let S=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof x=="string"?x:pc(x);return C=C.replace(/ $/,"%20"),It(S,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,S)}let h={get action(){return f},get location(){return t(a,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(qb,b),d=x,()=>{a.removeEventListener(qb,b),d=null}},createHref(x){return e(a,x)},createURL:y,encodeLocation(x){let S=y(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:p,go(x){return l.go(x)}};return h}function I9(t,e,n="/"){return sB(t,e,n,!1)}function sB(t,e,n,r){let a=typeof e=="string"?Bs(e):e,o=es(a.pathname||"/",n);if(o==null)return null;let l=O9(t);aB(l);let f=null;for(let d=0;f==null&&d<l.length;++d){let m=vB(o);f=mB(l[d],m,r)}return f}function O9(t,e=[],n=[],r=""){let a=(o,l,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(It(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=hi([r,d.relativePath]),w=n.concat(d);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),O9(o.children,e,w,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:dB(m,o.index),routesMeta:w})};return t.forEach((o,l)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,l);else for(let d of D9(o.path))a(o,l,d)}),e}function D9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=D9(r.join("/")),f=[];return f.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&f.push(...l),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function aB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oB=/^:[\w-]+$/,cB=3,lB=2,uB=1,fB=10,hB=-2,Vb=t=>t==="*";function dB(t,e){let n=t.split("/"),r=n.length;return n.some(Vb)&&(r+=hB),e&&(r+=lB),n.filter(a=>!Vb(a)).reduce((a,o)=>a+(oB.test(o)?cB:o===""?uB:fB),r)}function pB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function mB(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",l=[];for(let f=0;f<r.length;++f){let d=r[f],m=f===r.length-1,w=o==="/"?e:e.slice(o.length)||"/",b=K0({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},w),g=d.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=K0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},w)),!b)return null;Object.assign(a,b.params),l.push({params:a,pathname:hi([o,b.pathname]),pathnameBase:_B(hi([o,b.pathnameBase])),route:g}),b.pathnameBase!=="/"&&(o=hi([o,b.pathnameBase]))}return l}function K0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gB(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((m,{paramName:w,isOptional:b},g)=>{if(w==="*"){let y=f[g]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const p=f[g];return b&&!p?m[w]=void 0:m[w]=(p||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function gB(t,e=!1,n=!0){Ar(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function vB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yB(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Bs(t):t;return{pathname:n?n.startsWith("/")?n:bB(n,e):e,search:xB(r),hash:SB(a)}}function bB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L9(t){let e=wB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function B9(t,e,n,r=!1){let a;typeof t=="string"?a=Bs(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),Gh("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),Gh("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),Gh("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,f;if(l==null)f=n;else{let b=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),b-=1;a.pathname=g.join("/")}f=b>=0?e[b]:"/"}let d=yB(a,f),m=l&&l!=="/"&&l.endsWith("/"),w=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||w)&&(d.pathname+="/"),d}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),_B=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var F9=["POST","PUT","PATCH","DELETE"];new Set(F9);var kB=["GET",...F9];new Set(kB);var Ja=Q.createContext(null);Ja.displayName="DataRouter";var Lu=Q.createContext(null);Lu.displayName="DataRouterState";var z9=Q.createContext({isTransitioning:!1});z9.displayName="ViewTransition";var TB=Q.createContext(new Map);TB.displayName="Fetchers";var EB=Q.createContext(null);EB.displayName="Await";var Kr=Q.createContext(null);Kr.displayName="Navigation";var Dc=Q.createContext(null);Dc.displayName="Location";var bi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var qg=Q.createContext(null);qg.displayName="RouteError";function AB(t,{relative:e}={}){It(Lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Q.useContext(Kr),{hash:a,pathname:o,search:l}=Bc(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:hi([n,o])),r.createHref({pathname:f,search:l,hash:a})}function Lc(){return Q.useContext(Dc)!=null}function Fs(){return It(Lc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Dc).location}var $9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q9(t){Q.useContext(Kr).static||Q.useLayoutEffect(t)}function MB(){let{isDataRoute:t}=Q.useContext(bi);return t?jB():PB()}function PB(){It(Lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=Q.useContext(Ja),{basename:e,navigator:n}=Q.useContext(Kr),{matches:r}=Q.useContext(bi),{pathname:a}=Fs(),o=JSON.stringify(L9(r)),l=Q.useRef(!1);return q9(()=>{l.current=!0}),Q.useCallback((d,m={})=>{if(Ar(l.current,$9),!l.current)return;if(typeof d=="number"){n.go(d);return}let w=B9(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:hi([e,w.pathname])),(m.replace?n.replace:n.push)(w,m.state,m)},[e,n,o,a,t])}Q.createContext(null);function Bc(t,{relative:e}={}){let{matches:n}=Q.useContext(bi),{pathname:r}=Fs(),a=JSON.stringify(L9(n));return Q.useMemo(()=>B9(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function NB(t,e){return j9(t,e)}function j9(t,e,n,r){var S;It(Lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Q.useContext(Kr),{matches:o}=Q.useContext(bi),l=o[o.length-1],f=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",w=l&&l.route;{let C=w&&w.path||"";V9(d,!w||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Fs(),g;if(e){let C=typeof e=="string"?Bs(e):e;It(m==="/"||((S=C.pathname)==null?void 0:S.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=b;let p=g.pathname||"/",y=p;if(m!=="/"){let C=m.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let h=I9(t,{pathname:y});Ar(w||h!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ar(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=LB(h&&h.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:hi([m,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:hi([m,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&x?Q.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function RB(){let t=qB(),e=CB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:a},n):null,l)}var IB=Q.createElement(RB,null),OB=class extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Q.createElement(bi.Provider,{value:this.props.routeContext},Q.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DB({routeContext:t,match:e,children:n}){let r=Q.useContext(Ja);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(bi.Provider,{value:t},n)}function LB(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:w,errors:b}=n,g=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||g){l=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,m,w)=>{let b,g=!1,p=null,y=null;n&&(b=o&&m.route.id?o[m.route.id]:void 0,p=m.route.errorElement||IB,l&&(f<0&&w===0?(V9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):f===w&&(g=!0,y=m.route.hydrateFallbackElement||null)));let h=e.concat(a.slice(0,w+1)),x=()=>{let S;return b?S=p:g?S=y:m.route.Component?S=Q.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=d,Q.createElement(DB,{match:m,routeContext:{outlet:d,matches:h,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?Q.createElement(OB,{location:n.location,revalidation:n.revalidation,component:p,error:b,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}function jg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BB(t){let e=Q.useContext(Ja);return It(e,jg(t)),e}function FB(t){let e=Q.useContext(Lu);return It(e,jg(t)),e}function zB(t){let e=Q.useContext(bi);return It(e,jg(t)),e}function Vg(t){let e=zB(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $B(){return Vg("useRouteId")}function qB(){var r;let t=Q.useContext(qg),e=FB("useRouteError"),n=Vg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jB(){let{router:t}=BB("useNavigate"),e=Vg("useNavigate"),n=Q.useRef(!1);return q9(()=>{n.current=!0}),Q.useCallback(async(a,o={})=>{Ar(n.current,$9),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Wb={};function V9(t,e,n){!e&&!Wb[t]&&(Wb[t]=!0,Ar(!1,n))}Q.memo(VB);function VB({routes:t,future:e,state:n}){return j9(t,void 0,n,e)}function C0(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){It(!Lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),f=Q.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Bs(n));let{pathname:d="/",search:m="",hash:w="",state:b=null,key:g="default"}=n,p=Q.useMemo(()=>{let y=es(d,l);return y==null?null:{location:{pathname:y,search:m,hash:w,state:b,key:g},navigationType:r}},[l,d,m,w,b,g,r]);return Ar(p!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:Q.createElement(Kr.Provider,{value:f},Q.createElement(Dc.Provider,{children:e,value:p}))}function HB({children:t,location:e}){return NB(_m(t),e)}function _m(t,e=[]){let n=[];return Q.Children.forEach(t,(r,a)=>{if(!Q.isValidElement(r))return;let o=[...e,a];if(r.type===Q.Fragment){n.push.apply(n,_m(r.props.children,o));return}It(r.type===C0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_m(r.props.children,o)),n.push(l)}),n}var k0="get",T0="application/x-www-form-urlencoded";function Bu(t){return t!=null&&typeof t.tagName=="string"}function UB(t){return Bu(t)&&t.tagName.toLowerCase()==="button"}function GB(t){return Bu(t)&&t.tagName.toLowerCase()==="form"}function YB(t){return Bu(t)&&t.tagName.toLowerCase()==="input"}function XB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KB(t,e){return t.button===0&&(!e||e==="_self")&&!XB(t)}var l0=null;function QB(){if(l0===null)try{new FormData(document.createElement("form"),0),l0=!1}catch{l0=!0}return l0}var ZB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(t){return t!=null&&!ZB.has(t)?(Ar(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${T0}"`),null):t}function JB(t,e){let n,r,a,o,l;if(GB(t)){let f=t.getAttribute("action");r=f?es(f,e):null,n=t.getAttribute("method")||k0,a=Yh(t.getAttribute("enctype"))||T0,o=new FormData(t)}else if(UB(t)||YB(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?es(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||k0,a=Yh(t.getAttribute("formenctype"))||Yh(f.getAttribute("enctype"))||T0,o=new FormData(f,t),!QB()){let{name:m,type:w,value:b}=t;if(w==="image"){let g=m?`${m}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else m&&o.append(m,b)}}else{if(Bu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=k0,r=null,a=T0,l=t}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:l}}function Wg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function eF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nF(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await eF(o,n);return l.links?l.links():[]}return[]}));return aF(r.flat(1).filter(tF).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hb(t,e,n,r,a,o){let l=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>{var w;return n[m].pathname!==d.pathname||((w=n[m].route.path)==null?void 0:w.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>l(d,m)||f(d,m)):o==="data"?e.filter((d,m)=>{var b;let w=r.routes[d.route.id];if(!w||!w.hasLoader)return!1;if(l(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function rF(t,e){return iF(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function iF(t){return[...new Set(t)]}function sF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aF(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(sF(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function oF(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cF(){let t=Q.useContext(Ja);return Wg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lF(){let t=Q.useContext(Lu);return Wg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hg=Q.createContext(void 0);Hg.displayName="FrameworkContext";function W9(){let t=Q.useContext(Hg);return Wg(t,"You must render this element inside a <HydratedRouter> element"),t}function uF(t,e){let n=Q.useContext(Hg),[r,a]=Q.useState(!1),[o,l]=Q.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:w,onTouchStart:b}=e,g=Q.useRef(null);Q.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let h=S=>{S.forEach(C=>{l(C.isIntersecting)})},x=new IntersectionObserver(h,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),Q.useEffect(()=>{if(r){let h=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(h)}}},[r]);let p=()=>{a(!0)},y=()=>{a(!1),l(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Ho(f,p),onBlur:Ho(d,y),onMouseEnter:Ho(m,p),onMouseLeave:Ho(w,y),onTouchStart:Ho(b,p)}]:[!1,g,{}]}function Ho(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fF({page:t,...e}){let{router:n}=cF(),r=Q.useMemo(()=>I9(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?Q.createElement(dF,{page:t,matches:r,...e}):null}function hF(t){let{manifest:e,routeModules:n}=W9(),[r,a]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return nF(t,e,n).then(l=>{o||a(l)}),()=>{o=!0}},[t,e,n]),r}function dF({page:t,matches:e,...n}){let r=Fs(),{manifest:a,routeModules:o}=W9(),{loaderData:l,matches:f}=lF(),d=Q.useMemo(()=>Hb(t,e,f,a,r,"data"),[t,e,f,a,r]),m=Q.useMemo(()=>Hb(t,e,f,a,r,"assets"),[t,e,f,a,r]),w=Q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,y=!1;if(e.forEach(x=>{var C;let S=a.routes[x.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===x.route.id)&&x.route.id in l&&((C=o[x.route.id])!=null&&C.shouldRevalidate)||S.hasClientLoader?y=!0:p.add(x.route.id))}),p.size===0)return[];let h=oF(t);return y&&p.size>0&&h.searchParams.set("_routes",e.filter(x=>p.has(x.route.id)).map(x=>x.route.id).join(",")),[h.pathname+h.search]},[l,r,a,d,e,t,o]),b=Q.useMemo(()=>rF(m,a),[m,a]),g=hF(m);return Q.createElement(Q.Fragment,null,w.map(p=>Q.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),b.map(p=>Q.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),g.map(({key:p,link:y})=>Q.createElement("link",{key:p,...y})))}function pF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H9&&(window.__reactRouterVersion="7.1.1")}catch{}function mF({basename:t,children:e,window:n}){let r=Q.useRef();r.current==null&&(r.current=nB({window:n,v5Compat:!0}));let a=r.current,[o,l]=Q.useState({action:a.action,location:a.location}),f=Q.useCallback(d=>{Q.startTransition(()=>l(d))},[l]);return Q.useLayoutEffect(()=>a.listen(f),[a,f]),Q.createElement(WB,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var U9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G9=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:f,target:d,to:m,preventScrollReset:w,viewTransition:b,...g},p){let{basename:y}=Q.useContext(Kr),h=typeof m=="string"&&U9.test(m),x,S=!1;if(typeof m=="string"&&h&&(x=m,H9))try{let $=new URL(window.location.href),P=m.startsWith("//")?new URL($.protocol+m):new URL(m),z=es(P.pathname,y);P.origin===$.origin&&z!=null?m=z+P.search+P.hash:S=!0}catch{Ar(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=AB(m,{relative:a}),[T,M,A]=uF(r,g),B=bF(m,{replace:l,state:f,target:d,preventScrollReset:w,relative:a,viewTransition:b});function F($){e&&e($),$.defaultPrevented||B($)}let E=Q.createElement("a",{...g,...A,href:x||C,onClick:S||o?e:F,ref:pF(p,M),target:d,"data-discover":!h&&n==="render"?"true":void 0});return T&&!h?Q.createElement(Q.Fragment,null,E,Q.createElement(fF,{page:C})):E});G9.displayName="Link";var gF=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:f,children:d,...m},w){let b=Bc(l,{relative:m.relative}),g=Fs(),p=Q.useContext(Lu),{navigator:y,basename:h}=Q.useContext(Kr),x=p!=null&&CF(b)&&f===!0,S=y.encodeLocation?y.encodeLocation(b).pathname:b.pathname,C=g.pathname,T=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(C=C.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&h&&(T=es(T,h)||T);const M=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=C===S||!a&&C.startsWith(S)&&C.charAt(M)==="/",B=T!=null&&(T===S||!a&&T.startsWith(S)&&T.charAt(S.length)==="/"),F={isActive:A,isPending:B,isTransitioning:x},E=A?e:void 0,$;typeof r=="function"?$=r(F):$=[r,A?"active":null,B?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(F):o;return Q.createElement(G9,{...m,"aria-current":E,className:$,ref:w,style:P,to:l,viewTransition:f},typeof d=="function"?d(F):d)});gF.displayName="NavLink";var vF=Q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:l=k0,action:f,onSubmit:d,relative:m,preventScrollReset:w,viewTransition:b,...g},p)=>{let y=xF(),h=SF(f,{relative:m}),x=l.toLowerCase()==="get"?"get":"post",S=typeof f=="string"&&U9.test(f),C=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||l;y(M||T.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:o,relative:m,preventScrollReset:w,viewTransition:b})};return Q.createElement("form",{ref:p,method:x,action:h,onSubmit:r?d:C,...g,"data-discover":!S&&t==="render"?"true":void 0})});vF.displayName="Form";function yF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y9(t){let e=Q.useContext(Ja);return It(e,yF(t)),e}function bF(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let f=MB(),d=Fs(),m=Bc(t,{relative:o});return Q.useCallback(w=>{if(KB(w,e)){w.preventDefault();let b=n!==void 0?n:pc(d)===pc(m);f(t,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[d,f,m,n,r,e,t,a,o,l])}var wF=0,_F=()=>`__${String(++wF)}__`;function xF(){let{router:t}=Y9("useSubmit"),{basename:e}=Q.useContext(Kr),n=$B();return Q.useCallback(async(r,a={})=>{let{action:o,method:l,encType:f,formData:d,body:m}=JB(r,e);if(a.navigate===!1){let w=a.fetcherKey||_F();await t.fetch(w,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||l,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||l,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function SF(t,{relative:e}={}){let{basename:n}=Q.useContext(Kr),r=Q.useContext(bi);It(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Bc(t||".",{relative:e})},l=Fs();if(t==null){o.search=l.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(w=>w==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let w=f.toString();o.search=w?`?${w}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:hi([n,o.pathname])),pc(o)}function CF(t,e={}){let n=Q.useContext(z9);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y9("useViewTransitionState"),a=Bc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=es(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=es(n.nextLocation.pathname,r)||n.nextLocation.pathname;return K0(a.pathname,l)!=null||K0(a.pathname,o)!=null}new TextEncoder;var Xh,Ub;function kF(){if(Ub)return Xh;Ub=1;var t="6.4.4";return Xh=t,Xh}var Kh,Gb;function Ug(){if(Gb)return Kh;Gb=1;var t=function(n,r){var a=this;if(r||(r={}),a.qpm=r.qpm?parseInt(r.qpm,10):null,!a.qpm){var o=n.metaText?n.metaText.tempo:null;a.qpm=n.getBpm(o)}a.extraMeasuresAtBeginning=r.extraMeasuresAtBeginning?parseInt(r.extraMeasuresAtBeginning,10):0,a.beatCallback=r.beatCallback,a.eventCallback=r.eventCallback,a.lineEndCallback=r.lineEndCallback,a.lineEndAnticipation=r.lineEndAnticipation?parseInt(r.lineEndAnticipation,10):0,a.beatSubdivisions=r.beatSubdivisions?parseInt(r.beatSubdivisions,10):1,a.joggerTimer=null,a.replaceTarget=function(f){a.noteTimings=f.setTiming(a.qpm,a.extraMeasuresAtBeginning),f.noteTimings.length===0&&(a.noteTimings=f.setTiming(0,0)),a.lineEndCallback&&(a.lineEndTimings=e(f.noteTimings,a.lineEndAnticipation)),a.startTime=null,a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.currentTime=0,a.isPaused=!1,a.isRunning=!1,a.pausedPercent=null,a.justUnpaused=!1,a.newSeekPercent=0,a.lastTimestamp=0,a.noteTimings.length!==0&&(a.millisecondsPerBeat=1e3/(a.qpm/60)/a.beatSubdivisions,a.lastMoment=a.noteTimings[a.noteTimings.length-1].milliseconds,a.totalBeats=Math.round(a.lastMoment/a.millisecondsPerBeat))},a.replaceTarget(n),a.doTiming=function(f){if(a.lastTimestamp!==f&&(a.lastTimestamp=f,a.startTime||(a.startTime=f),!a.isPaused&&a.isRunning)){for(a.currentTime=f-a.startTime,a.currentTime+=16;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;){if(a.eventCallback&&a.noteTimings[a.currentEvent].type==="event"){var d=a.startTime;a.eventCallback(a.noteTimings[a.currentEvent]),d!==a.startTime&&(a.currentTime=f-a.startTime)}a.currentEvent++}if(a.lineEndCallback&&a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds<a.currentTime&&a.currentEvent<a.noteTimings.length){var m=a.noteTimings[a.currentEvent].milliseconds===a.currentTime?a.noteTimings[a.currentEvent]:a.noteTimings[a.currentEvent-1];a.lineEndCallback(a.lineEndTimings[a.currentLine],m,{line:a.currentLine,endTimings:a.lineEndTimings,currentTime:a.currentTime}),a.currentLine++}if(a.currentTime<a.lastMoment){if(requestAnimationFrame(a.doTiming),a.currentBeat*a.millisecondsPerBeat<a.currentTime){var w=a.doBeatCallback(f);w!==null&&(a.currentTime=w)}}else if(a.currentBeat<=a.totalBeats&&a.beatCallback){var b=a.doBeatCallback(f);b!==null&&(a.currentTime=b),requestAnimationFrame(a.doTiming)}if(a.currentTime>=a.lastMoment)if(a.eventCallback){var g=a.eventCallback(null);a.shouldStop(g).then(function(p){p&&a.stop()})}else a.stop()}},a.shouldStop=function(f){return new Promise(function(d){if(!f)return d(!0);if(f==="continue")return d(!1);f.then&&f.then(function(m){d(m!=="continue")})})},a.doBeatCallback=function(f){if(a.beatCallback){for(var d=a.currentEvent;d<a.noteTimings.length&&a.noteTimings[d].left===null;)d++;var m,w;if(d<a.noteTimings.length){for(m=a.noteTimings[d].milliseconds,d=Math.max(0,a.currentEvent-1);d>=0&&a.noteTimings[d].left===null;)d--;w=a.noteTimings[d]}var b={},g={};if(w){b.top=w.top,b.height=w.height;var p=Math.max(0,f-a.startTime-w.milliseconds),y=m-w.milliseconds,h=w.endX-w.left,x=y?p*h/y:0;b.left=w.left+x,a.currentEvent===0&&w.milliseconds>f-a.startTime&&(b.left=void 0),g={timestamp:f,startTime:a.startTime,ev:w,endMs:m,offMs:p,offPx:x,gapMs:y,gapPx:h}}else g={timestamp:f,startTime:a.startTime};var S=a.startTime;if(a.beatCallback(a.currentBeat/a.beatSubdivisions,a.totalBeats/a.beatSubdivisions,a.lastMoment,b,g),S!==a.startTime)return f-a.startTime;a.currentBeat++}return null};var l=60;a.animationJogger=function(){a.isRunning&&(a.doTiming(performance.now()),a.joggerTimer=setTimeout(a.animationJogger,l))},a.start=function(f,d){if(a.isRunning=!0,a.isPaused&&(a.isPaused=!1,f===void 0&&(a.justUnpaused=!0)),f)a.setProgress(f,d);else if(f===0)a.reset();else if(a.pausedPercent!==null){var m=performance.now();a.currentTime=a.lastMoment*a.pausedPercent,a.startTime=m-a.currentTime,a.pausedPercent=null,a.reportNext=!0}requestAnimationFrame(a.doTiming),a.joggerTimer=setTimeout(a.animationJogger,l)},a.pause=function(){a.isPaused=!0;var f=performance.now();a.pausedPercent=(f-a.startTime)/a.lastMoment,a.isRunning=!1,a.joggerTimer&&(clearTimeout(a.joggerTimer),a.joggerTimer=null)},a.currentMillisecond=function(){return a.currentTime},a.reset=function(){a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.startTime=null,a.pausedPercent=null},a.stop=function(){a.pause(),a.reset()},a.setProgress=function(f,d){var m;switch(d){case"seconds":a.currentTime=f*1e3,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),m=a.currentTime/a.lastMoment;break;case"beats":a.currentTime=f*a.millisecondsPerBeat*a.beatSubdivisions,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),m=a.currentTime/a.lastMoment;break;default:m=f,m<0&&(m=0),m>1&&(m=1),a.currentTime=a.lastMoment*m;break}a.isRunning||(a.pausedPercent=m);var w=performance.now();for(a.startTime=w-a.currentTime,a.currentEvent,a.currentEvent=0;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;)a.currentEvent++;if(a.lineEndCallback)for(a.currentLine=0;a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds+a.lineEndAnticipation<a.currentTime;)a.currentLine++;var b=a.currentBeat;a.currentBeat=Math.floor(a.currentTime/a.millisecondsPerBeat),a.beatCallback&&b!==a.currentBeat&&a.doBeatCallback(a.startTime+a.currentTime),a.eventCallback&&a.currentEvent>=0&&a.noteTimings[a.currentEvent].type==="event"&&a.eventCallback(a.noteTimings[a.currentEvent]),a.lineEndCallback&&a.lineEndCallback(a.lineEndTimings[a.currentLine],a.noteTimings[a.currentEvent],{line:a.currentLine,endTimings:a.lineEndTimings}),a.joggerTimer=setTimeout(a.animationJogger,l)}};function e(n,r){for(var a=[],o=null,l=0;l<n.length;l++){var f=n[l];f.type!=="end"&&f.top!==o&&(a.push({measureNumber:f.measureNumber,milliseconds:f.milliseconds-r,top:f.top,bottom:f.top+f.height}),o=f.top)}return a}return Kh=t,Kh}var Qh,Yb;function TF(){if(Yb)return Qh;Yb=1;var t=Ug(),e={};return function(){var n,r;e.startAnimation=function(a,o,l){n&&(n.stop(),n=void 0),l.showCursor&&(r=a.querySelector(".abcjs-cursor"),r||(r=document.createElement("DIV"),r.className="abcjs-cursor cursor",r.style.position="absolute",a.appendChild(r),a.style.position="relative"));function f(y){for(var h=0;h<y.length;h++){var x=y[h];x.classList.contains("abcjs-bar")||(x.style.display="none")}}var d;function m(y){if(d){var h=a.querySelectorAll(d);f(h)}d=y}function w(y){var h=a.querySelectorAll(y);f(h)}function b(y){l.hideCurrentMeasure?w(y):l.hideFinishedMeasures&&m(y)}function g(y){return".abcjs-l"+y.line+".abcjs-m"+y.measureNumber}function p(y){if(y){if(y.measureStart){var h=g(y);h&&b(h)}r&&(r.style.left=y.left+"px",r.style.top=y.top+"px",r.style.width=y.width+"px",r.style.height=y.height+"px")}else n.stop(),n=void 0}n=new t(o,{qpm:l.bpm,eventCallback:p}),n.start()},e.pauseAnimation=function(a){n&&(a?n.pause():n.start())},e.stopAnimation=function(){n&&(n.stop(),n=void 0)}}(),Qh=e,Qh}var Zh,Xb;function wi(){if(Xb)return Zh;Xb=1;var t={};return t.cloneArray=function(e){for(var n=[],r=0;r<e.length;r++)n.push(Object.assign({},e[r]));return n},t.cloneHashOfHash=function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=Object.assign({},e[r]));return n},t.cloneHashOfArrayOfHash=function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.cloneArray(e[r]));return n},t.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.startsWith=function(e,n){return e.indexOf(n)===0},t.endsWith=function(e,n){var r=e.length-n.length;return r>=0&&e.lastIndexOf(n)===r},t.last=function(e){return e.length===0?null:e[e.length-1]},Zh=t,Zh}var Jh,Kb;function Gg(){if(Kb)return Jh;Kb=1;var t=wi(),e={};return function(){var n,r,a,o,l;e.initialize=function(R,I,N,H,X){n=R,r=I,a=N,o=H,l=X,f()};function f(){a.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},a.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},a.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},a.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},a.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},a.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},a.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},a.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},a.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},o.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},o.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},o.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},o.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},o.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},o.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},o.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},o.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},o.formatting.annotationfont=a.annotationfont,o.formatting.gchordfont=a.gchordfont,o.formatting.historyfont=a.historyfont,o.formatting.infofont=a.infofont,o.formatting.measurefont=a.measurefont,o.formatting.partsfont=a.partsfont,o.formatting.repeatfont=a.repeatfont,o.formatting.textfont=a.textfont,o.formatting.tripletfont=a.tripletfont,o.formatting.vocalfont=a.vocalfont,o.formatting.wordsfont=a.wordsfont}var d={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},m=function(R){switch(R){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},w=function(R,I,N,H,X){function Z(){var Ae=parseInt(R[0].token);return R.shift(),I?R.length===0?{face:I.face,weight:I.weight,style:I.style,decoration:I.decoration,size:Ae}:R.length===1&&R[0].token==="box"&&d[X]?{face:I.face,weight:I.weight,style:I.style,decoration:I.decoration,size:Ae,box:!0}:(r("Extra parameters in font definition.",N,H),{face:I.face,weight:I.weight,style:I.style,decoration:I.decoration,size:Ae}):(r("Can't set just the size of the font since there is no default value.",N,H),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:Ae})}if(R[0].token==="*"){if(R.shift(),R[0].type==="number")return Z();r("Expected font size number after *.",N,H)}if(R[0].type==="number")return Z();for(var K=[],ae,he="normal",ee="normal",ge="none",Se=!1,de="face",ke=!1;R.length;){var Te=R.shift(),me=Te.token.toLowerCase();switch(de){case"face":ke||me!=="utf"&&Te.type!=="number"&&me!=="bold"&&me!=="italic"&&me!=="underline"&&me!=="box"?K.length>0&&Te.token==="-"?(ke=!0,K[K.length-1]=K[K.length-1]+Te.token):ke?(ke=!1,K[K.length-1]=K[K.length-1]+Te.token):K.push(Te.token):Te.type==="number"?(ae?r("Font size specified twice in font definition.",N,H):ae=Te.token,de="modifier"):me==="bold"?he="bold":me==="italic"?ee="italic":me==="underline"?ge="underline":me==="box"?(d[X]?Se=!0:r(`This font style doesn't support "box"`,N,H),de="finished"):me==="utf"?(Te=R.shift(),de="size"):r("Unknown parameter "+Te.token+" in font definition.",N,H);break;case"size":Te.type==="number"?ae?r("Font size specified twice in font definition.",N,H):ae=Te.token:r("Expected font size in font definition.",N,H),de="modifier";break;case"modifier":me==="bold"?he="bold":me==="italic"?ee="italic":me==="underline"?ge="underline":me==="box"?(d[X]?Se=!0:r(`This font style doesn't support "box"`,N,H),de="finished"):r("Unknown parameter "+Te.token+" in font definition.",N,H);break;case"finished":r('Extra characters found after "box" in font definition.',N,H);break}}ae===void 0?I?ae=I.size:(r("Must specify the size of the font since there is no default value.",N,H),ae=12):ae=parseFloat(ae),K=K.join(" "),K===""&&(I?K=I.face:(r("Must specify the name of the font since there is no default value.",N,H),K="sans-serif"));var ve=m(K),_e={};return ve?(_e.face=ve.face,_e.weight=ve.weight,_e.style=ve.style,_e.decoration=ve.decoration,_e.size=ae,Se&&(_e.box=!0),_e):(_e.face=K,_e.weight=he,_e.style=ee,_e.decoration=ge,_e.size=ae,Se&&(_e.box=!0),_e)},b=function(R,I,N){return I.length===0?'Directive "'+R+'" requires a font as a parameter.':(a[R]=w(I,a[R],N,0,R),a.is_in_header&&(o.formatting[R]=a[R]),null)},g=function(R,I,N){return I.length===0?'Directive "'+R+'" requires a font as a parameter.':(o.formatting[R]=w(I,o.formatting[R],N,0,R),null)},p=function(R,I){var N="";I.forEach(function(X){N+=X.token});var H=parseFloat(N);if(isNaN(H)||H===0)return'Directive "'+R+'" requires a number as a parameter.';o.formatting.scale=H},y=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],h=function(R){var I=R.split(/\s+/);if(I.length!==2&&I.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var N=I[0],H=parseInt(I[1],10);if((isNaN(H)||H<35||H>81)&&I[1]&&(H=y.indexOf(I[1].toLowerCase())+35),isNaN(H)||H<35||H>81)return{error:'Expected drum name, received "'+I[1]+'"'};var X={sound:H};return I.length===3&&(X.noteHead=I[2]),{key:N,value:X}},x=function(R,I){var N=n.getMeasurement(I);return N.used===0||I.length!==0?{error:'Directive "'+R+'" requires a measurement as a parameter.'}:N.value},S=function(R,I){var N=n.getMeasurement(I);return N.used===0||I.length!==0?'Directive "'+R+'" requires a measurement as a parameter.':(o.formatting[R]=N.value,null)},C=function(R,I,N,H,X){if(N.length!==1||N[0].type!=="number")return'Directive "'+I+'" requires a number as a parameter.';var Z=N[0].intt;return H!==void 0&&Z<H?'Directive "'+I+'" requires a number greater than or equal to '+H+" as a parameter.":X!==void 0&&Z>X?'Directive "'+I+'" requires a number less than or equal to '+X+" as a parameter.":(a[R]=Z,null)},T=function(R,I,N){if(N.length===1&&(N[0].token==="true"||N[0].token==="false"))return a[R]=N[0].token==="true",null;var H=C(R,I,N,0,1);return H!==null?H:(a[R]=a[R]===1,null)},M=function(R,I,N,H){if(N.length!==1)return'Directive "'+I+'" requires one of [ '+H.join(", ")+" ] as a parameter.";for(var X=N[0].token,Z=!1,K=0;!Z&&K<H.length;K++)H[K]===X&&(Z=!0);return Z?(a[R]=X,null):'Directive "'+I+'" requires one of [ '+H.join(", ")+" ] as a parameter."},A=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],B=["gchord","ptstress","beatstring"],F=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],E=["program"],$=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],P=["beat"],z=["drone"],j=["portamento"],V=["expand","grace","trim"],L=["drum","chordname"],D=["bassprog","chordprog"],W=function(R,I,N){var H=R.shift().token,X=[];if(A.indexOf(H)>=0)R.length!==0&&r("Unexpected parameter in MIDI "+H,N,0);else if(B.indexOf(H)>=0)R.length!==1?r("Expected one parameter in MIDI "+H,N,0):X.push(R[0].token);else if(F.indexOf(H)>=0)R.length!==1?r("Expected one parameter in MIDI "+H,N,0):R[0].type!=="number"?r("Expected one integer parameter in MIDI "+H,N,0):X.push(R[0].intt);else if(E.indexOf(H)>=0)R.length!==1&&R.length!==2?r("Expected one or two parameters in MIDI "+H,N,0):R[0].type!=="number"||R.length===2&&R[1].type!=="number"?r("Expected integer parameter in MIDI "+H,N,0):(X.push(R[0].intt),R.length===2&&X.push(R[1].intt));else if($.indexOf(H)>=0)R.length!==2?r("Expected two parameters in MIDI "+H,N,0):R[0].type!=="number"||R[1].type!=="number"?r("Expected two integer parameters in MIDI "+H,N,0):(X.push(R[0].intt),X.push(R[1].intt));else if(j.indexOf(H)>=0)R.length!==2?r("Expected two parameters in MIDI "+H,N,0):R[0].type!=="alpha"||R[1].type!=="number"?r("Expected one string and one integer parameters in MIDI "+H,N,0):(X.push(R[0].token),X.push(R[1].intt));else if(H==="drummap")R.length===2&&R[0].type==="alpha"&&R[1].type==="number"?(I.formatting||(I.formatting={}),I.formatting.midi||(I.formatting.midi={}),I.formatting.midi.drummap||(I.formatting.midi.drummap={}),I.formatting.midi.drummap[R[0].token]=R[1].intt,X=I.formatting.midi.drummap):R.length===3&&R[0].type==="punct"&&R[1].type==="alpha"&&R[2].type==="number"?(I.formatting||(I.formatting={}),I.formatting.midi||(I.formatting.midi={}),I.formatting.midi.drummap||(I.formatting.midi.drummap={}),I.formatting.midi.drummap[R[0].token+R[1].token]=R[2].intt,X=I.formatting.midi.drummap):r("Expected one note name and one integer parameter in MIDI "+H,N,0);else if(V.indexOf(H)>=0)R.length!==3||R[0].type!=="number"||R[1].token!=="/"||R[2].type!=="number"?r("Expected fraction parameter in MIDI "+H,N,0):(X.push(R[0].intt),X.push(R[2].intt));else if(P.indexOf(H)>=0)R.length!==4?r("Expected four parameters in MIDI "+H,N,0):R[0].type!=="number"||R[1].type!=="number"||R[2].type!=="number"||R[3].type!=="number"?r("Expected four integer parameters in MIDI "+H,N,0):(X.push(R[0].intt),X.push(R[1].intt),X.push(R[2].intt),X.push(R[3].intt));else if(z.indexOf(H)>=0)R.length!==5?r("Expected five parameters in MIDI "+H,N,0):R[0].type!=="number"||R[1].type!=="number"||R[2].type!=="number"||R[3].type!=="number"||R[4].type!=="number"?r("Expected five integer parameters in MIDI "+H,N,0):(X.push(R[0].intt),X.push(R[1].intt),X.push(R[2].intt),X.push(R[3].intt),X.push(R[4].intt));else if(E.indexOf(H)>=0)R.length!==1||R.length!==4?r("Expected one or two parameters in MIDI "+H,N,0):R[0].type!=="number"?r("Expected integer parameter in MIDI "+H,N,0):R.length===4?(R[1].token!=="octave"&&r("Expected octave parameter in MIDI "+H,N,0),R[2].token!=="="&&r("Expected octave parameter in MIDI "+H,N,0),R[3].type!=="number"&&r("Expected integer parameter for octave in MIDI "+H,N,0)):(X.push(R[0].intt),R.length===4&&X.push(R[3].intt));else if(L.indexOf(H)>=0)if(R.length<2)r("Expected string parameter and at least one integer parameter in MIDI "+H,N,0);else if(R[0].type!=="alpha")r("Expected string parameter and at least one integer parameter in MIDI "+H,N,0);else{var Z=R.shift();for(X.push(Z.token);R.length>0;)Z=R.shift(),Z.type!=="number"&&r("Expected integer parameter in MIDI "+H,N,0),X.push(Z.intt)}else if(D.indexOf(H)>=0){if(R.length!==1&&R.length!==2)r("Expected one or two parameters in MIDI "+H,N,0);else if(R[0].type!=="number")r("Expected integer parameter in MIDI "+H,N,0);else if(R.length===2&&R[1].type!=="alpha")r("Expected alpha parameter in MIDI "+H,N,0);else if(X.push(R[0].intt),R.length===2){var K=R[1].token;K.indexOf("octave=")!=-1?(K=K.replace("octave=",""),K=parseInt(K),isNaN(K)?r("Expected octave value in MIDI"+H):(K<-1&&(r("Expected octave= in MIDI "+H+" to be >= -1 (recv:"+K+")"),K=-1),K>3&&(r("Expected octave= in MIDI "+H+" to be <= 3 (recv:"+K+")"),K=3),X.push(K))):r("Expected octave= in MIDI"+H)}}l.hasBeginMusic()?l.appendElement("midi",-1,-1,{cmd:H,params:X}):(I.formatting.midi===void 0&&(I.formatting.midi={}),I.formatting.midi[H]=X)};e.parseFontChangeLine=function(R){R=R.replace(/\$\$/g,"");var I=R.split("$");if(I.length>1&&a.setfont){var N=[];I[0]!==""&&N.push({text:I[0]});for(var H=1;H<I.length;H++)if(I[H][0]==="0")N.push({text:I[H].substring(1).replace(/\x03/g,"$$")});else{var X=parseInt(I[H][0],10);a.setfont[X]?N.push({font:a.setfont[X],text:I[H].substring(1).replace(/\x03/g,"$$")}):N[N.length-1].text+="$"+I[H].replace(/\x03/g,"$$")}return N}return R.replace(/\x03/g,"$$")};var G=["auto","above","below","hidden"];e.addDirective=function(R){var I=n.tokenize(R,0,R.length);if(I.length===0||I[0].type!=="alpha")return null;var N=R.substring(R.indexOf(I[0].token)+I[0].token.length);N=n.stripComment(N);var H=I.shift().token.toLowerCase(),X="",Z;switch(H){case"bagpipes":o.formatting.bagpipes=!0;break;case"flatbeams":o.formatting.flatbeams=!0;break;case"jazzchords":o.formatting.jazzchords=!0;break;case"accentAbove":o.formatting.accentAbove=!0;break;case"germanAlphabet":o.formatting.germanAlphabet=!0;break;case"landscape":a.landscape=!0;break;case"papersize":a.papersize=N;break;case"graceslurs":if(I.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(I[0].token==="0"||I[0].token==="false")o.formatting.graceSlurs=!1;else if(I[0].token==="1"||I[0].token==="true")o.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+I[0].token+")";break;case"lineThickness":var K=U(I);if(K.value!==void 0&&(o.formatting.lineThickness=K.value),K.error)return K.error;break;case"stretchlast":var ae=U(I);if(ae.value!==void 0&&(o.formatting.stretchlast=ae.value),ae.error)return ae.error;break;case"titlecaps":a.titlecaps=!0;break;case"titleleft":o.formatting.titleleft=!0;break;case"measurebox":o.formatting.measurebox=!0;break;case"vocal":return M("vocalPosition",H,I,G);case"dynamic":return M("dynamicPosition",H,I,G);case"gchord":return M("chordPosition",H,I,G);case"ornament":return M("ornamentPosition",H,I,G);case"volume":return M("volumePosition",H,I,G);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return S(H,I);case"voicescale":if(I.length!==1||I[0].type!=="number")return"voicescale requires one float as a parameter";var he=I.shift();return a.currentVoice&&(a.currentVoice.scale=he.floatt,l.changeVoiceScale(a.currentVoice.scale)),null;case"voicecolor":if(I.length!==1)return"voicecolor requires one string as a parameter";var ee=I.shift();return a.currentVoice&&(a.currentVoice.color=ee.token,l.changeVoiceColor(a.currentVoice.color)),null;case"vskip":var ge=Math.round(x(H,I));return ge.error?ge.error:(l.addSpacing(ge),null);case"scale":p(H,I);break;case"sep":if(I.length===0)l.addSeparator(14,14,85,{startChar:a.iChar,endChar:a.iChar+5});else{var Se=n.getMeasurement(I);if(Se.used===0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var de=Se.value;if(Se=n.getMeasurement(I),Se.used===0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var ke=Se.value;if(Se=n.getMeasurement(I),Se.used===0||I.length!==0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var Te=Se.value;l.addSeparator(de,ke,Te,{startChar:a.iChar,endChar:a.iChar+N.length})}break;case"barsperstaff":if(X=C("barsperstaff",H,I),X!==null)return X;break;case"staffnonote":if(I.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(I[0].token==="0")a.staffnonote=!0;else if(I[0].token==="1")a.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+I[0].token+")";break;case"printtempo":if(X=T("printTempo",H,I),X!==null)return X;break;case"partsbox":if(X=T("partsBox",H,I),X!==null)return X;a.partsfont.box=a.partsBox;break;case"freegchord":if(X=T("freegchord",H,I),X!==null)return X;break;case"measurenb":case"barnumbers":if(X=C("barNumbers",H,I),X!==null)return X;break;case"setbarnb":if(I.length!==1||I[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";a.currBarNumber=l.setBarNumberImmediate(I[0].intt);break;case"begintext":var me="";for(Z=n.nextLine();Z&&Z.indexOf("%%endtext")!==0;)t.startsWith(Z,"%%")?me+=Z.substring(2)+`
`:me+=Z+`
`,Z=n.nextLine();l.addText(me,{startChar:a.iChar,endChar:a.iChar+me.length+7});break;case"continueall":a.continueall=!0;break;case"beginps":for(Z=n.nextLine();Z&&Z.indexOf("%%endps")!==0;)n.nextLine();r("Postscript ignored",R,0);break;case"deco":N.length>0&&a.ignoredDecorations.push(N.substring(0,N.indexOf(" "))),r("Decoration redefinition ignored",R,0);break;case"text":var ve=n.translateString(N);l.addText(e.parseFontChangeLine(ve),{startChar:a.iChar,endChar:a.iChar+N.length+7});break;case"center":var _e=n.translateString(N);l.addCentered(e.parseFontChangeLine(_e));break;case"font":break;case"setfont":var Ae=n.tokenize(N,0,N.length);if(Ae.length>=4&&Ae[0].token==="-"&&Ae[1].type==="number"){var Pe=parseInt(Ae[1].token);Pe>=1&&Pe<=9&&(a.setfont||(a.setfont=[]),Ae.shift(),Ae.shift(),a.setfont[Pe]=w(Ae,a.setfont[Pe],R,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return b(H,I,R);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return g(H,I,R);case"barlabelfont":case"barnumberfont":case"barnumfont":return b("measurefont",I,R);case"staves":case"score":a.score_is_present=!0;for(var Re=function(_t,_i,xi,Si,Ci){(_i||a.staves.length===0)&&a.staves.push({index:a.staves.length,numVoices:0});var Pn=t.last(a.staves);xi!==void 0&&Pn.bracket===void 0&&(Pn.bracket=xi),Si!==void 0&&Pn.brace===void 0&&(Pn.brace=Si),Ci&&(Pn.connectBarLines="end"),a.voices[_t]===void 0&&(a.voices[_t]={staffNum:Pn.index,index:Pn.numVoices},Pn.numVoices++)},ze=!1,re=!1,ie=!1,ce=!1,se=!1,ye=!1,Me=!1,Oe,$e=function(){if(Me=!0,Oe){var _t="start";Oe.staffNum>0&&(a.staves[Oe.staffNum-1].connectBarLines==="start"||a.staves[Oe.staffNum-1].connectBarLines==="continue")&&(_t="continue"),a.staves[Oe.staffNum].connectBarLines=_t}};I.length;){var Ee=I.shift();switch(Ee.token){case"(":ze?r("Can't nest parenthesis in %%score",R,Ee.start):(ze=!0,ce=!0);break;case")":!ze||ce?r("Unexpected close parenthesis in %%score",R,Ee.start):ze=!1;break;case"[":re?r("Can't nest brackets in %%score",R,Ee.start):(re=!0,se=!0);break;case"]":!re||se?r("Unexpected close bracket in %%score",R,Ee.start):(re=!1,a.staves[Oe.staffNum].bracket="end");break;case"{":ie?r("Can't nest braces in %%score",R,Ee.start):(ie=!0,ye=!0);break;case"}":!ie||ye?r("Unexpected close brace in %%score",R,Ee.start):(ie=!1,a.staves[Oe.staffNum].brace="end");break;case"|":$e();break;default:for(var Be="";(Ee.type==="alpha"||Ee.type==="number")&&(Be+=Ee.token,Ee.continueId);)Ee=I.shift();var Ye=!ze||ce,Ze=se?"start":re?"continue":void 0,Ve=ye?"start":ie?"continue":void 0;Re(Be,Ye,Ze,Ve,Me),ce=!1,se=!1,ye=!1,Me=!1,Oe=a.voices[Be],H==="staves"&&$e();break}}break;case"newpage":var mt=n.getInt(N);l.addNewPage(mt.digits===0?-1:mt.value);break;case"abc":var Cn=N.split(" ");switch(Cn[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Je=Cn.shift();l.addMetaText(H+Je,Cn.join(" "),{startChar:a.iChar,endChar:a.iChar+N.length+5});break;default:return"Unknown directive: "+H+Cn[0]}break;case"header":case"footer":var ut=n.getMeat(N,0,N.length);ut=N.substring(ut.start,ut.end),ut[0]==='"'&&ut[ut.length-1]==='"'&&(ut=ut.substring(1,ut.length-1));var cn=ut.split("	"),er={};cn.length===1?er={left:"",center:cn[0],right:""}:cn.length===2?er={left:cn[0],center:cn[1],right:""}:er={left:cn[0],center:cn[1],right:cn[2]},cn.length>3&&r("Too many tabs in "+H+": "+cn.length+" found.",N,0),l.addMetaTextObj(H,er,{startChar:a.iChar,endChar:a.iChar+R.length});break;case"midi":var wt=n.tokenize(N,0,N.length,!0);wt.length>0&&wt[0].token==="="&&wt.shift(),wt.length===0?r("Expected midi command",N,0):W(wt,o,N);break;case"percmap":var ln=h(N);ln.error?r(ln.error,R,8):(o.formatting.percmap||(o.formatting.percmap={}),o.formatting.percmap[ln.key]=ln.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":o.formatting[H]=N;break;default:return"Unknown directive: "+H}return null},e.globalFormatting=function(R){for(var I in R)if(R.hasOwnProperty(I)){var N=""+R[I],H=n.tokenize(N,0,N.length),X;switch(I){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":b(I,H,N);break;case"scale":p(I,H);break;case"partsbox":X=T("partsBox",I,H),X!==null&&r(X),a.partsfont.box=a.partsBox;break;case"freegchord":X=T("freegchord",I,H),X!==null&&r(X);break;case"fontboxpadding":(H.length!==1||H[0].type!=="number")&&r('Directive "'+I+'" requires a number as a parameter.'),o.formatting.fontboxpadding=H[0].floatt;break;case"stafftopmargin":(H.length!==1||H[0].type!=="number")&&r('Directive "'+I+'" requires a number as a parameter.'),o.formatting.stafftopmargin=H[0].floatt;break;case"stretchlast":var Z=U(H);if(Z.value!==void 0&&(o.formatting.stretchlast=Z.value),Z.error)return Z.error;break;default:r("Formatting directive unrecognized: ",I,0)}}};function U(R){if(R.length===0)return{value:1};if(R.length===1)if(R[0].type==="number"){if(R[0].floatt>=0||R[0].floatt<=1)return{value:R[0].floatt}}else{if(R[0].token==="false")return{value:0};if(R[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+R[0].token+")"}}}(),Jh=e,Jh}var ed,Qb;function EF(){if(Qb)return ed;Qb=1;var t={};const e=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];return t.pitchIndex=function(n){return e.indexOf(n)},t.noteName=function(n){return e[n]},ed=t,ed}var td,Zb;function X9(){if(Zb)return td;Zb=1;var t=["C","C","D","D","E","F","F","G","G","A","A","B"],e=["C","D","D","E","E","F","G","G","A","A","B","B"],n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function a(o,l,f,d){if(!l||l%12===0)return o;for(;l<0;)l+=12;l>11&&(l=l%12);var m=o.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!m)return o;var w=m[1],b=m[2],g=m[3],p=m[4],y=t.indexOf(w);if(y<0&&(y=e.indexOf(w)),y<0&&(y=n.indexOf(w)),y<0&&(y=r.indexOf(w)),y<0)return o;if(y+=l,y=y%12,f?d?o=r[y]:o=e[y]:d?o=n[y]:o=t[y],b&&(o+=b),g){var y=t.indexOf(g);y<0&&(y=e.indexOf(g)),y<0&&(y=n.indexOf(g)),y<0&&(y=r.indexOf(g)),o+="/",y>=0?(y+=l,y=y%12,f?d?o+=r[y]:o+=e[y]:d?o+=n[y]:o+=t[y]):o+=g}return p&&(o+=p),o}return td=a,td}var nd,Jb;function K9(){if(Jb)return nd;Jb=1;var t={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},e=null;function n(){e={};for(var l=Object.keys(t),f=0;f<l.length;f++){var d=t[l[f]];e[l[f].toLowerCase()]=l[f];for(var m=0;m<d.modes.length;m++){var w=d.modes[m].toLowerCase();e[w]=l[f]}}}function r(l){e||n();var f=l.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!f||!f[2])return l;f=f[1]+f[2];var d=e[f];return d||l}function a(l,f){var d=t[l];if(!d||f==="")return l;var m=f.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!m)return l;for(var w=m[1],b=0;b<d.modes.length;b++){var g=d.modes[b],p=g.toLowerCase().indexOf(w);if(p!==-1&&p===g.length-w.length)return g.substring(0,g.length-w.length)}return l}function o(l,f){var d=t[l];if(!d)return l;for(;f<0;)f+=12;for(var m=(d.stepsFromC+f)%12,w=0;w<Object.keys(t).length;w++){var b=Object.keys(t)[w];if(t[b].stepsFromC===m)return b}return l}return nd={relativeMajor:r,relativeMode:a,transposeKey:o},nd}var rd,e5;function Q9(){if(e5)return rd;e5=1;var{relativeMajor:t}=K9(),e={acc:"sharp",note:"f"},n={acc:"sharp",note:"c"},r={acc:"sharp",note:"g"},a={acc:"sharp",note:"d"},o={acc:"sharp",note:"A"},l={acc:"sharp",note:"e"},f={acc:"sharp",note:"B"},d={acc:"flat",note:"B"},m={acc:"flat",note:"e"},w={acc:"flat",note:"A"},b={acc:"flat",note:"d"},g={acc:"flat",note:"G"},p={acc:"flat",note:"c"},y={acc:"flat",note:"F"},h={"C#":[e,n,r,a,o,l,f],"F#":[e,n,r,a,o,l],B:[e,n,r,a,o],E:[e,n,r,a],A:[e,n,r],D:[e,n],G:[e],C:[],F:[d],Bb:[d,m],Eb:[d,m,w],Cm:[d,m,w],Ab:[d,m,w,b],Db:[d,m,w,b,g],Gb:[d,m,w,b,g,p],Cb:[d,m,w,b,g,p,y],"A#":[d,m],"B#":[],"D#":[d,m,w],"E#":[d],"G#":[d,m,w,b],none:[]};function x(S){var C=h[t(S)];return C?JSON.parse(JSON.stringify(C)):null}return rd=x,rd}var id,t5;function Z9(){if(t5)return id;t5=1;var t=EF(),e=X9(),n=Q9(),r={},a={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},o=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],l=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];r.keySignature=function(g,p,y,h,x){if(g.clef.type==="perc"||g.clef.type==="none")return{accidentals:n(p),root:y,acc:h};x||(x=0),g.localTransposeVerticalMovement=0,g.localTransposePreferFlats=!1;var S=n(p);if(!S)return g.key;if(g.localTranspose=(g.globalTranspose?g.globalTranspose:0)+x,!g.localTranspose)return{accidentals:S,root:y,acc:h};if(g.globalTransposeOrigKeySig=S,g.localTranspose%12===0)return g.localTransposeVerticalMovement=g.localTranspose/12*7,{accidentals:S,root:y,acc:h};var C=p[0];p[1]==="b"||p[1]==="#"?(C+=p[1],p=p.substr(2)):p=p.substr(1);var T=a[C],M=T!==void 0;M||(T=0,C="C",p="");for(var A=T+g.localTranspose;A<0;)A+=12;A>11&&(A=A%12);var B=p[0]==="m"?l[A]:o[A],F=B+p,E=n(F);E.length>0&&E[0].acc==="flat"&&(g.localTransposePreferFlats=!0);var $=F.charCodeAt(0)-C.charCodeAt(0);return g.localTranspose>0?($<0||$===0&&(C[1]==="#"||F[1]==="b"))&&($+=7):g.localTranspose<0&&($>0||$===0&&(C[1]==="b"||F[1]==="#"))&&($-=7),g.localTranspose>0?g.localTransposeVerticalMovement=$+Math.floor(g.localTranspose/12)*7:g.localTransposeVerticalMovement=$+Math.ceil(g.localTranspose/12)*7,M?{accidentals:E,root:B[0],acc:B.length>1?B[1]:""}:{accidentals:[],root:y,acc:h}},r.chordName=function(g,p){return e(p,g.localTranspose,g.localTransposePreferFlats,g.freegchord)};var f=["c","d","e","f","g","a","b"];function d(g,p,y,h,x){for(var S=f[(g+49)%7],C=0,T=0;T<h.length;T++)h[T].note.toLowerCase()===S&&(C=m[h[T].acc]);for(var M=m[y],A=M-C,B=f[(p+49)%7],F=0,E=0;E<x.accidentals.length;E++)x.accidentals[E].note.toLowerCase()===B&&(F=m[x.accidentals[E].acc]);var $=A+F;return $<-2&&(p--,$+=B==="c"||B==="f"?1:2),$>2&&(p++,$-=B==="b"||B==="e"?1:2),[p,$]}var m={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},w={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},b={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};return r.note=function(g,p){if(!(!g.localTranspose||g.clef.type==="perc")){var y=p.pitch;if(g.localTransposeVerticalMovement&&(p.pitch=p.pitch+g.localTransposeVerticalMovement,p.name)){var h=p.accidental?p.name.substring(1):p.name,x=p.accidental?p.name[0]:"",S=t.pitchIndex(h);p.name=x+t.noteName(S+g.localTransposeVerticalMovement)}if(p.accidental){var C=d(y,p.pitch,p.accidental,g.globalTransposeOrigKeySig,g.targetKey);p.pitch=C[0],p.accidental=w[C[1]],p.name&&(p.name=b[C[1]]+p.name.replace(/[_^=]/g,""))}}},id=r,id}var sd,n5;function Yg(){if(n5)return sd;n5=1;var t=Gg(),e=Z9(),n={};return function(){var r,a,o,l;n.initialize=function(p,y,h,x,S){r=p,a=y,o=h,l=S},n.standardKey=function(p,y,h,x){return e.keySignature(o,p,y,h,x)};var f={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},d=function(p,y){var h=f[p],x=h?h.mid:0;return x+y};n.fixClef=function(p){var y=f[p.type];y&&(p.clefPos=y.pitch,p.type=y.clef)},n.deepCopyKey=function(p){var y={accidentals:[],root:p.root,acc:p.acc,mode:p.mode};return p.accidentals.forEach(function(h){y.accidentals.push(Object.assign({},h))}),y};var m={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};n.addPosToKey=function(p,y){var h=p.verticalPos;y.accidentals.forEach(function(x){var S=m[x.note];S=S-h,x.verticalPos=S}),y.impliedNaturals&&y.impliedNaturals.forEach(function(x){var S=m[x.note];S=S-h,x.verticalPos=S}),h<-10?(y.accidentals.forEach(function(x){x.verticalPos-=7,(x.verticalPos>=11||x.verticalPos===10&&x.acc==="flat")&&(x.verticalPos-=7),x.note==="A"&&x.acc==="sharp"&&(x.verticalPos-=7),(x.note==="G"||x.note==="F")&&x.acc==="flat"&&(x.verticalPos-=7)}),y.impliedNaturals&&y.impliedNaturals.forEach(function(x){x.verticalPos-=7,(x.verticalPos>=11||x.verticalPos===10&&x.acc==="flat")&&(x.verticalPos-=7),x.note==="A"&&x.acc==="sharp"&&(x.verticalPos-=7),(x.note==="G"||x.note==="F")&&x.acc==="flat"&&(x.verticalPos-=7)})):h<-4?(y.accidentals.forEach(function(x){x.verticalPos-=7,h===-8&&(x.note==="f"||x.note==="g")&&x.acc==="sharp"&&(x.verticalPos-=7)}),y.impliedNaturals&&y.impliedNaturals.forEach(function(x){x.verticalPos-=7,h===-8&&(x.note==="f"||x.note==="g")&&x.acc==="sharp"&&(x.verticalPos-=7)})):h>=7&&(y.accidentals.forEach(function(x){x.verticalPos+=7}),y.impliedNaturals&&y.impliedNaturals.forEach(function(x){x.verticalPos+=7}))},n.fixKey=function(p,y){var h=Object.assign({},y);return n.addPosToKey(p,h),h};var w=function(p){var y=0,h=p[y++];(h==="^"||h==="_")&&(h=p[y++]);var x=m[h];for(x===void 0&&(x=6);y<p.length;y++)if(p[y]===",")x-=7;else if(p[y]==="'")x+=7;else break;return{mid:x-6,str:p.substring(y)}},b=function(p){for(var y=0;y<p.length;y++)p[y].note==="b"?p[y].note="B":p[y].note==="a"?p[y].note="A":p[y].note==="F"?p[y].note="f":p[y].note==="E"?p[y].note="e":p[y].note==="D"?p[y].note="d":p[y].note==="C"?p[y].note="c":p[y].note==="G"&&p[y].acc==="sharp"?p[y].note="g":p[y].note==="g"&&p[y].acc==="flat"&&(p[y].note="G")};n.parseKey=function(p,y){p.length===0&&(p="none");var h=r.tokenize(p,0,p.length),x={};if(h.length===0)return a("Must pass in key signature.",p,0),x;switch(h[0].token){case"HP":t.addDirective("bagpipes"),o.key={root:"HP",accidentals:[],acc:"",mode:""},x.foundKey=!0,h.shift();break;case"Hp":t.addDirective("bagpipes"),o.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},x.foundKey=!0,h.shift();break;case"none":o.key={root:"none",accidentals:[],acc:"",mode:""},x.foundKey=!0,h.shift();break;default:var S=r.getKeyPitch(h[0].token);if(S.len>0){x.foundKey=!0;var C="",T="";h[0].token.length>1?h[0].token=h[0].token.substring(1):h.shift();var M=S.token;if(h.length>0){var A=r.getSharpFlat(h[0].token);if(A.len>0&&(h[0].token.length>1?h[0].token=h[0].token.substring(1):h.shift(),M+=A.token,C=A.token),h.length>0){var B=r.getMode(h[0].token);B.len>0&&(h.shift(),M+=B.token,T=B.token)}if(n.standardKey(M,S.token,C,0)===void 0)return a("Unsupported key signature: "+M,p,0),x}var F=n.deepCopyKey(o.key),E=!y&&o.globalTranspose?-o.globalTranspose:0,$;if(y&&($=o.globalTransposeOrigKeySig),o.key=n.deepCopyKey(n.standardKey(M,S.token,C,E)),y&&(o.globalTransposeOrigKeySig=$),o.key.mode=T,F){for(var P,z=0;z<o.key.accidentals.length;z++)for(P=0;P<F.accidentals.length;P++)F.accidentals[P].note&&o.key.accidentals[z].note.toLowerCase()===F.accidentals[P].note.toLowerCase()&&(F.accidentals[P].note=null);for(P=0;P<F.accidentals.length;P++)F.accidentals[P].note&&(o.key.impliedNaturals||(o.key.impliedNaturals=[]),o.key.impliedNaturals.push({acc:"natural",note:F.accidentals[P].note}))}}break}if(h.length===0||(h[0].token==="exp"&&h.shift(),h.length===0)||(h[0].token==="oct"&&h.shift(),h.length===0))return x;var j=r.getKeyAccidentals2(h);if(j.warn&&a(j.warn,p,0),j.accs){x.foundKey||(x.foundKey=!0,o.key={root:"none",acc:"",mode:"",accidentals:[]}),b(j.accs);for(var V=0;V<j.accs.length;V++){for(var L=!1,D=0;D<o.key.accidentals.length&&!L;D++)o.key.accidentals[D].note===j.accs[V].note&&(L=!0,o.key.accidentals[D].acc!==j.accs[V].acc&&(o.key.accidentals[D].acc=j.accs[V].acc,o.key.explicitAccidentals||(o.key.explicitAccidentals=[]),o.key.explicitAccidentals.push(j.accs[V])));if(!L&&(o.key.explicitAccidentals||(o.key.explicitAccidentals=[]),o.key.explicitAccidentals.push(j.accs[V]),o.key.accidentals.push(j.accs[V]),o.key.impliedNaturals))for(var W=0;W<o.key.impliedNaturals.length;W++)o.key.impliedNaturals[W].note===j.accs[V].note&&o.key.impliedNaturals.splice(W,1)}}for(var G;h.length>0;)switch(h[0].token){case"m":case"middle":if(h.shift(),h.length===0)return a("Expected = after middle",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after middle",p,G.start);break}if(h.length===0)return a("Expected parameter after middle=",p,0),x;var U=r.getPitchFromTokens(h);U.warn&&a(U.warn,p,0),U.position&&(o.clef.verticalPos=U.position-6);break;case"transpose":if(h.shift(),h.length===0)return a("Expected = after transpose",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after transpose",p,G.start);break}if(h.length===0)return a("Expected parameter after transpose=",p,0),x;if(h[0].type!=="number"){a("Expected number after transpose",p,h[0].start);break}o.clef.transpose=h[0].intt,h.shift();break;case"stafflines":if(h.shift(),h.length===0)return a("Expected = after stafflines",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after stafflines",p,G.start);break}if(h.length===0)return a("Expected parameter after stafflines=",p,0),x;if(h[0].type!=="number"){a("Expected number after stafflines",p,h[0].start);break}o.clef.stafflines=h[0].intt,h.shift();break;case"staffscale":if(h.shift(),h.length===0)return a("Expected = after staffscale",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after staffscale",p,G.start);break}if(h.length===0)return a("Expected parameter after staffscale=",p,0),x;if(h[0].type!=="number"){a("Expected number after staffscale",p,h[0].start);break}o.clef.staffscale=h[0].floatt,h.shift();break;case"octave":if(h.shift(),h.length===0)return a("Expected = after octave",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after octave",p,G.start);break}if(h.length===0)return a("Expected parameter after octave=",p,0),x;if(h[0].type!=="number"){a("Expected number after octave",p,h[0].start);break}o.octave=h[0].intt,h.shift();break;case"style":if(h.shift(),h.length===0)return a("Expected = after style",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after style",p,G.start);break}if(h.length===0)return a("Expected parameter after style=",p,0),x;switch(h[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":o.style=h[0].token,h.shift();break;default:a("error parsing style element: "+h[0].token,p,h[0].start);break}break;case"clef":if(h.shift(),h.length===0)return a("Expected = after clef",p,0),x;if(G=h.shift(),G.token!=="="){a("Expected = after clef",p,G.start);break}if(h.length===0)return a("Expected parameter after clef=",p,0),x;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var R=h.shift();switch(R.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":R.token="alto";break;case"F":R.token="bass";break;case"G":R.token="treble";break;case"c":R.token="alto";break;case"f":R.token="bass";break;case"g":R.token="treble";break;default:a("Expected clef name. Found "+R.token,p,R.start);break}h.length>0&&h[0].type==="number"&&(R.token+=h[0].token,h.shift()),h.length>1&&(h[0].token==="-"||h[0].token==="+"||h[0].token==="^"||h[0].token==="_")&&h[1].token==="8"&&(R.token+=h[0].token+h[1].token,h.shift(),h.shift()),o.clef={type:R.token,verticalPos:d(R.token,0)},o.currentVoice&&o.currentVoice.transpose!==void 0&&(o.clef.transpose=o.currentVoice.transpose),x.foundClef=!0;break;default:a("Unknown parameter: "+h[0].token,p,h[0].start),h.shift()}return x};var g=function(p){var y=o.voices[p];if(!(o.currentVoice&&o.currentVoice.index===y.index&&o.currentVoice.staffNum===y.staffNum))return o.currentVoice=y,l.setCurrentVoice(y.staffNum,y.index,p)};n.parseVoice=function(p,y,h){var x=r.getMeat(p,y,h),S=x.start,C=x.end,T=r.getToken(p,S,C);if(T.length===0){a("Expected a voice id",p,S);return}var M=!1;o.voices[T]===void 0&&(o.voices[T]={},M=!0,o.score_is_present&&a("Can't have an unknown V: id when the %score directive is present",p,S)),S+=T.length,S+=r.eatWhiteSpace(p,S);for(var A={startStaff:M},B=function(U){var R=r.getVoiceToken(p,S,C);R.warn!==void 0?a("Expected value for "+U+" in voice: "+R.warn,p,S):R.err!==void 0?a("Expected value for "+U+" in voice: "+R.err,p,S):R.token.length===0&&p[S]!=='"'?a("Expected value for "+U+" in voice",p,S):A[U]=R.token,S+=R.len},F=function(U,R,I){var N=r.getVoiceToken(p,S,C);N.warn!==void 0?a("Expected value for "+R+" in voice: "+N.warn,p,S):N.err!==void 0?a("Expected value for "+R+" in voice: "+N.err,p,S):N.token.length===0&&p[S]!=='"'?a("Expected value for "+R+" in voice",p,S):(N.token=parseFloat(N.token),o.voices[U][R]=N.token),S+=N.len},E=function(U,R){var I=r.getVoiceToken(p,S,C);if(I.warn!==void 0)a("Expected value for "+U+" in voice: "+I.warn,p,S);else if(I.err!==void 0)a("Expected value for "+U+" in voice: "+I.err,p,S);else if(I.token.length===0&&p[S]!=='"')a("Expected value for "+U+" in voice",p,S);else return I.token;S+=I.len},$=function(U,R){var I={_B:2,_E:9,_b:-10,_e:-3},N=r.getVoiceToken(p,S,C);if(N.warn!==void 0)a("Expected one of (_B, _E, _b, _e) for "+R+" in voice: "+N.warn,p,S);else if(N.token.length===0&&p[S]!=='"')a("Expected one of (_B, _E, _b, _e) for "+R+" in voice",p,S);else{var H=I[N.token];H?o.voices[U][R]=H:a("Expected one of (_B, _E, _b, _e) for "+R+" in voice",p,S)}S+=N.len};S<C;){var P=r.getVoiceToken(p,S,C);if(S+=P.len,P.warn)a("Error parsing voice: "+P.warn,p,S);else{var z=null;switch(P.token){case"clef":case"cl":B("clef");var j=0;A.clef!==void 0&&(A.clef=A.clef.replace(/[',]/g,""),A.clef.indexOf("+16")!==-1&&(j+=14,A.clef=A.clef.replace("+16","")),A.verticalPos=d(A.clef,j));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var V=0;A.clef=P.token.replace(/[',]/g,""),A.verticalPos=d(A.clef,V),o.voices[T].clef=P.token;break;case"staves":case"stave":case"stv":B("staves");break;case"brace":case"brc":B("brace");break;case"bracket":case"brk":B("bracket");break;case"name":case"nm":B("name");break;case"subname":case"sname":case"snm":B("subname");break;case"merge":A.startStaff=!1;break;case"stem":case"stems":z=r.getVoiceToken(p,S,C),z.warn!==void 0?a("Expected value for stems in voice: "+z.warn,p,S):z.err!==void 0?a("Expected value for stems in voice: "+z.err,p,S):z.token==="up"||z.token==="down"?o.voices[T].stem=z.token:a("Expected up or down for voice stem",p,S),S+=z.len;break;case"up":case"down":o.voices[T].stem=P.token;break;case"middle":case"m":B("verticalPos"),A.verticalPos=w(A.verticalPos).mid;break;case"gchords":case"gch":o.voices[T].suppressChords=!0,z=r.getVoiceToken(p,S,C),z.token==="0"&&(S=S+z.len);break;case"space":case"spc":B("spacing");break;case"scale":F(T,"scale");break;case"score":$(T,"scoreTranspose");break;case"transpose":F(T,"transpose");break;case"stafflines":F(T,"stafflines");break;case"staffscale":F(T,"staffscale");break;case"octave":F(T,"octave");break;case"volume":F(T,"volume");break;case"cue":var L=E("cue");L==="on"?o.voices[T].scale=.6:o.voices[T].scale=1;break;case"style":z=r.getVoiceToken(p,S,C),z.warn!==void 0?a("Expected value for style in voice: "+z.warn,p,S):z.err!==void 0?a("Expected value for style in voice: "+z.err,p,S):z.token==="normal"||z.token==="harmonic"||z.token==="rhythm"||z.token==="x"||z.token==="triangle"?o.voices[T].style=z.token:a("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",p,S),S+=z.len;break}}S+=r.eatWhiteSpace(p,S)}if((A.startStaff||o.staves.length===0)&&(o.staves.push({index:o.staves.length,meter:o.origMeter}),o.score_is_present||(o.staves[o.staves.length-1].numVoices=0)),o.voices[T].staffNum===void 0){o.voices[T].staffNum=o.staves.length-1;var D=0;for(var W in o.voices)o.voices.hasOwnProperty(W)&&o.voices[W].staffNum===o.voices[T].staffNum&&D++;o.voices[T].index=D-1}var G=o.staves[o.voices[T].staffNum];return o.score_is_present||G.numVoices++,A.clef&&(G.clef={type:A.clef,verticalPos:A.verticalPos}),A.spacing&&(G.spacing_below_offset=A.spacing),A.verticalPos&&(G.verticalPos=A.verticalPos),A.name&&(G.name?G.name.push(A.name):G.name=[A.name]),A.subname&&(G.subname?G.subname.push(A.subname):G.subname=[A.subname]),g(T)}}(),sd=n,sd}var ad,r5;function AF(){if(r5)return ad;r5=1;var t=wi(),e=Gg(),n=Yg(),r=function(a,o,l,f,d){this.reset=function(b,g,p,y){n.initialize(b,g,p,y,d),e.initialize(b,g,p,y,d)},this.reset(a,o,l,f),this.setTitle=function(b,g){l.hasMainTitle?d.addSubtitle(b,{startChar:l.iChar,endChar:l.iChar+g+2}):(d.addMetaText("title",b,{startChar:l.iChar,endChar:l.iChar+g+2}),l.hasMainTitle=!0)},this.setMeter=function(b){if(b=a.stripComment(b),b==="C")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"common_time"};if(b==="C|")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"cut_time"};if(b==="o")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"tempus_perfectum"};if(b==="c")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"tempus_imperfectum"};if(b==="o.")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(b==="c.")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(b.length===0||b.toLowerCase()==="none")return l.havent_set_length===!0&&(l.default_length=.125,l.havent_set_length=!1),null;var g=a.tokenize(b,0,b.length);try{var p=function(){var T={value:0,num:""},M=g.shift();for(M.token==="("&&(M=g.shift());;){if(M.type!=="number")throw"Expected top number of meter";if(T.value+=parseInt(M.token),T.num+=M.token,g.length===0||g[0].token==="/")return T;if(M=g.shift(),M.token===")"){if(g.length===0||g[0].token==="/")return T;throw"Unexpected paren in meter"}if(M.token!=="."&&M.token!=="+"||(T.num+=M.token,g.length===0))throw"Expected top number of meter";M=g.shift()}return T},y=function(){var T=p();if(g.length===0)return T;var M=g.shift();if(M.token!=="/")throw"Expected slash in meter";if(M=g.shift(),M.type!=="number")throw"Expected bottom number of meter";return T.den=M.token,T.value=T.value/parseInt(T.den),T};if(g.length===0)throw"Expected meter definition in M: line";for(var h={type:"specified",value:[]},x=0;;){var S=y();x+=S.value;var C={num:S.num};if(S.den!==void 0&&(C.den=S.den),h.value.push(C),g.length===0)break}return l.havent_set_length===!0&&(l.default_length=x<.75?.0625:.125,l.havent_set_length=!1),h}catch(T){o(T,b,0)}return null},this.calcTempo=function(b){var g=.25;l.meter&&l.meter.type==="specified"?g=1/parseInt(l.meter.value[0].den):l.origMeter&&l.origMeter.type==="specified"&&(g=1/parseInt(l.origMeter.value[0].den));for(var p=0;p<b.duration;p++)b.duration[p]=g*b.duration[p];return b},this.resolveTempo=function(){l.tempo&&(this.calcTempo(l.tempo),f.metaText.tempo=l.tempo,delete l.tempo)},this.addUserDefinition=function(b,g,p){var y=b.indexOf("=",g);if(y===-1){o("Need an = in a macro definition",b,g);return}var h=t.strip(b.substring(g,y)),x=t.strip(b.substring(y+1));if(h.length!==1){o("Macro definitions can only be one character",b,g);return}var S="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(S.indexOf(h)===-1){o("Macro definitions must be H-Y, h-w, or tilde",b,g);return}if(x.length===0){o("Missing macro definition",b,g);return}l.macros===void 0&&(l.macros={}),l.macros[h]=x},this.setDefaultLength=function(b,g,p){var y=b.substring(g,p).replace(/ /g,""),h=y.split("/");if(h.length===2){var x=parseInt(h[0]),S=parseInt(h[1]);S>0&&(l.default_length=x/S,l.havent_set_length=!1)}else h.length===1&&h[0]==="1"&&(l.default_length=1,l.havent_set_length=!1)};var m={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(b,g,p,y){try{var h=a.tokenize(b,g,p);if(h.length===0)throw"Missing parameter in Q: field";var x={startChar:y+g-2,endChar:y+p},S=!0,C=h.shift();if(C.type==="quote"&&(x.preString=C.token,C=h.shift(),h.length===0))return m[x.preString.toLowerCase()]&&(x.bpm=m[x.preString.toLowerCase()],x.suppressBpm=!0),{type:"immediate",tempo:x};if(C.type==="alpha"&&C.token==="C"){if(h.length===0)throw"Missing tempo after C in Q: field";if(C=h.shift(),C.type==="punct"&&C.token==="="){if(h.length===0)throw"Missing tempo after = in Q: field";if(C=h.shift(),C.type!=="number")throw"Expected number after = in Q: field";x.duration=[1],x.bpm=parseInt(C.token)}else if(C.type==="number"){if(x.duration=[parseInt(C.token)],h.length===0)throw"Missing = after duration in Q: field";if(C=h.shift(),C.type!=="punct"||C.token!=="=")throw"Expected = after duration in Q: field";if(h.length===0)throw"Missing tempo after = in Q: field";if(C=h.shift(),C.type!=="number")throw"Expected number after = in Q: field";x.bpm=parseInt(C.token)}else throw"Expected number or equal after C in Q: field"}else if(C.type==="number"){var T=parseInt(C.token);if(h.length===0||h[0].type==="quote")x.duration=[1],x.bpm=T;else{if(S=!1,C=h.shift(),C.type!=="punct"&&C.token!=="/"||(C=h.shift(),C.type!=="number"))throw"Expected fraction in Q: field";var M=parseInt(C.token);for(x.duration=[T/M];h.length>0&&h[0].token!=="="&&h[0].type!=="quote";){if(C=h.shift(),C.type!=="number"||(T=parseInt(C.token),C=h.shift(),C.type!=="punct"&&C.token!=="/")||(C=h.shift(),C.type!=="number"))throw"Expected fraction in Q: field";M=parseInt(C.token),x.duration.push(T/M)}if(C=h.shift(),C.type!=="punct"&&C.token!=="=")throw"Expected = in Q: field";if(C=h.shift(),C.type!=="number")throw"Expected tempo in Q: field";x.bpm=parseInt(C.token)}}else throw"Unknown value in Q: field";if(h.length!==0&&(C=h.shift(),C.type==="quote"&&(x.postString=C.token,C=h.shift()),h.length!==0))throw"Unexpected string at end of Q: field";return l.printTempo===!1&&(x.suppress=!0),{type:S?"delaySet":"immediate",tempo:x}}catch(A){return o(A,b,g),{type:"none"}}},this.letter_to_inline_header=function(b,g,p){var y=!1,h=a.eatWhiteSpace(b,g);if(g+=h,b.length>=g+5&&b[g]==="["&&b[g+2]===":"){var x=b.indexOf("]",g),S=l.iChar+g,C=l.iChar+x+1;switch(b.substring(g,g+3)){case"[I:":var T=e.addDirective(b.substring(g+3,x));return T&&o(T,b,g),[x-g+1+h];case"[M:":var M=this.setMeter(b.substring(g+3,x));return d.hasBeginMusic()&&M?d.appendStartingElement("meter",S,C,M):l.meter=M,[x-g+1+h];case"[K:":var A=n.parseKey(b.substring(g+3,x),!0);return A.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",S,C,l.clef),A.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",S,C,n.fixKey(l.clef,l.key)),[x-g+1+h];case"[P:":var B=e.parseFontChangeLine(b.substring(g+3,x));return p||f.lines.length<=f.lineNum?l.partForNextLine={title:B,startChar:S,endChar:C}:d.appendElement("part",S,C,{title:B}),[x-g+1+h];case"[L:":return this.setDefaultLength(b,g+3,x),[x-g+1+h];case"[Q:":if(x>0){var F=this.setTempo(b,g+3,x,l.iChar);return F.type==="delaySet"?d.hasBeginMusic()?d.appendElement("tempo",S,C,this.calcTempo(F.tempo)):l.tempoForNextLine=["tempo",S,C,this.calcTempo(F.tempo)]:F.type==="immediate"&&(!p&&d.hasBeginMusic()?d.appendElement("tempo",S,C,F.tempo):l.tempoForNextLine=["tempo",S,C,F.tempo]),[x-g+1+h,b[g+1],b.substring(g+3,x)]}break;case"[V:":if(x>0)return y=n.parseVoice(b,g+3,x),[x-g+1+h,b[g+1],b.substring(g+3,x),y];break;case"[r:":return[x-g+1+h]}}return[0]},this.letter_to_body_header=function(b,g){var p=!1;if(b.length>=g+3)switch(b.substring(g,g+2)){case"I:":var y=e.addDirective(b.substring(g+2));return y&&o(y,b,g),[b.length];case"M:":var h=this.setMeter(b.substring(g+2));return d.hasBeginMusic()&&h&&d.appendStartingElement("meter",l.iChar+g,l.iChar+b.length,h),[b.length];case"K:":var x=n.parseKey(b.substring(g+2),d.hasBeginMusic());return x.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",l.iChar+g,l.iChar+b.length,l.clef),x.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",l.iChar+g,l.iChar+b.length,n.fixKey(l.clef,l.key)),[b.length];case"P:":return d.hasBeginMusic()&&d.appendElement("part",l.iChar+g,l.iChar+b.length,{title:b.substring(g+2)}),[b.length];case"L:":return this.setDefaultLength(b,g+2,b.length),[b.length];case"Q:":var S=b.indexOf("",g+2);S===-1&&(S=b.length);var C=this.setTempo(b,g+2,S,l.iChar);return C.type==="delaySet"?d.appendElement("tempo",l.iChar+g,l.iChar+b.length,this.calcTempo(C.tempo)):C.type==="immediate"&&d.appendElement("tempo",l.iChar+g,l.iChar+b.length,C.tempo),[S,b[g],t.strip(b.substring(g+2))];case"V:":return p=n.parseVoice(b,g+2,b.length),[b.length,b[g],t.strip(b.substring(g+2)),p]}return[0]};var w={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(b){var g=w[b[0]],p=b.length-2,y=a.translateString(a.stripComment(b.substring(2)));if(g==="unalignedWords"||g==="notes")d.addMetaTextArray(g,e.parseFontChangeLine(y),{startChar:l.iChar,endChar:l.iChar+b.length});else if(g!==void 0)d.addMetaText(g,e.parseFontChangeLine(y),{startChar:l.iChar,endChar:l.iChar+b.length});else{var h=l.iChar,x=h+b.length;switch(b[0]){case"H":for(d.addMetaTextArray("history",e.parseFontChangeLine(y),{startChar:l.iChar,endChar:l.iChar+b.length}),b=a.peekLine();b&&b[1]!==":";)a.nextLine(),d.addMetaTextArray("history",e.parseFontChangeLine(a.translateString(a.stripComment(b))),{startChar:l.iChar,endChar:l.iChar+b.length}),b=a.peekLine();break;case"K":this.resolveTempo();var S=n.parseKey(b.substring(2),!1);!l.is_in_header&&d.hasBeginMusic()&&(S.foundClef&&d.appendStartingElement("clef",h,x,l.clef),S.foundKey&&d.appendStartingElement("key",h,x,n.fixKey(l.clef,l.key))),l.is_in_header=!1;break;case"L":this.setDefaultLength(b,2,b.length);break;case"M":l.origMeter=l.meter=this.setMeter(b.substring(2));break;case"P":l.is_in_header?d.addMetaText("partOrder",e.parseFontChangeLine(y),{startChar:l.iChar,endChar:l.iChar+b.length}):l.partForNextLine={title:y,startChar:h,endChar:x};break;case"Q":var C=this.setTempo(b,2,b.length,l.iChar);C.type==="delaySet"?l.tempo=C.tempo:C.type==="immediate"&&(f.metaText.tempo?l.tempoForNextLine=["tempo",h,x,C.tempo]:f.metaText.tempo=C.tempo);break;case"T":l.titlecaps&&(y=y.toUpperCase()),this.setTitle(e.parseFontChangeLine(a.theReverser(y)),p);break;case"U":this.addUserDefinition(b,2,b.length);break;case"V":if(n.parseVoice(b,2,b.length),!l.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":o("Ignored header",b,0);break;default:return{regular:!0}}}return{}}};return ad=r,ad}var Un={},i5;function MF(){return i5||(i5=1,Un.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],Un.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],Un.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],Un.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],Un.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],Un.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",Un.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],Un.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},Un.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},Un.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},Un.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}),Un}var od,s5;function PF(){if(s5)return od;s5=1;var t=Yg(),e=Z9(),n,r,a,o,l,f,{legalAccents:d,volumeDecorations:m,dynamicDecorations:w,accentPseudonyms:b,accentDynamicPseudonyms:g,nonDecorations:p,durations:y,pitches:h,rests:x,accMap:S,tripletQ:C}=MF(),T=function(R,I,N,H,X,Z){n=R,r=I,a=N,o=H,l=X,f=Z,this.lineContinuation=!1},M=function(R,I,N){if(R.inTie[I]===void 0)return!1;var H=R.currentVoice?R.currentVoice.staffNum*100+R.currentVoice.index:0;return!!(R.inTie[I][H]&&(N.pitches!==void 0||N.rest.type!=="spacer"))},A={};T.prototype.parseMusic=function(R){f.resolveTempo(),a.is_in_header=!1;for(var I=0,N=a.iChar;n.isWhiteSpace(R[I])&&I<R.length;)I++;if(!(I===R.length||R[I]==="%")){var H=a.start_new_line;a.continueall===void 0?a.start_new_line=!0:a.start_new_line=!1;var X=0,Z=f.letter_to_body_header(R,I);Z[0]>0&&(I+=Z[0],Z[1]==="V"&&this.startNewLine());for(var K=0;I<R.length;){var ae=I;if(R[I]==="%")break;var he=f.letter_to_inline_header(R,I,H);if(he[0]>0)I+=he[0],he[1]==="V"&&(H=!0);else{(!l.hasBeginMusic()||H&&!this.lineContinuation)&&(this.startNewLine(),H=!1);for(var ee;;)if(ee=n.eatWhiteSpace(R,I),ee>0&&(I+=ee),I>0&&R[I-1]===""&&(ee=f.letter_to_body_header(R,I),ee[0]>0&&(ee[1]==="V"&&this.startNewLine(),I=ee[0],a.start_new_line=!1)),ee=j(R,I),ee[0]>0&&(I+=ee[0]),ee=F(R,I),ee[0]>0){A.chord||(A.chord=[]);var ge=n.translateString(ee[1]);ge=ge.replace(/;/g,`
`);for(var Se=!1,de=0;de<A.chord.length;de++)A.chord[de].position===ee[2]&&(Se=!0,A.chord[de].name+=`
`+ge);Se===!1&&(ee[2]===null&&ee[3]?A.chord.push({name:ge,rel_position:ee[3]}):A.chord.push({name:ge,position:ee[2]})),I+=ee[0];var ke=n.skipWhiteSpace(R.substring(I));ke>0&&(A.force_end_beam_last=!0),I+=ke}else if(p.indexOf(R[I])===-1?ee=z(R,I):ee=[0],ee[0]>0)ee[1]===null?I+1<R.length&&this.startNewLine():ee[1].length>0&&(ee[1].indexOf("style=")===0?A.style=ee[1].substr(6):(A.decoration===void 0&&(A.decoration=[]),ee[1]==="beambr1"?A.beambr=1:ee[1]==="beambr2"?A.beambr=2:A.decoration.push(ee[1]))),I+=ee[0];else if(ee=E(R,I),ee[0]>0)A.gracenotes=ee[1],I+=ee[0];else break;if(ee=V(R,I),ee[0]>0){K=0,A.gracenotes!==void 0&&(A.rest={type:"spacer"},A.duration=.125,a.addFormattingOptions(A,o.formatting,"note"),l.appendElement("note",N+I,N+I+ee[0],A),a.measureNotEmpty=!0,A={});var Te={type:ee[1]};Te.type.length===0?r("Unknown bar type",R,I):(a.inEnding&&Te.type!=="bar_thin"&&(Te.endEnding=!0,a.inEnding=!1),ee[2]&&(Te.startEnding=ee[2],a.inEnding&&(Te.endEnding=!0),a.inEnding=!0,ee[1]==="bar_right_repeat"?a.restoreStartEndingHoldOvers():a.duplicateStartEndingHoldOvers()),A.decoration!==void 0&&(Te.decoration=A.decoration),A.chord!==void 0&&(Te.chord=A.chord),Te.startEnding&&a.barFirstEndingNum===void 0?a.barFirstEndingNum=a.currBarNumber:Te.startEnding&&Te.endEnding&&a.barFirstEndingNum?a.currBarNumber=a.barFirstEndingNum:Te.endEnding&&(a.barFirstEndingNum=void 0),Te.type!=="bar_invisible"&&a.measureNotEmpty&&U()&&(a.currBarNumber++,a.barNumbers&&a.currBarNumber%a.barNumbers===0&&(Te.barNumber=a.currBarNumber)),a.addFormattingOptions(A,o.formatting,"bar"),l.appendElement("bar",N+ae,N+I+ee[0],Te),a.measureNotEmpty=!1,A={}),I+=ee[0]}else if(R[I]==="&")ee=$(R,I),ee[0]>0&&(l.appendElement("overlay",N,N+1,{}),I+=1,K++);else{if(ee=L(R,I),ee.consumed>0&&(ee.startSlur!==void 0&&(A.startSlur=ee.startSlur),ee.dottedSlur&&(A.dottedSlur=!0),ee.triplet!==void 0&&(X>0?r("Can't nest triplets",R,I):(A.startTriplet=ee.triplet,A.tripletMultiplier=ee.tripletQ/ee.triplet,A.tripletR=ee.num_notes,X=ee.num_notes===void 0?ee.triplet:ee.num_notes)),I+=ee.consumed),R[I]==="["){I++;for(var me=null,ve=!1,_e=!1;!_e;){var Ae=z(R,I);Ae[0]>0&&(I+=Ae[0]);var Pe=W(R,I,{},!1);if(Pe!==null&&Pe.pitch!==void 0)Ae[0]>0&&Ae[1].indexOf("style=")!==0&&(A.decoration===void 0&&(A.decoration=[]),A.decoration.push(Ae[1])),Pe.end_beam&&(A.end_beam=!0,delete Pe.end_beam),A.pitches===void 0?(A.duration=Pe.duration,A.pitches=[Pe]):A.pitches.push(Pe),delete Pe.duration,Ae[0]>0&&Ae[1].indexOf("style=")===0&&(A.pitches[A.pitches.length-1].style=Ae[1].substr(6)),a.inTieChord[A.pitches.length]&&(Pe.endTie=!0,a.inTieChord[A.pitches.length]=void 0),Pe.startTie&&(a.inTieChord[A.pitches.length]=!0),I=Pe.endChar,delete Pe.endChar;else if(R[I]===" ")r("Spaces are not allowed in chords",R,I),I++;else{if(I<R.length&&R[I]==="]"){I++,a.next_note_duration!==0&&(A.duration=A.duration*a.next_note_duration,a.next_note_duration=0),M(a,K,A)&&(A.pitches.forEach(function(Me){Me.endTie=!0}),B(a,K,!1)),X>0&&!(A.rest&&A.rest.type==="spacer")&&(X--,X===0&&(A.endTriplet=!0));for(var Re=!1;I<R.length&&!Re;){switch(R[I]){case" ":case"	":D(A);break;case")":A.endSlur===void 0?A.endSlur=1:A.endSlur++;break;case"-":A.pitches.forEach(function(Me){Me.startTie={}}),B(a,K,!0);break;case">":case"<":var ze=G(R,I);I+=ze[0]-1,a.next_note_duration=ze[2],me?me=me*ze[1]:me=ze[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var re=n.getFraction(R,I);me=re.value,I=re.index;var ie=R[I];ie===" "&&(ve=!0),ie==="-"||ie===")"||ie===" "||ie==="<"||ie===">"?I--:Re=!0;break;case"0":me=0;break;default:Re=!0;break}Re||I++}}else r("Expected ']' to end the chords",R,I);A.pitches!==void 0&&(me!==null&&(A.duration=A.duration*me,ve&&D(A)),a.addFormattingOptions(A,o.formatting,"note"),l.appendElement("note",N+ae,N+I,A),a.measureNotEmpty=!0,A={}),_e=!0}}}else{var ce={},se=W(R,I,ce,!0);if(ce.endTie!==void 0&&B(a,K,!0),se!==null){se.pitch!==void 0?(A.pitches=[{}],se.accidental!==void 0&&(A.pitches[0].accidental=se.accidental),A.pitches[0].pitch=se.pitch,A.pitches[0].name=se.name,(se.midipitch||se.midipitch===0)&&(A.pitches[0].midipitch=se.midipitch),se.endSlur!==void 0&&(A.pitches[0].endSlur=se.endSlur),se.endTie!==void 0&&(A.pitches[0].endTie=se.endTie),se.startSlur!==void 0&&(A.pitches[0].startSlur=se.startSlur),A.startSlur!==void 0&&(A.pitches[0].startSlur=A.startSlur),A.dottedSlur!==void 0&&(A.pitches[0].dottedSlur=!0),se.startTie!==void 0&&(A.pitches[0].startTie=se.startTie),A.startTie!==void 0&&(A.pitches[0].startTie=A.startTie)):(A.rest=se.rest,se.rest.type==="multimeasure"&&U()&&(a.currBarNumber+=se.rest.text-1),se.endSlur!==void 0&&(A.endSlur=se.endSlur),se.endTie!==void 0&&(A.rest.endTie=se.endTie),se.startSlur!==void 0&&(A.startSlur=se.startSlur),se.startTie!==void 0&&(A.rest.startTie=se.startTie),A.startTie!==void 0&&(A.rest.startTie=A.startTie)),se.chord!==void 0&&(A.chord=se.chord),se.duration!==void 0&&(A.duration=se.duration),se.decoration!==void 0&&(A.decoration=se.decoration),se.graceNotes!==void 0&&(A.graceNotes=se.graceNotes),delete A.startSlur,delete A.dottedSlur,M(a,K,A)&&(A.pitches!==void 0?A.pitches[0].endTie=!0:A.rest.type!=="spacer"&&(A.rest.endTie=!0),B(a,K,!1)),(se.startTie||A.startTie)&&B(a,K,!0),I=se.endChar,X>0&&!(se.rest&&se.rest.type==="spacer")&&(X--,X===0&&(A.endTriplet=!0)),se.end_beam&&D(A),A.rest&&A.rest.type==="rest"&&A.duration===1&&P(a)<=1&&(A.rest.type="whole",A.duration=P(a)),A.duration<1&&y.indexOf(A.duration)===-1&&A.duration!==0&&(!A.rest||A.rest.type!=="spacer")&&r("Duration not representable: "+R.substring(ae,I),R,I),a.addFormattingOptions(A,o.formatting,"note");var ye=l.appendElement("note",N+ae,N+I,A);ye||(this.startNewLine(),l.appendElement("note",N+ae,N+I,A)),a.measureNotEmpty=!0,A={}}}I===ae&&(R[I]!==" "&&R[I]!=="`"&&r("Unknown character ignored",R,I),I++)}}}this.lineContinuation=R.indexOf("")>=0||Z[0]>0,this.lineContinuation||(A={})}};var B=function(R,I,N){var H=R.currentVoice?R.currentVoice.staffNum*100+R.currentVoice.index:0;R.inTie[I]===void 0&&(R.inTie[I]=[]),R.inTie[I][H]=N},F=function(R,I){if(R[I]==='"'){var N=n.getBrackettedSubstring(R,I,5);if(N[2]||r("Missing the closing quote while parsing the chord symbol",R,I),N[0]>0&&N[1].length>0&&N[1][0]==="^")N[1]=N[1].substring(1),N[2]="above";else if(N[0]>0&&N[1].length>0&&N[1][0]==="_")N[1]=N[1].substring(1),N[2]="below";else if(N[0]>0&&N[1].length>0&&N[1][0]==="<")N[1]=N[1].substring(1),N[2]="left";else if(N[0]>0&&N[1].length>0&&N[1][0]===">")N[1]=N[1].substring(1),N[2]="right";else if(N[0]>0&&N[1].length>0&&N[1][0]==="@"){N[1]=N[1].substring(1);var H=n.getFloat(N[1]);if(H.digits===0)return r("Missing first position in absolutely positioned annotation.",R,I),N[1]=N[1].replace("@",""),N[2]="above",N;if(N[1]=N[1].substring(H.digits),N[1][0]!==",")return r("Missing comma absolutely positioned annotation.",R,I),N[1]=N[1].replace("@",""),N[2]="above",N;N[1]=N[1].substring(1);var X=n.getFloat(N[1]);if(X.digits===0)return r("Missing second position in absolutely positioned annotation.",R,I),N[1]=N[1].replace("@",""),N[2]="above",N;N[1]=N[1].substring(X.digits);var Z=n.skipWhiteSpace(N[1]);N[1]=N[1].substring(Z),N[2]=null,N[3]={x:H.value,y:X.value}}else a.freegchord!==!0&&(N[1]=N[1].replace(/([ABCDEFG0-9])b/g,"$1"),N[1]=N[1].replace(/([ABCDEFG0-9])#/g,"$1"),N[1]=N[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),N[1]=N[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),N[1]=N[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),N[1]=N[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),N[2]="default",N[1]=e.chordName(a,N[1]);return N}return[0,""]},E=function(R,I){if(R[I]==="{"){var N=n.getBrackettedSubstring(R,I,1,"}");N[2]||r("Missing the closing '}' while parsing grace note",R,I),R[I+N[0]]===")"&&(N[0]++,N[1]+=")");for(var H=[],X=0,Z=!1;X<N[1].length;){var K=!1;N[1][X]==="/"&&(K=!0,X++);var ae=W(N[1],X,{},!1);ae!==null?(ae.duration=ae.duration/(a.default_length*8),K&&(ae.acciaccatura=!0),ae.rest?r("Rests not allowed as grace notes '"+N[1][X]+"' while parsing grace note",R,I):H.push(ae),Z&&(ae.endTie=!0,Z=!1),ae.startTie&&(Z=!0),X=ae.endChar,delete ae.endChar,ae.end_beam&&(ae.endBeam=!0,delete ae.end_beam)):(N[1][X]===" "?H.length>0&&(H[H.length-1].endBeam=!0):r("Unknown character '"+N[1][X]+"' while parsing grace note",R,I),X++)}if(H.length)return[N[0],H]}return[0]};function $(R,I){if(R[I]==="&"){for(var N=I;R[I]&&R[I]!==":"&&R[I]!=="|";)I++;return[I-N,R.substring(N+1,I)]}return[0]}function P(R){var I=R.origMeter;return!I||I.type!=="specified"||!I.value||I.value.length===0?1:parseInt(I.value[0].num,10)/parseInt(I.value[0].den,10)}var z=function(R,I){var N=a.macros[R[I]];if(N!==void 0)return(N[0]==="!"||N[0]==="+")&&(N=N.substring(1)),(N[N.length-1]==="!"||N[N.length-1]==="+")&&(N=N.substring(0,N.length-1)),d.includes(N)?[1,N]:m.includes(N)?(a.volumePosition==="hidden"&&(N=""),[1,N]):w.includes(N)?(a.dynamicPosition==="hidden"&&(N=""),[1,N]):(a.ignoredDecorations.includes(N)||r("Unknown macro: "+N,R,I),[1,""]);switch(R[I]){case".":if(R[I+1]==="("||R[I+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var H=n.getBrackettedSubstring(R,I,5);if(H[1].length>1&&(H[1][0]==="^"||H[1][0]==="_")&&(H[1]=H[1].substring(1)),d.includes(H[1]))return H;if(m.includes(H[1]))return a.volumePosition==="hidden"&&(H[1]=""),H;if(w.includes(H[1]))return a.dynamicPosition==="hidden"&&(H[1]=""),H;var X=b.findIndex(function(Z){return H[1]===Z[0]});return X>=0?(H[1]=b[X][1],H):(X=g.findIndex(function(Z){return H[1]===Z[0]}),X>=0?(H[1]=g[X][1],a.dynamicPosition==="hidden"&&(H[1]=""),H):R[I]==="!"&&(H[0]===1||R[I+H[0]-1]!=="!")?[1,null]:(r("Unknown decoration: "+H[1],R,I),H[1]="",H));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},j=function(R,I){for(var N=I;n.isWhiteSpace(R[I]);)I++;return[I-N]},V=function(R,I){var N=n.getBarLine(R,I);if(N.len===0)return[0,""];if(N.warn)return r(N.warn,R,I),[N.len,""];for(var H=0;H<R.length&&R[I+N.len+H]===" ";H++);var X=N.len;if(R[I+N.len+H]==="["&&(N.len+=H+1),R[I+N.len]==='"'&&R[I+N.len-1]==="["){var Z=n.getBrackettedSubstring(R,I+N.len,5);return[N.len+Z[0],N.token,Z[1]]}var K=n.getTokenOf(R.substring(I+N.len),"1234567890-,");return K.len===0||K.token[0]==="-"?[X,N.token]:[N.len+K.len,N.token,K.token]},L=function(R,I){var N={},H=I;for(R[I]==="."&&R[I+1]==="("&&(N.dottedSlur=!0,I++);R[I]==="("||n.isWhiteSpace(R[I]);)R[I]==="("&&(I+1<R.length&&R[I+1]>="2"&&R[I+1]<="9"?(N.triplet!==void 0?r("Can't nest triplets",R,I):(N.triplet=R[I+1]-"0",N.tripletQ=C[N.triplet],N.num_notes=N.triplet,I+2<R.length&&R[I+2]===":"&&(I+3<R.length&&R[I+3]===":"?I+4<R.length&&R[I+4]>="1"&&R[I+4]<="9"?(N.num_notes=R[I+4]-"0",I+=3):r("expected number after the two colons after the triplet to mark the duration",R,I):I+3<R.length&&R[I+3]>="1"&&R[I+3]<="9"?(N.tripletQ=R[I+3]-"0",I+4<R.length&&R[I+4]===":"?I+5<R.length&&R[I+5]>="1"&&R[I+5]<="9"&&(N.num_notes=R[I+5]-"0",I+=4):I+=2):r("expected number after the triplet to mark the duration",R,I))),I++):N.startSlur===void 0?N.startSlur=1:N.startSlur++),I++;return N.consumed=I-H,N};T.prototype.startNewLine=function(){var R={startChar:-1,endChar:-1};a.partForNextLine.title&&(R.part=a.partForNextLine),R.clef=a.currentVoice&&a.staves[a.currentVoice.staffNum].clef!==void 0?Object.assign({},a.staves[a.currentVoice.staffNum].clef):Object.assign({},a.clef);var I=a.currentVoice?a.currentVoice.scoreTranspose:0;if(R.key=t.standardKey(a.key.root+a.key.acc+a.key.mode,a.key.root,a.key.acc,I),R.key.mode=a.key.mode,a.key.impliedNaturals&&(R.key.impliedNaturals=a.key.impliedNaturals),a.key.explicitAccidentals)for(var N=0;N<a.key.explicitAccidentals.length;N++){for(var H=!1,X=0;X<R.key.accidentals.length;X++)R.key.accidentals[X].note===a.key.explicitAccidentals[N].note&&(R.key.accidentals[X].acc=a.key.explicitAccidentals[N].acc,H=!0);H||R.key.accidentals.push(a.key.explicitAccidentals[N])}if(a.targetKey=R.key,R.key.explicitAccidentals&&delete R.key.explicitAccidentals,t.addPosToKey(R.clef,R.key),a.meter!==null?(a.currentVoice?(a.staves.forEach(function(he){he.meter=a.meter}),R.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null):R.meter=a.meter,a.meter=null):a.currentVoice&&a.staves[a.currentVoice.staffNum].meter&&(R.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null),a.currentVoice&&a.currentVoice.name&&(R.name=a.currentVoice.name),a.vocalfont&&(R.vocalfont=a.vocalfont),a.tripletfont&&(R.tripletfont=a.tripletfont),a.gchordfont&&(R.gchordfont=a.gchordfont),a.style&&(R.style=a.style),a.currentVoice){var Z=a.staves[a.currentVoice.staffNum];Z.brace&&(R.brace=Z.brace),Z.bracket&&(R.bracket=Z.bracket),Z.connectBarLines&&(R.connectBarLines=Z.connectBarLines),Z.name&&(R.name=Z.name[a.currentVoice.index]),Z.subname&&(R.subname=Z.subname[a.currentVoice.index]),a.currentVoice.stem&&(R.stem=a.currentVoice.stem),a.currentVoice.stafflines&&(R.stafflines=a.currentVoice.stafflines),a.currentVoice.staffscale&&(R.staffscale=a.currentVoice.staffscale),a.currentVoice.scale&&(R.scale=a.currentVoice.scale),a.currentVoice.color&&(R.color=a.currentVoice.color),a.currentVoice.style&&(R.style=a.currentVoice.style),a.currentVoice.transpose&&(R.clef.transpose=a.currentVoice.transpose),R.currentVoice=a.currentVoice;for(var K=Object.keys(a.voices),ae=0;ae<K.length;ae++)R.currentVoice.staffNum===a.voices[K[ae]].staffNum&&R.currentVoice.index===a.voices[K[ae]].index&&(R.currentVoiceName=K[ae])}a.barNumbers===0&&U()&&a.currBarNumber!==1&&(R.barNumber=a.currBarNumber),l.startNewLine(R),a.key.impliedNaturals&&delete a.key.impliedNaturals,a.partForNextLine={},a.tempoForNextLine.length===4&&l.appendElement(a.tempoForNextLine[0],a.tempoForNextLine[1],a.tempoForNextLine[2],a.tempoForNextLine[3]),a.tempoForNextLine=[]};var D=function(R){return R.duration!==void 0&&R.duration<.25&&(R.end_beam=!0),R},W=function(R,I,N,H){var X=function(de){return de==="octave"||de==="duration"||de==="Zduration"||de==="broken_rhythm"||de==="end_slur"},Z;R[I]==="."&&R[I+1]==="-"&&(Z=!0,I++);for(var K="startSlur",ae=!1;;){switch(R[I]){case"(":if(K==="startSlur")N.startSlur===void 0?N.startSlur=1:N.startSlur++;else return X(K)?(N.endChar=I,N):null;break;case")":if(X(K))N.endSlur===void 0?N.endSlur=1:N.endSlur++;else return null;break;case"^":if(K==="startSlur")N.accidental="sharp",K="sharp2";else if(K==="sharp2")N.accidental="dblsharp",K="pitch";else return X(K)?(N.endChar=I,N):null;break;case"_":if(K==="startSlur")N.accidental="flat",K="flat2";else if(K==="flat2")N.accidental="dblflat",K="pitch";else return X(K)?(N.endChar=I,N):null;break;case"=":if(K==="startSlur")N.accidental="natural",K="pitch";else return X(K)?(N.endChar=I,N):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(K==="startSlur"||K==="sharp2"||K==="flat2"||K==="pitch"){if(N.pitch=h[R[I]],N.pitch+=7*(a.currentVoice&&a.currentVoice.octave!==void 0?a.currentVoice.octave:a.octave),N.name=R[I],N.accidental&&(N.name=S[N.accidental]+N.name),e.note(a,N),K="octave",H&&a.next_note_duration!==0?(N.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,ae=!0):N.duration=a.default_length,a.clef&&a.clef.type==="perc"||a.currentVoice&&a.currentVoice.clef==="perc"){var he=R[I];N.accidental&&(he=S[N.accidental]+he),o.formatting&&o.formatting.midi&&o.formatting.midi.drummap&&(N.midipitch=o.formatting.midi.drummap[he])}}else return X(K)?(N.endChar=I,N):null;break;case",":if(K==="octave")N.pitch-=7,N.name+=",";else return X(K)?(N.endChar=I,N):null;break;case"'":if(K==="octave")N.pitch+=7,N.name+="'";else return X(K)?(N.endChar=I,N):null;break;case"x":case"X":case"y":case"z":case"Z":if(K==="startSlur")N.rest={type:x[R[I]]},delete N.accidental,delete N.startSlur,delete N.startTie,delete N.endSlur,delete N.endTie,delete N.end_beam,delete N.grace_notes,N.rest.type.indexOf("multimeasure")>=0?(N.duration=o.getBarLength(),N.rest.text=1,K="Zduration"):(H&&a.next_note_duration!==0?(N.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,ae=!0):N.duration=a.default_length,K="duration");else return X(K)?(N.endChar=I,N):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(K==="octave"||K==="duration"){var ee=n.getFraction(R,I);for(N.duration=N.duration*ee.value,N.endChar=ee.index;ee.index<R.length&&(n.isWhiteSpace(R[ee.index])||R[ee.index]==="-");)R[ee.index]==="-"?N.startTie={}:N=D(N),ee.index++;I=ee.index-1,K="broken_rhythm"}else if(K==="sharp2")N.accidental="quartersharp",K="pitch";else if(K==="flat2")N.accidental="quarterflat",K="pitch";else if(K==="Zduration"){var ge=n.getNumber(R,I);return N.duration=ge.num*o.getBarLength(),N.rest.text=ge.num,N.endChar=ge.index,N}else return null;break;case"-":if(K==="startSlur")l.addTieToLastNote(Z),N.endTie=!0;else if(K==="octave"||K==="duration"||K==="end_slur")if(N.startTie={},!ae&&H)K="broken_rhythm";else return n.isWhiteSpace(R[I+1])&&D(N),N.endChar=I+1,N;else return K==="broken_rhythm"?(N.endChar=I,N):null;break;case" ":case"	":if(X(K)){N.end_beam=!0,Z=!1;do R[I]==="."&&R[I+1]==="-"&&(Z=!0,I++),R[I]==="-"&&(N.startTie={},Z&&(N.startTie.style="dotted")),I++;while(I<R.length&&(n.isWhiteSpace(R[I])||R[I]==="-")||R[I]==="."&&R[I+1]==="-");if(N.endChar=I,!ae&&H&&(R[I]==="<"||R[I]===">"))I--,K="broken_rhythm";else return N}else return null;break;case">":case"<":if(X(K))if(H){var Se=G(R,I);I+=Se[0]-1,a.next_note_duration=Se[2],N.duration=Se[1]*N.duration,K="end_slur"}else return N.endChar=I,N;else return null;break;default:return X(K)?(N.endChar=I,N):null}if(I++,I===R.length)return X(K)?(N.endChar=I,N):null}return null},G=function(R,I){switch(R[I]){case">":return I<R.length-2&&R[I+1]===">"&&R[I+2]===">"?[3,1.875,.125]:I<R.length-1&&R[I+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return I<R.length-2&&R[I+1]==="<"&&R[I+2]==="<"?[3,.125,1.875]:I<R.length-1&&R[I+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function U(){return a.currentVoice===void 0||a.currentVoice.staffNum===0&&a.currentVoice.index===0}return od=T,od}var cd,a5;function NF(){if(a5)return cd;a5=1;var t=wi(),e=function(n,r){this.lineIndex=0,this.lines=n,this.multilineVars=r,this.skipWhiteSpace=function(p){for(var y=0;y<p.length;y++)if(!this.isWhiteSpace(p[y]))return y;return p.length};var a=function(p,y){return y>=p.length};this.eatWhiteSpace=function(p,y){for(var h=y;h<p.length;h++)if(!this.isWhiteSpace(p[h]))return h-y;return h-y},this.getKeyPitch=function(p){var y=this.skipWhiteSpace(p);if(a(p,y))return{len:0};switch(p[y]){case"A":return{len:y+1,token:"A"};case"B":return{len:y+1,token:"B"};case"C":return{len:y+1,token:"C"};case"D":return{len:y+1,token:"D"};case"E":return{len:y+1,token:"E"};case"F":return{len:y+1,token:"F"};case"G":return{len:y+1,token:"G"}}return{len:0}},this.getSharpFlat=function(p){if(p==="bass")return{len:0};switch(p[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(p){var y=function(S,C){for(;C<S.length&&(S[C]>="a"&&S[C]<="z"||S[C]>="A"&&S[C]<="Z");)C++;return C},h=this.skipWhiteSpace(p);if(a(p,h))return{len:0};var x=p.substring(h,h+3).toLowerCase();switch((x.length>1&&x[1]===" "||x[1]==="^"||x[1]==="_"||x[1]==="=")&&(x=x[0]),x){case"mix":return{len:y(p,h),token:"Mix"};case"dor":return{len:y(p,h),token:"Dor"};case"phr":return{len:y(p,h),token:"Phr"};case"lyd":return{len:y(p,h),token:"Lyd"};case"loc":return{len:y(p,h),token:"Loc"};case"aeo":return{len:y(p,h),token:"m"};case"maj":return{len:y(p,h),token:""};case"ion":return{len:y(p,h),token:""};case"min":return{len:y(p,h),token:"m"};case"m":return{len:y(p,h),token:"m"}}return{len:0}},this.getClef=function(p,y){var h=p,x=this.skipWhiteSpace(p);if(a(p,x))return{len:0};var S=!1,C=p.substring(x);if(t.startsWith(C,"clef=")&&(S=!0,C=C.substring(5),x+=5),C.length===0&&S)return{len:x+5,warn:"No clef specified: "+h};var T=this.skipWhiteSpace(C);if(a(C,T))return{len:0};T>0&&(x+=T,C=C.substring(T));var M=null;if(t.startsWith(C,"treble"))M="treble";else if(t.startsWith(C,"bass3"))M="bass3";else if(t.startsWith(C,"bass"))M="bass";else if(t.startsWith(C,"tenor"))M="tenor";else if(t.startsWith(C,"alto2"))M="alto2";else if(t.startsWith(C,"alto1"))M="alto1";else if(t.startsWith(C,"alto"))M="alto";else if(!y&&S&&t.startsWith(C,"none"))M="none";else if(t.startsWith(C,"perc"))M="perc";else if(!y&&S&&t.startsWith(C,"C"))M="tenor";else if(!y&&S&&t.startsWith(C,"F"))M="bass";else if(!y&&S&&t.startsWith(C,"G"))M="treble";else return{len:x+5,warn:"Unknown clef specified: "+h};return C=C.substring(M.length),T=this.isMatch(C,"+8"),T>0?M+="+8":(T=this.isMatch(C,"-8"),T>0&&(M+="-8")),{len:x+M.length,token:M,explicit:S}},this.getBarLine=function(p,y){switch(p[y]){case"]":switch(++y,p[y]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++y,p[y]>="1"&&p[y]<="9"||p[y]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++y,p[y]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++y,p[y]){case"]":switch(++y,p[y]){case"|":return++y,p[y]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++y,p[y]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++y,p[y]==="|")switch(++y,p[y]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return p[y]>="1"&&p[y]<="9"||p[y]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++y,p[y]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++y,p[y]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var h=0;p[y+h]===":";)h++;return{len:1+h,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(p,y){for(var h=0;h<p.length;h++)if(y.indexOf(p[h])<0)return{len:h,token:p.substring(0,h)};return{len:h,token:p}},this.getToken=function(p,y,h){for(var x=y;x<h&&!this.isWhiteSpace(p[x]);)x++;return p.substring(y,x)},this.isMatch=function(p,y){var h=this.skipWhiteSpace(p);return a(p,h)?0:t.startsWith(p.substring(h),y)?h+y.length:0},this.getPitchFromTokens=function(p){var y={},h={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(y.position=h[p[0].token],y.position===void 0)return{warn:"Pitch expected. Found: "+p[0].token};for(p.shift();p.length;)switch(p[0].token){case",":y.position-=7,p.shift();break;case"'":y.position+=7,p.shift();break;default:return y}return y},this.getKeyAccidentals2=function(p){for(var y;p.length>0;){var h;if(p[0].token==="^"){if(h="sharp",p.shift(),p.length===0)return{accs:y,warn:"Expected note name after "+h};switch(p[0].token){case"^":h="dblsharp",p.shift();break;case"/":h="quartersharp",p.shift();break}}else if(p[0].token==="=")h="natural",p.shift();else if(p[0].token==="_"){if(h="flat",p.shift(),p.length===0)return{accs:y,warn:"Expected note name after "+h};switch(p[0].token){case"_":h="dblflat",p.shift();break;case"/":h="quarterflat",p.shift();break}}else return{accs:y};if(p.length===0)return{accs:y,warn:"Expected note name after "+h};switch(p[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":y===void 0&&(y=[]),y.push({acc:h,note:p[0].token[0]}),p[0].token.length===1?p.shift():p[0].token=p[0].token.substring(1);break;default:return{accs:y,warn:"Expected note name after "+h+" Found: "+p[0].token}}}return{accs:y}},this.getKeyAccidental=function(p){var y={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},h=this.skipWhiteSpace(p);if(a(p,h))return{len:0};var x=null;switch(p[h]){case"^":case"_":case"=":x=p[h];break;default:return{len:0}}if(h++,a(p,h))return{len:1,warn:"Expected note name after accidental"};switch(p[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:y[x],note:p[h]}};case"^":case"_":case"/":if(x+=p[h],h++,a(p,h))return{len:2,warn:"Expected note name after accidental"};switch(p[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:y[x],note:p[h]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(p){return p===" "||p==="	"||p===""},this.getMeat=function(p,y,h){var x=p.indexOf("%",y);for(x>=0&&x<h&&(h=x);y<h&&(p[y]===" "||p[y]==="	"||p[y]==="");)y++;for(;y<h&&(p[h-1]===" "||p[h-1]==="	"||p[h-1]==="");)h--;return{start:y,end:h}};var o=function(p){return p>="A"&&p<="Z"||p>="a"&&p<="z"},l=function(p){return p>="0"&&p<="9"};this.tokenize=function(p,y,h,x){var S=this.getMeat(p,y,h);y=S.start,h=S.end;for(var C=[],T;y<h;){if(p[y]==='"'){for(T=y+1;T<h&&p[T]!=='"';)T++;C.push({type:"quote",token:p.substring(y+1,T),start:y+1,end:T}),T++}else if(o(p[y])){if(T=y+1,x)for(;T<h&&!this.isWhiteSpace(p[T]);)T++;else for(;T<h&&o(p[T]);)T++;C.push({type:"alpha",token:p.substring(y,T),continueId:l(p[T]),start:y,end:T}),y=T+1}else if(p[y]==="."&&l(p[T+1])){T=y+1;for(var M=null,A=null;T<h&&l(p[T]);)T++;A=parseFloat(p.substring(y,T)),C.push({type:"number",token:p.substring(y,T),intt:M,floatt:A,continueId:o(p[T]),start:y,end:T}),y=T+1}else if(l(p[y])||p[y]==="-"&&l(p[T+1])){T=y+1;for(var B=null,F=null;T<h&&l(p[T]);)T++;if(p[T]==="."&&l(p[T+1]))for(T++;T<h&&l(p[T]);)T++;else B=parseInt(p.substring(y,T));F=parseFloat(p.substring(y,T)),C.push({type:"number",token:p.substring(y,T),intt:B,floatt:F,continueId:o(p[T]),start:y,end:T}),y=T+1}else p[y]===" "||p[y]==="	"||C.push({type:"punct",token:p[y],start:y,end:y+1}),T=y+1;y=T}return C},this.getVoiceToken=function(p,y,h){for(var x=y;x<h&&this.isWhiteSpace(p[x])||p[x]==="=";)x++;if(p[x]==='"'){var S=p.indexOf('"',x+1);return S===-1||S>=h?{len:1,err:"Missing close quote"}:{len:S-y+1,token:this.translateString(p.substring(x+1,S))}}else{for(var C=x;C<h&&!this.isWhiteSpace(p[C])&&p[C]!=="=";)C++;return{len:C-y+1,token:p.substring(x,C)}}};var f={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},d={"#":"",b:"","=":""},m={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(p){var y=p.split("\\");if(y.length===1)return p;var h=null;return y.forEach(function(x){if(h===null)h=x;else{var S=f[x.substring(0,2)];S!==void 0?h+=S+x.substring(2):(S=m[x.substring(0,3)],S!==void 0?h+=S+x.substring(3):(S=d[x.substring(0,1)],S!==void 0?h+=S+x.substring(1):h+="\\"+x))}}),h},this.getNumber=function(p,y){for(var h=0;y<p.length;)switch(p[y]){case"0":h=h*10,y++;break;case"1":h=h*10+1,y++;break;case"2":h=h*10+2,y++;break;case"3":h=h*10+3,y++;break;case"4":h=h*10+4,y++;break;case"5":h=h*10+5,y++;break;case"6":h=h*10+6,y++;break;case"7":h=h*10+7,y++;break;case"8":h=h*10+8,y++;break;case"9":h=h*10+9,y++;break;default:return{num:h,index:y}}return{num:h,index:y}},this.getFraction=function(p,y){var h=1,x=1;if(p[y]!=="/"){var S=this.getNumber(p,y);h=S.num,y=S.index}if(p[y]==="/")if(y++,p[y]==="/"){for(var C=.5;p[y++]==="/";)C=C/2;return{value:h*C,index:y-1}}else{var T=y,M=this.getNumber(p,y);M.num===0&&T===y&&(M.num=2),M.num!==0&&(x=M.num),y=M.index}return{value:h/x,index:y}};function w(p){const h=/^(\d+)\./.exec(p);return h?h[1]:null}var b=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(p){for(var y=0;y<b.length;y++){var h=b[y],x=p.match(h.match);if(x){var S=w(p);S&&(p=p.replace(S+".",""),p=p.trim());var C=x[0].length,T=h.replace+p.substring(0,p.length-C);return S&&(T=S+". "+T),T}}return p},this.stripComment=function(p){var y=p.indexOf("%");return y>=0?t.strip(p.substring(0,y)):t.strip(p)},this.getInt=function(p){var y=parseInt(p);if(isNaN(y))return{digits:0};var h=""+y,x=p.indexOf(h);return{value:y,digits:x+h.length}},this.getFloat=function(p){var y=parseFloat(p);if(isNaN(y))return{digits:0};var h=""+y,x=p.indexOf(h);return{value:y,digits:x+h.length}},this.getMeasurement=function(p){if(p.length===0)return{used:0};var y=1,h="";if(p[0].token==="-")p.shift(),h="-",y++;else if(p[0].type!=="number")return{used:0};if(h+=p.shift().token,p.length===0)return{used:1,value:parseInt(h)};var x=p.shift();if(x.token==="."){if(y++,p.length===0)return{used:y,value:parseInt(h)};if(p[0].type==="number"&&(x=p.shift(),h=h+"."+x.token,y++,p.length===0))return{used:y,value:parseFloat(h)};x=p.shift()}switch(x.token){case"pt":return{used:y+1,value:parseFloat(h)};case"px":return{used:y+1,value:parseFloat(h)};case"cm":return{used:y+1,value:parseFloat(h)/2.54*72};case"in":return{used:y+1,value:parseFloat(h)*72};default:return p.unshift(x),{used:y,value:parseFloat(h)}}};var g=function(p){return p=p.replace(/\\n/g,`
`),p=p.replace(/\\"/g,'"'),p};this.getBrackettedSubstring=function(p,y,h,x){for(var S=x||p[y],C=y+1,T=!1;C<p.length&&(T||p[C]!==S);)T=p[C]==="\\",++C;return p[C]===S?[C-y+1,g(p.substring(y+1,C)),!0]:(C=y+h,C>p.length-1&&(C=p.length-1),[C-y+1,g(p.substring(y+1,C)),!1])}};return e.prototype.peekLine=function(){return this.lines[this.lineIndex]},e.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var n=this.lines[this.lineIndex];return this.lineIndex++,n}return null},cd=e,cd}var ld,o5;function J9(){if(o5)return ld;o5=1;function t(w,b,g){if(!(!b||w.lines.length===0)){var p=w.deline({lineBreaks:!1}),y=n(p,b);w.lines=e(p,y,g),w.lineBreaks=y}}function e(w,b,g){for(var p=[],y=[],h=[],x=1,S=0;S<b.length;S++){var C=b[S];if(w[C.ogLine].staff){var T=w[C.ogLine].staff[C.staff];if(p[C.line]||(p[C.line]={staff:[]}),!p[C.line].staff[C.staff]){p[C.line].staff[C.staff]={voices:[]},g!==void 0&&C.staff===0&&C.line>0&&(p[C.line].staff[C.staff].barNumber=x);for(var M=Object.keys(T),A=0;A<M.length;A++){var B=M[A]==="voices";M[A]==="meter"&&C.line!==0&&(B=!0),B||(p[C.line].staff[C.staff][M[A]]=T[M[A]])}y[C.staff]&&(p[C.line].staff[C.staff].key=y[C.staff])}p[C.line].staff[C.staff].voices[C.voice]||(p[C.line].staff[C.staff].voices[C.voice]=[]),p[C.line].staff[C.staff].voices[C.voice]=w[C.ogLine].staff[C.staff].voices[C.voice].slice(C.start,C.end+1),h[C.staff*10+C.voice]&&p[C.line].staff[C.staff].voices[C.voice].unshift({el_type:"stem",direction:h[C.staff*10+C.voice].direction});for(var F=p[C.line].staff[C.staff].voices[C.voice],E=F.length-1;E>=0;E--)if(F[E].el_type==="key"){y[C.staff]={root:F[E].root,acc:F[E].acc,mode:F[E].mode,accidentals:F[E].accidentals.filter(function(P){return P.acc!=="natural"})};break}for(E=F.length-1;E>=0;E--)if(F[E].el_type==="stem"){h[C.staff*10+C.voice]={direction:F[E].direction};break}if(g!==void 0&&C.staff===0&&C.voice===0)for(E=0;E<F.length;E++)F[E].el_type==="bar"&&(x++,E===F.length-1?delete F[E].barNumber:F[E].barNumber=x)}else p[C.line]=w[C.ogLine]}for(var $=0;$<p.length;$++)p[$].staff&&(p[$].staff=p[$].staff.filter(function(P){return P!=null}));return p}function n(w,b){for(var g=[],p=0,y=0,h=0,x=0;x<w.length;x++){var S=w[x];if(S.staff){var C=y,T=b[p];p++;for(var M=0;M<S.staff.length;M++)for(var A=S.staff[M],B=0;B<A.voices.length;B++){h=C;for(var F=0,E=0,$=A.voices[B],P=0,z=0;z<$.length;z++){var j=$[z];j.el_type==="bar"&&(T[E]===F&&(g.push({ogLine:x,line:h,staff:M,voice:B,start:P,end:z}),P=z+1,h++,y=Math.max(y,h),E++),F++)}g.push({ogLine:x,line:h,staff:M,voice:B,start:P,end:$.length}),h++,y=Math.max(y,h)}}else g.push({ogLine:x,line:h}),h++,y=Math.max(y,h)}return g}function r(w,b){for(var g=[],p=[],y=0,h=0;h<w.length;h++){var x=w[h],S=y+x;if(S<b)y=S;else{var C=b-y,T=S-b;C<T&&y>0?(g.push(h-1),p.push(Math.round(y-x)),y=x):h<w.length-1&&(g.push(h),p.push(Math.round(y)),y=0)}}return p.push(Math.round(y)),{lineBreaks:g,totals:p}}function a(w){for(var b=[],g=0;g<w.length;g++)b.push(w[g]);return b}function o(w,b,g,p,y,h,x,S,C,T,M){for(var A=T;A<w.length;A++){var B=w[A];g+=B,p+=B;var F=Math.abs(g-b[S]),E=Math.abs(F-h)<b[0]/10;if(E)if(F<h){var $=a(y),P=a(C);P.push(A-1),$.push(p-B),M.push({accumulator:g,lineAccumulator:B,lineWidths:$,lastVariance:Math.abs(g-b[S+1]),highestVariance:Math.max(x,h),currLine:S+1,lineBreaks:P,startIndex:A+1})}else F>h&&A<w.length-1&&($=a(y),P=a(C),M.push({accumulator:g,lineAccumulator:p,lineWidths:$,lastVariance:F,highestVariance:Math.max(x,F),currLine:S,lineBreaks:P,startIndex:A+1}));F>h?(C.push(A-1),S++,x=Math.max(x,h),h=Math.abs(g-b[S]),y.push(p-B),p=B):h=F}y.push(p)}function l(w,b,g,p){for(var y=Math.ceil(w.total/b),h=Math.floor(w.total/y),x=[],S=0;S<y;S++)x.push(h*(S+1));var C=[];C.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var T=0;T<C.length;)o(w.measureWidths,x,C[T].accumulator,C[T].lineAccumulator,C[T].lineWidths,C[T].lastVariance,C[T].highestVariance,C[T].currLine,C[T].lineBreaks,C[T].startIndex,C),T++;for(S=0;S<C.length;S++){var M=C[S];M.variances=[],M.aveVariance=0;for(var A=0;A<M.lineWidths.length;A++){var B=M.lineWidths[A];M.variances.push(B-x[0]),M.aveVariance+=Math.abs(B-x[0])}M.aveVariance=M.aveVariance/M.lineWidths.length,p.attempts.push({type:"optimizeLineWidths",lineBreaks:M.lineBreaks,variances:M.variances,aveVariance:M.aveVariance,widths:w.measureWidths})}var F=9999999,E=-1;for(S=0;S<C.length;S++)M=C[S],M.aveVariance<F&&(F=M.aveVariance,E=S);return{failed:!1,lineBreaks:C[E].lineBreaks,variance:C[E].highestVariance}}function f(w,b,g){for(var p=[],y=[],h=0,x=!1,S=0;S<w.length;S++)h+=w[S],h>b&&(x=!0),S%g===g-1&&(S!==w.length-1&&p.push(S),y.push(Math.round(h)),h=0);return{failed:x,totals:y,lineBreaks:p}}function d(w,b,g){var p={lineBreaks:w,staffwidth:b};for(var y in g)g.hasOwnProperty(y)&&y!=="wrap"&&y!=="staffwidth"&&(p[y]=g[y]);return{revisedParams:p}}function m(w,b,g){if(b.length===0||g.staffwidth<b[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:g};var p=g.scale?Math.max(g.scale,.1):1,y=g.wrap.minSpacing?Math.max(parseFloat(g.wrap.minSpacing),1):1,h=g.wrap.minSpacingLimit?Math.max(parseFloat(g.wrap.minSpacingLimit),1):y-.1,x=g.wrap.maxSpacing?Math.max(parseFloat(g.wrap.maxSpacing),1):void 0;g.wrap.lastLineLimit&&!x&&(x=Math.max(parseFloat(g.wrap.lastLineLimit),1));for(var S=g.wrap.preferredMeasuresPerLine?Math.max(parseInt(g.wrap.preferredMeasuresPerLine,10),0):void 0,C=[],T=[],M=0;M<b.length;M++){var A=b[M],B=g.staffwidth-A.left,F=B/y/p,E=B/x/p,$=B/h/p,P={widths:A,lineBreakPoint:F,minLineSize:E,attempts:[],staffWidth:g.staffwidth,minWidth:Math.round($)},z=null;if(S){var j=f(A.measureWidths,F,S);P.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:S,lineBreaks:j.lineBreaks,failed:j.failed,totals:j.totals}),j.failed||(z=j.lineBreaks)}if(!z){var V=r(A.measureWidths,F);P.attempts.push({type:"Free Form",lineBreaks:V.lineBreaks,totals:V.totals}),z=V.lineBreaks,z.length>0&&A.measureWidths.length<25&&(V=l(A,F,z,P),P.attempts.push({type:"Optimize",failed:V.failed,reason:V.reason,lineBreaks:V.lineBreaks,totals:V.totals}),V.failed||(z=V.lineBreaks))}C.push(z),T.push(P)}var L=g.staffwidth,D=d(C,L,g);return D.explanation=T,D.reParse=!0,D}return ld={wrapLines:t,calcLineWraps:m},ld}var ud,c5;function qn(){if(c5)return ud;c5=1;var t={};return t.FONTEM=360,t.FONTSIZE=30,t.STEP=t.FONTSIZE*93/720,t.SPACE=10,t.TOPNOTE=15,t.STAVEHEIGHT=100,t.INDENT=50,ud=t,ud}var fd,l5;function e8(){if(l5)return fd;l5=1;var t,e=wi();return function(){var n=1,r=128;t=function(h,x){x=x||{};var S,C=x.program||0,T=x.midiTranspose||0;h.visualTranspose&&(T-=h.visualTranspose);var M=x.channel||0,A=!1,B=x.drum||"",F=x.drumBars||1,E=x.drumIntro||0,$=B!=="",P=!!x.drumOff,z=[],j=50;C=parseInt(C,10),T=parseInt(T,10),M=parseInt(M,10),M===10&&(C=r),B=B.split(" "),F=parseInt(F,10),E=parseInt(E,10);var V=h.formatting.bagpipes;V&&(C=71);var L=[];if(h.formatting.midi){var D=h.formatting.midi;D.program&&D.program.length>0&&(C=D.program[0],D.program.length>1&&(C=D.program[1],M=D.program[0]),A=!0),D.transpose&&(T=D.transpose[0]),D.channel&&(M=D.channel[0],A=!0),D.drum&&(B=D.drum),D.drumbars&&(F=D.drumbars[0]),D.drumon&&($=!0),M===10&&(C=r),D.beat&&L.push({el_type:"beat",beats:D.beat}),D.nobeataccents&&L.push({el_type:"beataccents",value:!1})}x.qpm?S=parseInt(x.qpm,10):h.metaText.tempo?S=m(h.metaText.tempo,h.getBeatLength()):x.defaultQpm?S=x.defaultQpm:S=180;var W=[];V&&W.push({el_type:"bagpipes"}),W.push({el_type:"instrument",program:C}),M&&W.push({el_type:"channel",channel:M}),T&&W.push({el_type:"transpose",transpose:T}),W.push({el_type:"tempo",qpm:S});for(var G=0;G<L.length;G++)W.push(L[G]);var U=[],R=[],I=[],N=[0],H={};H[0]={el_type:"tempo",qpm:S,timing:0};for(var X,Z=[],K=[],ae=!1,he=h.lines,ee=0;ee<he.length;ee++){var ge=he[ee];if(ge.staff){let er=function(wt){var ln={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},_t;if(wt.decoration)if(wt.decoration.indexOf("pppp")>=0?_t="pppp":wt.decoration.indexOf("ppp")>=0?_t="ppp":wt.decoration.indexOf("pp")>=0?_t="pp":wt.decoration.indexOf("p")>=0?_t="p":wt.decoration.indexOf("mp")>=0?_t="mp":wt.decoration.indexOf("mf")>=0?_t="mf":wt.decoration.indexOf("f")>=0?_t="f":wt.decoration.indexOf("ff")>=0?_t="ff":wt.decoration.indexOf("fff")>=0?_t="fff":wt.decoration.indexOf("ffff")>=0&&(_t="ffff"),_t&&(X=ln[_t].slice(0),U[de].push({el_type:"beat",beats:X.slice(0)}),R[me]=!1,I[me]=!1),wt.decoration.indexOf("crescendo(")>=0){var _i=a(ve,ie,"crescendo)"),xi=Math.min(127,X[0]+j),Si=o(ve,ie+_i+1,Object.keys(ln));Si&&(xi=ln[Si][0]),_i>0?R[me]=Math.floor((xi-X[0])/_i):R[me]=!1,I[me]=!1}else if(wt.decoration.indexOf("crescendo)")>=0)R[me]=!1;else if(wt.decoration.indexOf("diminuendo(")>=0){var Ci=a(ve,ie,"diminuendo)"),Pn=Math.max(15,X[0]-j),$s=o(ve,ie+Ci+1,Object.keys(ln));$s&&(Pn=ln[$s][0]),R[me]=!1,Ci>0?I[me]=Math.floor((Pn-X[0])/Ci):I[me]=!1}else wt.decoration.indexOf("diminuendo)")>=0&&(I[me]=!1)};for(var cn=er,Se=ge.staff,de=0,ke=0;ke<Se.length;ke++){var Te=Se[ke];if(!(Te.clef&&Te.clef.type==="TAB"))for(var me=0;me<Te.voices.length;me++){var ve=Te.voices[me];if(!U[de]){U[de]=[].concat(JSON.parse(JSON.stringify(W)));var _e=d(ge.staff,de);_e&&U[de].unshift({el_type:"name",trackName:_e})}if(T&&Te.clef.type==="perc"&&U[de].push({el_type:"transpose",transpose:0}),Te.clef&&Te.clef.type==="perc"&&!A)for(var Ae=0;Ae<U[de].length;Ae++)U[de][Ae].el_type==="instrument"&&(U[de][Ae].program=r);else Te.key&&g(U[de],Te.key);Te.meter&&p(U[de],Te.meter),!ae&&$&&(U[de].push({el_type:"drum",params:{pattern:B,bars:F,on:$,intro:E}}),ae=!0),Te.clef&&Te.clef.type!=="perc"&&Te.clef.transpose&&(Te.clef.el_type="clef",U[de].push({el_type:"transpose",transpose:Te.clef.transpose})),Te.clef&&Te.clef.type&&(Te.clef.type.indexOf("-8")>=0?U[de].push({el_type:"transpose",transpose:-12}):Te.clef.type.indexOf("+8")>=0&&U[de].push({el_type:"transpose",transpose:12})),h.formatting.midi&&h.formatting.midi.drumoff&&(U[de].push({el_type:"bar"}),U[de].push({el_type:"drum",params:{pattern:"",on:!1}}));var Pe=0,Re=0,ze=0,re=0;X=[105,95,85,1];for(var ie=0;ie<ve.length;ie++){var ce=ve[ie];switch(ce.el_type){case"note":if(R[me]&&(X[0]+=R[me],X[1]+=R[me],X[2]+=R[me],U[de].push({el_type:"beat",beats:X.slice(0)})),I[me]&&(X[0]+=I[me],X[1]+=I[me],X[2]+=I[me],U[de].push({el_type:"beat",beats:X.slice(0)})),er(ce),!ce.rest||ce.rest.type!=="spacer"){var se={elem:ce,el_type:"note",timing:N[de]};if(ce.style?se.style=ce.style:z[de]&&(se.style=z[de]),se.duration=ce.duration===0?.25:ce.duration,ce.startTriplet){if(Re=ce.tripletMultiplier,ze=ce.startTriplet*Re*ce.duration,ce.startTriplet!==ce.tripletR&&ie+ce.tripletR<=ve.length){for(var ye=0,Me=ie;Me<ie+ce.tripletR;Me++)ye+=ve[Me].duration;ze=Re*ye}se.duration=se.duration*Re,se.duration=Math.round(se.duration*1e6)/1e6,re=se.duration}else Re&&(ce.endTriplet?(Re=0,se.duration=Math.round((ze-re)*1e6)/1e6):(se.duration=se.duration*Re,se.duration=Math.round(se.duration*1e6)/1e6,re+=se.duration));ce.rest&&(se.rest=ce.rest),ce.decoration&&(se.decoration=ce.decoration.slice(0)),ce.pitches&&(se.pitches=e.cloneArray(ce.pitches)),ce.gracenotes&&(se.gracenotes=e.cloneArray(ce.gracenotes)),ce.chord&&(se.chord=e.cloneArray(ce.chord)),U[de].push(se),ce.style==="rhythm"&&f(U),Pe++,N[de]+=se.duration}break;case"key":case"keySignature":g(U[de],ce);break;case"meter":p(U[de],ce);break;case"clef":ce.transpose&&U[de].push({el_type:"transpose",transpose:ce.transpose}),ce.type&&(ce.type.indexOf("-8")>=0?U[de].push({el_type:"transpose",transpose:-12}):ce.type.indexOf("+8")>=0&&U[de].push({el_type:"transpose",transpose:12}));break;case"tempo":S=m(ce,h.getBeatLength()),U[de].push({el_type:"tempo",qpm:S,timing:N[de]}),H[""+N[de]]={el_type:"tempo",qpm:S,timing:N[de]};break;case"bar":Pe>0&&U[de].push({el_type:"bar"}),er(ce),Pe=0;var Oe=ce.type==="bar_right_repeat"||ce.type==="bar_dbl_repeat",$e=ce.startEnding==="1",Ee=ce.type==="bar_left_repeat"||ce.type==="bar_dbl_repeat"||ce.type==="bar_right_repeat";if(Oe){var Be=Z[de];Be||(Be=0);var Ye=K[de];Ye||(Ye=U[de].length);for(var Ze=Be;Ze<Ye;Ze++){var Ve=Object.assign({},U[de][Ze]);Ve.pitches&&(Ve.pitches=e.cloneArray(Ve.pitches)),U[de].push(Ve)}K[de]=void 0,Z[de]=void 0}$e&&(K[de]=U[de].length),Ee&&(Z[de]=U[de].length);break;case"style":z[de]=ce.head;break;case"timeSignature":U[de].push(w(ce));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var mt=!1;switch(ce.cmd){case"drumon":$=!0,mt=!0;break;case"drumoff":$=!1,mt=!0;break;case"drum":B=ce.params,mt=!0;break;case"drumbars":F=ce.params[0],mt=!0;break;case"drummap":break;case"channel":ce.params[0]===10&&U[de].push({el_type:"instrument",program:r});break;case"program":y(U[de],{el_type:"instrument",program:ce.params[0]}),A=!0;break;case"transpose":U[de].push({el_type:"transpose",transpose:ce.params[0]});break;case"gchordoff":U[de].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":U[de].push({el_type:"gchordOn",tacet:!1});break;case"beat":U[de].push({el_type:"beat",beats:ce.params});break;case"nobeataccents":U[de].push({el_type:"beataccents",value:!1});break;case"beataccents":U[de].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":U[de].push({el_type:ce.cmd,volume:ce.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":U[de].push({el_type:ce.cmd,param:ce.params[0]});break;case"bassprog":case"chordprog":U[de].push({el_type:ce.cmd,value:ce.params[0],octaveShift:ce.params[1]});break;case"gchordbars":U[de].push({el_type:ce.cmd,param:ce.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",ce.cmd,ce)}mt&&(U[0].push({el_type:"drum",params:{pattern:B,bars:F,intro:E,on:$}}),ae=!0);break;default:console.log("MIDI: element type "+ce.el_type+" not handled.")}}de++,N[de]||(N[de]=0)}}}}if(l(U,H),E)for(var Cn=h.getPickupLength(),Je=0;Je<U.length;Je++){for(var ut=0;U[Je][ut].el_type!=="note"&&U[Je].length>ut;)ut++;if(U[Je].length>ut){for(var Me=0;Me<E;Me++)Cn===0||Me<E-1?(U[Je].splice(ut,0,{el_type:"note",rest:{type:"rest"},duration:n},{el_type:"bar"}),ut+=2):U[Je].splice(ut++,0,{el_type:"note",rest:{type:"rest"},duration:n-Cn});P&&($=!1,U[Je].splice(ut++,0,{el_type:"drum",params:{pattern:B,bars:F,intro:E,on:$}}),P=!1)}}return U.length>0&&U[0].length>0&&(U[0][0].pickupLength=h.getPickupLength()),U};function a(h,x,S){for(var C=0,T=x+1;T<h.length;T++)if(h[T].el_type==="note"&&C++,h[T].decoration&&h[T].decoration.indexOf(S)>=0)return C;return C}function o(h,x,S){for(var C=Math.min(h.length,x+3),T=x;T<C;T++)if(h[T].el_type==="note"&&h[T].decoration){for(var M=0;M<h[T].decoration.length;M++)if(S.indexOf(h[T].decoration[M])>=0)return h[T].decoration[M]}return null}function l(h,x){if(!(!x||x.length===0))for(var S=Object.keys(x),C=0;C<h.length;C++)for(var T=h[C],M=x[0]?x[0].qpm:0,A=0;A<T.length;A++){var B=T[A];B.el_type==="tempo"&&(M=B.qpm),S.indexOf(""+B.timing)>=0&&M!==x[""+B.timing].qpm&&(M=x[""+B.timing].qpm,B.el_type==="tempo"?(B.qpm=x[""+B.timing].qpm,A++):(h[C].splice(A,0,{el_type:"tempo",qpm:x[""+B.timing].qpm,timing:B.timing}),A+=2))}}function f(h){for(var x=0;x<h.length;x++)for(var S=h[x],C=S.length-1;C>=0&&S[C].el_type!=="bar";)S[C].noChordVoice=!0,C--}function d(h,x){if(!(!h||h.length<=x||!h[x].title))return h[x].title.join(" ")}function m(h,x){var S=.25;h.duration&&(S=h.duration[0]);var C=60;return h.bpm&&(C=h.bpm),S*C/x}function w(h){var x;switch(h.type){case"common_time":x={el_type:"meter",num:4,den:4};break;case"cut_time":x={el_type:"meter",num:2,den:2};break;case"specified":x={el_type:"meter",num:h.value[0].num,den:h.value[0].den};break;default:x={el_type:"meter"}}return n=x.num/x.den,x}function b(h){for(var x=[],S=0;S<h.length;S++)h[S].acc!=="natural"&&x.push(h[S]);return x}function g(h,x){var S;x.root==="HP"?S={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:S={el_type:"key",accidentals:b(x.accidentals)},y(h,S)}function p(h,x){var S=w(x);y(h,S)}function y(h,x){for(var S=h.length-1;S>=0;S--)if(h[S].el_type===x.el_type){JSON.stringify(h[S])!==JSON.stringify(x)&&h.push(x);return}h.push(x)}}(),fd=t,fd}var hd,u5;function RF(){if(u5)return hd;u5=1;var t=function(m,w,b,g){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=m,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!w,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=g,this.tempoChangeFactor=1,this.bassInstrument=b.bassprog&&b.bassprog.length>=1?b.bassprog[0]:0,this.chordInstrument=b.chordprog&&b.chordprog.length>=1?b.chordprog[0]:0,this.bassOctaveShift=b.bassprog&&b.bassprog.length===2?b.bassprog[1]:0,this.chordOctaveShift=b.chordprog&&b.chordprog.length===2?b.chordprog[1]:0,this.boomVolume=b.bassvol&&b.bassvol.length===1?b.bassvol[0]:64,this.chickVolume=b.chordvol&&b.chordvol.length===1?b.chordvol[0]:48,b.gchord&&b.gchord.length>0?this.overridePattern=r(b.gchord[0]):this.overridePattern=void 0};t.prototype.setMeter=function(d){this.meter=d},t.prototype.setTempoChangeFactor=function(d){this.tempoChangeFactor=d},t.prototype.setLastBarTime=function(d){this.lastBarTime=d},t.prototype.setTranspose=function(d){this.transpose=d},t.prototype.setRhythmHead=function(d,m){this.hasRhythmHead=d;var w=[];if(d&&this.lastChord&&this.lastChord.chick)for(var b=0;b<this.lastChord.chick.length;b++){var g=Object.assign({},m.pitches[0]);g.actualPitch=this.lastChord.chick[b],w.push(g)}return w},t.prototype.barEnd=function(d){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,l(d.time)),this.currentChords=[]),this.chordLastBar=this.lastChord},t.prototype.gChordOn=function(d){this.chordsOff||(this.gChordTacet=d.tacet)},t.prototype.paramChange=function(d){switch(d.el_type){case"gchord":d.param&&d.param.length>0?this.overridePattern=r(d.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.bassOctaveShift=d.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.chordOctaveShift=d.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=d.param;break;case"chordvol":this.chickVolume=d.param;break;default:console.log("unhandled midi param",d)}},t.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)},t.prototype.addTrack=function(d){this.chordTrackEmpty()||d.push(this.chordTrack)},t.prototype.findChord=function(d){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!d.chord||d.chord.length===0)return null;for(var m=0;m<d.chord.length;m++){var w=d.chord[m];if(w.position==="default")return w.name;if(this.breakSynonyms.indexOf(w.name.toLowerCase())>=0)return"break"}return null},t.prototype.interpretChord=function(d){if(d.length!==0){if(d==="break")return{chick:[]};var m=d.substring(0,1);if(m==="("){if(d=d.substring(1,d.length-2),d.length===0)return;m=d.substring(0,1)}var w=this.basses[m];if(w){for(var b=this.transpose;b<-8;)b+=12;for(;b>8;)b-=12;w+=b,w<33?w+=12:w>44&&(w-=12);var g=w;w+=this.bassOctaveShift*12;var p=w-5,y;d.length===1&&(y=this.chordNotes(w,""));var h=d.substring(1),x=h.substring(0,1);x==="b"||x===""?(g--,w--,p--,h=h.substring(1)):(x==="#"||x==="")&&(g++,w++,p++,h=h.substring(1));var S=h.split("/");if(y=this.chordNotes(g,S[0]),y.length>=3){var C=y[2]-y[0];p=p+C-7}if(S.length===2){var T=this.basses[S[1].substring(0,1)];if(T){var M=S[1].substring(1),A={"#":1,"":1,b:-1,"":-1}[M]||0;w=this.basses[S[1].substring(0,1)]+A+b,w+=this.bassOctaveShift*12,p=w}}return{boom:w,boom2:p,chick:y}}}},t.prototype.chordNotes=function(d,m){var w=this.chordIntervals[m];w||(m.slice(0,2).toLowerCase()==="ma"||m[0]==="M"?w=this.chordIntervals.M:m[0]==="m"||m[0]==="-"?w=this.chordIntervals.m:w=this.chordIntervals.M),d+=12,d+=this.chordOctaveShift*12;for(var b=[],g=0;g<w.length;g++)b.push(d+w[g]);return b},t.prototype.writeNote=function(d,m,w,b,g,p){d!==void 0&&this.chordTrack.push({cmd:"note",pitch:d,volume:w,start:this.lastBarTime+b*f(m,this.tempoChangeFactor),duration:f(g,this.tempoChangeFactor),gap:0,instrument:p})},t.prototype.chordTrackEmpty=function(){for(var d=!0,m=0;m<this.chordTrack.length&&d;m++)this.chordTrack[m].cmd==="note"&&(d=!1);return d},t.prototype.resolveChords=function(d,m){if(!this.hasRhythmHead){var w=this.meter.num,b=this.meter.den,g=1/b,p=g/2,y=parseInt(w,10)/parseInt(b,10),h=y-(m-d)/this.tempoChangeFactor;Math.abs(h)<1e-5&&(h=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var x=a(this.currentChords,8*w/b),S=this.overridePattern?this.overridePattern:this.rhythmPatterns[w+"/"+b];if(h){S=[];for(var C=(m-d)/this.tempoChangeFactor*8,T=0;T<C/2;T+=2)S.push("chick"),S.push("")}if(!S){S=[];for(var T=0;T<8*w/b/2;T++)S.push("chick"),S.push("")}for(var M=!0,A=Math.min(S.length,x.length),T=0;T<A;T++){T>0&&x[T-1]&&x[T]&&x[T-1].boom!==x[T].boom&&(M=!0);var B=S[T],F=B.indexOf("boom")>=0,E=!F&&T!==0&&S[0].indexOf("boom")>=0&&(!x[T-1]||x[T-1].boom!==x[T].boom),$=e(x[T],B,M,E);F&&(M=!1);for(var P=0;P<$.length;P++)this.writeNote($[P],.125,F||E?this.boomVolume:this.chickVolume,T,p,F||E?this.bassInstrument:this.chordInstrument),E?E=!1:F=!1}}},t.prototype.processChord=function(d){if(!this.chordTrackFinished){var m=this.findChord(d);if(m){var w=this.interpretChord(m);if(w){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=w;var b=o(this.lastBarTime,l(d.time));this.currentChords.push({chord:this.lastChord,beat:b,start:l(d.time)})}}}};function e(d,m,w,b){var g=[];if(!d)return g;m.indexOf("boom")>=0?g.push(w?d.boom:d.boom2):b&&g.push(d.boom);var p=d.chick.length;if(m.indexOf("chick")>=0)for(var y=0;y<p;y++)g.push(d.chick[y]);switch(m){case"DO":g.push(d.chick[0]);break;case"MI":g.push(d.chick[1]);break;case"SOL":g.push(n(d,2));break;case"TI":g.push(n(d,3));break;case"TOP":g.push(n(d,4));break;case"do":g.push(d.chick[0]+12);break;case"mi":g.push(d.chick[1]+12);break;case"sol":g.push(n(d,2)+12);break;case"ti":g.push(n(d,3)+12);break;case"top":g.push(n(d,4)+12);break}return g}function n(d,m){var w=Math.floor(m/d.chick.length),b=d.chick[m%d.chick.length];return b+w*12}function r(d){for(var m=[],w=0;w<d.length;w++){var b=d[w];switch(b){case"z":m.push("");break;case"2":m.push("");break;case"c":m.push("chick");break;case"b":m.push("boom&chick");break;case"f":m.push("boom");break;case"G":m.push("DO");break;case"H":m.push("MI");break;case"I":m.push("SOL");break;case"J":m.push("TI");break;case"K":m.push("TOP");break;case"g":m.push("do");break;case"h":m.push("mi");break;case"i":m.push("sol");break;case"j":m.push("ti");break;case"k":m.push("top");break}}return m}function a(d,m,w){var b=[];if(d.length===0)return b;for(var g=d[0].chord,p=1;p<d.length;p++){for(var y=d[p];b.length<y.beat;)b.push(g);g=y.chord}for(;b.length<m;)b.push(g);return b}function o(d,m){var w=m-d;return w*8}t.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"],t.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43},t.prototype.chordIntervals={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]},t.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function l(d){return d/1e6}function f(d,m){return Math.round(d*m*1e6)/1e6}return hd=t,hd}var dd,f5;function t8(){if(f5)return dd;f5=1;var t={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function e(n){var r=(n.accidental?n.accidental[0]:"x")+n.verticalPos;return t[r]}return dd=e,dd}var pd,h5;function IF(){if(h5)return pd;h5=1;var t,e=RF(),n=t8();return function(){var r,a,o,l,f,d=1,m,w,b,g,p,y,h={num:4,den:4},x=128,S,C=!0,T=105,M=95,A=85,B=.25,F,E,$=0,P,z={},j,V=0,L,D=0,W=-.001,G=.4;t=function(re,ie,ce,se){ie||(ie={}),se||(se={}),r=[],a=[0,0,0,0,0,0,0],l=[],f=ie.qpm,d=1,m=void 0,w=void 0,b=void 0,g=void 0,p=0,L=ce,h={num:4,den:4},C=!0,T=105,M=95,A=85,B=.25,F=void 0,E=void 0,$=0,P=[],z={},j=1,re.length>0&&re[0].length>0&&(V=re[0][0].pickupLength),ie.bassprog!==void 0&&!se.bassprog&&(se.bassprog=[ie.bassprog]),ie.bassvol!==void 0&&!se.bassvol&&(se.bassvol=[ie.bassvol]),ie.chordprog!==void 0&&!se.chordprog&&(se.chordprog=[ie.chordprog]),ie.chordvol!==void 0&&!se.chordvol&&(se.chordvol=[ie.chordvol]),ie.gchord!==void 0&&!se.gchord&&(se.gchord=[ie.gchord]),y=new e(re.length,ie.chordsOff,se,h),N(re,ie);for(var ye=0;ye<re.length;ye++){o=0,y.setTranspose(o);var Me=re[ye];b=[{cmd:"program",channel:ye,instrument:m}],g=void 0,S=0,y.setLastBarTime(0);var Oe=!1;(ie.voicesOff===!0||ie.voicesOff&&ie.voicesOff.length&&ie.voicesOff.indexOf(ye)>=0)&&(Oe=!0);for(var $e=0;$e<Me.length;$e++){var Ee=Me[$e];switch(Ee.el_type){case"name":g={cmd:"text",type:"name",text:Ee.trackName};break;case"note":he(Ee,Oe);break;case"key":a=de(Ee);break;case"meter":h=Ee,y.setMeter(h),B=H(h),Pe();break;case"tempo":f?d=Ee.qpm?f/Ee.qpm:1:f=Ee.qpm,y.setTempoChangeFactor(d);break;case"transpose":o=Ee.transpose,y.setTranspose(o);break;case"bar":y.barEnd(Ee),r=[],ye===0&&Re(re.length+1),y.setRhythmHead(!1),S=R(Ee.time),y.setLastBarTime(S);break;case"bagpipes":break;case"instrument":if(m===void 0&&(m=Ee.program),w=Ee.program,b.length>0&&b[b.length-1].cmd==="program")b[b.length-1].instrument=Ee.program;else{var Be;for(Be=b.length-1;Be>=0&&b[Be].cmd!=="program";Be--);(Be<0||b[Be].instrument!==Ee.program)&&b.push({cmd:"program",channel:0,instrument:Ee.program})}break;case"channel":U(Ee.channel);break;case"drum":z=Ae(Ee.params),Pe();break;case"gchordOn":y.gChordOn(Ee);break;case"beat":T=Ee.beats[0],M=Ee.beats[1],A=Ee.beats[2];break;case"vol":F=Ee.volume;break;case"volinc":E=Ee.volume;break;case"beataccents":C=Ee.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":y.paramChange(Ee);break;default:console.log("MIDI creation. Unknown el_type: "+Ee.el_type+`
`);break}}b[0].instrument===void 0&&(b[0].instrument=m||0),g&&b.unshift(g),l.push(b),y.finish(),P.length>0}return ie.detuneOctave&&ze(l,parseInt(ie.detuneOctave,10)),y.addTrack(l),P.length>0&&l.push(P),{tempo:f,instrument:m,tracks:l,totalDuration:p}};function U(re){for(var ie=b.length-1;ie>=0;ie--)if(b[ie].cmd==="program"){b[ie].channel=re;return}}function R(re){return re/1e6}function I(re){return Math.round(re*d*1e6)/1e6}function N(re,ie){for(var ce=0;ce<re.length;ce++){for(var se=re[ce],ye={},Me=ie.qpm,Oe=0,$e=1,Ee=0;Ee<se.length;Ee++){var Be=se[Ee];if(Be.el_type==="tempo"){Me?$e=Be.qpm?Me/Be.qpm:1:Me=Be.qpm;continue}Be.time=Oe;var Ye=Be.duration?Be.duration:0;if(Oe+=Math.round(Ye*$e*1e6),Be.pitches){for(var Ze=0;Ze<Be.pitches.length;Ze++){var Ve=Be.pitches[Ze];if(Ve){if(Ve.duration=Be.duration,Ve.startTie)ye[Ve.pitch]===void 0?ye[Ve.pitch]={el:Ee,pitch:Ze}:(se[ye[Ve.pitch].el].pitches[ye[Ve.pitch].pitch].duration+=Ve.duration,Be.pitches[Ze]=null);else if(Ve.endTie){var mt=ye[Ve.pitch];if(mt){var Cn=Ve.duration;delete se[mt.el].pitches[mt.pitch].startTie,se[mt.el].pitches[mt.pitch].duration+=Cn,Be.pitches[Ze]=null,delete ye[Ve.pitch]}else delete Ve.endTie}}}delete Be.duration}}for(var Je in ye)if(ye.hasOwnProperty(Je)){var ut=ye[Je];delete se[ut.el].pitches[ut.pitch].startTie}}}function H(re){switch(parseInt(re.den,10)){case 2:return .5;case 4:return .25;case 8:return re.num%3===0?.375:.125;case 16:return .125}return .25}function X(re,ie,ce){var se=ce-re;return se/ie}function Z(re,ie){if(ie)return 0;var ce;if(F!=null)ce=F,F=void 0;else if(!C)ce=M;else if(V>re)ce=A;else{var se=X(S,H(h),re);se===0?ce=T:parseInt(se,10)===se?ce=M:ce=A}return E&&(ce+=E,E=void 0),ce<0&&(ce=0),ce>127&&(ce=127),ie?0:ce}function K(re,ie){var ce={};if(re.decoration)for(var se=0;se<re.decoration.length;se++)re.decoration[se]==="staccato"?ce.thisBreakBetweenNotes="staccato":re.decoration[se]==="tenuto"?ce.thisBreakBetweenNotes="tenuto":re.decoration[se]==="accent"?ce.velocity=Math.min(127,ie*1.5):re.decoration[se]==="trill"?ce.noteModification="trill":re.decoration[se]==="lowermordent"?ce.noteModification="lowermordent":re.decoration[se]==="uppermordent"||re.decoration[se]==="mordent"?ce.noteModification="mordent":re.decoration[se]==="turn"?ce.noteModification="turn":re.decoration[se]==="roll"&&(ce.noteModification="roll");return ce}function ae(re,ie){var ce=ie.start,se=ie.duration,ye=I(1/32);switch(re){case"trill":for(var Me=2;se>0;)b.push({cmd:"note",pitch:ie.pitch+Me,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),Me=Me===2?0:2,se-=ye,ce+=ye;break;case"mordent":b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),se-=ye,ce+=ye,b.push({cmd:"note",pitch:ie.pitch+2,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),se-=ye,ce+=ye,b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce,duration:se,gap:0,instrument:w});break;case"lowermordent":b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),se-=ye,ce+=ye,b.push({cmd:"note",pitch:ie.pitch-2,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),se-=ye,ce+=ye,b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce,duration:se,gap:0,instrument:w});break;case"turn":ye=ie.duration/4,b.push({cmd:"note",pitch:ie.pitch+2,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce+ye,duration:ye,gap:0,instrument:w,style:"decoration"}),b.push({cmd:"note",pitch:ie.pitch-1,volume:ie.volume,start:ce+ye*2,duration:ye,gap:0,instrument:w,style:"decoration"}),b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce+ye*3,duration:ye,gap:0,instrument:w,style:"decoration"});break;case"roll":for(;se>0;)b.push({cmd:"note",pitch:ie.pitch,volume:ie.volume,start:ce,duration:ye,gap:0,instrument:w,style:"decoration"}),se-=ye*2,ce+=ye*2;break}}function he(re,ie){var ce=Z(R(re.time),ie);y.processChord(re);var se;if(re.gracenotes&&re.pitches&&re.pitches.length>0&&re.pitches[0]&&(se=ke(re.gracenotes,re.pitches[0].duration),re.elem&&(re.elem.midiGraceNotePitches=Te(se,R(re.time),ce*2/3,w))),re.elem){var ye=R(re.time),Me=ye/B/f*60*1e3;if(re.elem.currentTrackMilliseconds===void 0)re.elem.currentTrackMilliseconds=Me,re.elem.currentTrackWholeNotes=ye;else if(re.elem.currentTrackMilliseconds.length===void 0)re.elem.currentTrackMilliseconds!==Me&&(re.elem.currentTrackMilliseconds=[re.elem.currentTrackMilliseconds,Me],re.elem.currentTrackWholeNotes=[re.elem.currentTrackWholeNotes,ye]);else{for(var Oe=!1,$e=0;$e<re.elem.currentTrackMilliseconds.length;$e++)re.elem.currentTrackMilliseconds[$e]===Me&&(Oe=!0);Oe||(re.elem.currentTrackMilliseconds.push(Me),re.elem.currentTrackWholeNotes.push(ye))}}if(re.pitches){var Ee="",Be=K(re,ce);Be.thisBreakBetweenNotes&&(Ee=Be.thisBreakBetweenNotes),Be.velocity&&(ce=Be.velocity);var Ye=re.pitches;re.style==="rhythm"&&(Ye=y.setRhythmHead(!0,re)),re.elem&&(re.elem.midiPitches=[]);for(var Ze=0;Ze<Ye.length;Ze++){var Ve=Ye[Ze];if(Ve){Ve.startSlur&&($+=Ve.startSlur.length),Ve.endSlur&&($-=Ve.endSlur.length);var mt=Ve.actualPitch?Ve.actualPitch:Se(Ve);if(w===x&&L){var Cn=n(Ve);Cn&&L[Cn]&&(mt=L[Cn].sound)}var Je={cmd:"note",pitch:mt,volume:ce,start:R(re.time),duration:I(Ve.duration),instrument:w,startChar:re.elem.startChar,endChar:re.elem.endChar};if(Je=me(Je),re.gracenotes&&(Je.duration=Je.duration/2,Je.start=Je.start+Je.duration),re.elem&&re.elem.midiPitches.push(Je),Be.noteModification)ae(Be.noteModification,Je);else{switch($>0?Je.endType="tenuto":Ee&&(Je.endType=Ee),Je.endType){case"tenuto":Je.gap=W;break;case"staccato":var ut=Je.duration*G;Je.gap=f/60*ut;break;default:Je.gap=D;break}b.push(Je)}}}b.length-1}var cn=ee(re);p=Math.max(p,R(re.time)+I(cn))}function ee(re){return re.pitches&&re.pitches.length>0&&re.pitches[0]?re.pitches[0].duration:re.elem?re.elem.duration:re.duration}var ge=[0,2,4,5,7,9,11];function Se(re){if(re.midipitch!==void 0)return re.midipitch;var ie=re.pitch;if(re.accidental)switch(re.accidental){case"sharp":r[ie]=1;break;case"flat":r[ie]=-1;break;case"natural":r[ie]=0;break;case"dblsharp":r[ie]=2;break;case"dblflat":r[ie]=-2;break;case"quartersharp":r[ie]=.25;break;case"quarterflat":r[ie]=-.25;break}var ce=ve(ie)*12+ge[_e(ie)]+60;return r[ie]!==void 0?ce+=r[ie]:ce+=a[_e(ie)],ce+=o,ce}function de(re){var ie=[0,0,0,0,0,0,0];if(!re.accidentals)return ie;for(var ce=0;ce<re.accidentals.length;ce++){var se=re.accidentals[ce],ye;switch(se.acc){case"flat":ye=-1;break;case"quarterflat":ye=-.25;break;case"sharp":ye=1;break;case"quartersharp":ye=.25;break;default:ye=0;break}var Me=se.note.toLowerCase(),Oe=_e(Me.charCodeAt(0)-99);ie[Oe]+=ye}return ie}function ke(re,ie){for(var ce=0,se=[],ye,Me=0;Me<re.length;Me++)ye=re[Me],ce+=ye.duration;var Oe=ie/2/ce;for(Me=0;Me<re.length;Me++){ye=re[Me];var $e=Se(ye);if(w===x&&L){var Ee=n(ye);Ee&&L[Ee]&&($e=L[Ee].sound)}var Be={pitch:$e,duration:ye.duration*Oe};Be=me(Be),se.push(Be)}return se}function Te(re,ie,ce,se){var ye=[];ce=Math.round(ce);for(var Me=0;Me<re.length;Me++){var Oe=re[Me];b.push({cmd:"note",pitch:Oe.pitch,volume:ce,start:ie,duration:Oe.duration,gap:0,instrument:se,style:"grace"}),ye.push({pitch:Oe.pitch,durationInMeasures:Oe.duration,volume:ce,instrument:se}),ie+=Oe.duration}return ye}function me(re){var ie=""+re.pitch;return ie.indexOf(".75")>=0?(re.pitch=Math.round(re.pitch),re.cents=-50):ie.indexOf(".25")>=0&&(re.pitch=Math.round(re.pitch),re.cents=50),re}function ve(re){return Math.floor(re/7)}function _e(re){return re=re%7,re<0&&(re+=7),re}function Ae(re){if(re.pattern.length===0||re.on===!1)return{on:!1};for(var ie=re.pattern[0],ce=[],se="",ye=0,Me=0;Me<ie.length;Me++)if(ie[Me]==="d"&&ye++,ie[Me]==="d"||ie[Me]==="z")se.length!==0?(ce.push(se),se=ie[Me]):se=se+ie[Me];else{if(se.length===0)return{on:!1};se=se+ie[Me]}if(se.length!==0&&ce.push(se),re.pattern.length!==ye*2+1)return{on:!1};for(var Oe={on:!0,bars:re.bars,pattern:[]},$e=H(h),Ee=0,Be=0;Be<ce.length;Be++){se=ce[Be];for(var Ye=1,Ze=!1,Ve=0,mt=1;mt<se.length;mt++)switch(se[mt]){case"/":Ve!==0&&(Ye*=Ve),Ve=0,Ze=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ve=Ve*10+se[mt];break;default:return{on:!1}}Ze?(Ve===0&&(Ve=2),Ye/=Ve):Ve&&(Ye*=Ve),se[0]==="d"?(Oe.pattern.push({len:Ye*$e,pitch:re.pattern[1+Ee],velocity:re.pattern[1+Ee+ye]}),Ee++):Oe.pattern.push({len:Ye*$e,pitch:null})}return j=re.bars?re.bars:1,Oe}function Pe(){if(!(!z||!z.pattern)){for(var re=z,ie=0,ce=h.num/h.den,se=0;se<re.pattern.length;se++)ie+=re.pattern[se].len;var ye=ie/j/ce;for(se=0;se<re.pattern.length;se++)re.pattern[se].len=re.pattern[se].len/ye;z=re}}function Re(re){if(!(P.length===0&&!z.on)){var ie=h.num/h.den;if(P.length===0){if(p<ie)return;P.push({cmd:"program",channel:re,instrument:x})}if(z.on)for(var ce=S,se=0;se<z.pattern.length;se++){var ye=I(z.pattern[se].len);z.pattern[se].pitch&&P.push({cmd:"note",pitch:z.pattern[se].pitch,volume:z.pattern[se].velocity,start:ce,duration:ye,gap:0,instrument:x}),ce+=ye}}}function ze(re,ie){for(var ce={},se=0;se<re.length;se++)for(var ye=0;ye<re[se].length;ye++){var Me=re[se][ye];Me.cmd==="note"&&(ce[Me.start]===void 0&&(ce[Me.start]=[]),ce[Me.start].push({track:se,event:ye,pitch:Me.pitch}))}var Oe=Object.keys(ce);for(se=0;se<Oe.length;se++){var $e=ce[Oe[se]];if($e.length>1){$e=$e.sort(function(Ve,mt){return Ve.pitch-mt.pitch});var Ee=$e[$e.length-1],Be=Ee.pitch%12,Ye=!1;for(ye=0;!Ye&&ye<$e.length-1;ye++)$e[ye].pitch%12===Be&&(Ye=!0);if(Ye){var Ze=re[Ee.track][Ee.event];Ze.cents||(Ze.cents=0),Ze.cents+=ie}}}}}(),pd=t,pd}var md,d5;function OF(){if(d5)return md;d5=1;function t(d,m){m||(m={});for(var w=!!m.lineBreaks,b=[],g=!1,p=[],y=[],h=[],x=[],S=[],C=[],T=[],M=0;M<d.length;M++){var A=d[M];if(A.staff){if(g&&!A.vskip)for(var B=b[b.length-1],F=0;F<B.staff.length;F++){var E=A.staff[F],$=B.staff[F];if(E&&(l(E.meter,p[F])||(n(E.meter,E.voices),p[F]=E.meter,delete E.meter),l(E.key,y[F])||(r(E.key,E.voices),y[F]=E.key,delete E.key),E.title&&($.abbrevTitle=E.title),l(E.clef,h[F])||(a(E.clef,E.voices),h[F]=E.clef,delete E.clef),l(E.vocalfont,x[F])||(o(E.vocalfont,E.voices,"vocalfont"),x[F]=E.vocalfont,delete E.vocalfont),l(E.gchordfont,S[F])||(o(E.gchordfont,E.voices,"gchordfont"),S[F]=E.gchordfont,delete E.gchordfont),l(E.tripletfont,C[F])||(o(E.tripletfont,E.voices,"tripletfont"),C[F]=E.tripletfont,delete E.tripletfont),l(E.annotationfont,T[F])||(o(E.annotationfont,E.voices,"annotationfont"),T[F]=E.annotationfont,delete E.annotationfont)),E)for(var P=0;P<$.voices.length;P++){var z=$.voices[P],j=E.voices[P];w&&z.push({el_type:"break"}),j&&($.voices[P]=z.concat(j))}}else{for(var V=0;V<A.staff.length;V++)y[V]=A.staff[V].key,p[V]=A.staff[V].meter,h[V]=A.staff[V].clef;b.push(f(A))}g=!0}else g=!1,b.push(A)}return b}function e(d,m){return d==="abselem"?"abselem":m}function n(d,m){d.el_type="meter",d.startChar=-1,d.endChar=-1;for(var w=0;w<m.length;w++)m[w].unshift(d)}function r(d,m){d.el_type="key",d.startChar=-1,d.endChar=-1;for(var w=0;w<m.length;w++)m[w].unshift(d)}function a(d,m){d.el_type="clef",d.startChar=-1,d.endChar=-1;for(var w=0;w<m.length;w++)m[w].unshift(d)}function o(d,m,w){d.el_type="font",d.type=w,d.startChar=-1,d.endChar=-1;for(var b=0;b<m.length;b++)m[b].unshift(d)}function l(d,m){if(!d)return!0;var w=JSON.stringify(d,e),b=JSON.stringify(m,e);return w===b}function f(d){for(var m={},w=Object.keys(d),b=0;b<w.length;b++)if(w[b]!=="staff")m[w[b]]=d[w[b]];else{m.staff=[];for(var g=0;g<d.staff.length;g++){for(var p={},y=Object.keys(d.staff[g]),h=0;h<y.length;h++)if(y[h]!=="voices")p[y[h]]=d.staff[g][y[h]];else{p.voices=[];for(var x=0;x<d.staff[g].voices.length;x++)p.voices.push([].concat(d.staff[g].voices[x]))}m.staff.push(p)}}return m}return md=t,md}var gd,p5;function n8(){if(p5)return gd;p5=1;var t=wi(),e=qn(),n=e8(),r=IF(),a=OF(),o=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function l(g,p,y,h){for(var x=0;x<h.length;x++)g[y][h[x]]=p[y][h[x]]}this.copyTopInfo=function(g){var p=["tempo","title","header","rhythm","origin","composer","author","partOrder"];l(this,g,"metaText",p),l(this,g,"metaTextInfo",p)},this.copyBottomInfo=function(g){var p=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];l(this,g,"metaText",p),l(this,g,"metaTextInfo",p)},this.getBeatLength=function(){var g=this.getMeterFraction(),p=1;return(g.num===6||g.num===9||g.num===12||g.num===3&&g.den===8)&&(p=3),p/g.den};function f(g,p){for(var y=0,h=0;h<g.length;h++)if(g[h].staff)for(var x=0;x<g[h].staff.length;x++)for(var S=0;S<g[h].staff[x].voices.length;S++)for(var C=g[h].staff[x].voices[S],T=1,M=0;M<C.length;M++){var A=C[M].rest&&C[M].rest.type==="spacer";if(C[M].startTriplet&&(T=C[M].tripletMultiplier),C[M].duration&&!A&&C[M].el_type!=="tempo"&&(y+=C[M].duration*T),C[M].endTriplet&&(T=1),y>=p&&(y-=p),C[M].el_type==="bar")return y}return y}this.getPickupLength=function(){var g=this.getBarLength(),p=f(this.lines,g);return p<1e-8||g-p<1e-8?0:p},this.getBarLength=function(){var g=this.getMeterFraction();return g.num/g.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(g){var p;if(g)p=g;else{var y=this.metaText?this.metaText.tempo:null;p=this.getBpm(y)}p<=0&&(p=1);var h=this.getBeatsPerMeasure(),x=h/p;return x*6e4},this.getBeatsPerMeasure=function(){var g=this.getBeatLength(),p=this.getBarLength();return p/g},this.getMeter=function(){for(var g=0;g<this.lines.length;g++){var p=this.lines[g];if(p.staff)for(var y=0;y<p.staff.length;y++){var h=p.staff[y].meter;if(h)return h}}return{type:"common_time"}},this.getMeterFraction=function(){var g=this.getMeter(),p=4,y=4;return g&&(g.type==="specified"?(p=parseInt(g.value[0].num,10),y=parseInt(g.value[0].den,10)):g.type==="cut_time"?(p=2,y=2):g.type==="common_time"&&(p=4,y=4)),this.meter={num:p,den:y},this.meter},this.getKeySignature=function(){for(var g=0;g<this.lines.length;g++){var p=this.lines[g];if(p.staff){for(var y=0;y<p.staff.length;y++)if(p.staff[y].key)return p.staff[y].key}}return{}},this.getElementFromChar=function(g){for(var p=0;p<this.lines.length;p++){var y=this.lines[p];if(y.staff)for(var h=0;h<y.staff.length;h++)for(var x=y.staff[h],S=0;S<x.voices.length;S++)for(var C=x.voices[S],T=0;T<C.length;T++){var M=C[T];if(M.startChar&&M.endChar&&M.startChar<=g&&M.endChar>g)return M}}return null};function d(g){for(var p,y,h,x,S=g.length-1;S>=0;S--){var C=g[S];C.type==="bar"?(C.top=h,C.nextTop=p,p=h,C.bottom=x,C.nextBottom=y,y=x):C.type==="event"&&(h=C.top,x=C.top+C.height)}}function m(g){var p=[];for(var y in g)g.hasOwnProperty(y)&&p.push(g[y]);return p=p.sort(function(h,x){var S=h.milliseconds-x.milliseconds;return S!==0?S:h.type==="bar"?-1:1}),p}this.addElementToEvents=function(g,p,y,h,x,S,C,T,M,A){if(p.hint)return{isTiedState:void 0,duration:0};var B=p.durationClass?p.durationClass:p.duration;if(p.abcelem.rest&&p.abcelem.rest.type==="spacer"&&(B=0),B>0){for(var F=[],E=0;E<p.elemset.length;E++)p.elemset[E]!==null&&F.push(p.elemset[E]);var $=p.startTie;if(M!==void 0)g["event"+M].elements.push(F),A&&(g["event"+y]||(g["event"+y]={type:"event",milliseconds:y,line:S,measureNumber:C,top:h,height:x,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),g["event"+y].measureStart=!0,A=!1),$||(M=void 0);else{if(!g["event"+y])g["event"+y]={type:"event",milliseconds:y,line:S,measureNumber:C,top:h,height:x,left:p.x,width:p.w,elements:[F],startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,startCharArray:[p.abcelem.startChar],endCharArray:[p.abcelem.endChar],midiPitches:p.abcelem.midiPitches?t.cloneArray(p.abcelem.midiPitches):[]},p.abcelem.midiGraceNotePitches&&(g["event"+y].midiGraceNotePitches=t.cloneArray(p.abcelem.midiGraceNotePitches));else{if(g["event"+y].left?g["event"+y].left=Math.min(g["event"+y].left,p.x):g["event"+y].left=p.x,g["event"+y].elements.push(F),g["event"+y].startCharArray.push(p.abcelem.startChar),g["event"+y].endCharArray.push(p.abcelem.endChar),g["event"+y].startChar===null&&(g["event"+y].startChar=p.abcelem.startChar),g["event"+y].endChar===null&&(g["event"+y].endChar=p.abcelem.endChar),p.abcelem.midiPitches&&p.abcelem.midiPitches.length){g["event"+y].midiPitches||(g["event"+y].midiPitches=[]);for(var E=0;E<p.abcelem.midiPitches.length;E++)g["event"+y].midiPitches.push(p.abcelem.midiPitches[E])}if(p.abcelem.midiGraceNotePitches&&p.abcelem.midiGraceNotePitches.length){g["event"+y].midiGraceNotePitches||(g["event"+y].midiGraceNotePitches=[]);for(var P=0;P<p.abcelem.midiGraceNotePitches.length;P++)g["event"+y].midiGraceNotePitches.push(p.abcelem.midiGraceNotePitches[P])}}A&&(g["event"+y].measureStart=!0,A=!1)}}return{isTiedState:M,duration:B/T,nextIsBar:A||p.type==="bar"}},this.makeVoicesArray=function(){for(var g=[],p=[],y={},h=0;h<this.engraver.staffgroups.length;h++){var x=this.engraver.staffgroups[h];if(x&&x.staffs&&x.staffs.length>0){var S=x.staffs[0],C=S.absoluteY,T=C-S.top*e.STEP,M=x.staffs[x.staffs.length-1];C=M.absoluteY;for(var A=C-M.bottom*e.STEP,B=A-T,F=x.voices,E=0;E<F.length;E++)if(!(F[E].staff&&F[E].staff.isTabStaff)){var $=!1;g[E]||(g[E]=[]),p[E]===void 0&&(p[E]=0);for(var P=F[E].children,z=0;z<P.length;z++)P[z].type==="tempo"&&(y[p[E]]=this.getBpm(P[z].abcelem)),g[E].push({top:T,height:B,line:x.line,measureNumber:p[E],elem:P[z]}),P[z].type==="bar"&&$&&p[E]++,(P[z].type==="note"||P[z].type==="rest")&&($=!0)}}}return this.tempoLocations=y,g},this.setupEvents=function(g,p,y,h){h||(h=1);for(var x=[],S={},C=g,T,M=!0,A=this.makeVoicesArray(),B=0,F=0;F<A.length;F++){var E=C,$=Math.round(E*1e3),P=0,z=-1,j=A[F],V=y;p=this.getBeatLength()*V/60;for(var L=-1,D=0;D<j.length;D++){var W=j[D].measureNumber;L!==W&&this.tempoLocations[W]&&(V=this.tempoLocations[W],p=h*this.getBeatLength()*V/60,L=W);var G=j[D].elem,U=this.addElementToEvents(S,G,$,j[D].top,j[D].height,j[D].line,j[D].measureNumber,p,T,M);T=U.isTiedState,M=U.nextIsBar,E+=U.duration;var R;if(G.duration>0&&S["event"+$]&&(R="event"+$),$=Math.round(E*1e3),G.type==="bar"){var I=G.abcelem.type,N=I==="bar_right_repeat"||I==="bar_dbl_repeat",H=G.abcelem.startEnding==="1",X=I==="bar_left_repeat"||I==="bar_dbl_repeat"||I==="bar_right_repeat";if(N){D>0&&(S[R].endX=G.x),z===-1&&(z=D);var Z=0;L=-1;for(var K=P;K<z;K++){W=j[K].measureNumber,L!==W&&this.tempoLocations[W]&&(V=this.tempoLocations[W],p=h*this.getBeatLength()*V/60,L=W);var ae=j[K].elem;U=this.addElementToEvents(S,ae,$,j[K].top,j[K].height,j[K].line,j[K].measureNumber,p,T,M),T=U.isTiedState,M=U.nextIsBar,E+=U.duration,Z=$,$=Math.round(E*1e3)}S["event"+Z]&&(S["event"+Z].endX=j[z].elem.x),M=!0,z=-1}H&&(z=D),X&&(P=D)}}B=Math.max(B,$)}return x=m(S),d(x),b(this.lines,x),x.push({type:"end",milliseconds:B}),this.addUsefulCallbackInfo(x,V*h),x},this.addUsefulCallbackInfo=function(g,p){for(var y=this.millisecondsPerMeasure(p),h=0;h<g.length;h++){var x=g[h];x.millisecondsPerMeasure=y}};function w(g,p){for(;p<g.length&&g[p].left===null;)p++;return g[p]}function b(g,p){if(!(p.length<1)){for(var y=0;y<p.length-1;y++){var h=p[y],x=w(p,y+1);if(h.left!==null){var S=x&&h.top===x.top?x.left:g[h.line].staffGroup.w;h.endX!==void 0?S>h.left&&(h.endX=Math.min(h.endX,S)):h.endX=S}}var C=p[p.length-1];C.endX=g[C.line].staffGroup.w}}this.getBpm=function(g){var p;if(g||(g=this.metaText?this.metaText.tempo:null),g){p=g.bpm;var y=this.getBeatLength(),h=g.duration&&g.duration.length>0?g.duration[0]:y;p=p*h/y}if(!p){p=180;var x=this.getMeterFraction();x&&x.num!==3&&x.num%3===0&&(p=120)}return p},this.setTiming=function(g,p){if(p=p||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var y=this.metaText?this.metaText.tempo:null,h=this.getBpm(y),x=1;g?y&&(x=g/h):g=h;var S=this.getBeatLength(),C=g/60,T=this.getBarLength(),M=T/S*p/C;M&&(M-=this.getPickupLength()/S/C);var A=S*C;return this.noteTimings=this.setupEvents(M,A,g,x),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*C):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(g){g||(g={});var p=n(this,g);return r(p,g,this.formatting.percmap,this.formatting.midi)},this.deline=function(g){return a(this.lines,g)},this.findSelectableElement=function(g){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(g):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}};return gd=o,gd}var vd,m5;function DF(){if(m5)return vd;m5=1;var t=Yg(),e=function(E){var $=this,P={},z="";E.reset(),this.setVisualTranspose=function(j){j&&(E.visualTranspose=j)},this.cleanUp=function(j,V,L){p(E),delete E.runningFonts,r(E),E.metaText.tempo&&E.metaText.tempo.bpm&&!E.metaText.tempo.duration&&(E.metaText.tempo.duration=[E.getBeatLength()]);var D=!1,W,G,U;for(W=0;W<E.lines.length;W++)if(E.lines[W].staff!==void 0){var R=!1;for(G=0;G<E.lines[W].staff.length;G++)if(E.lines[W].staff[G]===void 0)D=!0,E.lines[W].staff[G]=null;else for(U=0;U<E.lines[W].staff[G].voices.length;U++)E.lines[W].staff[G].voices[U]===void 0?E.lines[W].staff[G].voices[U]=[]:y(E.lines[W].staff[G].voices[U])&&(R=!0);R||(E.lines[W]=null,D=!0)}if(D&&(E.lines=E.lines.filter(function(K){return!!K}),E.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(ae){return!!ae}))})),j)for(;d(E.lines,j););if(V){for(D=!1,W=0;W<E.lines.length;W++)if(E.lines[W].staff!==void 0)for(G=0;G<E.lines[W].staff.length;G++){var I=!1;for(U=0;U<E.lines[W].staff[G].voices.length;U++)h(E.lines[W].staff[G].voices[U])&&(I=!0);I||(D=!0,E.lines[W].staff[G]=null)}D&&E.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(ae){return!!ae}))})}for(l(E.lines),W=0;W<E.lines.length;W++)if(E.lines[W].staff)for(G=0;G<E.lines[W].staff.length;G++)delete E.lines[W].staff[G].workingClef;for(;a(E););for(var W=0;W<E.lines.length;W++){var N=E.lines[W].staff;if(N)for(E.staffNum=0;E.staffNum<N.length;E.staffNum++)for(N[E.staffNum].clef&&t.fixClef(N[E.staffNum].clef),E.voiceNum=0;E.voiceNum<N[E.staffNum].voices.length;E.voiceNum++){var H=N[E.staffNum].voices[E.voiceNum];f(H,E.staffNum,E.voiceNum,L);for(var X=0;X<H.length;X++)H[X].el_type==="clef"&&t.fixClef(H[X]);if(H.length>0&&H[H.length-1].barNumber){var Z=w(E.lines,W);Z&&(Z.staff[0].barNumber=H[H.length-1].barNumber),delete H[H.length-1].barNumber}}}return delete E.staffNum,delete E.voiceNum,delete E.lineNum,delete E.potentialStartBeam,delete E.potentialEndBeam,delete E.vskipPending,L},this.addTieToLastNote=function(j){var V=b(E);return V&&V.pitches&&V.pitches.length>0?(V.pitches[0].startTie={},j&&(V.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(j,V,L,D){if(D.el_type=j,V!==null&&(D.startChar=V),L!==null&&(D.endChar=L),j==="note"){var W=g(D);W>=.25||D.force_end_beam_last&&E.potentialStartBeam!==void 0?T(E):D.end_beam&&E.potentialStartBeam!==void 0?D.rest===void 0?C(D,E):T(E):D.rest===void 0&&(E.potentialStartBeam===void 0?D.end_beam||(E.potentialStartBeam=D,delete E.potentialEndBeam):E.potentialEndBeam=D)}else T(E);return delete D.end_beam,delete D.force_end_beam_last,D.rest&&D.rest.type==="invisible"&&delete D.decoration,E.lines.length<=E.lineNum||E.lines[E.lineNum].staff.length<=E.staffNum?!1:(S($,E,D,P,z),!0)},this.appendStartingElement=function(j,V,L,D){p(E);var W;j==="key"&&(W=D.impliedNaturals,delete D.impliedNaturals,delete D.explicitAccidentals);var G=Object.assign({},D);if(E.lines[E.lineNum]){var U=E.lines[E.lineNum].staff;if(U){U.length<=E.staffNum&&(U[E.staffNum]={},U[E.staffNum].clef=Object.assign({},U[0].clef),U[E.staffNum].key=Object.assign({},U[0].key),U[0].meter&&(U[E.staffNum].meter=Object.assign({},U[0].meter)),U[E.staffNum].workingClef=Object.assign({},U[0].workingClef),U[E.staffNum].voices=[[]]),j==="clef"&&(U[E.staffNum].workingClef=G);for(var R=U[E.staffNum].voices[E.voiceNum],I=0;I<R.length;I++){if(R[I].el_type==="note"||R[I].el_type==="bar"){G.el_type=j,G.startChar=V,G.endChar=L,W&&(G.accidentals=W.concat(G.accidentals)),R.push(G);return}if(R[I].el_type===j){G.el_type=j,G.startChar=V,G.endChar=L,W&&(G.accidentals=W.concat(G.accidentals)),R[I]=G;return}}U[E.staffNum][j]=D}}},this.addSubtitle=function(j,V){x(E,{subtitle:{text:j,startChar:V.startChar,endChar:V.endChar}})},this.addSpacing=function(j){E.vskipPending=j},this.addNewPage=function(j){x(E,{newpage:j})},this.addSeparator=function(j,V,L,D){x(E,{separator:{spaceAbove:Math.round(j),spaceBelow:Math.round(V),lineLength:Math.round(L),startChar:D.startChar,endChar:D.endChar}})},this.addText=function(j,V){x(E,{text:{text:j,startChar:V.startChar,endChar:V.endChar}})},this.addCentered=function(j){x(E,{text:[{text:j,center:!0}]})},this.changeVoiceScale=function(j){$.appendElement("scale",null,null,{size:j})},this.changeVoiceColor=function(j){$.appendElement("color",null,null,{color:j})},this.startNewLine=function(j){p(E),j.currentVoiceName&&(z=j.currentVoiceName,P[j.currentVoiceName]=j),E.lines[E.lineNum]===void 0?F($,E,j):E.lines[E.lineNum].staff===void 0?(E.lineNum++,this.startNewLine(j)):E.lines[E.lineNum].staff[E.staffNum]===void 0?B($,E,j):E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum]===void 0?A($,E,j):y(E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum])?(E.lineNum++,this.startNewLine(j)):j.part&&$.appendElement("part",j.part.startChar,j.part.endChar,{title:j.part.title})},this.setRunningFont=function(j,V){E.runningFonts[j]=V},this.setBarNumberImmediate=function(j){var V=this.getCurrentVoice();if(V&&V.length>0){var L=V[V.length-1];if(L.el_type==="bar")L.barNumber!==void 0&&(L.barNumber=j);else return j-1}return j},this.hasBeginMusic=function(){for(var j=0;j<E.lines.length;j++)if(E.lines[j].staff)return!0;return!1},this.isFirstLine=function(j){for(var V=j-1;V>=0;V--)if(E.lines[V].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var j=m(E.lines,E.lineNum);if(!j)return null;var V=j.staff[E.staffNum];return V&&V.voices[E.voiceNum]!==void 0?V.voices[E.voiceNum]:null},this.setCurrentVoice=function(j,V,L){E.staffNum=j,E.voiceNum=V,z=L;for(var D=0;D<E.lines.length;D++)if(E.lines[D].staff&&(E.lines[D].staff[j]===void 0||E.lines[D].staff[j].voices[V]===void 0||!y(E.lines[D].staff[j].voices[V])))return E.lineNum=D,!!(!E.lines[D].staff[j]||E.lines[D].staff[j].voices[V]);return E.lineNum=D,!1},this.addMetaText=function(j,V,L){E.metaText[j]===void 0?(E.metaText[j]=V,E.metaTextInfo[j]=L):(typeof E.metaText[j]=="string"&&typeof V=="string"?E.metaText[j]+=`
`+V:(E.metaText[j]==="string"&&(E.metaText[j]=[{text:E.metaText[j]}]),typeof V=="string"&&(V=[{text:V}]),E.metaText[j]=E.metaText[j].concat(V)),E.metaTextInfo[j].endChar=L.endChar)},this.addMetaTextArray=function(j,V,L){E.metaText[j]===void 0?(E.metaText[j]=[V],E.metaTextInfo[j]=L):(E.metaText[j].push(V),E.metaTextInfo[j].endChar=L.endChar)},this.addMetaTextObj=function(j,V,L){E.metaText[j]=V,E.metaTextInfo[j]=L}};function n(E){if(!E||typeof E=="string")return!1;for(var $=0;$<E.length;$++)if(typeof E[$]!="string")return!1;return!0}function r(E){n(E.metaText.notes)&&(E.metaText.notes=E.metaText.notes.join(`
`)),n(E.metaText.history)&&(E.metaText.history=E.metaText.history.join(`
`))}function a(E){for(var $=!1,P=[],z=0;z<E.lines.length;z++){var j=E.lines[z];if(j.staff)for(var V=0;V<j.staff.length;V++){for(var L=j.staff[V],D=[],W=0;W<L.voices.length;W++){var G=L.voices[W];D.push({hasOverlay:!1,voice:[],snip:[]}),P[z]=0;for(var U=0,R=!1,I=-1,N=0;N<G.length;N++){var H=G[N];if(H.el_type==="overlay"&&!R){$=!0,R=!0,I=N,D[W].hasOverlay=!0;for(var X=0;X<z;X++)P[X]&&E.lines[X].staff&&L.voices.length>=E.lines[X].staff[0].voices.length&&E.lines[X].staff[0].voices.push([{el_type:"note",duration:P[X],rest:{type:"invisible"},startChar:H.startChar,endChar:H.endChar}])}else H.el_type==="bar"?(R?(R=!1,D[W].snip.push({start:I,len:N-I}),D[W].voice.push(H)):(U>0&&D[W].voice.push({el_type:"note",duration:U,rest:{type:"invisible"},startChar:H.startChar,endChar:H.endChar}),D[W].voice.push(H)),U=0):H.el_type==="note"?R?D[W].voice.push(H):(U+=H.duration,P[z]+=H.duration):(H.el_type==="scale"||H.el_type==="stem"||H.el_type==="overlay"||H.el_type==="style"||H.el_type==="transpose"||H.el_type==="color")&&D[W].voice.push(H)}D[W].hasOverlay&&D[W].snip.length===0&&D[W].snip.push({start:I,len:G.length-I})}for(W=0;W<D.length;W++){var Z=D[W];if(Z.hasOverlay){Z.voice.splice(0,0,{el_type:"stem",direction:"down"}),L.voices.push(Z.voice);for(var K=Z.snip.length-1;K>=0;K--){var ae=Z.snip[K];L.voices[W].splice(ae.start,ae.len),L.voices[W].splice(ae.start+1,0,{el_type:"stem",direction:"auto"});var he=o(L.voices[W],ae.start);L.voices[W].splice(he,0,{el_type:"stem",direction:"up"})}for(K=0;K<L.voices[L.voices.length-1].length;K++){L.voices[L.voices.length-1][K]=Object.assign({},L.voices[L.voices.length-1][K]);var ee=L.voices[L.voices.length-1][K];ee.el_type==="bar"&&ee.startEnding&&delete ee.startEnding,ee.el_type==="bar"&&ee.endEnding&&delete ee.endEnding}}}}}return $}function o(E,$){for(var P=$-1;P>0&&E[P].el_type!=="bar";P--);return P}function l(E){for(var $=!0,P=0;P<E.length;P++){var z=E[P];if(z.staff){for(var j=0;j<z.staff.length;j++){var V=z.staff[j];if(V.title){for(var L=!1,D=0;D<V.title.length;D++)V.title[D]?(V.title[D]=$?V.title[D].name:V.title[D].subname,V.title[D]?L=!0:V.title[D]=""):V.title[D]="";L||delete V.title}}$=!1}}}function f(E,$,P,z){z[$]||(z[$]=[]),z[$][P]||(z[$][P]=[]);for(var j,V=function(K,ae,he){if(z[$][P][he]===void 0){for(j=0;j<z[$][P].length;j++)if(z[$][P][j]!==void 0){he=j;break}if(z[$][P][he]===void 0){var ee=he*100+1;K.endSlur.forEach(function(de){ee===de&&--ee}),z[$][P][he]=[ee]}}for(var ge,Se=0;Se<ae;Se++)ge=z[$][P][he].pop(),K.endSlur.push(ge);return z[$][P][he].length===0&&delete z[$][P][he],ge},L=function(K,ae,he,ee){K.startSlur=[],z[$][P][he]===void 0&&(z[$][P][he]=[]);for(var ge=he*100+1,Se=0;Se<ae;Se++)ee&&(ee.forEach(function(de){ge===de&&++ge}),ee.forEach(function(de){ge===de&&++ge}),ee.forEach(function(de){ge===de&&++ge})),z[$][P][he].forEach(function(de){ge===de&&++ge}),z[$][P][he].forEach(function(de){ge===de&&++ge}),z[$][P][he].push(ge),K.startSlur.push({label:ge}),K.dottedSlur&&(K.startSlur[K.startSlur.length-1].style="dotted",delete K.dottedSlur),ge++},D=0;D<E.length;D++){var W=E[D];if(W.el_type==="note"){if(W.gracenotes)for(var G=0;G<W.gracenotes.length;G++){if(W.gracenotes[G].endSlur){var U=W.gracenotes[G].endSlur;W.gracenotes[G].endSlur=[];for(var R=0;R<U;R++)V(W.gracenotes[G],1,20)}W.gracenotes[G].startSlur&&(j=W.gracenotes[G].startSlur,L(W.gracenotes[G],j,20))}if(W.endSlur&&(j=W.endSlur,W.endSlur=[],V(W,j,0)),W.startSlur&&(j=W.startSlur,L(W,j,0)),W.pitches){for(var I=[],N=0;N<W.pitches.length;N++)if(W.pitches[N].endSlur){var H=W.pitches[N].endSlur;W.pitches[N].endSlur=[];for(var X=0;X<H;X++){var Z=V(W.pitches[N],1,N+1);I.push(Z)}}for(N=0;N<W.pitches.length;N++)W.pitches[N].startSlur&&(j=W.pitches[N].startSlur,L(W.pitches[N],j,N+1,I));W.gracenotes&&W.pitches[0].endSlur&&W.pitches[0].endSlur[0]===100&&W.pitches[0].startSlur&&(W.gracenotes[0].endSlur?W.gracenotes[0].endSlur.push(W.pitches[0].startSlur[0].label):W.gracenotes[0].endSlur=[W.pitches[0].startSlur[0].label],W.pitches[0].endSlur.length===1?delete W.pitches[0].endSlur:W.pitches[0].endSlur[0]===100?W.pitches[0].endSlur.shift():W.pitches[0].endSlur[W.pitches[0].endSlur.length-1]===100&&W.pitches[0].endSlur.pop(),z[$][P][1].length===1?delete z[$][P][1]:z[$][P][1].pop())}}}}function d(E,$){for(i=0;i<E.length;i++)if(E[i].staff!==void 0)for(s=0;s<E[i].staff.length;s++){var P=[];for(v=0;v<E[i].staff[s].voices.length;v++)for(var z=E[i].staff[s].voices[v],j=0,V=0;V<z.length;V++)if(z[V].el_type==="bar"){if(j++,j>=$&&V<z.length-1){var L=w(E,i);if(!L){var D=JSON.parse(JSON.stringify(E[i]));E.push(Object.assign({},D)),L=E[E.length-1];for(var W=0;W<L.staff.length;W++)for(var G=0;G<L.staff[W].voices.length;G++)L.staff[W].voices[G]=[]}var U=V+1,R=E[i].staff[s].voices[v].slice(U);return E[i].staff[s].voices[v]=E[i].staff[s].voices[v].slice(0,U),L.staff[s].voices[v]=P.concat(R.concat(L.staff[s].voices[v])),!0}}else z[V].duration||P.push(z[V])}return!1}function m(E,$){for(;$>=0;){if(E[$].staff)return E[$];$--}return null}function w(E,$){for($++;E.length>$;){if(E[$].staff)return E[$];$++}return null}function b(E){if(!E.lines[E.lineNum]||!E.lines[E.lineNum].staff||!E.lines[E.lineNum].staff[E.staffNum])return null;var $=E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum];if(!$)return null;for(var P=$.length-1;P>=0;P--){var z=$[P];if(z.el_type==="note")return z}return null}function g(E){return E.duration?E.duration:0}function p(E){E.potentialStartBeam&&E.potentialEndBeam&&(E.potentialStartBeam.startBeam=!0,E.potentialEndBeam.endBeam=!0),delete E.potentialStartBeam,delete E.potentialEndBeam}function y(E){for(var $=0;$<E.length;$++)if(E[$].el_type==="note"||E[$].el_type==="bar")return!0;return!1}function h(E){for(var $=0;$<E.length;$++)if(E[$].el_type==="note"&&(E[$].rest===void 0||E[$].chord!==void 0))return!0;return!1}function x(E,$){E.vskipPending&&($.vskip=E.vskipPending,delete E.vskipPending),E.lines.push($)}function S(E,$,P,z,j){var V=$.lines[$.lineNum].staff[$.staffNum];if(P.pitches!==void 0){var L=V.workingClef.verticalPos;P.pitches.forEach(function(W){W.verticalPos=W.pitch-L})}if(P.gracenotes!==void 0){var D=V.workingClef.verticalPos;P.gracenotes.forEach(function(W){W.verticalPos=W.pitch-D})}V.voices.length<=$.voiceNum&&(z[j]||(z[j]={}),A(E,$,z[j])),V.voices[$.voiceNum].push(P)}function C(E,$){$.potentialStartBeam.startBeam=!0,E.endBeam=!0,delete $.potentialStartBeam,delete $.potentialEndBeam}function T(E){E.potentialStartBeam!==void 0&&E.potentialEndBeam!==void 0&&(E.potentialStartBeam.startBeam=!0,E.potentialEndBeam.endBeam=!0),delete E.potentialStartBeam,delete E.potentialEndBeam}function M(E,$,P){if(E.runningFonts[$]){for(var z=!1,j=Object.keys(P),V=0;V<j.length;V++)E.runningFonts[$][j[V]]!==P[j[V]]&&(z=!0);z&&(E.lines[E.lineNum].staff[E.staffNum][$]=P)}E.runningFonts[$]=P}function A(E,$,P){var z=$.lines[$.lineNum].staff[$.staffNum];if(z.voices[$.voiceNum]=[],z.title||(z.title=[]),z.title[$.voiceNum]={name:P.name,subname:P.subname},P.style&&E.appendElement("style",null,null,{head:P.style}),P.stem)E.appendElement("stem",null,null,{direction:P.stem});else if($.voiceNum>0){if(z.voices[0]!==void 0){for(var j=!1,V=0;V<z.voices[0].length;V++)z.voices[0].el_type==="stem"&&(j=!0);if(!j){var L={el_type:"stem",direction:"up"};z.voices[0].splice(0,0,L)}}E.appendElement("stem",null,null,{direction:"down"})}P.scale&&E.appendElement("scale",null,null,{size:P.scale}),P.color&&E.appendElement("color",null,null,{color:P.color})}function B(E,$,P){P.key&&P.key.impliedNaturals&&(P.key.accidentals=P.key.accidentals.concat(P.key.impliedNaturals),delete P.key.impliedNaturals),$.lines[$.lineNum].staff[$.staffNum]={voices:[],clef:P.clef,key:P.key,workingClef:P.clef};var z=$.lines[$.lineNum].staff[$.staffNum];P.stafflines!==void 0&&(z.clef.stafflines=P.stafflines,z.workingClef.stafflines=P.stafflines),P.staffscale&&(z.staffscale=P.staffscale),P.annotationfont&&M($,"annotationfont",P.annotationfont),P.gchordfont&&M($,"gchordfont",P.gchordfont),P.tripletfont&&M($,"tripletfont",P.tripletfont),P.vocalfont&&M($,"vocalfont",P.vocalfont),P.bracket&&(z.bracket=P.bracket),P.brace&&(z.brace=P.brace),P.connectBarLines&&(z.connectBarLines=P.connectBarLines),P.barNumber&&(z.barNumber=P.barNumber),A(E,$,P),P.part&&E.appendElement("part",P.part.startChar,P.part.endChar,{title:P.part.title}),P.meter!==void 0&&(z.meter=P.meter),$.vskipPending&&($.lines[$.lineNum].vskip=$.vskipPending,delete $.vskipPending)}function F(E,$,P){$.lines[$.lineNum]={staff:[]},B(E,$,P)}return vd=e,vd}var yd,g5;function r8(){if(g5)return yd;g5=1;var t=wi(),e=Gg(),n=AF(),r=PF(),a=NF(),o=J9(),l=n8(),f=DF(),d=function(){var m=new l,w=new f(m),b,g="",p="";this.getTune=function(){var V={formatting:m.formatting,lines:m.lines,media:m.media,metaText:m.metaText,metaTextInfo:m.metaTextInfo,version:m.version,addElementToEvents:m.addElementToEvents,addUsefulCallbackInfo:m.addUsefulCallbackInfo,getTotalTime:m.getTotalTime,getTotalBeats:m.getTotalBeats,getBarLength:m.getBarLength,getBeatLength:m.getBeatLength,getBeatsPerMeasure:m.getBeatsPerMeasure,getBpm:m.getBpm,getMeter:m.getMeter,getMeterFraction:m.getMeterFraction,getPickupLength:m.getPickupLength,getKeySignature:m.getKeySignature,getElementFromChar:m.getElementFromChar,makeVoicesArray:m.makeVoicesArray,millisecondsPerMeasure:m.millisecondsPerMeasure,setupEvents:m.setupEvents,setTiming:m.setTiming,setUpAudio:m.setUpAudio,deline:m.deline,findSelectableElement:m.findSelectableElement,getSelectableArray:m.getSelectableArray};return m.lineBreaks&&(V.lineBreaks=m.lineBreaks),m.visualTranspose&&(V.visualTranspose=m.visualTranspose),V};function y(V,L,D){V.positioning||(V.positioning={}),V.positioning[L]=D}function h(V,L,D){V.fonts||(V.fonts={}),V.fonts[L]=D}var x={reset:function(){for(var V in this)this.hasOwnProperty(V)&&typeof this[V]!="function"&&delete this[V];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(V,L){return this[V].decoration!==L[V].decoration||this[V].face!==L[V].face||this[V].size!==L[V].size||this[V].style!==L[V].style||this[V].weight!==L[V].weight},addFormattingOptions:function(V,L,D){D==="note"?(this.vocalPosition!=="auto"&&y(V,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&y(V,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&y(V,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&y(V,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&y(V,"volumePosition",this.volumePosition),this.differentFont("annotationfont",L)&&h(V,"annotationfont",this.annotationfont),this.differentFont("gchordfont",L)&&h(V,"gchordfont",this.gchordfont),this.differentFont("vocalfont",L)&&h(V,"vocalfont",this.vocalfont),this.differentFont("tripletfont",L)&&h(V,"tripletfont",this.tripletfont)):D==="bar"&&(this.dynamicPosition!=="auto"&&y(V,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&y(V,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&y(V,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&y(V,"volumePosition",this.volumePosition),this.differentFont("measurefont",L)&&h(V,"measurefont",this.measurefont),this.differentFont("repeatfont",L)&&h(V,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var V=0;V<this.inTie.length;V++)if(this.endingHoldOver.inTie.push([]),this.inTie[V])for(var L=0;L<this.inTie[V].length;L++)this.endingHoldOver.inTie[V].push(this.inTie[V][L]);for(var D in this.inTieChord)this.inTieChord.hasOwnProperty(D)&&(this.endingHoldOver.inTieChord[D]=this.inTieChord[D])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var V=0;V<this.endingHoldOver.inTie.length;V++){this.inTie.push([]);for(var L=0;L<this.endingHoldOver.inTie[V].length;L++)this.inTie[V].push(this.endingHoldOver.inTie[V][L])}for(var D in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(D)&&(this.inTieChord[D]=this.endingHoldOver.inTieChord[D])}}},S=function(V){x.warnings||(x.warnings=[]),x.warnings.push(V)},C=function(V){x.warningObjects||(x.warningObjects=[]),x.warningObjects.push(V)},T=function(V){var L=V.replace(/\x12/g," ");return L=L.replace(/&/g,"&amp;"),L=L.replace(/</g,"&lt;"),L.replace(/>/g,"&gt;")},M=function(V,L,D){L||(L=" ");var W=L[D];(W===" "||!W)&&(W="SPACE");var G=T(L.substring(D-64,D))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+W+"</span>"+T(L.substring(D+1).substring(0,64));S("Music Line:"+b.lineIndex+":"+(D+1)+": "+V+":  "+G),C({message:V,line:L,startChar:x.iChar+D,column:D})},A,B;this.getWarnings=function(){return x.warnings},this.getWarningObjects=function(){return x.warningObjects};var F=function(V,L){if(L.indexOf("")>=0){g+=L;return}if(L=g+L,g="",!V){M("Can't add words before the first line of music",V,0);return}L=t.strip(L),L[L.length-1]!=="-"&&(L=L+" ");for(var D=[],W=0,G=!1,U=function(N){var H=t.strip(L.substring(W,N));if(H=H.replace(/\\([-_*|~])/g,"$1"),W=N+1,H.length>0){G&&(H=H.replace(/~/g," "));var X=L[N];return X!=="_"&&X!=="-"&&(X=" "),D.push({syllable:b.translateString(H),divider:X}),G=!1,!0}return!1},R=!1,I=0;I<L.length;I++){switch(L[I]){case" ":case"":U(I);break;case"-":!R&&!U(I)&&D.length>0&&(t.last(D).divider="-",D.push({skip:!0,to:"next"}));break;case"_":R||(U(I),D.push({skip:!0,to:"slur"}));break;case"*":R||(U(I),D.push({skip:!0,to:"next"}));break;case"|":R||(U(I),D.push({skip:!0,to:"bar"}));break;case"~":R||(G=!0);break}R=L[I]==="\\"}V.forEach(function(N){if(D.length!==0){if(D[0].skip){switch(D[0].to){case"next":N.el_type==="note"&&N.pitches!==null&&D.shift();break;case"slur":N.el_type==="note"&&N.pitches!==null&&D.shift();break;case"bar":N.el_type==="bar"&&D.shift();break}N.el_type!=="bar"&&(N.lyric===void 0?N.lyric=[{syllable:"",divider:" "}]:N.lyric.push({syllable:"",divider:" "}))}else if(N.el_type==="note"&&N.rest===void 0){var H=D.shift();H.syllable&&(H.syllable=H.syllable.replace(/ +/g,"")),N.lyric===void 0?N.lyric=[H]:N.lyric.push(H)}}})},E=function(V,L){if(L.indexOf("")>=0){p+=L;return}if(L=p+L,p="",!V){M("Can't add symbols before the first line of music",V,0);return}L=t.strip(L),L[L.length-1]!=="-"&&(L=L+" ");for(var D=[],W=0,G=!1,U=function(I){var N=t.strip(L.substring(W,I));if(W=I+1,N.length>0){G&&(N=N.replace(/~/g," "));var H=L[I];return H!=="_"&&H!=="-"&&(H=" "),D.push({syllable:b.translateString(N),divider:H}),G=!1,!0}return!1},R=0;R<L.length;R++)switch(L[R]){case" ":case"":U(R);break;case"-":!U(R)&&D.length>0&&(t.last(D).divider="-",D.push({skip:!0,to:"next"}));break;case"_":U(R),D.push({skip:!0,to:"slur"});break;case"*":U(R),D.push({skip:!0,to:"next"});break;case"|":U(R),D.push({skip:!0,to:"bar"});break;case"~":G=!0;break}V.forEach(function(I){if(D.length!==0){if(D[0].skip)switch(D[0].to){case"next":I.el_type==="note"&&I.pitches!==null&&D.shift();break;case"slur":I.el_type==="note"&&I.pitches!==null&&D.shift();break;case"bar":I.el_type==="bar"&&D.shift();break}else if(I.el_type==="note"&&I.rest===void 0){var N=D.shift();I.lyric===void 0?I.lyric=[N]:I.lyric.push(N)}}})},$=function(V){if(t.startsWith(V,"%%")){var L=e.addDirective(V.substring(2));L&&M(L,V,2);return}var D=V.indexOf("%");if(D>=0&&(V=V.substring(0,D)),V=V.replace(/\s+$/,""),V.length!==0){if(g){F(w.getCurrentVoice(),V.substring(2));return}if(p){E(w.getCurrentVoice(),V.substring(2));return}if(V.length<2||V[1]!==":"||B.lineContinuation){B.parseMusic(V);return}var W=A.parseHeader(V);W.regular&&B.parseMusic(V),W.newline&&B.startNewLine(),W.words&&F(w.getCurrentVoice(),V.substring(2)),W.symbols&&E(w.getCurrentVoice(),V.substring(2))}};function P(V,L){V.push({el_type:"hint"});for(var D=0;D<L.length;D++){var W=L[D],G=Object.assign({},W);if(V.push(G),W.el_type==="bar")return}}function z(V,L){for(var D=0;D<V.length;D++){var W=V[D],G=L[D];if(G)for(var U=0;U<G.voices.length;U++){var R=G.voices[U],I=W.voices[U];I&&P(I,R)}}}function j(){for(var V=0;V<m.lines.length;V++){var L=m.lines[V].staff;if(L){for(var D=V+1;D<m.lines.length&&m.lines[D].staff===void 0;)D++;if(D<m.lines.length){var W=m.lines[D].staff;z(L,W)}}}}this.parse=function(V,L,D){L||(L={}),D||(D=0),m.reset(),V=V.replace(/\r\n?/g,`
`)+`
`;var W=V.split(`
\\`);if(W.length>1){for(var G=1;G<W.length;G++)for(;W[G].length>0&&W[G][0]!==`
`;)W[G]=W[G].substr(1),W[G-1]+=" ";V=W.join("  ")}V=V.replace(/\\([ \t]*)(%.*)*\n/g,function(Z,K,ae){var he=ae?Array(ae.length+1).join(" "):"";return K+""+he+`
`});var U=V.split(`
`);t.last(U).length===0&&U.pop(),b=new a(U,x),A=new n(b,M,x,m,w),B=new r(b,M,x,m,w,A),L.print&&(m.media="print"),x.reset(),x.iChar=D,L.visualTranspose?(x.globalTranspose=parseInt(L.visualTranspose),x.globalTranspose===0?x.globalTranspose=void 0:w.setVisualTranspose(L.visualTranspose)):x.globalTranspose=void 0,L.lineBreaks&&(x.lineBreaks=L.lineBreaks),A.reset(b,M,x,m);try{L.format&&e.globalFormatting(L.format);for(var R=b.nextLine();R;){if(L.header_only&&x.is_in_header===!1||L.stop_on_warning&&x.warnings)throw"normal_abort";var I=x.is_in_header;$(R),I&&!x.is_in_header&&(w.setRunningFont("annotationfont",x.annotationfont),w.setRunningFont("gchordfont",x.gchordfont),w.setRunningFont("tripletfont",x.tripletfont),w.setRunningFont("vocalfont",x.vocalfont)),R=b.nextLine()}g&&F(w.getCurrentVoice(),""),p&&E(w.getCurrentVoice(),""),x.openSlurs=w.cleanUp(x.barsperstaff,x.staffnonote,x.openSlurs)}catch(Z){if(Z!=="normal_abort")throw Z}var N=11*72,H=8.5*72;switch(x.papersize){case"legal":N=14*72,H=8.5*72;break;case"A4":N=11.7*72,H=8.3*72;break}if(x.landscape){var X=N;N=H,H=X}m.formatting.pagewidth||(m.formatting.pagewidth=H),m.formatting.pageheight||(m.formatting.pageheight=N),L.hint_measures&&j(),o.wrapLines(m,x.lineBreaks,x.barNumbers)}};return yd=d,yd}var bd,v5;function LF(){if(v5)return bd;v5=1;var t=wi(),e=function(n){var r="",a=n.match(/(\s*)/);n=t.strip(n);for(var o=n.split(`
X:`),l=1;l<o.length;l++)o[l]="X:"+o[l];var f=a?a[0].length:0,d=[];if(o.forEach(function(g){d.push({abc:g,startPos:f}),f+=g.length+1}),d.length>1&&!t.startsWith(d[0].abc,"X:")){var m=d.shift(),w=m.abc.split(`
`);w.forEach(function(g){t.startsWith(g,"%%")&&(r+=g+`
`)})}var b=r;return d.forEach(function(g){var p=g.abc.indexOf(`

`);p>0&&(g.abc=g.abc.substring(0,p)),g.pure=g.abc,g.abc=r+g.abc,g.title="";var y=g.pure.split("T:");y.length>1&&(y=y[1].split(`
`),g.title=t.strip(y[0]));var h=g.pure.substring(2,g.pure.indexOf(`
`));g.id=t.strip(h)}),{header:b,tunes:d}};return bd=e,bd}var wd,y5;function BF(){if(y5)return wd;y5=1;function t(e,n){this.numLines=e,this.lineSpace=n,this.verticalSize=this.numLines*this.lineSpace;var r=3;this.bar={pitch:r,pitch2:n*e,height:5}}return t.prototype.bypass=function(e){var n=e.staffGroup.voices;return!!(n.length>0&&n[0].isPercussion)},t.prototype.setRelative=function(e,n,r){switch(e.type){case"bar":n.pitch=this.bar.pitch,n.pitch2=this.bar.pitch2,n.height=this.height;break;case"symbol":var a=this.bar.pitch2/2;if(e.name=="dots.dot")return r?(n.pitch=a,!1):(n.pitch=a+this.lineSpace,!0);break}return r},wd=t,wd}var _d,b5;function i8(){if(b5)return _d;b5=1;var t=function(n,r){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=n,this.voicetotal=r,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return t.prototype.addChild=function(e){if(e.type==="bar"){for(var n=!0,r=0;n&&r<this.children.length;r++)this.children[r].type.indexOf("staff-extra")<0&&this.children[r].type!=="tempo"&&(n=!1);n||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)},t.prototype.setLimit=function(e,n){var r=n.specialY;r||(r=n),r[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],r[e]):this.specialY[e]=r[e])},t.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))},t.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},t.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setWidth=function(e){this.w=e},_d=t,_d}var xd,w5;function Xg(){if(w5)return xd;w5=1;var t=function(e,n,r,a){if(e)for(var o=0;o<e.length;o++){var l=e[o],f=l.getAttribute("highlight");f||(f="fill"),l.setAttribute(f,a);var d=l.getAttribute("class");d||(d=""),d=d.replace(r,""),d=d.replace(n,""),n.length>0&&(d.length>0&&d[d.length-1]!==" "&&(d+=" "),d+=n),l.setAttribute("class",d)}};return xd=t,xd}var Sd,_5;function s8(){if(_5)return Sd;_5=1;var t=Xg(),e=function(n,r){n===void 0&&(n="abcjs-note_selected"),r===void 0&&(r="#ff0000"),t(this.elemset,n,"",r)};return Sd=e,Sd}var Cd,x5;function a8(){if(x5)return Cd;x5=1;var t=Xg(),e=function(n,r){n===void 0&&(n="abcjs-note_selected"),r===void 0&&(r="#000000"),t(this.elemset,"",n,r)};return Cd=e,Cd}var kd,S5;function eo(){if(S5)return kd;S5=1;var t=s8(),e=a8(),n=function(a,o,l,f,d,m){m||(m={}),this.tuneNumber=d,this.abcelem=a,this.duration=o,this.durationClass=m.durationClassOveride?m.durationClassOveride:this.duration,this.minspacing=l||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=f,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return n.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},n.prototype.addExtra=function(r){this.fixed.w=Math.max(this.fixed.w,r.dx+r.w),this.fixed.t===void 0?this.fixed.t=r.top:this.fixed.t=Math.max(this.fixed.t,r.top),this.fixed.b===void 0?this.fixed.b=r.bottom:this.fixed.b=Math.min(this.fixed.b,r.bottom),r.dx<this.extraw&&(this.extraw=r.dx),this.extra[this.extra.length]=r,this._addChild(r)},n.prototype.addHead=function(r){r.dx<this.extraw&&(this.extraw=r.dx),this.heads[this.heads.length]=r,this.addRight(r)},n.prototype.addRight=function(r){this.fixed.w=Math.max(this.fixed.w,r.dx+r.w),r.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=r.top:this.fixed.t=Math.max(this.fixed.t,r.top)),r.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=r.bottom:this.fixed.b=Math.min(this.fixed.b,r.bottom)),r.dx+r.w>this.w&&(this.w=r.dx+r.w),this.right[this.right.length]=r,this._addChild(r)},n.prototype.addFixed=function(r){this._addChild(r)},n.prototype.addFixedX=function(r){this._addChild(r)},n.prototype.addCentered=function(r){var a=r.w/2;-a<this.extraw&&(this.extraw=-a),this.extra[this.extra.length]=r,r.dx+a>this.w&&(this.w=r.dx+a),this.right[this.right.length]=r,this._addChild(r)},n.prototype.setLimit=function(r,a){a[r]&&(this.specialY[r]?this.specialY[r]=Math.max(this.specialY[r],a[r]):this.specialY[r]=a[r])},n.prototype._addChild=function(r){var a=!0;this.abcelem.el_type=="clef"&&r.type=="barNumber"&&(a=!1),r.parent=this,this.children[this.children.length]=r,a&&this.pushTop(r.top),this.pushBottom(r.bottom),this.setLimit("tempoHeightAbove",r),this.setLimit("partHeightAbove",r),this.setLimit("volumeHeightAbove",r),this.setLimit("dynamicHeightAbove",r),this.setLimit("endingHeightAbove",r),this.setLimit("chordHeightAbove",r),this.setLimit("lyricHeightAbove",r),this.setLimit("lyricHeightBelow",r),this.setLimit("chordHeightBelow",r),this.setLimit("volumeHeightBelow",r),this.setLimit("dynamicHeightBelow",r)},n.prototype.pushTop=function(r){r!==void 0&&(this.top===void 0?this.top=r:this.top=Math.max(r,this.top))},n.prototype.pushBottom=function(r){r!==void 0&&(this.bottom===void 0?this.bottom=r:this.bottom=Math.min(r,this.bottom))},n.prototype.setX=function(r){this.x=r;for(var a=0;a<this.children.length;a++)this.children[a].setX(r)},n.prototype.center=function(r,a){var o=(a.x-r.x)/2+r.x;this.x=o-this.w/2;for(var l=0;l<this.children.length;l++)this.children[l].setX(this.x)},n.prototype.setHint=function(){this.hint=!0},n.prototype.highlight=function(r,a){t.bind(this)(r,a)},n.prototype.unhighlight=function(r,a){e.bind(this)(r,a)},kd=n,kd}var Td,C5;function Qr(){if(C5)return Td;C5=1;var t=function(n,r,a,o,l){switch(l=l||{},this.x=0,this.c=n,this.dx=r,this.w=a,this.pitch=o,this.scalex=l.scalex||1,this.scaley=l.scaley||1,this.type=l.type||"symbol",this.pitch2=l.pitch2,this.linewidth=l.linewidth,this.klass=l.klass,this.anchor=l.anchor?l.anchor:"middle",this.top=o,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=o,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),l.thickness&&(this.top+=l.thickness/2,this.bottom-=l.thickness/2),l.stemHeight&&(l.stemHeight>0?this.top+=l.stemHeight:this.bottom+=l.stemHeight),l.dim&&(this.dim=l.dim),l.position&&(this.position=l.position),this.height=l.height?l.height:4,l.top&&(this.top=l.top),l.bottom&&(this.bottom=l.bottom),l.name?this.name=l.name:this.c?this.name=this.c:this.name=this.type,l.realWidth?this.realWidth=l.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":l.position&&l.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":l.position&&l.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?l.position&&l.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};return t.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,n=this.type==="chord"?this.realWidth/2:0,r=this.x-n-e,a=r+this.realWidth+e;return{left:r,right:a}},t.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1},t.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane},t.prototype.getLane=function(){return this.lane===void 0?0:this.lane},t.prototype.setX=function(e){this.x=e+this.dx},Td=t,Td}var Ed,k5;function FF(){if(k5)return Ed;k5=1;var t=eo(),e=Qr();function n(h){return h!=null&&h.constructor===Object}function r(h,x){for(var S in x)x.hasOwnProperty(S)&&(Array.isArray(x[S])||n(x[S])||(h[S]=x[S]))}function a(h){var x=new t("",0,0,"",0);return r(x,h),x.top=0,x.bottom=-1,h.abcelem&&(x.abcelem={},r(x.abcelem,h.abcelem),x.abcelem.el_type==="note"&&(x.abcelem.el_type="tabNumber")),h.cloned=x,x}function o(h,x){var S=a(h);if(x)for(var C=h.children,T=!0,M=0;M<C.length;M++){var A=C[M],B=new e("",0,0,0,"");r(B,A),T=x.tablature.setRelative(A,B,T),S.children.push(B)}return S}function l(h,x,S){var C="tab.tiny",T=7.5;h.isTabBig&&(C="tab.big",T=10);var M={el_type:"tab",icon:C,Ypos:T};if(T+=h.tabSymbolOffset,!h.hideTabSymbol){var A=new t(M,0,0,"symbol",0);A.x=x;var B=new e(C,0,0,7.5,"tab");B.x=S,A.children.push(B),A.abcelem.el_type=="tab"&&(B.pitch=T)}return A}function f(h){if(h.extra)for(var x=0;x<h.extra.length;x++){var S=h.extra[x];if(S.type=="lyric")return{bottom:S.bottom,height:S.height}}return null}function d(){this.accidentals=null}function m(h){for(var x=0,S=0;S<h.length;S++)h[S].tabNameInfos||x++;return x}function w(h,x,S,C,T){var M=C.num;C.note.quarter!=null&&(M=M.toString(),M+=C.note.quarter);var A=h.semantics.stringToPitch(C.str);S.notes.push({num:M,str:C.str,pitch:C.note.emit()});var B={type:"tabNumber"},F=new e(M,0,0,A+.3,B);return F.x=x,F.isGrace=T,F.isAltered=C.note.isAltered,F}function b(h,x){var S=0;if(h.extra){for(var C=0;C<h.extra.length;C++)if(h.extra[C].c.indexOf("noteheads")>=0){if(S===x)return h.extra[C].x+h.extra[C].w/2;S++}}return-1}function g(h){if(h.abcelem){var x=h.abcelem;if(x.rest)return x.gracenotes}return null}function p(h,x,S){var C=h.semantics.notesToNumber(x,S);if(C.error)return h.setError(C.error),C;if(C.graces&&C.notes){var T=C.notes.length-1;C.notes[T].graces=C.graces}return C}function y(h,x,S,C,T){for(var M=0;M<C.length;M++){var A={el_type:"note",startChar:S.abcelem.startChar,endChar:S.abcelem.endChar,notes:[],grace:!0},B=b(S,M),F=C[M],E=w(h,B,A,F,!0);x.children.push(E),T.push(A)}}return d.prototype.build=function(h,x,S,C,T,M,A){m(x);var B=x[T+C],F=x[A],E=null,$=null;B.children[0].abcelem.el_type!="clef"&&M!="none"&&B.children.splice(0,0,M);for(var P=0;P<B.children.length;P++){var z=B.children[P],j=z.x,V=j;switch(z.isClef&&(F.children.push(l(h,j,V)),z.abcelem.type.indexOf("-8")>=0&&(h.semantics.clefTranspose=-12),z.abcelem.type.indexOf("+8")>=0&&(h.semantics.clefTranspose=12)),z.type){case"staff-extra key-signature":this.accidentals=z.abcelem.accidentals,h.semantics.accidentals=this.accidentals;break;case"bar":h.semantics.measureAccidentals={};var L=!1;P===B.children.length-1&&(L=!0);var D=o(z,h);if(D.abcelem.barNumber){delete D.abcelem.barNumber;for(var W=0;W<D.children.length;W++)if(D.children[W].type==="barNumber"){D.children.splice(W,1);break}}D.abcelem.lastBar=L,F.children.push(D),S.push({el_type:z.abcelem.el_type,type:z.abcelem.type,endChar:z.abcelem.endChar,startChar:z.abcelem.startChar,abselem:D});break;case"rest":var G=g(z);if(G){if(E=p(h,null,G),E.error)return;K={el_type:"note",startChar:z.abcelem.startChar,endChar:z.abcelem.endChar,notes:[],grace:!0},y(h,U,z,E.graces,S)}break;case"note":var U=a(z);U.x=z.heads[0].x+z.heads[0].w/2,U.lyricDim=f(z);var R=z.abcelem.pitches,I=z.abcelem.gracenotes;if(U.type="tabNumber",E=p(h,R,I),E.error)return;if(E.graces){var N=E.notes.length-1;E.notes[N].graces=E.graces}$={el_type:"note",startChar:z.abcelem.startChar,endChar:z.abcelem.endChar,notes:[]};for(var H=0;H<E.notes.length;H++){var X=E.notes[H];if(X.graces)for(var Z=0;Z<X.graces.length;Z++){var K={el_type:"note",startChar:z.abcelem.startChar,endChar:z.abcelem.endChar,notes:[],grace:!0},ae=b(z,Z),he=X.graces[Z],ee=w(h,ae,K,he,!0);U.children.push(ee),S.push(K)}var ge=w(h,U.x+z.heads[H].dx,$,X,!1);U.children.push(ge)}$.notes.length>0&&($.abselem=U,S.push($),F.children.push(U));break}}},Ed=d,Ed}var Ad,T5;function zF(){if(T5)return Ad;T5=1;var t=i8(),e=FF(),n=qn();function r(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function a(h){for(var x=0,S=0;S<h.children.length;S++){var C=h.children[S];C.specialY&&C.specialY.lyricHeightBelow>x&&(x=C.specialY.lyricHeightBelow)}return x}function o(h,x,S){var C=h.semantics,T=x.controller.getTextSize,M=C.tabInfos(h),A=C.suppress(h),B=!0;if(A&&(B=!1),B){var F=T.calc(M,"tablabelfont","text instrumentname");return S.tabNameInfos={textSize:{height:F.height,width:F.width},name:M},F.height}return 0}function l(h,x){return x[h].isTabStaff?h===x.length-1?!0:!x[h+1].isTabStaff:!1}function f(h){for(var x=0,S=0;S<h.length;S++)h[S].isTabStaff||x++;return x}function d(h,x){for(var S=x;S>=0;S--)if(!h[S].isTabStaff)return S;return-1}function m(h){for(var x=0;x<h.length;x++)if(h[x].isTabStaff){var S=d(h,x);h[x].hasStaff=h[S],h[S].hasTab||(h[S].hasTab=[]),h[S].hasTab.push(h[x])}}function w(h,x){return f(h)===1&&x.voices.length>1}function b(h,x){for(var S=0,C=0,T=!0,M=0;T;){if(!x[S])return-1;if(x[S].isTabStaff||(M=x[S].voices.length),x[S].isTabStaff){if(C++,l(S,x)&&C<M)return S+1}else if(C=0,S>=h&&(S+1==x.length||!x[S+1].isTabStaff))return S+1;if(S++,S>x.length)return-1}}function g(h,x){for(var S=x;S>=0;S--)if(!h[S].isTabStaff)return h[S];return null}function p(h,x){var S=h[x],C=S.children[0].abcelem;return C.el_type==="clef"?null:x==0?"none":h[x-1].children[0]}function y(h,x,S,C){var T=new e,M={clef:{type:"TAB"}},A=h.linePitch*h.nbLines,B=S.staff;if(B){var F=B[0];if(F&&F.clef&&F.clef.stafflines==0){h.setError("No tablatures when stafflines=0");return}B.splice(B.length,0,M)}var E=S.staffGroup,$=E.voices,P=$[0],z=a(P),j=3,V=C,L=E.staffs[V],D=A+j-L.bottom-z;L.isTabStaff&&(D=L.top);var W={bottom:-1,isTabStaff:!0,specialY:r(),lines:h.nbLines,linePitch:h.linePitch,dy:.15,top:D},G=b(C,E.staffs);if(G!==-1){W.parentIndex=G-1,E.staffs.splice(G,0,W),E.height+=A+j;var U=g(E.staffs,G),R=1;w(E.staffs,U)&&(R=U.voices.length),M.voices=[];for(var I=0;I<R;I++){var N=new t(0,0);I>0&&(N.duplicate=!0);var H=o(h,x,N)/n.STEP;H=Math.max(H,1),E.staffs[C].top+=1,E.height+=H,N.staff=W;var X=$.length;$.splice($.length,0,N);var Z=p($,I+C);M.voices[I]=[],T.build(h,$,M.voices[I],I,C,Z,X)}m(E.staffs)}}return Ad=y,Ad}var Md,E5;function o8(){if(E5)return Md;E5=1;var t={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},e=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function n(a){var o=a.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(o&&o.length===5){var l=t[o[1]],f=e.indexOf(o[2]),d=o[4].length-o[3].length;return 48+f+l+d*12}return 0}function r(a){a=parseInt(a,10);var o=Math.floor(a/12),l=a%12,f=e[l];if(f==="-"&&(f="^"+e[l-1]),o>4)for(f=f.toLowerCase(),o-=5;o>0;)f+="'",o--;else for(;o<4;)f+=",",o++;return f}return Md={noteToMidi:n,midiToNote:r},Md}var Pd,A5;function c8(){if(A5)return Pd;A5=1;var{noteToMidi:t,midiToNote:e}=o8();function n(a,o){var l=t(a);o&&(l+=o);var f=e(l),d=!1,m=!1,w=!1,b=null,g=null,p=!1,y=0;a.startsWith("_")?(d=!0,y=-1,a[1]=="/"?(d=!1,g="v",y=0):a[1]=="_"&&(p=!0,y-=1)):a.startsWith("^")?(m=!0,y=1,a[1]=="/"?(m=!1,g="^",y=0):a[1]=="^"&&(p=!0,y+=1)):a.startsWith("=")&&(b=!0,y=0),w=d||m||g!=null,(w||b)&&(g!=null||p?f=a.slice(2):f=a.slice(1));var h=(f.match(/,/g)||[]).length,x=(f.match(/'/g)||[]).length;this.pitch=l,this.pitchAltered=0,this.name=f,this.acc=y,this.isSharp=m,this.isKeySharp=!1,this.isDouble=p,this.isAltered=w,this.isFlat=d,this.isKeyFlat=!1,this.natural=b,this.quarter=g,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=h,this.isQuoted=x}function r(a){var o=a.name,l=new n(o);return l.pitch=a.pitch,l.hasComma=a.hasComma,l.isLower=a.isLower,l.isQuoted=a.isQuoted,l.isSharp=a.isSharp,l.isKeySharp=a.isKeySharp,l.isFlat=a.isFlat,l.isKeyFlat=a.isKeyFlat,l}return n.prototype.sameNoteAs=function(a){return a.pitch===this.pitch},n.prototype.isLowerThan=function(a){return a.pitch>this.pitch},n.prototype.checkKeyAccidentals=function(a,o){if(!(this.isAltered||this.natural)){if(o[this.name.toUpperCase()])switch(o[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(a)for(var l=this.name,f=0;f<a.length;f++){var d=a[f];l==d.note.toUpperCase()&&(d.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),d.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}},n.prototype.getAccidentalEquiv=function(){var a=r(this);return a.isSharp||a.isKeySharp?(a=a.nextNote(),a.isFlat=!0,a.isSharp=!1,a.isKeySharp=!1):(a.isFlat||a.isKeyFlat)&&(a=a.prevNote(),a.isSharp=!0,a.isFlat=!1,a.isKeyFlat=!1),a},n.prototype.nextNote=function(){var a=e(this.pitch+1+this.pitchAltered);return new n(a)},n.prototype.prevNote=function(){var a=e(this.pitch-1+this.pitchAltered);return new n(a)},n.prototype.emitNoAccidentals=function(){var a=this.name;this.isLower&&(a=a.toLowerCase());for(var o=0;o<this.isQuoted;o++)a+="'";for(var l=0;l<this.hasComma;l++)a+=",";return a},n.prototype.emit=function(){var a=this.name;(this.isSharp||this.isKeySharp)&&(a="^"+a,this.isDouble&&(a="^"+a)),(this.isFlat||this.isKeyFlat)&&(a="_"+a,this.isDouble&&(a="_"+a)),this.quarter&&(this.quarter=="^"?a="^/"+a:a="_/"+a),this.natural&&(a="="+a);for(var o=1;o<=this.hasComma;o++)a+=",";if(this.isLower){a=a.toLowerCase();for(var l=1;l<=this.isQuoted;l++)a+="'"}return a},Pd=n,Pd}var Nd,M5;function $F(){if(M5)return Nd;M5=1;var t=c8(),e=["A","B","C","D","E","F","G"];function n(r,a){var o=new t(r),l=new t(a);if(l.isLowerThan(o)){var f=o.emit(),d=l.emit();return{error:"Invalid string Instrument tuning : "+d+" string lower than "+f+" string"}}var m=[],w=e.indexOf(o.name),b=e.indexOf(l.name);if(w==-1||b==-1)return m;for(var g=!1;!g;)m.push(o.emit()),o=o.nextNote(),o.sameNoteAs(l)&&(g=!0);return m}return Nd=n,Nd}var Rd,P5;function qF(){if(P5)return Rd;P5=1;const{noteToMidi:t}=o8();var e=c8(),n=$F();function r(g){var p=null,y=g.tuning;if(g.capo>0){p=[];for(var h=0;h<y.length;h++){for(var x=new e(y[h]),S=0;S<g.capo;S++)x=x.nextNote();p[h]=x.emit()}}return p}function a(g){var p=[],y=g.tuning;g.capo>0&&(y=g.capoTuning);for(var h=y.length-1,x=0;x<y.length;x++){var S=g.highestNote;x!=y.length-1&&(S=y[x+1]);var C=n(y[x],S);if(C.error)return C;p[h--]=C}return p}function o(g){var p=[];p[0]=[];for(var y=g.strings,h=1;h<y.length;h++)p[h]=y[h-1];return p}function l(g,p){for(var y=0;y<p.length-1;y++){var h=p[y],x=p[y+1];if(h.str==x.str){if(h.str==g.strings.length-1){h.num="?",x.num="?";return}x.num<h.num?(x.str++,x=d(g,x.note,x.str,g.secondPos,g.strings[x.str].length)):(h.str++,h=d(g,h.note,h.str,g.secondPos,g.strings[h.str].length)),p[y]=h,p[y+1]=x}}return null}function f(g,p){for(var y=[],h=0;h<p.length;h++)if(!p[h].endTie){var x=new e(p[h].name,g.clefTranspose);x.checkKeyAccidentals(g.accidentals,g.measureAccidentals);var S=m(g,x);y.push(S)}return l(g,y),y}function d(g,p,y,h,x){var S=g.strings;p.checkKeyAccidentals(g.accidentals,g.measureAccidentals),h&&(S=h);var C=p.emitNoAccidentals(),T=S[y].indexOf(C),M=p.acc;if(T!=-1){if(h&&(T+=x),(p.isFlat||p.acc==-1)&&T==0){var A=p.getAccidentalEquiv();y++,T=S[y].indexOf(A.emit()),M=0}return{num:T+M,str:y,note:p}}return null}function m(g,p){if(p.isAltered||p.natural){var y;p.isFlat?p.isDouble?y="__":y="_":p.isSharp?p.isDouble?y="^^":y="^":p.natural&&(y="="),g.measureAccidentals[p.name.toUpperCase()]=y}for(var h=g.stringPitches.length-1;h>=0;h--)if(p.pitch+p.pitchAltered>=g.stringPitches[h]){var x=p.pitch+p.pitchAltered-g.stringPitches[h];return p.quarter==="^"?x-=.5:p.quarter==="v"&&(x+=.5),{num:Math.round(x),str:g.stringPitches.length-1-h,note:p}}return{num:"?",str:g.stringPitches.length-1,note:p}}b.prototype.stringToPitch=function(g){var p=5.3,y=this.strings.length-1;return p+(y-g)*this.linePitch};function w(g,p){var y={num:"?",str:0,note:p};g.push(y),g.error=p.emit()+": unexpected note for instrument"}b.prototype.notesToNumber=function(g,p){var y,h,x=null,S=null;if(g&&(S=[],g.length>1?(S=f(this,g),S.error&&(x=S.error)):g[0].endTie||(y=new e(g[0].name,this.clefTranspose),y.checkKeyAccidentals(this.accidentals,this.measureAccidentals),h=m(this,y),h?S.push(h):(w(S,y),x=S.error))),x)return S;var C=null;if(p){C=[];for(var T=0;T<p.length;T++)y=new e(p[T].name,this.clefTranspose),y.checkKeyAccidentals(this.accidentals,this.measureAccidentals),h=m(this,y),h?C.push(h):(w(C,y),x=S.error)}return{notes:S,graces:C,error:x}},b.prototype.toString=function(){for(var g=[],p=0;p<this.tuning.length;p++){var y=this.tuning[p].replaceAll(",","").replaceAll("'","").toUpperCase();y[0]==="_"?y=y[1]+"b ":y[0]==="^"&&(y=y[1]+"# "),g.push(y)}return g.join("")},b.prototype.tabInfos=function(g){var p=g.params.label;if(p){var y=p.indexOf("%T"),h="";return y!=-1&&(h=this.toString(),g.capo>0&&(h+=" capo:"+g.capo),p=p.replace("%T",h)),p}return""},b.prototype.suppress=function(g){var p=g.params.suppress;return!!p};function b(g){var p=g.tuning,y=g.capo,h=g.params.highestNote;this.linePitch=g.linePitch,this.highestNote="a'",h&&(this.highestNote=h),this.measureAccidentals={},this.capo=0,y&&(this.capo=parseInt(y,10)),this.transpose=g.transpose?g.transpose:0,this.tuning=p,this.stringPitches=[];for(var x=0;x<this.tuning.length;x++){var S=t(this.tuning[x])+this.capo;this.stringPitches.push(S)}if(this.capo>0&&(this.capoTuning=r(this)),this.strings=a(this),this.strings.error){g.setError(this.strings.error),g.inError=!0;return}this.secondPos=o(this)}return Rd=b,Rd}var Id,N5;function jF(){if(N5)return Id;N5=1;var t=BF(),e=zF(),n=qF();r.prototype.init=function(o,l,f,d){this.tune=o,this.params=f,this.tuneNumber=l,this.inError=!1,this.abcTune=o,this.linePitch=3,this.nbLines=d.defaultTuning.length,this.isTabBig=d.isTabBig,this.tabSymbolOffset=d.tabSymbolOffset,this.capo=f.capo,this.transpose=f.visualTranspose,this.hideTabSymbol=f.hideTabSymbol,this.tablature=new t(this.nbLines,this.linePitch);var m=f.tuning;m||(m=d.defaultTuning),this.tuning=m,this.semantics=new n(this)},r.prototype.setError=function(o){o&&(this.error=o,this.inError=!0,this.tune.warnings?this.tune.warnings.push(o):this.tune.warnings=[o])},r.prototype.render=function(o,l,f){this.inError||this.tablature.bypass(l)||e(this,o,l,f)};function r(){}var a=function(){return{name:"StringTab",tablature:r}};return Id=a,Id}var Od,R5;function l8(){if(R5)return Od;R5=1;var t=jF(),e={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},n={inited:!1,plugins:{},register:function(r){var a=r.name,o=r.tablature;this.plugins[a]=o},setError:function(r,a){r.warnings?r.warning.push(a):r.warnings=[a]},preparePlugins:function(r,a,o){this.inited||(this.register(new t),this.inited=!0);var l=null;if(o.tablature){var f=o.tablature;l=[];for(var d=0;d<f.length;d++){var m=f[d],w=m.instrument;if(w==null)return this.setError(r,"tablature 'instrument' is missing"),l;var b=e[w],g=null;if(b&&(g=this.plugins[b.name]),g){o.visualTranspose!=0&&(m.visualTranspose=o.visualTranspose),m.abcSrc=o.tablature.abcSrc;var p={classz:g,tuneNumber:a,params:m,instance:null,tabType:b};l.push(p)}else if(w==="")l.push(null);else return this.setError(r,"Undefined tablature plugin: "+w),l}}return l},layoutTablatures:function(a,o){var l=o.tablatures,f=0;if(l&&l.length>0)for(var d=l.length,m=0;m<d;++m)l[m]&&l[m].params.firstStaffOnly&&(l[m].params.suppress=!1);for(var w=0;w<o.lines.length;w++){var b=o.lines[w];if(b.staff&&f++,f>1&&l&&l.length>0)for(var d=l.length,m=0;m<d;++m)l[m].params.firstStaffOnly&&(l[m].params.suppress=!0);var g=b.staff;if(g){for(var p=g.length,y=0;y<g.length;y++)if(l[y]&&y<p){var h=l[y];h.instance==null&&(h.instance=new h.classz,h.instance.init(o,h.tuneNumber,h.params,h.tabType)),h.instance.render(a,b,y)}}}}};return Od=n,Od}var Dd,I5;function Fu(){if(I5)return Dd;I5=1;var t=r8(),e=LF(),n=l8(),r={};return function(){r.numberOfTunes=function(o){var l=o.split(`
X:`),f=l.length;return f===0&&(f=1),f};var a=r.TuneBook=function(o){var l=e(o);this.header=l.header,this.tunes=l.tunes};a.prototype.getTuneById=function(o){for(var l=0;l<this.tunes.length;l++)if(this.tunes[l].id===""+o)return this.tunes[l];return null},a.prototype.getTuneByTitle=function(o){for(var l=0;l<this.tunes.length;l++)if(this.tunes[l].title===o)return this.tunes[l];return null},r.parseOnly=function(o,l){for(var f=r.numberOfTunes(o),d=[],m=0;m<f;m++)d.push(1);function w(){}return r.renderEngine(w,d,o,l)},r.renderEngine=function(o,l,f,d){var m=[],w=function(T){return T&&!T.propertyIsEnumerable("length")&&typeof T=="object"&&typeof T.length=="number"};if(!(l===void 0||f===void 0)){w(l)||(l=[l]),d===void 0&&(d={});for(var b=d.startingTune?parseInt(d.startingTune,10):0,g=new a(f),p=new t,y=0;y<l.length;y++){var h=l[y];if(h==="*"||typeof h=="string"&&(h=document.getElementById(h)),h)if(b>=0&&b<g.tunes.length){p.parse(g.tunes[b].abc,d,g.tunes[b].startPos-g.header.length);var x=p.getTune();d.tablature&&(x.tablatures=n.preparePlugins(x,b,d));var S=p.getWarnings();S&&(x.warnings=S);var C=o(h,x,y,g.tunes[b].abc);m.push(C||x)}else h.innerHTML&&(h.innerHTML="");b++}return m}},r.extractMeasures=function(o){for(var l=[],f=new a(o),d=0;d<f.tunes.length;d++){for(var m=f.tunes[d],w=m.abc.split("K:"),b=w[1].split(`
`),g=w[0]+"K:"+b[0]+`
`,p=null,y=null,h=null,x=[],S=!1,C=r.parseOnly(m.abc)[0],T=C.getPickupLength()>0,M=0;M<C.lines.length;M++){var A=C.lines[M];if(A.staff)for(var B=0;B<1;B++)for(var F=A.staff[B],E=0;E<1;E++)for(var $=F.voices[E],P=0;P<$.length;P++){var z=$[P];if(h===null&&z.startChar>=0&&(h=z.startChar,z.chord===void 0?y=p:y=null),z.chord&&(p=z),z.el_type==="bar"){if(S){var j=m.abc.substring(h,z.endChar),V={abc:j};p=y&&y.chord&&y.chord.length>0?y.chord[0].name:null,p&&(V.lastChord=p),z.startEnding&&(V.startEnding=z.startEnding),z.endEnding&&(V.endEnding=z.endEnding),x.push(V),h=null,S=!1}}else z.el_type==="note"&&(S=!0)}}l.push({header:g,measures:x,hasPickup:T})}return l}}(),Dd=r,Dd}var Ld,O5;function VF(){if(O5)return Ld;O5=1;var t=Q9(),{relativeMajor:e,transposeKey:n,relativeMode:r}=K9(),a=X9(),o;return function(){o=function($,P,z){if(P==="TEST")return{keyAccidentals:t,relativeMajor:e,transposeKey:n,relativeMode:r,transposeChordName:a};z=parseInt(z,10);var j=[],V;for(V=0;V<P.length;V++)j=j.concat(l($,P[V],z));j=j.sort(function(W,G){return G.start-W.start});var L=$.split("");for(V=0;V<j.length;V++){var D=j[V];L.splice(D.start,D.end-D.start,D.note)}return L.join("")};function l($,P,z){var j=[],V=P.getKeySignature();if(V.root==="Hp"||V.root==="HP")return j;j=j.concat(f($,z));for(var L=0;L<P.lines.length;L++){var D=P.lines[L].staff;if(D)for(var W=0;W<D.length;W++){var G=D[W];G.clef.type!=="perc"&&(j=j.concat(d($,G.voices,G.key,z)))}}return j}function f($,P){for(var z=[],j=$.split("K:"),V=j[0].length,L=1;L<j.length;L++){var D=j[L],W=D.match(/^( *)([A-G])([#b]?)(\w*)/);if(W){var G=V+2+W[1].length,U=W[2]+W[3]+W[4],R=y({root:W[2],acc:W[3],mode:W[4]},P),I=R.root+R.acc+R.mode;z.push({start:G,end:G+U.length,note:I})}V+=D.length+2}return z}function d($,P,z,j){for(var V=[],L=y(z,j),D=0;D<P.length;D++)V=V.concat(b($,P[D],z.root,m(z),L,j));return V}function m($){for(var P={},z=0;z<$.accidentals.length;z++){var j=$.accidentals[z];j.acc==="flat"?P[j.note.toUpperCase()]="_":j.acc==="sharp"&&(P[j.note.toUpperCase()]="^")}return P}function w($,P,z){var j=g.indexOf($.root)-g.indexOf(P);return P==="none"&&(j=g.indexOf($.root)),j===0?z>2?j+=7:z===-12&&(j-=7):z>0&&j<0?j+=7:z<0&&j>0&&(j-=7),z>12?j+=7:z<-12&&(j-=7),j}function b($,P,z,j,V,L){for(var D=[],W=w(V,z,L),G={},U={},R=0;R<P.length;R++){var I=P[R];if(I.chord)for(var N=0;N<I.chord.length;N++){var H=I.chord[N];if(H.position==="default"){var X=V.accidentals.length&&V.accidentals[0].acc==="flat",Z=a(H.name,L,X,!0);Z=Z.replace(//g,"b").replace(//g,"#"),Z!==H.name&&D.push(F($,I.startChar,I.endChar,Z))}}if(I.el_type==="note"&&I.pitches){for(var K=0;K<I.pitches.length;K++){var ae=M(I.pitches[K].name,z,j,G);ae.acc&&(G[ae.name.toUpperCase()]=ae.acc);var he=h(ae,V,W,U);he.acc&&(U[he.upper]=he.acc),D.push(A($,I.startChar,I.endChar,he.acc+he.name,K))}if(I.gracenotes)for(var ee=0;ee<I.gracenotes.length;ee++){var ge=M(I.gracenotes[ee].name,z,j,G);ge.acc&&(G[ge.name.toUpperCase()]=ge.acc);var Se=h(ge,V,W,G);Se.acc&&(U[Se.upper]=Se.acc),D.push(B($,I.startChar,I.endChar,Se.acc+Se.name,ee))}}else I.el_type==="bar"?(G={},U={}):I.el_type==="keySignature"&&(z=I.root,j=m(I),V=y(I,L),W=w(V,z,L))}return D}var g="CDEFGAB",p=[",,,,",",,,",",,",",","","'","''","'''","''''"];function y($,P){if($.root==="none")return{root:n("C",P),mode:"",acc:"",accidentals:[]};var z=e($.root+$.acc+$.mode),j=n(z,P),V=r(j,$.mode),L=t(j);return{root:V[0],mode:$.mode,acc:V.length>1?V[1]:"",accidentals:L}}function h($,P,z,j){for(var V=$.pitch,L=g.indexOf($.name),D=g.indexOf(P.root),W=(D+V)%7,G=L+z,U=$.oct;G>6;)U++,G-=7;for(;G<0;)U--,G+=7;for(var R=g[W],I="",N=$.adj,H="=",X=0;X<P.accidentals.length;X++)if(P.accidentals[X].note.toLowerCase()===R.toLowerCase()){N=N+(P.accidentals[X].acc==="flat"?-1:1),H=P.accidentals[X].acc==="flat"?"_":"^";break}switch(N){case-2:I="__";break;case-1:I="_";break;case 0:I="=";break;case 1:I="^";break;case 2:I="^^";break;case-3:var Z={};return Z.pitch=$.pitch-1,Z.oct=$.oct,Z.name=g[g.indexOf($.name)-1],Z.name||(Z.name="B",Z.oct--),Z.name==="B"||Z.name==="E"?Z.adj=$.adj+1:Z.adj=$.adj+2,h(Z,P,z+1,j);case 3:var Z={};return Z.pitch=$.pitch+1,Z.oct=$.oct,Z.name=g[g.indexOf($.name)+1],Z.name||(Z.name="C",Z.oct++),Z.name==="C"||Z.name==="F"?Z.adj=$.adj-1:Z.adj=$.adj-2,h(Z,P,z+1,j)}switch((j[R]===I||!j[R]&&I===H)&&!$.courtesy&&(I=""),U){case 0:R=R+",,,";break;case 1:R=R+",,";break;case 2:R=R+",";break;case 4:R=R.toLowerCase();break;case 5:R=R.toLowerCase()+"'";break;case 6:R=R.toLowerCase()+"''";break;case 7:R=R.toLowerCase()+"'''";break;case 8:R=R.toLowerCase()+"''''";break}return U>4&&(R=R.toLowerCase()),{acc:I,name:R,upper:R.toUpperCase()}}var x=/([_^=]*)([A-Ga-g])([,']*)/,S=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,C=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,T=/(\s*)$/;function M($,P,z,j){var V=P==="none"?0:g.indexOf(P),L=$.match(x),D=L[2].toUpperCase(),W=g.indexOf(D)-V;W<0&&(W+=7);var G=p.indexOf(L[3]);D===L[2]&&G--;var U=j[D]||z[D]||"=";return{acc:L[1],name:D,pitch:W,oct:G,adj:E(L[1],z[D],j[D]),courtesy:L[1]===U}}function A($,P,z,j,V){var L=$.substring(P,z),D=L.match(new RegExp(S.source+T.source),"");if(D){var W=D[1].length,G=D[2].length+D[3].length+D[4].length,U=z-P-W-G;P+=U,z-=G}else{var R=/([^\[]*)/,I=/\[/,N=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(D=L.match(new RegExp(R.source+I.source+C.source+C.source+C.source+C.source+C.source+C.source+C.source+C.source+N.source+T.source)),D){for(var H=1+D[1].length,X=0;X<V;X++)D[X*3+2]&&(H+=D[X*3+2].length),D[X*3+3]&&(H+=D[X*3+3].length),D[X*3+4]&&(H+=D[X*3+4].length);P+=H;var Z=D[V*3+2]?D[V*3+2].length:0;z=P+Z}}return{start:P,end:z,note:j}}function B($,P,z,j,V){var L=$.substring(P,z),D=/\{/,W=/\}/,G=/([^\{]*)/,U=/(\/*)/,R=L.match(new RegExp(G.source+D.source+U.source+C.source+U.source+C.source+U.source+C.source+U.source+C.source+U.source+C.source+U.source+C.source+U.source+C.source+U.source+C.source+W.source));if(R){for(var I=1+R[1].length,N=0;N<V;N++)R[N*3+2]&&(I+=R[N*3+2].length),R[N*3+3]&&(I+=R[N*3+3].length),R[N*3+4]&&(I+=R[N*3+4].length),R[N*3+5]&&(I+=R[N*3+5].length);R[V*3+2]&&(I+=R[N*3+2].length),P+=I;var H=R[V*3+3]?R[V*3+3].length:0;H+=R[V*3+4]?R[V*3+4].length:0,H+=R[V*3+5]?R[V*3+5].length:0,z=P+H}return{start:P,end:z,note:j}}function F($,P,z,j){var V=$.substring(P,z).match(/([^"]+)?(".+")+/);return V[1]&&(P+=V[1].length),z=P+V[2].length,{start:P+1,end:z-1,note:j}}function E($,P,z){if(!$&&z&&($=z),!$)return 0;switch(P){case void 0:switch($){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch($){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch($){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}}(),Ld=o,Ld}var Bd,D5;function WF(){if(D5)return Bd;D5=1;var t=function(r,a,o,l){this.type="BeamElem",this.isflat=!!o,this.isgrace=!!(a&&a==="grace"),this.forceup=!!(this.isgrace||a&&a==="up"),this.forcedown=!!(a&&a==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=r,this.beams=[],l&&l.duration?(this.duration=l.duration,l.startTriplet&&(this.duration*=l.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};t.prototype.setHint=function(){this.hint=!0},t.prototype.runningDirection=function(n){var r=n.averagepitch;r!==void 0&&(this.total=Math.round(this.total+r),this.count||(this.count=0),this.count++)},t.prototype.add=function(n){var r=n.abcelem.averagepitch;r!==void 0&&(n.abcelem.rest||(this.allrests=!1),n.beam=this,this.elems.push(n),this.total=Math.round(this.total+r),(this.min===void 0||n.abcelem.minpitch<this.min)&&(this.min=n.abcelem.minpitch),(this.max===void 0||n.abcelem.maxpitch>this.max)&&(this.max=n.abcelem.maxpitch))},t.prototype.addBeam=function(n){this.beams.push(n)},t.prototype.setStemDirection=function(){if(this.average=e(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var n=6;this.stemsUp=this.average<n}delete this.count,this.total=0},t.prototype.calcDir=function(){if(this.average=e(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var n=6;this.stemsUp=this.average<n}for(var r=this.stemsUp?"up":"down",a=0;a<this.elems.length;a++)for(var o=0;o<this.elems[a].heads.length;o++)this.elems[a].heads[o].stemDir=r};function e(n,r){return r?n/r:0}return Bd=t,Bd}var Fd,L5;function HF(){if(L5)return Fd;L5=1;var t=function(n,r){this.startVoice=n,this.type=r};return t.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},t.prototype.continuing=function(e){this.lastContinuedVoice=e},t.prototype.getWidth=function(){return 10},t.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)},Fd=t,Fd}var zd,B5;function is(){if(B5)return zd;B5=1;var t=qn(),e={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};e["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},e["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},e["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},e["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var n=function(o){for(var l=[],f=0,d=o.length;f<d;f++){l[f]=[];for(var m=0,w=o[f].length;m<w;m++)l[f][m]=o[f][m]}return l},r=function(o,l,f){for(var d=0,m=o.length;d<m;d++){var w=o[d],b,g;for(b=1,g=w.length;b<g;b++)w[b]*=b%2?l:f}},a={printSymbol:function(o,l,f,d,m){if(!e[f])return null;var w=n(e[f].d);w[0][1]+=o,w[0][2]+=l;for(var b="",g=0;g<w.length;g++)b+=w[g].join(" ");return m.path=b,d.path(m)},getPathForSymbol:function(o,l,f,d,m){if(d=d||1,m=m||1,!e[f])return null;var w=n(e[f].d);return(d!==1||m!==1)&&r(w,d,m),w[0][1]+=o,w[0][2]+=l,w},getSymbolWidth:function(o){return e[o]?e[o].w:0},symbolHeightInPitches:function(o){var l=e[o]?e[o].h:0;return l/t.STEP},getSymbolAlign:function(o){return o.substring(0,7)==="scripts"&&o!=="scripts.roll"?"center":"left"},getYCorr:function(o){switch(o){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(o,l){e[o]=l}};return zd=a,zd}var $d,F5;function UF(){if(F5)return $d;F5=1;var t=eo(),e=is(),n=Qr(),r=function(o,l){var f,d=0;o.el_type="clef";var m=new t(o,0,10,"staff-extra clef",l);switch(m.isClef=!0,o.type){case"treble":f="clefs.G";break;case"tenor":f="clefs.C";break;case"alto":f="clefs.C";break;case"bass":f="clefs.F";break;case"treble+8":f="clefs.G",d=1;break;case"tenor+8":f="clefs.C",d=1;break;case"bass+8":f="clefs.F",d=1;break;case"alto+8":f="clefs.C",d=1;break;case"treble-8":f="clefs.G",d=-1;break;case"tenor-8":f="clefs.C",d=-1;break;case"bass-8":f="clefs.F",d=-1;break;case"alto-8":f="clefs.C",d=-1;break;case"none":return null;case"perc":f="clefs.perc";break;default:m.addFixed(new n("clef="+o.type,0,0,void 0,{type:"debug"}))}var w=5;if(f){var b=e.symbolHeightInPitches(f),g=a(f);if(m.addRight(new n(f,w,e.getSymbolWidth(f),o.clefPos,{top:b+o.clefPos+g,bottom:o.clefPos+g})),d!==0){var p=.6666666666666666,y=(e.getSymbolWidth(f)-e.getSymbolWidth("8")*p)/2,h=d>0?m.top+3:m.bottom-1,x=d>0?m.top+3:m.bottom-3,S=x-2;o.type==="bass-8"&&(h=3,y=0),m.addRight(new n("8",w+y,e.getSymbolWidth("8")*p,h,{scalex:p,scaley:p,top:x,bottom:S}))}}return m};function a(o){switch(o){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}return $d=r,$d}var qd,z5;function GF(){if(z5)return qd;z5=1;var t=eo(),e=is(),n=Qr(),r=function(a,o){if(a.el_type="keySignature",!a.accidentals||a.accidentals.length===0)return null;var l=new t(a,0,10,"staff-extra key-signature",o);l.isKeySig=!0;var f=0;return a.accidentals.forEach(function(d){var m,w=0;switch(d.acc){case"sharp":m="accidentals.sharp",w=-3;break;case"natural":m="accidentals.nat";break;case"flat":m="accidentals.flat",w=-1.2;break;case"quartersharp":m="accidentals.halfsharp",w=-2.5;break;case"quarterflat":m="accidentals.halfflat",w=-1.2;break;default:m="accidentals.flat"}l.addRight(new n(m,f,e.getSymbolWidth(m),d.verticalPos,{thickness:e.symbolHeightInPitches(m),top:d.verticalPos+e.symbolHeightInPitches(m)+w,bottom:d.verticalPos+w})),f+=e.getSymbolWidth(m)+2},this),l};return qd=r,qd}var jd,$5;function YF(){if($5)return jd;$5=1;var t=is(),e=Qr(),n=function(r,a,o,l){l||(l={});var f=l.dir!==void 0?l.dir:null,d=l.headx!==void 0?l.headx:0,m=l.extrax!==void 0?l.extrax:0,w=l.flag!==void 0?l.flag:null,b=l.dot!==void 0?l.dot:0,g=l.dotshiftx!==void 0?l.dotshiftx:0,p=l.scale!==void 0?l.scale:1,y=l.accidentalSlot!==void 0?l.accidentalSlot:[],h=l.shouldExtendStem!==void 0?l.shouldExtendStem:!1,x=l.printAccidentals!==void 0?l.printAccidentals:!0,S=o.verticalPos,C,T=0,M=0,A=0;if(a===void 0)r.addFixed(new e("pitch is undefined",0,0,0,{type:"debug"}));else if(a==="")C=new e(null,0,0,S);else{var B=d;if(o.printer_shift){var F=o.printer_shift==="same"?1:0;B=f==="down"?-t.getSymbolWidth(a)*p+F:t.getSymbolWidth(a)*p-F}var E={scalex:p,scaley:p,thickness:t.symbolHeightInPitches(a)*p,name:o.name};if(C=new e(a,B,t.getSymbolWidth(a)*p,S,E),C.stemDir=f,w){var $=S+(f==="down"?-7:7)*p;h&&(f==="down"&&$>6&&($=6),f==="up"&&$<6&&($=6));var P=f==="down"?d:d+C.w-.6;r.addRight(new e(w,P,t.getSymbolWidth(w)*p,$,{scalex:p,scaley:p}))}for(M=C.w+g-2+5*b;b>0;b--){var z=1-Math.abs(S)%2;r.addRight(new e("dots.dot",C.w+g-2+5*b,t.getSymbolWidth("dots.dot"),S+z))}}if(C&&(C.highestVert=o.highestVert),x&&o.accidental){var j;switch(o.accidental){case"quartersharp":j="accidentals.halfsharp";break;case"dblsharp":j="accidentals.dblsharp";break;case"sharp":j="accidentals.sharp";break;case"quarterflat":j="accidentals.halfflat";break;case"flat":j="accidentals.flat";break;case"dblflat":j="accidentals.dblflat";break;case"natural":j="accidentals.nat"}for(var V=!1,L=m,D=0;D<y.length;D++)if(S-y[D][0]>=6){y[D][0]=S,L=y[D][1],V=!0;break}V===!1&&(L-=t.getSymbolWidth(j)*p+2,y.push([S,L]),T=t.getSymbolWidth(j)*p+2);var W=t.symbolHeightInPitches(j);r.addExtra(new e(j,L,t.getSymbolWidth(j),S,{scalex:p,scaley:p,top:S+W/2,bottom:S-W/2})),A=t.getSymbolWidth(j)/2}return{notehead:C,accidentalshiftx:T,dotshiftx:M,extraLeft:A}};return jd=n,jd}var Vd,q5;function XF(){if(q5)return Vd;q5=1;var t=eo(),e=is(),n=Qr(),r=function(a,o){a.el_type="timeSignature";var l=new t(a,0,10,"staff-extra time-signature",o);if(a.type==="specified")for(var f=0,d=0;d<a.value.length;d++)if(d!==0&&(l.addRight(new n("+",f+1,e.getSymbolWidth("+"),6,{thickness:e.symbolHeightInPitches("+")})),f+=e.getSymbolWidth("+")+2),a.value[d].den){for(var m=0,w=0;w<a.value[d].num.length;w++)m+=e.getSymbolWidth(a.value[d].num[w]);var b=0;for(w=0;w<a.value[d].num.length;w++)b+=e.getSymbolWidth(a.value[d].den[w]);var g=Math.max(m,b);l.addRight(new n(a.value[d].num,f+(g-m)/2,m,8,{thickness:e.symbolHeightInPitches(a.value[d].num[0])})),l.addRight(new n(a.value[d].den,f+(g-b)/2,b,4,{thickness:e.symbolHeightInPitches(a.value[d].den[0])})),f+=g}else{for(var p=0,y=0;y<a.value[d].num.length;y++)p+=e.getSymbolWidth(a.value[d].num[y]);l.addRight(new n(a.value[d].num,f,p,6,{thickness:e.symbolHeightInPitches(a.value[d].num[0])})),f+=p}else a.type==="common_time"?l.addRight(new n("timesig.common",0,e.getSymbolWidth("timesig.common"),6,{thickness:e.symbolHeightInPitches("timesig.common")})):a.type==="cut_time"?l.addRight(new n("timesig.cut",0,e.getSymbolWidth("timesig.cut"),6,{thickness:e.symbolHeightInPitches("timesig.cut")})):a.type==="tempus_imperfectum"?l.addRight(new n("timesig.imperfectum",0,e.getSymbolWidth("timesig.imperfectum"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum")})):a.type==="tempus_imperfectum_prolatio"?l.addRight(new n("timesig.imperfectum2",0,e.getSymbolWidth("timesig.imperfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum2")})):a.type==="tempus_perfectum"?l.addRight(new n("timesig.perfectum",0,e.getSymbolWidth("timesig.perfectum"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum")})):a.type==="tempus_perfectum_prolatio"?l.addRight(new n("timesig.perfectum2",0,e.getSymbolWidth("timesig.perfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",a);return l};return Vd=r,Vd}var Wd,j5;function KF(){if(j5)return Wd;j5=1;var t=function(n,r,a){this.type="DynamicDecoration",this.anchor=n,this.dec=r,a==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};return Wd=t,Wd}var Hd,V5;function QF(){if(V5)return Hd;V5=1;var t=function(n,r,a,o){this.type="CrescendoElem",this.anchor1=n,this.anchor2=r,this.dir=a,o==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};return Hd=t,Hd}var Ud,W5;function ZF(){if(W5)return Ud;W5=1;var t=function(n,r){this.type="GlissandoElem",this.anchor1=n,this.anchor2=r};return Ud=t,Ud}var Gd,H5;function u8(){if(H5)return Gd;H5=1;var t=function(n){this.type="TieElem",this.anchor1=n.anchor1,this.anchor2=n.anchor2,n.isGrace&&(this.isGrace=!0),n.fixedY&&(this.fixedY=!0),n.stemDir&&(this.stemDir=n.stemDir),n.voiceNumber!==void 0&&(this.voiceNumber=n.voiceNumber),n.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};return t.prototype.addInternalNote=function(e){this.internalNotes.push(e)},t.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},t.prototype.setStartX=function(e){this.startLimitX=e},t.prototype.setEndX=function(e){this.endLimitX=e},t.prototype.setHint=function(){this.hint=!0},t.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}},t.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var n=0;n<this.internalNotes.length;n++){var r=this.internalNotes[n];r.stemDir==="down"&&(e=!0)}this.above=e}},t.prototype.calcX=function(e,n){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=n},t.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},t.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,n=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&n<this.startY?(this.endY=n,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var r=!!this.anchor1.parent.beam,a=!!this.anchor2.parent.beam;if(r){var o=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];o||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(a){var l=this.anchor2.parent===this.anchor2.parent.beam.elems[0];l||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},t.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,n=0;n<this.internalNotes.length;n++)this.internalNotes[n].highestVert>e&&(e=this.internalNotes[n].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}},t.prototype.getYBounds=function(){var e=10,n=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,n),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,n),this.calcSlurY());var r,a;return this.above?(a=Math.min(this.startY,this.endY),r=a+3):(r=Math.min(this.startY,this.endY),a=r-3),[r,a]},Gd=t,Gd}var Yd,U5;function JF(){if(U5)return Yd;U5=1;var t=KF(),e=QF(),n=ZF(),r=is(),a=Qr(),o=u8(),l=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},f=function(g,p,y,h,x,S,C,T,M){for(var A,B=0;B<p.length;B++){if(p[B]==="staccato"||p[B]==="tenuto"||p[B]==="accent"&&!M){var F="scripts."+p[B];if(p[B]==="accent"&&(F="scripts.sforzato"),A===void 0?A=C==="down"?y+2:T-2:A=C==="down"?A+2:A-2,p[B]==="accent")C==="up"?A--:A++;else switch(A){case 2:case 4:case 6:case 8:case 10:C==="up"?A--:A++;break}y>9&&A++;var E=h/2;r.getSymbolAlign(F)!=="center"&&(E-=r.getSymbolWidth(F)/2),x.addFixedX(new a(F,E,r.getSymbolWidth(F),A))}if(p[B]==="slide"&&x.heads[0]){var $=x.heads[0].pitch;$-=2;var P=new a("",-S-15,0,$-1),z=new a("",-S-5,0,$+1);x.addFixedX(P),x.addFixedX(z),g.addOther(new o({anchor1:P,anchor2:z,fixedY:!0}))}}return A===void 0&&(A=y),{above:A,below:x.bottom}},d=function(g,p,y,h){for(var x=0;x<p.length;x++)switch(p[x]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var S=new t(y,p[x],h);g.addOther(S)}},m=function(g,p,y,h,x){function S(){if(h.heads.length===0)return 10;for(var A=h.heads[0].pitch,B=1;B<h.heads.length;B++)A=Math.max(A,h.heads[B].pitch);return A}function C(){if(h.heads.length===0)return 2;for(var A=h.heads[0].pitch,B=1;B<h.heads.length;B++)A=Math.min(A,h.heads[B].pitch);return A}function T(A,B){var F=x==="down"?C()+1:S()+9;x!=="down"&&B===1&&F--;var E=y/2;E+=x==="down"?-5:3;for(var $=0;$<B;$++)F-=1,h.addFixedX(new a(A,E,r.getSymbolWidth(A),F))}for(var M=0;M<g.length;M++)switch(g[M]){case"/":T("flags.ugrace",1);break;case"//":T("flags.ugrace",2);break;case"///":T("flags.ugrace",3);break;case"////":T("flags.ugrace",4);break}},w=function(g,p,y,h,x,S,C,T){function M(z,j){z==="above"?h.above+=j:h.below-=j}function A(z){var j;return z==="above"?(j=h.above,j<S&&(j=S)):(j=h.below,j>C&&(j=C)),j}function B(z,j,V){var L=A(j),D=2,W=5;y.addFixedX(new a(z,p/2,0,L+D,{type:"decoration",klass:"ornament",thickness:3,anchor:V})),M(j,W)}function F(z,j){var V=p/2;r.getSymbolAlign(z)!=="center"&&(V-=r.getSymbolWidth(z)/2);var L=r.symbolHeightInPitches(z)+1,D=A(j);D=j==="above"?D+L/2:D-L/2,y.addFixedX(new a(z,V,r.getSymbolWidth(z),D,{klass:"ornament",thickness:r.symbolHeightInPitches(z),position:j})),M(j,L)}for(var E={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},$=!1,P=0;P<g.length;P++)switch(g[P]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":B(g[P],x,"middle"),$=!0;break;case"D.C.alcoda":B("D.C. al coda",x,"end"),$=!0;break;case"D.C.alfine":B("D.C. al fine",x,"end"),$=!0;break;case"D.S.alcoda":B("D.S. al coda",x,"end"),$=!0;break;case"D.S.alfine":B("D.S. al fine",x,"end"),$=!0;break;case"fine":B("FINE",x,"middle"),$=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":F(E[g[P]],x),$=!0;break;case"invertedfermata":F(E[g[P]],"below"),$=!0;break;case"mark":y.klass="mark";break;case"accent":T&&(F("scripts.sforzato",x),$=!0);break}return $};function b(g,p,y){for(var h=0;h<g.length;h++)switch(g[h]){case"arpeggio":for(var x=p.abcelem.minpitch-1;x<=p.abcelem.maxpitch;x+=2)p.addExtra(new a("scripts.arpeggio",-r.getSymbolWidth("scripts.arpeggio")*2-y,0,x+2,{klass:"ornament",thickness:r.symbolHeightInPitches("scripts.arpeggio")}));break}}return l.prototype.dynamicDecoration=function(g,p,y,h){for(var x,S,C,T=0;T<p.length;T++)switch(p[T]){case"diminuendo(":this.startDiminuendoX=y,x=void 0;break;case"diminuendo)":x={start:this.startDiminuendoX,stop:y},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=y,S=void 0;break;case"crescendo)":S={start:this.startCrescendoX,stop:y},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=y,C=void 0;break;case"~)":case"glissando)":C={start:this.startGlissandoX,stop:y},this.startGlissandoX=void 0;break}x&&g.addOther(new e(x.start,x.stop,">",h)),S&&g.addOther(new e(S.start,S.stop,"<",h)),C&&g.addOther(new n(C.start,C.stop))},l.prototype.createDecoration=function(g,p,y,h,x,S,C,T,M,A,B){M||(M={ornamentPosition:"above",volumePosition:A?"above":"below",dynamicPosition:A?"above":"below"}),d(g,p,x,M.volumePosition),this.dynamicDecoration(g,p,x,M.dynamicPosition),m(p,y,h,x,C);var F=f(g,p,y,h,x,S,C,T,B);F.above=Math.max(F.above,this.minTop),F.below=Math.min(F.below,T),w(p,h,x,F,M.ornamentPosition,this.minTop,T,B),b(p,x,S)},Yd=l,Yd}var Xd,G5;function ez(){if(G5)return Xd;G5=1;var t=function(n,r,a){this.type="EndingElem",this.text=n,this.anchor1=r,this.anchor2=a,this.endingHeightAbove=5,this.pitch=void 0};return Xd=t,Xd}var Kd,Y5;function tz(){if(Y5)return Kd;Y5=1;var t=function(e){for(var n=0,r=0;r<e.voices.length;r++){var a=e.voices[r].staff;e.voices[r].duplicate||(n+=a.top,n+=-a.bottom)}return n};return Kd=t,Kd}var Qd,X5;function nz(){if(X5)return Qd;X5=1;var t=tz(),e=function(n){this.getTextSize=n,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};return e.prototype.setLimit=function(n,r){r.specialY[n]&&(r.staff.specialY[n]?r.staff.specialY[n]=Math.max(r.staff.specialY[n],r.specialY[n]):r.staff.specialY[n]=r.specialY[n])},e.prototype.addVoice=function(n,r,a){var o=this.voices.length;this.voices[o]=n,this.staffs[r]?this.staffs[r].voices.push(o):this.staffs[this.staffs.length]={top:10,bottom:2,lines:a,voices:[o],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},n.staff=this.staffs[r]},e.prototype.setHeight=function(){this.height=t(this)},e.prototype.setWidth=function(n){this.w=n;for(var r=0;r<this.voices.length;r++)this.voices[r].setWidth(n)},e.prototype.setStaffLimits=function(n){n.staff.top=Math.max(n.staff.top,n.top),n.staff.bottom=Math.min(n.staff.bottom,n.bottom),this.setLimit("tempoHeightAbove",n),this.setLimit("partHeightAbove",n),this.setLimit("volumeHeightAbove",n),this.setLimit("dynamicHeightAbove",n),this.setLimit("endingHeightAbove",n),this.setLimit("chordHeightAbove",n),this.setLimit("lyricHeightAbove",n),this.setLimit("lyricHeightBelow",n),this.setLimit("chordHeightBelow",n),this.setLimit("volumeHeightBelow",n),this.setLimit("dynamicHeightBelow",n)},Qd=e,Qd}var Zd,K5;function rz(){if(K5)return Zd;K5=1;var t=eo(),e=Qr(),n=function(a,o,l){this.type="TempoElement",this.tempo=a,this.tempo.type="tempo",this.tuneNumber=o,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(l,a,o))};return n.prototype.setX=function(r){this.x=r},n.prototype.createNote=function(r,a,o){var l=.75,f=a.duration[0],d=new t(a,f,1,"tempo",o),m,w,b;f<=1/32?(b="noteheads.quarter",w="flags.u32nd",m=0):f<=1/16?(b="noteheads.quarter",w="flags.u16th",m=0):f<=3/32?(b="noteheads.quarter",w="flags.u16nd",m=1):f<=1/8?(b="noteheads.quarter",w="flags.u8th",m=0):f<=3/16?(b="noteheads.quarter",w="flags.u8th",m=1):f<=1/4?(b="noteheads.quarter",m=0):f<=3/8?(b="noteheads.quarter",m=1):f<=1/2?(b="noteheads.half",m=0):f<=3/4?(b="noteheads.half",m=1):f<=1?(b="noteheads.whole",m=0):f<=1.5?(b="noteheads.whole",m=1):f<=2?(b="noteheads.dbl",m=0):(b="noteheads.dbl",m=1);var g=r(d,b,{verticalPos:0},{dir:"up",flag:w,dot:m,scale:l}),p=g.notehead;d.addHead(p);var y;if(b!=="noteheads.whole"&&b!=="noteheads.dbl"){var h=.3333333333333333*l,x=5*l,S=p.dx+p.w,C=-.6;y=new e(null,S,0,h,{type:"stem",pitch2:x,linewidth:C}),d.addRight(y)}return d},Zd=n,Zd}var Jd,Q5;function iz(){if(Q5)return Jd;Q5=1;var t=function(n,r,a){this.type="TripletElem",this.anchor1=r,this.number=n,this.durationClass=("d"+Math.round(r.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=a.flatBeams};return t.prototype.isClosed=function(){return!!this.anchor2},t.prototype.middleNote=function(e){this.middleElems.push(e)},t.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)},Jd=t,Jd}var ep,Z5;function sz(){if(Z5)return ep;Z5=1;function t(n){switch(n){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return n}function e(n,r,a){var o=n.split(`
`);for(let l=0;l<o.length;l++){let d=o[l].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!d)continue;let m=d[1]||"",w=d[2]||"",b=d[4]||"";a&&(m=t(m),b=t(b));const g=r?"":"",p=b?"/"+b:"";o[l]=[m,w,p].join(g)}return o.join(`
`)}return ep=e,ep}var tp,J5;function az(){if(J5)return tp;J5=1;var t=Qr(),e=qn();const n=sz();var r=function(o,l,f,d,m,w,b,g){for(var p=0;p<f.chord.length;p++){var y=f.chord[p].position,h=f.chord[p].rel_position,x=y==="left"||y==="right"||y==="below"||y==="above"||!!h,S,C;x?(S="annotationfont",C="abcjs-annotation"):(S="gchordfont",C="abcjs-chord");var T=o.attr(S,C),M=f.chord[p].name,A;if(typeof M=="string")A=a(M,y,h,x,S,C,T,o,l,f,d,m,w,b,g),d=A.roomTaken,m=A.roomTakenRight;else for(var B=0;B<M.length;B++)A=a(M[B].text,y,h,x,S,C,T,o,l,f,d,m,w,b,g),d=A.roomTaken,m=A.roomTakenRight}return{roomTaken:d,roomTakenRight:m}};function a(o,l,f,d,m,w,b,g,p,y,h,x,S,C,T){for(var M=o.split(`
`),A=M.length-1;A>=0;A--){var B=M[A],F=0,E;d||(B=n(B,C,T));var $=g.calc(B,m,w),P=$.width,z=$.height/e.STEP;switch(l){case"left":h+=P+7,F=-h,E=y.averagepitch,p.addExtra(new t(B,F,P+4,E,{type:"text",height:z,dim:b,position:"left"}));break;case"right":x+=4,F=x,E=y.averagepitch,p.addRight(new t(B,F,P+4,E,{type:"text",height:z,dim:b,position:"right"}));break;case"below":p.addRight(new t(B,0,0,void 0,{type:"text",position:"below",height:z,dim:b,realWidth:P}));break;case"above":p.addRight(new t(B,0,0,void 0,{type:"text",position:"above",height:z,dim:b,realWidth:P}));break;default:if(f){var j=f.y+3*e.STEP;p.addRight(new t(B,F+f.x,0,y.minpitch+j/e.STEP,{position:"relative",type:"text",height:z,dim:b}))}else{var V="above";y.positioning&&y.positioning.chordPosition&&(V=y.positioning.chordPosition),V!=="hidden"&&p.addCentered(new t(B,S/2,P,void 0,{type:"chord",position:V,height:z,dim:b,realWidth:P}))}}}return{roomTaken:h,roomTakenRight:x}}return tp=r,tp}var np,e6;function oz(){if(e6)return np;e6=1;var t=eo(),e=WF(),n=HF(),r=UF(),a=GF(),o=YF(),l=XF(),f=JF(),d=ez(),m=is(),w=Qr(),b=qn(),g=nz(),p=rz(),y=u8(),h=iz(),x=i8(),S=az(),C=t8(),T=wi(),M=function(L){var D=0;return L.duration&&(D=L.duration),D},A=!1,B={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},F=function(L,D,W){this.decoration=new f,this.getTextSize=L,this.tuneNumber=D,this.isBagpipes=W.bagpipes,this.flatBeams=W.flatbeams,this.graceSlurs=W.graceSlurs,this.percmap=W.percmap,this.initialClef=W.initialClef,this.jazzchords=!!W.jazzchords,this.accentAbove=!!W.accentAbove,this.germanAlphabet=!!W.germanAlphabet,this.reset()};F.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},F.prototype.setStemHeight=function(L){this.stemHeight=Math.round(L*10/b.STEP)/10},F.prototype.getCurrentVoiceId=function(L,D){return"s"+L+"v"+D},F.prototype.pushCrossLineElems=function(L,D){this.slursbyvoice[this.getCurrentVoiceId(L,D)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(L,D)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(L,D)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(L,D)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(L,D)]=this.voiceColor)},F.prototype.popCrossLineElems=function(L,D){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(L,D)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(L,D)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(L,D)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(L,D)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(L,D)]},F.prototype.containsLyrics=function(L){for(var D=0;D<L.length;D++)for(var W=0;W<L[D].voices.length;W++)for(var G=0;G<L[D].voices[W].length;G++){var U=L[D].voices[W][G];if(U.lyric){(!U.positioning||U.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}},F.prototype.createABCLine=function(L,D,W){this.minY=2,this.containsLyrics(L);var G=new g(this.getTextSize);this.tempoSet=!1;for(var U=0;U<L.length;U++)A&&this.restoreState(),A=!1,this.createABCStaff(G,L[U],D,U,W);return G},F.prototype.createABCStaff=function(L,D,W,G,U){L.getTextSize.updateFonts(D);for(var R=0;R<D.voices.length;R++){var I=new x(R,D.voices.length);R===0?(I.barfrom=D.connectBarLines==="start"||D.connectBarLines==="continue",I.barto=D.connectBarLines==="continue"||D.connectBarLines==="end"):I.duplicate=!0,D.title&&D.title[R]&&(I.header=D.title[R].replace(/\\n/g,`
`),I.headerPosition=6+L.getTextSize.baselineToCenter(I.header,"voicefont","staff-extra voice-name",R,D.voices.length)/b.STEP),D.clef&&D.clef.type==="perc"&&(I.isPercussion=!0);var N=(!this.initialClef||U===0)&&r(D.clef,this.tuneNumber);N&&(R===0&&D.barNumber&&this.addMeasureNumber(D.barNumber,N),I.addChild(N),this.startlimitelem=N);var H=a(D.key,this.tuneNumber);if(H&&(I.addChild(H),this.startlimitelem=H),D.meter){D.meter.type==="specified"?this.measureLength=D.meter.value[0].num/D.meter.value[0].den:this.measureLength=1;var X=l(D.meter,this.tuneNumber);I.addChild(X),this.startlimitelem=X}I.duplicate&&(I.children=[]);var Z=D.clef.stafflines||D.clef.stafflines===0?D.clef.stafflines:5;L.addVoice(I,G,Z);var K=Z===1;this.createABCVoice(D.voices[R],W,G,R,K,I),L.setStaffLimits(I),R===0&&(D.brace==="start"||!L.brace&&D.brace?(L.brace||(L.brace=[]),L.brace.push(new n(I,"brace"))):D.brace==="end"&&L.brace?L.brace[L.brace.length-1].setBottomStaff(I):D.brace==="continue"&&L.brace&&L.brace[L.brace.length-1].continuing(I),D.bracket==="start"||!L.bracket&&D.bracket?(L.bracket||(L.bracket=[]),L.bracket.push(new n(I,"bracket"))):D.bracket==="end"&&L.bracket?L.bracket[L.bracket.length-1].setBottomStaff(I):D.bracket==="continue"&&L.bracket&&L.bracket[L.bracket.length-1].continuing(I))}};function E(L,D){var W=L[D];if(W.el_type!=="note"||!W.startBeam||W.endBeam)return{count:1,elem:W};for(var G=[];D<L.length&&L[D].el_type==="note"&&(G.push(L[D]),!L[D].endBeam);)D++;return{count:G.length,elem:G}}F.prototype.createABCVoice=function(L,D,W,G,U,R){this.popCrossLineElems(W,G),this.stemdir=this.isBagpipes?"down":null,this.abcline=L,this.partstartelem&&(this.partstartelem=new d("",null,null),R.addOther(this.partstartelem));var I=R.voicetotal<2?-1:R.voicenumber;for(var N in this.slurs)this.slurs.hasOwnProperty(N)&&(this.slurs[N]=new y({force:this.slurs[N].force,voiceNumber:I,stemDir:this.slurs[N].stemDir,style:this.slurs[N].dotted}),A&&this.slurs[N].setHint(),R.addOther(this.slurs[N]));for(var H=0;H<this.ties.length;H++)this.ties[H]=new y({force:this.ties[H].force,stemDir:this.ties[H].stemDir,voiceNumber:I,style:this.ties[H].dotted}),A&&this.ties[H].setHint(),R.addOther(this.ties[H]);for(var X=0;X<this.abcline.length;X++)$(this.abcline[X]),this.minY=Math.min(this.abcline[X].minpitch,this.minY);for(var Z=W===0,K=0;K<this.abcline.length;){var ae=E(this.abcline,K),he=this.createABCElement(Z,U,R,ae.elem);if(he)for(H=0;H<he.length;H++){if(!this.tempoSet&&D&&!D.suppress){this.tempoSet=!0;var ee=new t(D,0,0,"tempo",this.tuneNumber,{});ee.addFixedX(new p(D,this.tuneNumber,o)),R.addChild(ee)}R.addChild(he[H])}K+=ae.count}this.pushCrossLineElems(W,G)},F.prototype.saveState=function(){this.tiesSave=T.cloneArray(this.ties),this.slursSave=T.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=T.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=T.cloneHashOfArrayOfHash(this.tiesbyvoice)},F.prototype.restoreState=function(){this.ties=T.cloneArray(this.tiesSave),this.slurs=T.cloneHashOfHash(this.slursSave),this.slursbyvoice=T.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=T.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},F.prototype.createABCElement=function(L,D,W,G){var U=[];switch(G.el_type){case void 0:U=this.createBeam(D,W,G);break;case"note":U[0]=this.createNote(G,!1,D,W),this.triplet&&this.triplet.isClosed()&&(W.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":U[0]=this.createBarLine(W,G,L),W.duplicate&&U.length>0&&(U[0].invisible=!0);break;case"meter":U[0]=l(G,this.tuneNumber),this.startlimitelem=U[0],W.duplicate&&U.length>0&&(U[0].invisible=!0);break;case"clef":if(U[0]=r(G,this.tuneNumber),!U[0])return null;W.duplicate&&U.length>0&&(U[0].invisible=!0);break;case"key":var R=a(G,this.tuneNumber);R&&(U[0]=R,this.startlimitelem=U[0]),W.duplicate&&U.length>0&&(U[0].invisible=!0);break;case"stem":this.stemdir=G.direction==="auto"?void 0:G.direction;break;case"part":var I=new t(G,0,0,"part",this.tuneNumber),N=this.getTextSize.calc(G.title,"partsfont","part");I.addFixedX(new w(G.title,0,0,void 0,{type:"part",height:N.height/b.STEP})),U[0]=I;break;case"tempo":var H=new t(G,0,0,"tempo",this.tuneNumber);H.addFixedX(new p(G,this.tuneNumber,o)),U[0]=H;break;case"style":G.head==="normal"?delete this.style:this.style=G.head;break;case"hint":A=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=G.size;break;case"color":this.voiceColor=G.color,W.color=this.voiceColor;break;default:var X=new t(G,0,0,"unsupported",this.tuneNumber);X.addFixed(new w("element type "+G.el_type,0,0,void 0,{type:"debug"})),U[0]=X}return U};function $(L){if(L.pitches){P(L);for(var D=0,W=0;W<L.pitches.length;W++)D+=L.pitches[W].verticalPos;L.averagepitch=D/L.pitches.length,L.minpitch=L.pitches[0].verticalPos,L.maxpitch=L.pitches[L.pitches.length-1].verticalPos}}F.prototype.createBeam=function(L,D,W){var G=[],U=new e(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,W[0]);A&&U.setHint();for(var R=0;R<W.length;R++)U.runningDirection(W[R]);U.setStemDirection();var I=this.stemdir;for(this.stemdir=U.stemsUp?"up":"down",R=0;R<W.length;R++){var N=W[R],H=this.createNote(N,!0,L,D);G.push(H),U.add(H),this.triplet&&this.triplet.isClosed()&&(D.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return U.calcDir(),D.addBeam(U),this.stemdir=I,G};var P=function(L){var D;do{D=!0;for(var W=0;W<L.pitches.length-1;W++)if(L.pitches[W].pitch>L.pitches[W+1].pitch){D=!1;var G=L.pitches[W];L.pitches[W]=L.pitches[W+1],L.pitches[W+1]=G}}while(!D)},z=function(L,D,W,G,U,R,I,N,H){for(var X=W;X>11;X--)X%2===0&&!G&&L.addFixed(new w(null,N,(U+4)*H,X,{type:"ledger"}));for(X=D;X<1;X++)X%2===0&&!G&&L.addFixed(new w(null,N,(U+4)*H,X,{type:"ledger"}));for(X=0;X<R.length;X++){var Z=U;I==="down"&&(Z=-Z),L.addFixed(new w(null,Z+N,(U+4)*H,R[X],{type:"ledger"}))}};F.prototype.addGraceNotes=function(L,D,W,G,U,R,I){var N=.6,H=3.5/5;U=Math.round(U*H);var X=null,Z;L.gracenotes.length>1&&(X=new e(U,"grace",R),A&&X.setHint(),X.mainNote=W);var K,ae=[];for(K=L.gracenotes.length-1;K>=0;K--)I+=10,ae[K]=I,L.gracenotes[K].accidental&&(I+=7);for(K=0;K<L.gracenotes.length;K++){var he=L.gracenotes[K].verticalPos;Z=X?null:B.uflags[R?5:3];var ee=[],ge=o(W,"noteheads.quarter",L.gracenotes[K],{dir:"up",headx:-ae[K],extrax:-ae[K],flag:Z,scale:N*this.voiceScale,accidentalSlot:ee});ge.notehead.highestVert=ge.notehead.pitch+U;var Se=ge.notehead;if(this.addSlursAndTies(W,L.gracenotes[K],Se,D,"up",!0),W.addExtra(Se),L.gracenotes[K].acciaccatura){var de=L.gracenotes[K].verticalPos+7*N,ke=X?5:6;W.addRight(new w("flags.ugrace",-ae[K]+ke,0,de,{scalex:N,scaley:N}))}if(X){var Te=L.gracenotes[K].duration/2;R&&(Te/=2);var me={heads:[Se],abcelem:{averagepitch:he,minpitch:he,maxpitch:he,duration:Te}};X.add(me)}else{var ve=he+.3333333333333333*N,_e=he+7*N,Ae=Se.dx+Se.w,Pe=-.6;W.addExtra(new w(null,Ae,0,ve,{type:"stem",pitch2:_e,linewidth:Pe}))}z(W,he,he,!1,m.getSymbolWidth("noteheads.quarter"),[],!0,Se.dx-1,.6);var Re=L.rest&&(L.rest.type==="spacer"||L.rest.type==="invisible");K===0&&!R&&this.graceSlurs&&!Re&&D.addOther(new y({anchor1:Se,anchor2:G,isGrace:!0}))}return X&&(X.calcDir(),D.addBeam(X)),I};function j(L,D,W,G,U,R,I,N,H){var X,Z=7,K,ae,he;switch(U&&(R==="down"&&(Z=3),R==="up"&&(Z=11)),I&&(W<.5||W<1?Z=7:Z=5),D.rest.type){case"whole":X=B.rest[0],D.averagepitch=Z,D.minpitch=Z,D.maxpitch=Z,G=0;break;case"rest":D.style==="rhythm"?X=B.rhythm[-N]:X=B.rest[-N],D.averagepitch=Z,D.minpitch=Z,D.maxpitch=Z;break;case"invisible":case"invisible-multimeasure":case"spacer":X="",D.averagepitch=Z,D.minpitch=Z,D.maxpitch=Z;break;case"multimeasure":X=B.rest.multi,D.averagepitch=Z,D.minpitch=Z,D.maxpitch=Z,G=0;var ee=m.getSymbolWidth(X);L.addHead(new w(X,ee,ee*2,7));var ge=new w(""+D.rest.text,ee,ee,16,{type:"multimeasure-text"});L.addExtra(ge)}if(D.rest.type.indexOf("multimeasure")<0&&D.rest.type!=="invisible"){var Se=o(L,X,{verticalPos:Z},{dot:G,scale:H});K=Se.notehead,K&&(L.addHead(K),ae=Se.accidentalshiftx,he=Se.dotshiftx)}return{noteHead:K,roomTaken:ae,roomTakenRight:he}}function V(L,D){for(var W=0;W<L.length;W++)if(JSON.stringify(L[W])===JSON.stringify(D))return;L.push(D)}return F.prototype.addNoteToAbcElement=function(L,D,W,G,U,R,I,N,H){var X=0,Z,K=0,ae=0,he,ee,ge=[],Se=[],de=0,ke=D.averagepitch>=6?"down":"up";G&&(ke=G),U=D.style?D.style:U,(!U||U==="normal")&&(U="note");var Te;R?Te=B[U].nostem:Te=B[U][-I],Te||console.log("noteSymbol:",U,I,R);var me;for(me=ke==="down"?D.pitches.length-2:1;ke==="down"?me>=0:me<D.pitches.length;me=ke==="down"?me-1:me+1){var ve=D.pitches[ke==="down"?me+1:me-1],_e=D.pitches[me],Ae=ke==="down"?ve.pitch-_e.pitch:_e.pitch-ve.pitch;Ae<=1&&!ve.printer_shift&&(_e.printer_shift=Ae?"different":"same",(_e.verticalPos>11||_e.verticalPos<1)&&ge.push(_e.verticalPos-_e.verticalPos%2),ke==="down"?K=m.getSymbolWidth(Te)+2:X=m.getSymbolWidth(Te)+2)}var Pe=D.pitches.length;for(me=0;me<D.pitches.length;me++){if(!N){var Re;ke==="down"&&me!==0||ke==="up"&&me!==Pe-1?Re=null:Re=B[ke==="down"?"dflags":"uflags"][-I]}var ze;if(D.pitches[me].style)ze=B[D.pitches[me].style][-I];else if(H.isPercussion&&this.percmap){ze=Te;var re=this.percmap[C(D.pitches[me])];re&&re.noteHead&&B[re.noteHead]&&(ze=B[re.noteHead][-I])}else ze=Te;D.pitches[me].highestVert=D.pitches[me].verticalPos;var ie=(G==="up"||ke==="up")&&me===0,ce=(G==="down"||ke==="down")&&me===Pe-1;if(ie||ce){if((D.startSlur||Pe===1)&&(D.pitches[me].highestVert=D.pitches[Pe-1].verticalPos,M(D)<1&&(G==="up"||ke==="up")&&(D.pitches[me].highestVert+=6)),D.startSlur)for(D.pitches[me].startSlur||(D.pitches[me].startSlur=[]),ee=0;ee<D.startSlur.length;ee++)V(D.pitches[me].startSlur,D.startSlur[ee]);if(D.endSlur)for(D.pitches[me].highestVert=D.pitches[Pe-1].verticalPos,M(D)<1&&(G==="up"||ke==="up")&&(D.pitches[me].highestVert+=6),D.pitches[me].endSlur||(D.pitches[me].endSlur=[]),ee=0;ee<D.endSlur.length;ee++)V(D.pitches[me].endSlur,D.endSlur[ee])}var se=!N&&I<=-1,ye=o(L,ze,D.pitches[me],{dir:ke,extrax:-K,flag:Re,dot:W,dotshiftx:X,scale:this.voiceScale,accidentalSlot:Se,shouldExtendStem:!G,printAccidentals:!H.isPercussion});de=Math.max(m.getSymbolWidth(ze),de),L.extraw-=ye.extraLeft,Z=ye.notehead,Z&&(this.addSlursAndTies(L,D.pitches[me],Z,H,se?ke:null,!1),D.gracenotes&&D.gracenotes.length>0&&(Z.bottom=Z.bottom-1),L.addHead(Z)),K+=ye.accidentalshiftx,ae=Math.max(ae,ye.dotshiftx)}if(se){var Me=Math.round(70*this.voiceScale)/10,Oe=ke==="down"?D.minpitch-Me:D.minpitch+1/3;Oe>6&&!G&&(Oe=6);var $e=ke==="down"?D.maxpitch-1/3:D.maxpitch+Me;$e<6&&!G&&($e=6);var Ee=ke==="down"||L.heads.length===0?0:L.heads[0].w,Be=ke==="down"?1:-1;Z&&Z.c==="noteheads.slash.quarter"&&(ke==="down"?$e-=1:Oe+=1),Z&&Z.c==="noteheads.triangle.quarter"&&(ke==="down"?$e-=.7:Oe-=1.2),L.addRight(new w(null,Ee,0,Oe,{type:"stem",pitch2:$e,linewidth:Be,bottom:Oe-1})),he=Math.min(Oe,$e)}return{noteHead:Z,roomTaken:K,roomTakenRight:ae,min:he,additionalLedgers:ge,dir:ke,symbolWidth:de}},F.prototype.addLyric=function(L,D){var W="";D.lyric.forEach(function(R){var I=R.divider===" "?"":R.divider;W+=R.syllable+I+`
`});var G=this.getTextSize.calc(W,"vocalfont","lyric"),U=D.positioning?D.positioning.vocalPosition:"below";L.addCentered(new w(W,0,G.width,void 0,{type:"lyric",position:U,height:G.height/b.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},F.prototype.createNote=function(L,D,W,G){var U=null,R=0,I=0,N=0,H=[],X,Z=M(L),K=!1;Z===0&&(K=!0,Z=.25,D=!0);for(var ae=Math.floor(Math.log(Z)/Math.log(2)),he=0,ee=Math.pow(2,ae),ge=ee/2;ee<Z;he++,ee+=ge,ge/=2);L.startTriplet&&(this.tripletmultiplier=L.tripletMultiplier);var Se=Z*this.tripletmultiplier;L.rest&&L.rest.type==="multimeasure"&&(Se=1),L.rest&&L.rest.type==="invisible-multimeasure"&&(Se=this.measureLength*L.rest.text);var de=L.rest?"rest":"note",ke=new t(L,Se,1,de,this.tuneNumber,{durationClassOveride:L.duration*this.tripletmultiplier});if(A&&ke.setHint(),L.rest){this.measureLength===Z&&L.rest.type!=="invisible"&&L.rest.type!=="spacer"&&L.rest.type.indexOf("multimeasure")<0&&(L.rest.type="whole");var Te=j(ke,L,Z,he,G.voicetotal>1,this.stemdir,W,ae,this.voiceScale);U=Te.noteHead,R=Te.roomTaken,I=Te.roomTakenRight}else{var me=this.addNoteToAbcElement(ke,L,he,this.stemdir,this.style,K,ae,D,G);me.min!==void 0&&(this.minY=Math.min(me.min,this.minY)),U=me.noteHead,R=me.roomTaken,I=me.roomTakenRight,H=me.additionalLedgers,X=me.dir,N=me.symbolWidth}if(L.lyric!==void 0&&this.addLyric(ke,L),L.gracenotes!==void 0&&(R+=this.addGraceNotes(L,G,ke,U,this.stemHeight*this.voiceScale,this.isBagpipes,R)),L.decoration){var ve=D&&X!=="up"?Math.min(-3,ke.bottom-6):ke.bottom;this.decoration.createDecoration(G,L.decoration,ke.top,U?U.w:0,ke,R,X,ve,L.positioning,this.hasVocals,this.accentAbove)}if(L.barNumber&&ke.addFixed(new w(L.barNumber,-10,0,0,{type:"barNumber"})),z(ke,L.minpitch,L.maxpitch,L.rest,N,H,X,-2,1),L.chord!==void 0){var _e=S(this.getTextSize,ke,L,R,I,N,this.jazzchords,this.germanAlphabet);R=_e.roomTaken,I=_e.roomTakenRight}return L.startTriplet&&(this.triplet=new h(L.startTriplet,U,{flatBeams:this.flatBeams})),L.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(U),this.triplet&&!L.startTriplet&&!L.endTriplet&&!(L.rest&&L.rest.type==="spacer")&&this.triplet.middleNote(U),ke},F.prototype.addSlursAndTies=function(L,D,W,G,U,R){if(D.endTie&&this.ties.length>0){for(var I=!1,N=0;N<this.ties.length;N++)if(this.ties[N].anchor1&&this.ties[N].anchor1.pitch===W.pitch){this.ties[N].setEndAnchor(W),G.setRange(this.ties[N]),this.ties.splice(N,1),I=!0;break}I||(this.ties[0].setEndAnchor(W),G.setRange(this.ties[0]),this.ties.splice(0,1))}var H=G.voicetotal<2?-1:G.voicenumber;if(D.startTie){var X=new y({anchor1:W,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:R,voiceNumber:H,style:D.startTie.style});A&&X.setHint(),this.ties[this.ties.length]=X,G.addOther(X),L.startTie=!0}var Z,K;if(D.endSlur)for(var ae=0;ae<D.endSlur.length;ae++)K=D.endSlur[ae],this.slurs[K]?(Z=this.slurs[K],Z.setEndAnchor(W),G.setRange(Z),delete this.slurs[K]):(Z=new y({anchor2:W,stemDir:this.stemdir,voiceNumber:H}),A&&Z.setHint(),G.addOther(Z)),this.startlimitelem&&Z.setStartX(this.startlimitelem);else if(!R)for(var he in this.slurs)this.slurs.hasOwnProperty(he)&&this.slurs[he].addInternalNote(W);if(D.startSlur)for(ae=0;ae<D.startSlur.length;ae++)K=D.startSlur[ae].label,Z=new y({anchor1:W,stemDir:this.stemdir,voiceNumber:H,style:D.startSlur[ae].style}),A&&Z.setHint(),this.slurs[K]=Z,G.addOther(Z)},F.prototype.addMeasureNumber=function(L,D){var W=this.getTextSize.calc(L,"measurefont","bar-number"),G=0;D.isClef&&(G+=W.width/2);var U=W.width>10&&D.abcelem.type==="treble"?13.5:11;D.addFixed(new w(L,G,W.width,U+W.height/b.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},F.prototype.createBarLine=function(L,D,W){var G=new t(D,0,10,"bar",this.tuneNumber),U=null,R=0;D.barNumber&&this.addMeasureNumber(D.barNumber,G);var I=D.type==="bar_right_repeat"||D.type==="bar_dbl_repeat",N=D.type!=="bar_left_repeat"&&D.type!=="bar_thick_thin"&&D.type!=="bar_invisible",H=D.type==="bar_right_repeat"||D.type==="bar_dbl_repeat"||D.type==="bar_left_repeat"||D.type==="bar_thin_thick"||D.type==="bar_thick_thin",X=D.type==="bar_left_repeat"||D.type==="bar_thick_thin"||D.type==="bar_thin_thin"||D.type==="bar_dbl_repeat",Z=D.type==="bar_left_repeat"||D.type==="bar_dbl_repeat";if(I||Z){for(var K in this.slurs)this.slurs.hasOwnProperty(K)&&this.slurs[K].setEndX(G);this.startlimitelem=G}if(I&&(G.addRight(new w("dots.dot",R,1,7)),G.addRight(new w("dots.dot",R,1,5)),R+=6),N&&(U=new w(null,R,1,2,{type:"bar",pitch2:10,linewidth:.6}),G.addRight(U)),D.type==="bar_invisible"&&(U=new w(null,R,1,2,{type:"none",pitch2:10,linewidth:.6}),G.addRight(U)),D.decoration&&this.decoration.createDecoration(L,D.decoration,12,H?3:1,G,0,"down",2,D.positioning,this.hasVocals,this.accentAbove),H&&(R+=4,U=new w(null,R,4,2,{type:"bar",pitch2:10,linewidth:4}),G.addRight(U),R+=5),this.partstartelem&&D.endEnding&&(this.partstartelem.anchor2=U,this.partstartelem=null),X&&(R+=3,U=new w(null,R,1,2,{type:"bar",pitch2:10,linewidth:.6}),G.addRight(U)),Z&&(R+=3,G.addRight(new w("dots.dot",R,1,7)),G.addRight(new w("dots.dot",R,1,5))),D.startEnding&&W){var ae=this.getTextSize.calc(D.startEnding,"repeatfont","").width;G.minspacing+=ae+10,this.partstartelem=new d(D.startEnding,U,null),L.addOther(this.partstartelem)}return G.extraw-=5,D.chord!==void 0&&S(this.getTextSize,G,D,0,0,0,!1,this.germanAlphabet),G},np=F,np}var rp,t6;function cz(){if(t6)return rp;t6=1;var t="http://www.w3.org/2000/svg";function e(l){this.svg=o(),this.currentGroup=[],l.appendChild(this.svg)}e.prototype.clear=function(){if(this.svg){var l=this.svg.parentNode;this.svg=o(),this.currentGroup=[],l&&(l.innerHTML="",l.appendChild(this.svg))}},e.prototype.setTitle=function(l){var f=document.createElement("title"),d=document.createTextNode(l);f.appendChild(d),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setResponsiveWidth=function(l,f){if(this.svg.setAttribute("viewBox","0 0 "+l+" "+f),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var d=this.svg.parentNode.getAttribute("class");d?d.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",d+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var m=f/l*100;this.svg.parentNode.style["padding-bottom"]=m+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},e.prototype.setSize=function(l,f){this.svg.setAttribute("width",l),this.svg.setAttribute("height",f)},e.prototype.setAttribute=function(l,f){this.svg.setAttribute(l,f)},e.prototype.setScale=function(l){l!==1?(this.svg.style.transform="scale("+l+","+l+")",this.svg.style["-ms-transform"]="scale("+l+","+l+")",this.svg.style["-webkit-transform"]="scale("+l+","+l+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},e.prototype.insertStyles=function(l){var f=document.createElementNS(t,"style");f.textContent=l,this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setParentStyles=function(l){for(var f in l)l.hasOwnProperty(f)&&this.svg.parentNode&&(this.svg.parentNode.style[f]=l[f]);if(this.dummySvg){var d=document.querySelector("body");d.removeChild(this.dummySvg),this.dummySvg=null}};function n(l,f,d){var m=d-l;return"M "+l+" "+f+" l "+m+" 0 l 0 1  l "+-m+" 0  z "}function r(l,f,d){var m=d-f;return"M "+l+" "+f+" l 0 "+m+" l 1 0  l 0 "+-m+"  z "}e.prototype.rect=function(l){var f=[],d=l.x,m=l.y,w=l.x+l.width,b=l.y+l.height;return f.push(n(d,m,w)),f.push(n(d,b,w)),f.push(r(w,m,b)),f.push(r(d,b,m)),this.path({path:f.join(" "),stroke:"none","data-name":l["data-name"]})},e.prototype.dottedLine=function(l){var f=document.createElementNS(t,"line");f.setAttribute("x1",l.x1),f.setAttribute("x2",l.x2),f.setAttribute("y1",l.y1),f.setAttribute("y2",l.y2),f.setAttribute("stroke",l.stroke),f.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.rectBeneath=function(l){var f=document.createElementNS(t,"rect");f.setAttribute("x",l.x),f.setAttribute("width",l.width),f.setAttribute("y",l.y),f.setAttribute("height",l.height),l.stroke&&f.setAttribute("stroke",l.stroke),l["stroke-opacity"]&&f.setAttribute("stroke-opacity",l["stroke-opacity"]),l.fill&&f.setAttribute("fill",l.fill),l["fill-opacity"]&&f.setAttribute("fill-opacity",l["fill-opacity"]),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.text=function(l,f,d){var m=document.createElementNS(t,"text");m.setAttribute("stroke","none");for(var w in f)f.hasOwnProperty(w)&&m.setAttribute(w,f[w]);for(var b=(""+l).split(`
`),g=0;g<b.length;g++){var p=document.createElementNS(t,"tspan");if(p.setAttribute("x",f.x?f.x:0),g!==0&&p.setAttribute("dy","1.2em"),b[g].indexOf("")!==-1){var y=b[g].split("");if(p.textContent=y[0],y[1]){var h=document.createElementNS(t,"tspan");h.setAttribute("dy","-0.3em"),h.setAttribute("style","font-size:0.7em"),h.textContent=y[1],p.appendChild(h)}if(y[2]){var x=y[1]?"0.4em":"0.1em",S=document.createElementNS(t,"tspan");S.setAttribute("dy",x),S.setAttribute("style","font-size:0.7em"),S.textContent=y[2],p.appendChild(S)}}else p.textContent=b[g];m.appendChild(p)}return d?d.appendChild(m):this.append(m),m},e.prototype.richTextLine=function(l,f,d,m,w,b){var g=document.createElementNS(t,"text");g.setAttribute("stroke","none"),g.setAttribute("class",m),g.setAttribute("x",f),g.setAttribute("y",d),g.setAttribute("text-anchor",w),g.setAttribute("dominant-baseline","middle");for(var p=0;p<l.length;p++){for(var y=l[p],h=document.createElementNS(t,"tspan"),x=Object.keys(y.attrs),S=0;S<x.length;S++){var C=y.attrs[x[S]];C!==""&&h.setAttribute(x[S],C)}h.textContent=y.content,g.appendChild(h)}return b?b.appendChild(g):this.append(g),g},e.prototype.guessWidth=function(l,f){var d=this.createDummySvg(),m=this.text(l,f,d),w;try{w=m.getBBox(),isNaN(w.height)||!w.height?w={width:f["font-size"]/2,height:f["font-size"]+2}:w={width:w.width,height:w.height}}catch{w={width:f["font-size"]/2,height:f["font-size"]+2}}return d.removeChild(m),w},e.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=o();var l=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",l.join(""));var f=document.querySelector("body");f.appendChild(this.dummySvg)}return this.dummySvg};var a={};e.prototype.getTextSize=function(l,f,d){if(typeof l=="number"&&(l=""+l),!l||l.match(/^\s+$/))return{width:0,height:0};var m;if(l.length<20&&(m=l+JSON.stringify(f),a[m]))return a[m];var w=!d;d||(d=this.text(l,f));var b;try{b=d.getBBox(),isNaN(b.height)||!b.height?b=this.guessWidth(l,f):b={width:b.width,height:b.height}}catch{b=this.guessWidth(l,f)}return w&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(d):this.svg.removeChild(d)),m&&(a[m]=b),b},e.prototype.openGroup=function(l){l=l||{};var f=document.createElementNS(t,"g");return l.klass&&f.setAttribute("class",l.klass),l.fill&&f.setAttribute("fill",l.fill),l.stroke&&f.setAttribute("stroke",l.stroke),l["data-name"]&&f.setAttribute("data-name",l["data-name"]),l.prepend?this.prepend(f):this.append(f),this.currentGroup.unshift(f),f},e.prototype.closeGroup=function(){var l=this.currentGroup.shift();return l&&l.children.length===0?(l.parentElement.removeChild(l),null):l},e.prototype.path=function(l){var f=document.createElementNS(t,"path");for(var d in l)l.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",l.path):d==="klass"?f.setAttributeNS(null,"class",l[d]):l[d]!==void 0&&f.setAttributeNS(null,d,l[d]));return this.append(f),f},e.prototype.pathToBack=function(l){var f=document.createElementNS(t,"path");for(var d in l)l.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",l.path):d==="klass"?f.setAttributeNS(null,"class",l[d]):f.setAttributeNS(null,d,l[d]));return this.prepend(f),f},e.prototype.lineToBack=function(l){for(var f=document.createElementNS(t,"line"),d=Object.keys(l),m=0;m<d.length;m++)f.setAttribute(d[m],l[d[m]]);return this.prepend(f),f},e.prototype.append=function(l){this.currentGroup.length>0?this.currentGroup[0].appendChild(l):this.svg.appendChild(l)},e.prototype.prepend=function(l){this.currentGroup.length>0?this.currentGroup[0].appendChild(l):this.svg.insertBefore(l,this.svg.firstChild)},e.prototype.setAttributeOnElement=function(l,f){for(var d in f)f.hasOwnProperty(d)&&l.setAttributeNS(null,d,f[d])},e.prototype.moveElementToChild=function(l,f){l.appendChild(f)};function o(){var l=document.createElementNS(t,"svg");return l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("role","img"),l.setAttribute("fill","currentColor"),l.setAttribute("stroke","currentColor"),l}return rp=e,rp}var ip,n6;function lz(){if(n6)return ip;n6=1;var t=qn(),e=cz(),n=function(r){this.paper=new e(r),this.controller=null,this.space=3*t.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};return n.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},n.prototype.newTune=function(r){this.abctune=r,this.setVerticalSpace(r.formatting),this.isPrint=r.media==="print",this.setPadding(r)},n.prototype.setLineThickness=function(r){this.lineThickness=r},n.prototype.setPaddingOverride=function(r){this.paddingOverride={top:r.paddingtop,bottom:r.paddingbottom,right:r.paddingright,left:r.paddingleft}},n.prototype.setPadding=function(r){function a(o,l,f,d,m){r.formatting[f]!==void 0?o.padding[l]=r.formatting[f]:o.paddingOverride[l]!==void 0?o.padding[l]=o.paddingOverride[l]:o.isPrint?o.padding[l]=d:o.padding[l]=m}a(this,"top","topmargin",38,15),a(this,"bottom","botmargin",38,15),a(this,"left","leftmargin",68,15),a(this,"right","rightmargin",68,15)},n.prototype.adjustNonScaledItems=function(r){this.padding.top/=r,this.padding.bottom/=r,this.padding.left/=r,this.padding.right/=r,this.abctune.formatting.headerfont.size/=r,this.abctune.formatting.footerfont.size/=r},n.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},n.prototype.setVerticalSpace=function(r){r.staffsep!==void 0&&(this.spacing.staffSeparation=r.staffsep*4/3),r.composerspace!==void 0&&(this.spacing.composer=r.composerspace*4/3),r.partsspace!==void 0&&(this.spacing.parts=r.partsspace*4/3),r.textspace!==void 0&&(this.spacing.text=r.textspace*4/3),r.musicspace!==void 0&&(this.spacing.music=r.musicspace*4/3),r.titlespace!==void 0&&(this.spacing.title=r.titlespace*4/3),r.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=r.sysstaffsep*4/3),r.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=r.stafftopmargin*4/3),r.subtitlespace!==void 0&&(this.spacing.subtitle=r.subtitlespace*4/3),r.topspace!==void 0&&(this.spacing.top=r.topspace*4/3),r.vocalspace!==void 0&&(this.spacing.vocal=r.vocalspace*4/3),r.wordsspace!==void 0&&(this.spacing.words=r.wordsspace*4/3)},n.prototype.calcY=function(r){return this.y-r*t.STEP},n.prototype.moveY=function(r,a){a===void 0&&(a=1),this.y+=r*a},n.prototype.absolutemoveY=function(r){this.y=r},ip=n,ip}var sp,r6;function uz(){if(r6)return sp;r6=1;function t(e,n,r,a,o,l){var f=e.text;this.rows=[];var d;n&&this.rows.push({move:n});var m=r.calc("textfont","defined-text");if(f==="")this.rows.push({move:m.attr["font-size"]*2});else if(typeof f=="string")this.rows.push({move:m.attr["font-size"]/2}),this.rows.push({left:a,text:f,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=l.calc(f,"textfont","defined-text"),this.rows.push({move:d.height});else if(f){for(var w=0,b=a,g="textfont",p=0;p<f.length;p++)f[p].font?g=f[p].font:g="textfont",this.rows.push({left:b,text:f[p].text,font:g,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=l.calc(f[p].text,r.calc(g,"defined-text").font,"defined-text"),b+=d.width+d.height/2,w=Math.max(w,d.height);this.rows.push({move:w})}else if(e.length===1){var y=o/2;this.rows.push({left:y,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=l.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:d.height})}}return sp=t,sp}var ap,i6;function fz(){if(i6)return ap;i6=1;function t(e,n,r){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:n,absElemType:"separator"}),r&&this.rows.push({move:r})}return ap=t,ap}var op,s6;function hz(){if(s6)return op;s6=1;function t(e,n,r,a,o,l){this.rows=[],e&&this.rows.push({move:e});var f=n.titleleft?"start":"middle",d=n.titleleft?o:a;this.rows.push({left:d,text:r.text,font:"subtitlefont",klass:"text subtitle",anchor:f,startChar:r.startChar,endChar:r.endChar,absElemType:"subtitle",name:"subtitle"});var m=l.calc(r.text,"subtitlefont","text subtitle");this.rows.push({move:m.height})}return op=t,op}var cp,a6;function Kg(){if(a6)return cp;a6=1;function t(e,n,r){if(n.text){n.marginLeft||(n.marginLeft=0),n.klass||(n.klass=""),n.anchor||(n.anchor="start"),n.info||(n.info={startChar:-2,endChar:-2}),n.marginTop&&e.push({move:n.marginTop});var a={left:n.marginLeft,text:n.text,font:n.font,anchor:n.anchor,startChar:n.info.startChar,endChar:n.info.endChar,"dominant-baseline":n["dominant-baseline"]};n.absElemType&&(a.absElemType=n.absElemType),!n.inGroup&&n.klass&&(a.klass=n.klass),n.name&&(a.name=n.name),e.push(a);var o=r.calc("A",n.font,n.klass),l=n.text.split(`
`).length;if(n.text[n.text.length-1]===`
`&&l--,!n.noMove){var f=o.height*1.1*l;e.push({move:Math.round(f)}),n.marginBottom&&e.push({move:n.marginBottom})}}}return cp=t,cp}var lp,o6;function f8(){if(o6)return lp;o6=1;const t=Kg();function e(n,r,a,o,l,f,d,m){var w=m.calc("i",a,o);if(r==="")n.push({move:w.height});else{if(typeof r=="string"){t(n,{marginLeft:f,text:r,font:a,klass:o,marginTop:d.marginTop,anchor:d.anchor,absElemType:d.absElemType,info:d.info,name:l},m);return}d.marginTop&&n.push({move:d.marginTop});var b=0,g={left:f,anchor:d.anchor,phrases:[]};o&&(g.klass=o),n.push(g);for(var p=0;p<r.length;p++){var y=r[p],h=y.font?y.font:m.attr(a,o).font,x={content:y.text};h&&(x.attrs={"font-family":m.getFamily(h.face),"font-size":h.size,"font-weight":h.weight,"font-style":h.style,"font-decoration":h.decoration}),g.phrases.push(x);var S=m.calc(y.text,h,o);b=Math.max(b,S.height),y.text[y.text.length-1]===" "&&w.width}n.push({move:b})}}return lp=e,lp}var up,c6;function dz(){if(c6)return up;c6=1;const t=Kg(),e=f8();function n(r,a,o,l,f,d,m,w,b,g){if(this.rows=[],r.header&&d){var p=g.calc("X","headerfont","abcjs-header abcjs-meta-top").height;t(this.rows,{marginLeft:m,text:r.header.left,font:"headerfont",klass:"header meta-top",marginTop:-p,info:a.header,name:"header"},g),t(this.rows,{marginLeft:m+f/2,text:r.header.center,font:"headerfont",klass:"header meta-top",marginTop:-p,anchor:"middle",info:a.header,name:"header"},g),t(this.rows,{marginLeft:m+f,text:r.header.right,font:"headerfont",klass:"header meta-top",marginTop:-p,anchor:"end",info:a.header,name:"header"},g)}d&&this.rows.push({move:w.top});var y=o.titleleft?"start":"middle",h=o.titleleft?m:m+f/2;if(r.title){var x=b?"abcjs-title":"";e(this.rows,r.title,"titlefont",x,"title",h,{marginTop:w.title,anchor:y,absElemType:"title",info:a.title},g)}if(l.length)for(var S=0;S<l.length&&l[S].subtitle;){var x=b?"abcjs-text abcjs-subtitle":"";e(this.rows,l[S].subtitle.text,"subtitlefont",x,"subtitle",h,{marginTop:w.subtitle,anchor:y,absElemType:"subtitle",info:l[S].subtitle},g),S++}if(r.rhythm||r.origin||r.composer){if(this.rows.push({move:w.composer}),r.rhythm&&r.rhythm.length>0){var C=!!(r.composer||r.origin),x=b?"abcjs-rhythm":"";t(this.rows,{marginLeft:m,text:r.rhythm,font:"infofont",klass:x,absElemType:"rhythm",noMove:C,info:a.rhythm,name:"rhythm"},g)}r.composer&&r.composer,r.origin&&r.origin;var T=r.composer?r.composer:"";if(r.origin&&(typeof T=="string"&&typeof r.origin=="string"?T+=" ("+r.origin+")":typeof T=="string"&&typeof r.origin!="string"?(T=[{text:T}],T.push({text:" ("}),T=T.concat(r.origin),T.push({text:")"})):(T.push({text:" ("}),T=T.concat(r.origin),T.push({text:")"}))),T){var x=b?"abcjs-composer":"";e(this.rows,T,"composerfont",x,"composer",m+f,{anchor:"end",absElemType:"composer",info:a.composer,ingroup:!0},g)}}if(r.author&&r.author.length>0){var x=b?"abcjs-author":"";e(this.rows,r.author,"composerfont",x,"author",m+f,{anchor:"end",absElemType:"author",info:a.author},g)}if(r.partOrder&&r.partOrder.length>0){var x=b?"abcjs-part-order":"";e(this.rows,r.partOrder,"partsfont",x,"part-order",m,{absElemType:"partOrder",info:a.partOrder,anchor:"start"},g)}}return up=n,up}var fp,l6;function pz(){if(l6)return fp;l6=1;const t=Kg(),e=f8();function n(o,l,f,d,m,w,b){this.rows=[],o.unalignedWords&&o.unalignedWords.length>0&&this.unalignedWords(o.unalignedWords,d,m,w,b),this.extraText(o,d,m,w,b),o.footer&&f&&this.footer(o.footer,l,d,b)}n.prototype.unalignedWords=function(o,l,f,d,m){var w=d?"abcjs-unaligned-words":"",b="wordsfont",g=m.calc("i",b,w);this.rows.push({move:f.words}),a(this.rows,"",o,l,b,"unalignedWords","unalignedWords",w,"unalignedWords",f,d,m),this.rows.push({move:g.height})};function r(o,l,f,d,m,w,b){f&&(l&&(typeof f=="string"?f=l+f:f=[{text:l}].concat(f)),m=w?"abcjs-extra-text "+m:"",e(o,f,"historyfont",m,"description",d,{absElemType:"extraText",anchor:"start"},b))}function a(o,l,f,d,m,w,b,g,p,y,h,x){if(f){g=h?"abcjs-extra-text "+g:"";var S=x.calc("A",m,g);if(typeof f=="string")l&&(f=l+`
`+f),t(o,{marginLeft:d,text:f,font:m,absElemType:"extraText",name:p,"dominant-baseline":"middle",klass:g},x);else{o.push({startGroup:b,klass:g,name:p}),o.push({move:y.info}),l&&(t(o,{marginLeft:d,text:l,font:m,absElemType:"extraText",name:p,"dominant-baseline":"middle"},x),o.push({move:S.height*3/4}));for(var C=0;C<f.length;C++)e(o,f[C],m,"",p,d,{anchor:"start"},x),C<f.length-1&&typeof f[C]=="string"&&typeof f[C+1]!="string"&&o.push({move:S.height*3/4});o.push({endGroup:b,absElemType:w,startChar:-1,endChar:-1,name:p}),o.push({move:S.height})}}}return n.prototype.extraText=function(o,l,f,d,m){r(this.rows,"Book: ",o.book,l,"abcjs-book",d,m),r(this.rows,"Source: ",o.source,l,"abcjs-source",d,m),r(this.rows,"Discography: ",o.discography,l,"abcjs-discography",d,m),a(this.rows,"Notes:",o.notes,l,"historyfont","extraText","notes","abcjs-notes","description",f,d,m),r(this.rows,"Transcription: ",o.transcription,l,"abcjs-transcription",d,m),a(this.rows,"History:",o.history,l,"historyfont","extraText","history","abcjs-history","description",f,d,m),r(this.rows,"Copyright: ",o["abc-copyright"],l,"abcjs-copyright",d,m),r(this.rows,"Creator: ",o["abc-creator"],l,"abcjs-creator",d,m),r(this.rows,"Edited By: ",o["abc-edited-by"],l,"abcjs-edited-by",d,m)},n.prototype.footer=function(o,l,f,d){var m="header meta-bottom",w="footerfont";this.rows.push({startGroup:"footer",klass:m}),t(this.rows,{marginLeft:f,text:o.left,font:w,klass:m,name:"footer"},d),t(this.rows,{marginLeft:f+l/2,text:o.center,font:w,klass:m,anchor:"middle",name:"footer"},d),t(this.rows,{marginLeft:f+l,text:o.right,font:w,klass:m,anchor:"end",name:"footer"},d)},fp=n,fp}var hp,u6;function h8(){if(u6)return hp;u6=1;function t(n,r,a,o){if(n.indexOf(r)===0){var l=n.replace(r,""),f=parseInt(l,10);""+f===l&&(a[o]=f)}}function e(n,r){var a=[];if(n.absEl.elemset){for(var o={},l=0;l<n.absEl.elemset.length;l++){var f=n.absEl.elemset[l];if(f)for(var d=f.getAttribute("class").split(" "),m=0;m<d.length;m++)o[d[m]]=!0}for(var w=0;w<Object.keys(o).length;w++)a.push(Object.keys(o)[w])}for(var b={},g=0;g<a.length;g++)t(a[g],"abcjs-v",b,"voice"),t(a[g],"abcjs-l",b,"line"),t(a[g],"abcjs-m",b,"measure");n.staffPos&&(b.staffPos=n.staffPos);for(var p=r.target;p&&p.dataset&&!p.dataset.name&&p.tagName.toLowerCase()!=="svg";)p=p.parentNode;for(var y=r.target;y&&y.dataset&&!y.dataset.index&&y.tagName.toLowerCase()!=="svg";)y=y.parentNode;return y&&y.dataset&&(b.name=y.dataset.name,b.clickedName=p.dataset.name,b.parentClasses=y.classList),p&&p.classList&&(b.clickedClasses=p.classList),b.selectableElement=n.svgEl,{classes:a,analysis:b}}return hp=e,hp}var dp,f6;function mz(){if(f6)return dp;f6=1;var t=qn(),e=h8();function n(E,$){if(E.rangeHighlight=T,E.dragging)for(var P=0;P<E.selectables.length;P++){var z=E.selectables[P];z.svgEl.getAttribute("selectable")==="true"&&(z.svgEl.setAttribute("tabindex",0),z.svgEl.setAttribute("data-index",P),z.svgEl.addEventListener("keydown",o.bind(E)),z.svgEl.addEventListener("keyup",l.bind(E)),z.svgEl.addEventListener("focus",a.bind(E)))}for(var j=0;j<$.length;j++)$[j].addEventListener("touchstart",p.bind(E),{passive:!0}),$[j].addEventListener("touchmove",y.bind(E),{passive:!0}),$[j].addEventListener("touchend",h.bind(E),{passive:!0}),$[j].addEventListener("mousedown",p.bind(E)),$[j].addEventListener("mousemove",y.bind(E)),$[j].addEventListener("mouseup",h.bind(E))}function r(E){var $=1,P=1,z=E.target.closest("svg"),j=0;z&&z.viewBox&&z.viewBox.baseVal&&(z.viewBox.baseVal.width!==0&&($=z.viewBox.baseVal.width/z.clientWidth),z.viewBox.baseVal.height!==0&&(P=z.viewBox.baseVal.height/z.clientHeight),j=z.viewBox.baseVal.y);var V=E.target&&E.target.tagName==="svg",L,D;return V?(L=E.offsetX,D=E.offsetY):(L=E.layerX,D=E.layerY),L=L*$,D=D*P,[L,D+j]}function a(E){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&S.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,E),this.dragYStep=0}function o(E){switch(E.keyCode){case 38:case 40:E.preventDefault()}}function l(E){var $=!1,P=E.target.dataset.index;switch(E.keyCode){case 13:case 32:$=!0,this.dragTarget=this.selectables[P],this.dragIndex=P,this.dragMechanism="keyboard",h.bind(this)(E);break;case 38:$=!0,this.dragTarget=this.selectables[P],this.dragIndex=P,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*t.STEP+")"));break;case 40:$=!0,this.dragTarget=this.selectables[P],this.dragIndex=P,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*t.STEP+")"));break;case 9:this.dragYStep!==0&&h.bind(this)(E);break}$&&E.preventDefault()}function f(E,$){if(!$)return-1;for(var P=0;P<E.length;P++)if($.dataset.index===E[P].svgEl.dataset.index)return P;return-1}function d(E,$,P){for(var z=9999999,j=-1,V=0;V<E.selectables.length&&z>0;V++){var L=E.selectables[V];if(E.getDim(L),L.dim.left<$&&L.dim.right>$&&L.dim.top<P&&L.dim.bottom>P)j=V,z=0;else if(L.dim.top<P&&L.dim.bottom>P){var D=Math.min(Math.abs(L.dim.left-$),Math.abs(L.dim.right-$));D<z&&(z=D,j=V)}else if(L.dim.left<$&&L.dim.right>$){var W=Math.min(Math.abs(L.dim.top-P),Math.abs(L.dim.bottom-P));W<z&&(z=W,j=V)}else{var G=Math.abs($-L.dim.left)>Math.abs($-L.dim.right)?Math.abs($-L.dim.right):Math.abs($-L.dim.left),U=Math.abs(P-L.dim.top)>Math.abs(P-L.dim.bottom)?Math.abs(P-L.dim.bottom):Math.abs(P-L.dim.top),R=Math.sqrt(G*G+U*U);R<z&&(z=R,j=V)}}return j>=0&&z<=12?j:-1}function m(E,$,P){if(E.x<=$.offsetX&&E.x+E.width>=$.offsetX&&E.y<=$.offsetY&&E.y+E.height>=$.offsetY)return[$.offsetX,$.offsetY];var z=Math.abs($.layerY/P-$.offsetY);return z<3?[$.offsetX,$.offsetY]:[$.layerX,$.layerY]}function w(E){if(!E)return null;if(E.tagName==="svg")return E;if(!E.getAttribute)return null;for(var $=E.getAttribute("selectable");!$;)E.parentElement?(E=E.parentElement,E.tagName==="svg"?$=!0:$=E.getAttribute("selectable")):$=!0;return E}function b(E,$){var P,z,j,V=f(E.selectables,w($.target));return V>=0?(j=m(E.selectables[V].svgEl.getBBox(),$,E.scale),P=j[0],z=j[1]):(j=r($),P=j[0],z=j[1],V=d(E,P,z)),{x:P,y:z,clickedOn:V}}function g(E){if(!(!E||!E.target||!E.touches||E.touches.length<1)){var $=E.target.getBoundingClientRect(),P=E.touches[0].pageX-$.left,z=E.touches[0].pageY-$.top;E.touches[0].offsetX=P,E.touches[0].offsetY=z,E.touches[0].layerX=E.touches[0].pageX,E.touches[0].layerY=E.touches[0].pageY}}function p(E){var $=E;E.type==="touchstart"&&(g(E),E.touches.length>0&&($=E.touches[0]));var P=b(this,$);P.clickedOn>=0&&(E.type==="touchstart"||E.button===0)&&this.selectables[P.clickedOn]&&(this.dragTarget=this.selectables[P.clickedOn],this.dragIndex=P.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:P.x,y:P.y},this.dragging&&this.dragTarget.isDraggable&&(B(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function y(E){var $=E;if(E.type==="touchmove"&&(g(E),E.touches.length>0&&($=E.touches[0])),this.lastTouchMove=E,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var P=b(this,$),z=Math.round((P.y-this.dragMouseStart.y)/t.STEP);z!==this.dragYStep&&(this.dragYStep=z,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+z*t.STEP+")"))}}function h(E){var $=E;E.type==="touchend"&&this.lastTouchMove&&(g(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&($=this.lastTouchMove.touches[0])),this.dragTarget&&(C.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),S.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,$),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),F(this.renderer.svg,"abcjs-dragging-in-progress"))}function x(E){E>=0&&E<this.selectables.length&&(this.dragTarget=this.selectables[E],this.dragIndex=E,this.dragMechanism="keyboard",h.bind(this)({target:this.dragTarget.svgEl}))}function S(E,$,P,z,j){for(var V=e(E,j),L=V.classes,D=V.analysis,W=0;W<this.listeners.length;W++)this.listeners[W](E.absEl.abcelem,E.absEl.tuneNumber,L.join(" "),D,{step:$,max:P,index:z,setSelection:x.bind(this)},j)}function C(){for(var E=0;E<this.selected.length;E++)this.selected[E].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function T(E,$){C.bind(this)();for(var P=0;P<this.staffgroups.length;P++)for(var z=this.staffgroups[P].voices,j=0;j<z.length;j++)for(var V=z[j].children,L=0;L<V.length;L++){var D=V[L].abcelem.startChar,W=V[L].abcelem.endChar;($>D&&E<W||$===E&&$===W)&&(this.selected[this.selected.length]=V[L],V[L].highlight(void 0,this.selectionColor))}}function M(E){var $=E.getAttribute("class");$||($="");for(var P=$.split(" "),z={},j=0;j<P.length;j++)z[P[j]]=!0;return z}function A(E,$){var P=[];for(var z in $)$.hasOwnProperty(z)&&P.push(z);E.setAttribute("class",P.join(" "))}function B(E,$){if(E){var P=M(E.svg);P[$]=!0,A(E.svg,P)}}function F(E,$){if(E){var P=M(E.svg);delete P[$],A(E.svg,P)}}return dp=n,dp}var pp,h6;function Qg(){if(h6)return pp;h6=1;function t(e,n,r,a,o){return n+(a-n)/(r-e)*(o-e)}return pp=t,pp}var mp,d6;function gz(){if(d6)return mp;d6=1;var t=Qr(),e=qn(),n=Qg(),r=function(g){if(!(g.elems.length===0||g.allrests)){var p=f(g.stemsUp,g.isgrace),y=g.elems[0],h=g.elems[g.elems.length-1],x=0,S=g.stemsUp?y.abcelem.maxpitch:y.abcelem.minpitch;x=o(y,g.stemsUp,S,x),x=o(h,g.stemsUp,S,x),x=Math.max(g.stemHeight,x+3);var C=m(g.average,g.elems.length,x,g.stemsUp,y.abcelem.averagepitch,h.abcelem.averagepitch,g.isflat,g.min,g.max,g.isgrace),T=d(g.stemsUp,y,h);g.addBeam({startX:T[0],endX:T[1],startY:C[0],endY:C[1],dy:p});for(var M=b(g.elems,g.stemsUp,g.beams[0],g.isgrace,p),A=0;A<M.length;A++)g.addBeam(M[A]);w(g.elems,g.stemsUp,g.beams[0],p,g.mainNote)}},a=function(g){return g===void 0?0:Math.floor(Math.log(g)/Math.log(2))};function o(g,p,y,h){if(!g.children)return h;for(var x=0;x<g.children.length;x++){var S=g.children[x];p&&S.top!==void 0&&S.c==="flags.ugrace"?h=Math.max(h,S.top-y):!p&&S.bottom!==void 0&&S.c==="flags.ugrace"&&(h=Math.max(h,y-S.bottom+7))}return h}function l(g,p,y,h){if(h)return 0;var x=g-p,S=y/2;return x>S&&(x=S),x<-S&&(x=-S),x}function f(g,p){var y=g?e.STEP:-e.STEP;return p&&(y=y*.4),y}function d(g,p,y){var h=p.heads[g?0:p.heads.length-1],x=y.heads[g?0:y.heads.length-1],S=h.x;g&&(S+=h.w-.6);var C=x.x;return C+=g?x.w:.6,[S,C]}function m(g,p,y,h,x,S,C,T,M,A){var B=y-2,F=y-2,E=Math.round(h?Math.max(g+B,M+F):Math.min(g-B,T-F)),$=l(x,S,p,C),P=E+Math.floor($/2),z=E+Math.floor(-$/2);return A||(h&&E<6||!h&&E>6)&&(P=6,z=6),[P,z]}function w(g,p,y,h,x){for(var S=0;S<g.length;S++){var C=g[S];if(!C.abcelem.rest){var T=!C.addExtra,M=T?x:C,A=C.heads[p?0:C.heads.length-1],B=1/5,F=A.pitch+(p?B:-B),E=p?A.w:0;T||(E+=A.dx);var $=A.x+E,P=n(y.startX,y.startY,y.endX,y.endY,$),z=p?-.6:.6;p||(P-=h/2/e.STEP),T&&(E+=C.heads[0].dx),A.c==="noteheads.slash.quarter"&&(p?F+=1:F-=1);var j=new t(null,E,0,F,{type:"stem",pitch2:P,linewidth:z});j.setX(M.x),M.addRight(j)}}}function b(g,p,y,h,x){for(var S=[],C=[],T=0;T<g.length;T++){var M=g[T];if(!M.abcelem.rest){var A=M.heads[p?0:M.heads.length-1],B=A.x+(p?A.w:0),F=n(y.startX,y.startY,y.endX,y.endY,B),E=p?-1.5:1.5;h&&(E=E*2/3);var $=M.abcelem.duration;$===0&&($=.25);for(var P=a($);P<-3;P++){var z=-4-P;if(C[z]?C[z].single=!1:C[z]={x:B+(p?-.6:0),y:F+E*(z+1),durlog:P,single:!0},T>0&&M.abcelem.beambr&&M.abcelem.beambr<=z+1){C[z].split||(C[z].split=[C[z].x]);var j=d(p,g[T-1],M);C[z].split[C[z].split.length-1]>=j[0]&&(j[0]+=M.w),C[z].split.push(j[0]),C[z].split.push(j[1])}}for(var V=C.length-1;V>=0;V--)if(T===g.length-1||a(g[T+1].abcelem.duration)>-V-4){var L=B,D=F+E*(V+1);C[V].single&&(L=T===0?B+5:B-5,D=n(y.startX,y.startY,y.endX,y.endY,L)+E*(V+1));var W={startX:C[V].x,endX:L,startY:C[V].y,endY:D,dy:x};if(C[V].split!==void 0){var G=C[V].split;W.endX<=G[G.length-1]&&(G[G.length-1]-=M.w),G.push(W.endX),W.split=C[V].split}S.push(W),C=C.slice(0,V)}}}return S}return mp=r,mp}var gp,p6;function vz(){if(p6)return gp;p6=1;var t=Qg();function e(o){if(o.anchor1&&o.anchor2){o.hasBeam=!!o.anchor1.parent.beam&&o.anchor1.parent.beam===o.anchor2.parent.beam;var l=o.anchor1.parent.beam;if(o.hasBeam&&(l.elems[0]!==o.anchor1.parent||l.elems[l.elems.length-1]!==o.anchor2.parent)&&(o.hasBeam=!1),o.hasBeam){var f=n(l)?o.anchor1.x+o.anchor1.w:o.anchor1.x;o.yTextPos=r(f,o.anchor2.x,l),o.yTextPos+=n(l)?3:-2,o.xTextPos=a(f,o.anchor2.x),o.top=o.yTextPos+1,o.bottom=o.yTextPos-2,n(l)&&(o.endingHeightAbove=4)}else{o.startNote=Math.max(o.anchor1.parent.top,9)+4,o.endNote=Math.max(o.anchor2.parent.top,9)+4,o.anchor1.parent.type==="rest"&&o.anchor2.parent.type!=="rest"?o.startNote=o.endNote:o.anchor2.parent.type==="rest"&&o.anchor1.parent.type!=="rest"&&(o.endNote=o.startNote);for(var d=0,m=0;m<o.middleElems.length;m++)d=Math.max(d,o.middleElems[m].top);d+=4,(d>o.startNote||d>o.endNote)&&(o.startNote=d,o.endNote=d),o.flatBeams&&(o.startNote=Math.max(o.startNote,o.endNote),o.endNote=Math.max(o.startNote,o.endNote)),o.yTextPos=o.startNote+(o.endNote-o.startNote)/2,o.xTextPos=o.anchor1.x+(o.anchor2.x+o.anchor2.w-o.anchor1.x)/2,o.top=o.yTextPos+1}}delete o.middleElems,delete o.flatBeams}function n(o){return o.stemsUp}function r(o,l,f){if(f.beams.length===0)return 0;f=f.beams[0];var d=o+(l-o)/2;return t(f.startX,f.startY,f.endX,f.endY,d)}function a(o,l){return o+(l-o)/2}return gp=e,gp}var vp,m6;function yz(){if(m6)return vp;m6=1;var t=gz(),e=Qg(),n=vz(),r=function(w){for(var b=0;b<w.beams.length;b++)if(w.beams[b].type==="BeamElem"){t(w.beams[b]),a(w.beams[b]);for(var g=0;g<w.beams[b].elems.length;g++)w.adjustRange(w.beams[b].elems[g])}for(w.staff.specialY.chordLines=l(w.children),b=0;b<w.otherchildren.length;b++){var p=w.otherchildren[b];p.type==="TripletElem"&&(n(p),w.adjustRange(p))}w.staff.top=Math.max(w.staff.top,w.top),w.staff.bottom=Math.min(w.staff.bottom,w.bottom)};function a(w){for(var b=1.5,g=0;g<w.elems.length;g++){var p=w.elems[g];if(p.top)for(var y=m(p,w),h=0;h<p.children.length;h++){var x=p.children[h];if(x.klass==="ornament"&&x.position!=="below"&&x.bottom-b<y){var S=y-x.bottom+b;x.bottom+=S,x.top+=S,x.pitch+=S,y=p.top=x.top}}}}function o(w,b){var g=b.getChordDim();if(g){for(var p=0;p<w.length;p++){var y=w[p]<g.left;if(y){p>0&&b.putChordInLane(p),w[p]=g.right;return}}w.push(g.right),b.putChordInLane(w.length-1)}}function l(w){var b=[0],g=[0],p,y,h;for(p=0;p<w.length;p++){for(y=0;y<w[p].children.length;y++)h=w[p].children[y],h.chordHeightAbove&&o(b,h);for(y=w[p].children.length-1;y>=0;y--)h=w[p].children[y],h.chordHeightBelow&&o(g,h)}return(b.length>1||g.length>1)&&d(w,b.length,g.length),{above:b.length,below:g.length}}function f(w){for(var b=0,g=0;g<w.children.length;g++){var p=w.children[g];p.chordHeightBelow&&b++}return b}function d(w,b,g){for(var p=0;p<w.length;p++){f(w[p]);for(var y=0;y<w[p].children.length;y++){var h=w[p].children[y];h.chordHeightAbove&&h.invertLane(b)}}}function m(w,b){return b=b.beams[0],e(b.startX,b.startY,b.endX,b.endY,w.x)}return vp=r,vp}var yp,g6;function bz(){if(g6)return yp;g6=1;var t=qn(),e=function(b,g){for(var p,y=0;y<g.staffs.length;y++){var h=g.staffs[y],x={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(b.showDebug&&b.showDebug.indexOf("box")>=0&&(h.originalTop=h.top,h.originalBottom=h.bottom),r(h,x,"lyricHeightAbove"),r(h,x,"chordHeightAbove",h.specialY.chordLines.above),h.specialY.endingHeightAbove&&(h.specialY.chordHeightAbove?h.top+=2:h.top+=h.specialY.endingHeightAbove+n,x.endingHeightAbove=h.top),h.specialY.dynamicHeightAbove&&h.specialY.volumeHeightAbove?(h.top+=Math.max(h.specialY.dynamicHeightAbove,h.specialY.volumeHeightAbove)+n,x.dynamicHeightAbove=h.top,x.volumeHeightAbove=h.top):(r(h,x,"dynamicHeightAbove"),r(h,x,"volumeHeightAbove")),r(h,x,"partHeightAbove"),r(h,x,"tempoHeightAbove"),h.specialY.lyricHeightBelow&&(h.specialY.lyricHeightBelow+=b.spacing.vocal/t.STEP,x.lyricHeightBelow=h.bottom,h.bottom-=h.specialY.lyricHeightBelow+n),h.specialY.chordHeightBelow){x.chordHeightBelow=h.bottom;var S=h.specialY.chordHeightBelow;h.specialY.chordLines.below&&(S*=h.specialY.chordLines.below),h.bottom-=S+n}h.specialY.volumeHeightBelow&&h.specialY.dynamicHeightBelow?(x.volumeHeightBelow=h.bottom,x.dynamicHeightBelow=h.bottom,h.bottom-=Math.max(h.specialY.volumeHeightBelow,h.specialY.dynamicHeightBelow)+n):h.specialY.volumeHeightBelow?(x.volumeHeightBelow=h.bottom,h.bottom-=h.specialY.volumeHeightBelow+n):h.specialY.dynamicHeightBelow&&(x.dynamicHeightBelow=h.bottom,h.bottom-=h.specialY.dynamicHeightBelow+n),b.showDebug&&b.showDebug.indexOf("box")>=0&&(h.positionY=x);for(var C=0;C<h.voices.length;C++){var T=g.voices[h.voices[C]];a(x,T,b.spacing)}if(p!==void 0){var M=h.top-10,A=p+M,B=b.spacing.systemStaffSeparation/t.STEP,F=B-A;F>0&&(h.top+=F)}h.top+=b.spacing.staffTopMargin/t.STEP,p=2-h.bottom}},n=1;function r(b,g,p,y){if(b.specialY[p]){var h=b.specialY[p];y&&(h*=y),b.top+=h+n,g[p]=b.top}}function a(b,g,p){var y,h;for(y=0;y<g.children.length;y++)h=g.children[y],o(b,h,p);for(y=0;y<g.otherchildren.length;y++)switch(h=g.otherchildren[y],h.type){case"CrescendoElem":l(b,h);break;case"DynamicDecoration":f(b,h);break;case"EndingElem":d(b,h);break;case"TieElem":var x=h.getYBounds();g.staff.top=Math.max(g.staff.top,x[0]),g.staff.top=Math.max(g.staff.top,x[1]),g.staff.bottom=Math.min(g.staff.bottom,x[0]),g.staff.bottom=Math.min(g.staff.bottom,x[1]);break}}function o(b,g,p){for(var y=0;y<g.children.length;y++){var h=g.children[y];for(var x in g.specialY)g.specialY.hasOwnProperty(x)&&h[x]&&(h.pitch=b[x],h.top===void 0&&(h.type==="TempoElement"?m(b,h):w(b,h,p),g.pushTop(h.top),g.pushBottom(h.bottom)))}}function l(b,g){g.dynamicHeightAbove?g.pitch=b.dynamicHeightAbove:g.pitch=b.dynamicHeightBelow}function f(b,g){g.volumeHeightAbove?g.pitch=b.volumeHeightAbove:g.pitch=b.volumeHeightBelow}function d(b,g){g.pitch=b.endingHeightAbove-2}function m(b,g){if(g.pitch=b.tempoHeightAbove,g.top=b.tempoHeightAbove,g.bottom=b.tempoHeightAbove,g.note){var p=g.pitch-g.totalHeightInPitches+1;g.note.top=p,g.note.bottom=p;for(var y=0;y<g.note.children.length;y++){var h=g.note.children[y];h.top+=p,h.bottom+=p,h.pitch+=p,h.pitch2!==void 0&&(h.pitch2+=p)}}}function w(b,g,p){switch(g.type){case"part":g.top=b.partHeightAbove+g.height,g.bottom=b.partHeightAbove;break;case"text":case"chord":g.chordHeightAbove?(g.top=b.chordHeightAbove,g.bottom=b.chordHeightAbove):(g.top=b.chordHeightBelow,g.bottom=b.chordHeightBelow);break;case"lyric":g.lyricHeightAbove?(g.top=b.lyricHeightAbove,g.bottom=b.lyricHeightAbove):(g.top=b.lyricHeightBelow+p.vocal/t.STEP,g.bottom=b.lyricHeightBelow+p.vocal/t.STEP,g.pitch-=p.vocal/t.STEP);break;case"debug":g.top=b.chordHeightAbove,g.bottom=b.chordHeightAbove;break}(g.pitch===void 0||g.top===void 0)&&console.error("RelativeElement position not set.",g.type,g.pitch,g.top,b)}return yp=e,yp}var bp,v6;function wz(){if(v6)return bp;v6=1;var t=function(){};t.beginLayout=function(r,a){a.i=0,a.durationindex=0,a.startx=r,a.minx=r,a.nextx=r,a.spacingduration=0},t.layoutEnded=function(r){return r.i>=r.children.length},t.getNextX=function(r){return Math.max(r.minx,r.nextx)},t.getSpacingUnits=function(r){return Math.sqrt(r.spacingduration*8)},t.layoutOneItem=function(r,a,o,l,f){var d=o.children[o.i];if(!d)return 0;var m=r-o.minx,w=o.durationindex+d.duration>0?l:0;if(d.abcelem.el_type==="note"&&!d.abcelem.rest&&o.voicenumber!==0&&f){var b=f.children[f.i],g=b&&(d.abcelem.maxpitch<=b.abcelem.maxpitch+1&&d.abcelem.maxpitch>=b.abcelem.minpitch-1||d.abcelem.minpitch<=b.abcelem.maxpitch+1&&d.abcelem.minpitch>=b.abcelem.minpitch-1);if(g&&d.abcelem.minpitch===b.abcelem.minpitch&&d.abcelem.maxpitch===b.abcelem.maxpitch&&b.heads&&b.heads.length>0&&d.heads&&d.heads.length>0&&b.heads[0].c===d.heads[0].c&&(g=!1),g){var p=b.heads&&b.heads.length>0?b.heads[0].realWidth:b.fixed.w;d.adjustedWidth||(d.adjustedWidth=p+d.w),d.w=d.adjustedWidth;for(var y=0;y<d.children.length;y++){var h=d.children[y];h.name.indexOf("accidental")<0&&(h.adjustedWidth||(h.adjustedWidth=h.dx+p),h.dx=h.adjustedWidth)}}}var x=e(d,w);return m<x&&(o.i===0||d.type!=="bar"||o.children[o.i-1].type!=="part"&&o.children[o.i-1].type!=="tempo")&&(r+=x-m),d.setX(r),o.spacingduration=d.duration,o.minx=r+n(d),o.i!==o.children.length-1&&(o.minx+=d.minspacing),this.updateNextX(r,a,o),r},t.shiftRight=function(r,a){var o=a.children[a.i];o&&(o.setX(o.x+r),a.minx+=r,a.nextx+=r)},t.updateNextX=function(r,a,o){o.nextx=r+a*this.getSpacingUnits(o)},t.updateIndices=function(r){this.layoutEnded(r)||(r.durationindex+=r.children[r.i].duration,r.children[r.i].type==="bar"&&(r.durationindex=Math.round(r.durationindex*64)/64),r.i++)};function e(r,a){var o=0;return(r.type==="note"||r.type==="bar")&&(o=a),-r.extraw+o}function n(r){return r.w}return bp=t,bp}var wp,y6;function _z(){if(y6)return wp;y6=1;var t=wz();function e(l){for(var f=0,d=0;d<l.length;d++){var m=l[d];if(m.children.length>0){var w=m.children.length-1,b=m.children[w];if(b.abcelem.el_type==="bar"){var g=b.children[0].x;g>f?f=g:b.children[0].x=f}}}}var n=function(l,f,d,m,w){var b=1e-7,g=0,p=1e3,y=w;m.startx=y;var h,x=0;for(d&&console.log("init layout",l),h=0;h<m.voices.length;h++)t.beginLayout(y,m.voices[h]);for(var S=0;!r(m.voices);){for(x=null,h=0;h<m.voices.length;h++)!t.layoutEnded(m.voices[h])&&(!x||a(m.voices[h])<x)&&(x=a(m.voices[h]));var C=[],T=[];for(h=0;h<m.voices.length;h++){var M=a(m.voices[h]);M-x>b?T.push(m.voices[h]):C.push(m.voices[h])}S=0;var A=0;for(h=0;h<C.length;h++)t.getNextX(C[h])>y&&(y=t.getNextX(C[h]),S=t.getSpacingUnits(C[h]),A=C[h].spacingduration);g+=S,p=Math.min(p,S),d&&console.log("currentduration: ",x,g,p);var B=void 0;for(h=0;h<C.length;h++){var F=C[h];F.voicenumber===0&&(B=h);var E=B!==void 0&&C[B].voicenumber!==F.voicenumber?C[B]:void 0;o(F,E)||(E=void 0);var $=t.layoutOneItem(y,l,F,f,E),P=$-y;if(P>0){y=$;for(var z=0;z<h;z++)t.shiftRight(P,C[z])}}for(h=0;h<T.length;h++)T[h].spacingduration-=A,t.updateNextX(y,l,T[h]);for(h=0;h<C.length;h++){var j=C[h];t.updateIndices(j)}}for(h=0;h<m.voices.length;h++)t.getNextX(m.voices[h])>y&&(y=t.getNextX(m.voices[h]),S=t.getSpacingUnits(m.voices[h]));return e(m.voices),g+=S,m.setWidth(y),{spacingUnits:g,minSpace:p}};function r(l){for(var f=0;f<l.length;f++)if(!t.layoutEnded(l[f]))return!1;return!0}function a(l){return l.durationindex-(l.children[l.i]&&l.children[l.i].duration>0?0:5e-7)}function o(l,f){return!l||!l.staff||!l.staff.voices||l.staff.voices.length===0||!f||!f.staff||!f.staff.voices||f.staff.voices.length===0?!1:l.staff.voices[0]===f.staff.voices[0]}return wp=n,wp}var _p,b6;function d8(){if(b6)return _p;b6=1;function t(a,o,l,f,d){var m=a.padding.left,w=0,b,g;for(b=0;b<l.length;b++)l[b].header&&(g=o.calc(l[b].header,"voicefont",""),w=Math.max(w,g.width));if(w=e(w,f,o),w=e(w,d,o),w){var p=o.calc("A","voicefont","");w+=p.width}m+=w;var y=0;return y=n(f,m,y),y=n(d,m,y),m+y}function e(a,o,l){if(o){for(var f=0;f<o.length;f++)if(o[f].header){var d=l.calc(o[f].header,"voicefont","");a=Math.max(a,d.width)}}return a}function n(a,o,l){if(a)for(var f=0;f<a.length;f++)r(o,a[f]),l=Math.max(l,a[f].getWidth());return l}function r(a,o){o.x=a}return _p=t,_p}var xp,w6;function xz(){if(w6)return xp;w6=1;var t=d8();function e(r,a,o){var l=t(r,a.getTextSize,a.voices,a.brace,a.bracket),f=n(a,o.minPadding),d=f.totalDuration,m=f.minSpacing,w=m*d;o.minWidth&&(w=Math.max(w,o.minWidth));var b=o.minPadding?o.minPadding/2:2;a.startx=l,a.w=w+l;for(var g=0;g<a.voices.length;g++){var p=a.voices[g];p.startx=l,p.w=w+l;for(var y=l,h=!1,x=0,S=0;S<p.children.length;S++){var C=p.children[S];h||(C.duration!==0?(h=!0,x=(w+l-y)/d,a.gridStart=y):(C.x=y,y+=C.w+C.minspacing)),h&&(o.align==="center"?C.x=y+C.duration*x/2-C.w/2:C.duration===0?C.x=y+1-C.w:C.x=y+b-C.extraw,y+=C.duration*x);for(var T=0;T<C.children.length;T++){var M=C.children[T],A=M.dx?M.dx:0;M.x=C.x+A}}a.gridEnd=y}return w}function n(r,a){for(var o=0,l=0,f=0;f<r.voices.length;f++){for(var d=0,m=r.voices[f],w=0;w<m.children.length;w++){var b=m.children[w];if(d+=b.duration,b.duration){var g=(b.w+a)/b.duration;o=Math.max(o,g)}}l=Math.max(l,d)}return{totalDuration:l,minSpacing:o}}return xp=e,xp}var Sp,_6;function Sz(){if(_6)return Sp;_6=1;var t=yz(),e=bz(),n=_z(),r=d8(),a=xz(),o=function(m,w,b,g,p,y){var h,x,S=b;for(h=0;h<w.lines.length;h++)if(x=w.lines[h],x.staff){var C;y!==void 0?C=a(m,x.staffGroup,y):C=l(m,S,g,x.staffGroup,w.formatting,h===w.lines.length-1,!1),Math.round(C)>Math.round(S)&&(S=C,p&&(h=-1))}for(h=0;h<w.lines.length;h++)if(x=w.lines[h],x.staffGroup&&x.staffGroup.voices){for(var T=0;T<x.staffGroup.voices.length;T++)t(x.staffGroup.voices[T]);e(m,x.staffGroup)}for(h=0;h<w.lines.length;h++)x=w.lines[h],x.staffGroup&&x.staffGroup.setHeight();return S},l=function(m,w,b,g,p,y,h){for(var x=r(m,g.getTextSize,g.voices,g.brace,g.bracket),S=b,C=0;C<8;C++){var T=n(S,m.minPadding,h,g,x);if(S=f(y,p.stretchlast,w+m.padding.left,g.w,S,T.spacingUnits,T.minSpace,m.padding.left+m.padding.right),S===null)break}return d(g.voices),g.w-x};function f(m,w,b,g,p,y,h,x){if(m)if(w===void 0){if(g/b<.66)return null}else{var S=1-(g+x)/b,C=S<w;if(!C)return null}if(Math.abs(b-g)<2)return null;var T=y*p,M=g-T;return y>0?(p=(b-M)/y,p*h>50&&(p=50/h),p):null}function d(m){for(var w=0;w<m.length;w++)for(var b=m[w],g=1;g<b.children.length-1;g++){var p=b.children[g];if(p.abcelem.rest&&(p.abcelem.rest.type==="whole"||p.abcelem.rest.type==="multimeasure")){var y=b.children[g-1],h=b.children[g+1];p.center(y,h)}}}return Sp=o,Sp}var Cp,x6;function Cz(){if(x6)return Cp;x6=1;var t=function(n){this.shouldAddClasses=n.shouldAddClasses,this.reset()};return t.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},t.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},t.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},t.prototype.isInMeasure=function(){return this.measureNumber!==null},t.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},t.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},t.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},t.prototype.incrNote=function(){this.noteNumber++},t.prototype.measureTotal=function(){for(var e=0,n=0;n<this.lineNumber;n++)e+=this.measureTotalPerLine[n]?this.measureTotalPerLine[n]:0;return this.measureNumber&&(e+=this.measureNumber),e},t.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},t.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var n=[];if(e&&e.length>0&&n.push(e),e==="abcjs-tab-number")return n.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&n.push("l"+this.lineNumber),this.measureNumber!==null&&n.push("m"+this.measureNumber),this.measureNumber!==null&&n.push("mm"+this.measureTotal()),this.voiceNumber!==null&&n.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&n.push("n"+this.noteNumber),n.length>0){n=n.join(" "),n=n.split(" ");for(var r=0;r<n.length;r++)n[r].indexOf("abcjs-")!==0&&n[r].length>0&&(n[r]="abcjs-"+n[r])}return n.join(" ")},Cp=t,Cp}var kp,S6;function kz(){if(S6)return kp;S6=1;var t=function(n,r){this.formatting=n,this.classes=r};return t.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)},t.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},t.prototype.calc=function(e,n){var r;typeof e=="string"?(r=this.formatting[e],r?r={face:r.face,size:Math.round(r.size*4/3),decoration:r.decoration,style:r.style,weight:r.weight,box:r.box}:r={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):r={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var a=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;r.padding=r.size*a;var o={"font-size":r.size,"font-style":r.style,"font-family":this.getFamily(r.face),"font-weight":r.weight,"text-decoration":r.decoration,class:this.classes.generate(n)};return{font:r,attr:o}},kp=t,kp}var Tp,C6;function Tz(){if(C6)return Tp;C6=1;var t=function(n,r){this.getFontAndAttr=n,this.svg=r};return t.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)},t.prototype.attr=function(e,n){return this.getFontAndAttr.calc(e,n)},t.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},t.prototype.calc=function(e,n,r,a){var o;typeof n=="string"?o=this.attr(n,r):o={font:{face:n.face,size:n.size,decoration:n.decoration,style:n.style,weight:n.weight},attr:{"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.getFontAndAttr.classes.generate(r)}};var l=this.svg.getTextSize(e,o.attr,a);return o.font.box?{height:l.height+o.font.padding*4,width:l.width+o.font.padding*4}:l},t.prototype.baselineToCenter=function(e,n,r,a,o){var l=this.calc(e,n,r).height,f=this.attr(n,r).font.size;return l*.5+(o-a-2)*f},Tp=t,Tp}var Ep,k6;function zs(){if(k6)return Ep;k6=1;var t=function(){for(var e=0,n,r=arguments[e++],a=[],o,l,f,d;r;){if(o=/^[^\x25]+/.exec(r))a.push(o[0]);else if(o=/^\x25{2}/.exec(r))a.push("%");else if(o=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)){if((n=arguments[o[1]||e++])==null||n==null)throw"Too few arguments.";if(/[^s]/.test(o[7])&&typeof n!="number")throw"Expecting number but found "+typeof n;switch(o[7]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":n=parseInt(n);break;case"e":n=o[6]?n.toExponential(o[6]):n.toExponential();break;case"f":n=o[6]?parseFloat(n).toFixed(o[6]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&o[6]?n.substring(0,o[6]):n;break;case"u":n=Math.abs(n);break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase();break}n=/[def]/.test(o[7])&&o[2]&&n>0?"+"+n:n,f=o[3]?o[3]=="0"?"0":o[3][1]:" ",d=o[5]-String(n).length,l=o[5]?str_repeat(f,d):"",a.push(o[4]?n+l:l+n)}else throw"Huh ?!";r=r.substring(o[0].length)}return a.join("")};return Ep=t,Ep}var Ap,T6;function Zr(){if(T6)return Ap;T6=1;function t(e){return parseFloat(e.toFixed(2))}return Ap=t,Ap}var Mp,E6;function ss(){if(E6)return Mp;E6=1;var t=Zr();function e(n,r,a){var o=r.y;if(r.phrases){var m=n.paper.richTextLine(r.phrases,r.x,r.y,r.klass,r.anchor);return m}if(r.lane){var l=r.dim.font.size*.25;o+=(r.dim.font.size+l)*r.lane}var f;r.dim?(f=r.dim,f.attr.class=r.klass):f=n.controller.getFontAndAttr.calc(r.type,r.klass),r.anchor&&(f.attr["text-anchor"]=r.anchor),r["dominant-baseline"]&&(f.attr["dominant-baseline"]=r["dominant-baseline"]),f.attr.x=r.x,f.attr.y=o,r.centerVertically||(f.attr.y+=f.font.size),r.type==="debugfont"&&(console.log("Debug msg: "+r.text),f.attr.stroke="#ff0000"),r.cursor&&(f.attr.cursor=r.cursor);var d=r.text.replace(/\n\n/g,`
 
`);d=d.replace(/^\n/,`
`),f.font.box&&(a||n.paper.openGroup({klass:f.attr.class,fill:n.foregroundColor,"data-name":r.name}),f.attr["text-anchor"]==="end"?f.attr.x-=f.font.padding:f.attr["text-anchor"]==="start"&&(f.attr.x+=f.font.padding),f.attr.y+=f.font.padding,delete f.attr.class),r.noClass&&delete f.attr.class,f.attr.x=t(f.attr.x),f.attr.y=t(f.attr.y),r.name&&(f.attr["data-name"]=r.name);var m=n.paper.text(d,f.attr);if(f.font.box){var w=m.getBBox(),b=0;f.attr["text-anchor"]==="middle"?b=w.width/2+f.font.padding:f.attr["text-anchor"]==="end"&&(b=w.width+f.font.padding*2);var g=0;r.centerVertically&&(g=w.height-f.font.padding),n.paper.rect({"data-name":"box",x:Math.round(r.x-b),y:Math.round(o-g),width:Math.round(w.width+f.font.padding*2),height:Math.round(w.height+f.font.padding*2)}),a||(m=n.paper.closeGroup())}return m}return Mp=e,Mp}var Pp,A6;function Ez(){if(A6)return Pp;A6=1;var t=zs(),e=qn(),n=ss();function r(d,m,w){var b=m.startVoice.staff.absoluteY-e.STEP*10;return m.endVoice&&m.endVoice.staff?m.endY=m.endVoice.staff.absoluteY-e.STEP*2:m.lastContinuedVoice&&m.lastContinuedVoice.staff?m.endY=m.lastContinuedVoice.staff.absoluteY-e.STEP*2:m.endY=m.startVoice.staff.absoluteY-e.STEP*2,f(d,m.x,b,m.endY,m.type,m.header,w)}function a(d,m,w,b,g){m+=e.STEP;var p=e.STEP*.75,y=e.STEP*.75,h=b-w,x=t("M %f %f l %f %f l %f %f l %f %f z",m,w-y,0,h+y*2,p,0,0,-(h+y*2)),S=e.STEP*2,C=e.STEP;return x+=t("M %f %f q %f %f %f %f q %f %f %f %f z",m+p,w-y,S*.6,C*.2,S,-C,-S*.1,C*.3,-S,C+e.STEP),x+=t("M %f %f q %f %f %f %f q %f %f %f %f z",m+p,w+y+h,S*.6,-C*.2,S,C,-S*.1,-C*.3,-S,-C-e.STEP),d.paper.path({path:x,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(g),"data-name":g})}function o(d,m,w,b,g){var p=b-w,y=l(m,w,[7.5,-8,21,0,18.5,-10.5,7.5],[0,p/5.5,p/3.14,p/2,p/2.93,p/4.88,0]);return y+=l(m,w,[0,17.5,-7.5,6.6,-5,20,0],[p/2,p/1.46,p/1.22,p,p/1.19,p/1.42,p/2]),d.paper.path({path:y,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(g),"data-name":g})}function l(d,m,w,b){return t("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",d+w[0],m+b[0],d+w[1],m+b[1],d+w[2],m+b[2],d+w[3],m+b[3],d+w[4],m+b[4],d+w[5],m+b[5],d+w[6],m+b[6])}var f=function(d,m,w,b,g,p,y){var h;if(p){d.paper.openGroup({klass:d.controller.classes.generate("staff-extra voice-name"),"data-name":g});var x=w+(b-w)/2;x=x-d.controller.getTextSize.baselineToCenter(p,"voicefont","staff-extra voice-name",0,1),n(d,{x:d.padding.left,y:x,text:p,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return g==="brace"?h=o(d,m,w,b,g):g==="bracket"&&(h=a(d,m,w,b,g)),p&&(h=d.paper.closeGroup()),y.wrapSvgEl({el_type:g,startChar:-1,endChar:-1},h),h};return Pp=r,Pp}var Np,M6;function Fc(){if(M6)return Np;M6=1;function t(e,n,r){var a=e.paper.path(n);return a}return Np=t,Np}var Rp,P6;function Az(){if(P6)return Rp;P6=1;var t=zs(),e=Fc(),n=Zr();function r(h,x,S){(!x.anchor1||!x.anchor2||!x.anchor1.heads||!x.anchor2.heads||x.anchor1.heads.length===0||x.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var C=4,T=h.calcY(x.anchor1.heads[0].pitch),M=h.calcY(x.anchor2.heads[0].pitch),A=x.anchor1.x+x.anchor1.w/2,B=x.anchor2.x+x.anchor2.w/2,F=a(A,T,B,M),E=x.anchor1.w/2+C,$=x.anchor2.w/2+C,P=o(A,T,B,M),z=l(T,P,E);l(M,P,-$);var j=f(F-E-$),V=y(h,A+E,z,j,P);return S.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},V),[V]}function a(h,x,S,C){var T=S-h,M=C-x;return Math.sqrt(T*T+M*M)}function o(h,x,S,C){return(C-x)/(S-h)}function l(h,x,S){return n(h+S*x)}function f(h){var x=5;return Math.max(2,Math.floor((h-x*2)/6))}var d=[[3.5,-4.8]],m=[[1.5,-1],[.3,-.3],[-3.5,3.8]],w=[[-1.5,2]],b=[[3,4],[3,-4]],g=[[-3,4],[-3,-4]];function p(h,x){for(var S="",C=0;C<h.length;C++)S+="l"+h[C][0]+" "+l(h[C][1],x,h[C][0]);return S}var y=function(h,x,S,C,T){var M=t("M %f %f",x,S);M+=p(d,T);var A;for(A=0;A<C;A++)M+=p(b,T);for(M+=p(m,T),A=0;A<C;A++)M+=p(g,T);return M+=p(w,T)+"z",e(h,{path:M,highlight:"stroke",stroke:h.foregroundColor,class:h.controller.classes.generate("decoration"),"data-name":"glissando"})};return Rp=r,Rp}var Ip,N6;function Mz(){if(N6)return Ip;N6=1;var t=zs(),e=Fc(),n=Zr();function r(o,l,f){l.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var d=o.calcY(l.pitch)+4,m=8,w=l.anchor1?l.anchor1.x:0,b=l.anchor2?l.anchor2.x:800,g;return l.dir==="<"?g=a(o,d+m/2,d,d+m/2,d+m,w,b):g=a(o,d,d+m/2,d+m,d+m/2,w,b),f.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},g),[g]}var a=function(o,l,f,d,m,w,b){l=n(l),f=n(f),d=n(d),m=n(m),w=n(w),b=n(b);var g=t("M %f %f L %f %f M %f %f L %f %f",w,l,b,f,w,d,b,m);return e(o,{path:g,highlight:"stroke",stroke:o.foregroundColor,class:o.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};return Ip=r,Ip}var Op,R6;function Zg(){if(R6)return Op;R6=1;var t=Zr();function e(){this.ingroup=!1}e.prototype.beginGroup=function(r,a){this.paper=r,this.controller=a,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},e.prototype.isInGroup=function(){return this.ingroup},e.prototype.addPath=function(r){if(r=r||[],r.length!==0){r[0][0]="m",r[0][1]=t(r[0][1]-this.lastM[0]),r[0][2]=t(r[0][2]-this.lastM[1]),this.lastM[0]+=r[0][1],this.lastM[1]+=r[0][2],this.path.push(r[0]);for(var a=1,o=r.length;a<o;a++)r[a][0]==="m"&&(this.lastM[0]+=r[a][1],this.lastM[1]+=r[a][2]),this.path.push(r[a])}},e.prototype.endGroup=function(r,a){this.ingroup=!1;for(var o="",l=0;l<this.path.length;l++)o+=this.path[l].join(" ");this.path=[];var f=this.paper.closeGroup();return f&&(f.setAttribute("class",this.controller.classes.generate(r)),f.setAttribute("fill",this.controller.renderer.foregroundColor),f.setAttribute("stroke","none"),f.setAttribute("data-name",a)),f};var n=new e;return Op=n,Op}var Dp,I6;function p8(){if(I6)return Dp;I6=1;var t=ss(),e=is(),n=Zg();function r(o,l,f,d,m){var w,b;if(!d)return null;if(d.length>1&&d.indexOf(".")<0){var g=n.isInGroup()?"":m.klass;o.paper.openGroup({"data-name":m.name,klass:g});for(var p=0,y=0;y<d.length;y++){var h=d[y];b=e.getYCorr(h),w=e.printSymbol(l+p,o.calcY(f+b),h,o.paper,{stroke:m.stroke,fill:m.fill}),w?y<d.length-1&&(p+=a(h,d[y+1],e.getSymbolWidth(h))):t(o,{x:l,y:o.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var x=o.paper.closeGroup();return x}else return b=e.getYCorr(d),n.isInGroup()?w=e.printSymbol(l,o.calcY(f+b),d,o.paper,{"data-name":m.name}):w=e.printSymbol(l,o.calcY(f+b),d,o.paper,{klass:m.klass,stroke:m.stroke,fill:m.fill,"data-name":m.name}),w||(t(o,{x:l,y:o.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function a(o,l,f){var d=f;return o==="f"&&l==="f"&&(d=d*2/3),o==="p"&&l==="p"&&(d=d*5/6),o==="f"&&l==="z"&&(d=d*5/8),d}return Dp=r,Dp}var Lp,O6;function Pz(){if(O6)return Lp;O6=1;var t=p8();function e(n,r,a){r.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var o=1,l=1,f=t(n,r.anchor.x,r.pitch,r.dec,{scalex:o,scaley:l,klass:n.controller.classes.generate("decoration dynamics"),fill:n.foregroundColor,stroke:"none",name:"dynamics"});return a.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:r.dec},f),[f]}return Lp=e,Lp}var Bp,D6;function Nz(){if(D6)return Bp;D6=1;var t=zs(),e=ss(),n=Fc(),r=Zr();function a(f,d,m){f.paper.openGroup({klass:f.controller.classes.generate("triplet "+d.durationClass),"data-name":"triplet"}),d.hasBeam||l(f,d.anchor1.x,d.startNote,d.anchor2.x+d.anchor2.w,d.endNote),e(f,{x:d.xTextPos,y:f.calcY(d.yTextPos-1),text:""+d.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+d.number},!0);var w=f.paper.closeGroup();return m.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},w),w}function o(f,d,m,w){return t("M %f %f L %f %f",r(f),r(d),r(m),r(w))}function l(f,d,m,w,b){m=f.calcY(m),b=f.calcY(b);var g=5,p="";p+=o(d,m,d,m+g),p+=o(w,b,w,b+g);var y=d+(w-d)/2,h=8,x=(b-m)/(w-d),S=y-h,C=m+(S-d)*x;p+=o(d,m,S,C);var T=y+h,M=m+(T-d)*x;p+=o(T,M,w,b),n(f,{path:p,stroke:f.foregroundColor,"data-name":"triplet-bracket"})}return Bp=a,Bp}var Fp,L6;function Rz(){if(L6)return Fp;L6=1;var t=zs(),e=ss(),n=Fc(),r=Zr();function a(o,l,f,d,m){l.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var w=r(o.calcY(l.pitch)),b=20,g="";l.anchor1&&(f=r(l.anchor1.x+l.anchor1.w),g+=t("M %f %f L %f %f ",f,w,f,r(w+b))),l.anchor2&&(d=r(l.anchor2.x),g+=t("M %f %f L %f %f ",d,w,d,r(w+b))),g+=t("M %f %f L %f %f ",f,w,d,w),o.paper.openGroup({klass:o.controller.classes.generate("ending"),"data-name":"ending"}),n(o,{path:g,stroke:o.foregroundColor,fill:o.foregroundColor,"data-name":"line"}),l.anchor1&&e(o,{x:r(f+5),y:r(o.calcY(l.pitch-.5)),text:l.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:l.text});var p=o.paper.closeGroup();return m.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},p),[p]}return Fp=a,Fp}var zp,B6;function Iz(){if(B6)return zp;B6=1;var t=zs(),e=Zr();function n(o,l,f,d,m){r(l,f,d);var w="";l.anchor1?w+="abcjs-start-m"+l.anchor1.parent.counters.measure+"-n"+l.anchor1.parent.counters.note:w+="abcjs-start-edge",l.anchor2?w+=" abcjs-end-m"+l.anchor2.parent.counters.measure+"-n"+l.anchor2.parent.counters.note:w+=" abcjs-end-edge",l.hint&&(w="abcjs-hint");var b=l.fixedY?1.5:0,g=a(o,l.startX,l.endX,l.startY+b,l.endY+b,l.above,w,l.isTie,l.dotted),p=-1;l.anchor1&&!l.isTie&&(p=l.anchor1.parent.abcelem.startChar-1);var y=-1;return l.anchor2&&!l.isTie&&(y=l.anchor2.parent.abcelem.endChar+1),m.wrapSvgEl({el_type:"slur",startChar:p,endChar:y},g),[g]}var r=function(o,l,f){!o.anchor1||!o.anchor2||o.anchor1.pitch===o.anchor2.pitch&&o.internalNotes.length===0?o.isTie=!0:o.isTie=!1,o.isTie?(o.calcTieDirection(),o.calcX(l,f),o.calcTieY()):(o.calcSlurDirection(),o.calcX(l,f),o.calcSlurY()),o.avoidCollisionAbove()},a=function(o,l,f,d,m,w,b,g,p){var y=g?1.2:1.5;l=e(l+6),f=e(f+4),d=d+(w?y:-y),m=m+(w?y:-y);var h=e(o.calcY(d)),x=e(o.calcY(m)),S=f-l,C=x-h,T=Math.sqrt(S*S+C*C),M=S/T,A=C/T,B=T/3.5,F=g?10:25,E=(w?-1:1)*Math.min(F,Math.max(4,B)),$=e(l+B*M-E*A),P=e(h+B*A+E*M),z=e(f-B*M-E*A),j=e(x-B*A+E*M),V=2;b?b+=" slur":b="slur",b+=g?" tie":" legato";var L;if(p){b+=" dotted";var D=t("M %f %f C %f %f %f %f %f %f",l,h,$,P,z,j,f,x);L=o.paper.path({path:D,stroke:o.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:o.controller.classes.generate(b),"data-name":g?"tie":"slur"})}else{var W=t("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",l,h,$,P,z,j,f,x,e(z-V*A),e(j+V*M),e($-V*A),e(P+V*M),l,h);L=o.paper.path({path:W,stroke:"none",fill:o.foregroundColor,class:o.controller.classes.generate(b),"data-name":g?"tie":"slur"})}return L};return zp=n,zp}var $p,F6;function Oz(){if(F6)return $p;F6=1;var t=Fc(),e=Zr();function n(l,f){if(f.beams.length!==0){for(var d="",m=0;m<f.beams.length;m++){var w=f.beams[m];if(w.split){for(var b=a(l,w.startX,w.startY,w.endX,w.endY),g=[],p=0;p<w.split.length;p+=2)g.push([w.split[p],w.split[p+1]]);for(p=0;p<g.length;p++){var y=o(w.startX,w.startY,b,g[p][0]),h=o(w.startX,w.startY,b,g[p][1]);d+=r(l,g[p][0],y,g[p][1],h,w.dy)}}else d+=r(l,w.startX,w.startY,w.endX,w.endY,w.dy)}var x=("abcjs-d"+f.duration).replace(/\./g,"-"),S=l.controller.classes.generate("beam-elem "+x),C=t(l,{path:d,stroke:"none",fill:l.foregroundColor,class:S});return[C]}}function r(l,f,d,m,w,b){d=e(l.calcY(d)),w=e(l.calcY(w)),f=e(f),m=e(m);var g=e(d+b),p=e(w+b);return"M"+f+" "+d+" L"+m+" "+w+"L"+m+" "+p+" L"+f+" "+g+"z"}function a(l,f,d,m,w){return(w-d)/(m-f)}function o(l,f,d,m){var w=m-l;return f+w*d}return $p=n,$p}var qp,z6;function m8(){if(z6)return qp;z6=1;var t=Zg(),e=Zr();function n(r,a,o,l,f,d,m){if(o<0||l<f){var w=e(f);f=e(l),l=w}else l=e(l),f=e(f);a=e(a);var b=e(a+o);if(r.firefox112){a+=o/2;var p={x1:a,x2:a,y1:l,y2:f,stroke:r.foregroundColor,"stroke-width":Math.abs(o)};return d&&(p.class=d),m&&(p["data-name"]=m),r.paper.lineToBack(p)}for(var g=[["M",a,l],["L",a,f],["L",b,f],["L",b,l],["z"]],p={path:""},y=0;y<g.length;y++)p.path+=g[y].join(" ");return d&&(p.class=d),m&&(p["data-name"]=m),t.isInGroup()||(p.stroke="none",p.fill=r.foregroundColor),r.paper.pathToBack(p)}return qp=n,qp}var jp,$6;function Dz(){if($6)return jp;$6=1;var t=zs(),e=Zr();function n(r,a,o,l,f,d,m){var w=r.foregroundColor;a=e(a),o=e(o);var b=e(l-m),g=e(l+m);if(r.firefox112){l+=m/2;var p={x1:a,x2:o,y1:l,y2:l,stroke:r.foregroundColor,"stroke-width":Math.abs(m*2)};return f&&(p.class=f),d&&(p["data-name"]=d),r.paper.lineToBack(p)}var y=t("M %f %f L %f %f L %f %f L %f %f z",a,b,o,b,o,g,a,g),h={path:y,stroke:"none",fill:w};d&&(h["data-name"]=d),f&&(h.class=f);var x=r.paper.pathToBack(h);return x}return jp=n,jp}var Vp,q6;function g8(){if(q6)return Vp;q6=1;var t=Dz();function e(n,r,a,o,l,f,d){var m=n.calcY(o);return t(n,r,a,m,l,f,d)}return Vp=e,Vp}var Wp,j6;function v8(){if(j6)return Wp;j6=1;var t=ss(),e=m8(),n=g8(),r=p8();function a(l,f,d){f.pitch===void 0&&window.console.error(f.type+" Relative Element y-coordinate not set.");var m=l.calcY(f.pitch);switch(f.type){case"symbol":if(f.c===null)return null;var w="symbol";f.klass&&(w+=" "+f.klass),f.graphelem=r(l,f.x,f.pitch,f.c,{scalex:f.scalex,scaley:f.scaley,klass:l.controller.classes.generate(w),name:f.name});break;case"debug":f.graphelem=t(l,{x:f.x,y:l.calcY(15),text:""+f.c,type:"debugfont",klass:l.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:f.dim},!1);break;case"tabNumber":var b="middle",g="tabnumberfont",p="abcjs-tab-number";f.isGrace&&(g="tabgracefont",m+=2.5,p="tab-grace"),f.graphelem=t(l,{x:f.x,y:m,text:""+f.c,type:g,klass:l.controller.classes.generate(p),anchor:b,centerVertically:!1,dim:f.dim,cursor:"default"},!1);break;case"barNumber":f.graphelem=t(l,{x:f.x,y:m,text:""+f.c,type:"measurefont",klass:l.controller.classes.generate("bar-number"),anchor:"middle",dim:f.dim,name:"bar-number"},!0);break;case"lyric":f.graphelem=t(l,{x:f.x,y:m,text:f.c,type:"vocalfont",klass:l.controller.classes.generate("lyric"),anchor:"middle",dim:f.dim,name:"lyric"},!1);break;case"chord":f.graphelem=t(l,{x:f.x,y:m,text:f.c,type:"gchordfont",klass:l.controller.classes.generate("chord"),anchor:"middle",dim:f.dim,lane:f.getLane(),name:"chord"},!1);break;case"decoration":f.graphelem=t(l,{x:f.x,y:m+6,text:f.c,type:"annotationfont",klass:l.controller.classes.generate("annotation"),anchor:f.anchor,centerVertically:!0,dim:f.dim},!1);break;case"text":f.graphelem=t(l,{x:f.x,y:m,text:f.c,type:"annotationfont",klass:l.controller.classes.generate("annotation"),anchor:"start",centerVertically:f.centerVertically,dim:f.dim,lane:f.getLane(),name:"annotation"},!1);break;case"multimeasure-text":f.graphelem=t(l,{x:f.x+f.w/2,y:m,text:f.c,type:"tempofont",klass:l.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:f.dim},!1);break;case"part":f.graphelem=t(l,{x:f.x,y:m,text:f.c,type:"partsfont",klass:l.controller.classes.generate("part"),anchor:"start",dim:f.dim,name:f.c},!0);break;case"bar":f.graphelem=e(l,f.x,f.linewidth+l.lineThickness,m,d||l.calcY(f.pitch2),null,"bar");break;case"stem":var y=f.linewidth>0?f.linewidth+l.lineThickness:f.linewidth-l.lineThickness;f.graphelem=e(l,f.x,y,m,l.calcY(f.pitch2),"abcjs-stem","stem");break;case"ledger":f.graphelem=n(l,f.x,f.x+f.w,f.pitch,"abcjs-ledger","ledger",.35+l.lineThickness);break}return f.scalex!==1&&f.graphelem&&o(l.paper,f.graphelem,f.scalex,f.scaley,f.x,m),f.graphelem}function o(l,f,d,m,w,b){l.setAttributeOnElement(f,{style:"transform:scale("+d+","+m+");transform-origin:"+w+"px "+b+"px;"})}return Wp=a,Wp}var Hp,V6;function Lz(){if(V6)return Hp;V6=1;var t=v8(),e=ss();function n(r,a){var o=a.x;a.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),a.tempo.el_type="tempo";var l=r.calcY(a.pitch)+2,f,d;if(a.tempo.preString){f=e(r,{x:o,y:l,text:a.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),d=r.controller.getTextSize.calc(a.tempo.preString,"tempofont","tempo",f);var m=d.width,w=m/a.tempo.preString.length;o+=m+w}if(a.note){a.note.setX(o);for(var b=0;b<a.note.children.length;b++)t(r,a.note.children[b],o);o+=a.note.w+5;var g="= "+a.tempo.bpm;f=e(r,{x:o,y:l,text:g,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),d=r.controller.getTextSize.calc(g,"tempofont","tempo",f);var p=d.width,y=p/g.length;o+=p+y}a.tempo.postString&&e(r,{x:o,y:l,text:a.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}return Hp=n,Hp}var Up,W6;function Bz(){if(W6)return Up;W6=1;var t=Lz(),e=v8(),n=qn(),r=Xg(),a=Zg();function o(l,f,d,m,w){if(!f.invisible){var b=f.children.length>0&&f.children[0].type==="TempoElement";f.elemset=[],a.beginGroup(l.paper,l.controller);for(var g=0;g<f.children.length;g++){var p=f.children[g];switch(p.type){case"TempoElement":t(l,p);break;default:var y=e(l,p,d);p.type==="symbol"&&p.c&&p.c.indexOf("notehead")>=0&&y.setAttribute("class","abcjs-notehead")}}var h=f.type;if((f.type==="note"||f.type==="rest")&&(f.counters=l.controller.classes.getCurrent(),h+=" d"+Math.round(f.durationClass*1e3)/1e3,h=h.replace(/\./g,"-"),f.abcelem.pitches))for(var x=0;x<f.abcelem.pitches.length;x++)h+=" p"+f.abcelem.pitches[x].pitch;var S=a.endGroup(h,f.type);if(S){if(f.cloned&&(f.cloned.overrideClasses=S.className.baseVal),f.overrideClasses){var C=S.classList&&S.classList.length>0?S.classList[0]+" ":"";S.setAttribute("class",C+f.overrideClasses)}if(b)f.startChar=f.abcelem.startChar,f.endChar=f.abcelem.endChar,m.add(f,S,!1,w);else{f.elemset.push(S);var T=!1;(f.type==="note"||f.type==="tabNumber")&&(T=!0),m.add(f,S,T,w)}}else f.elemset.length>0&&m.add(f,f.elemset[0],f.type==="note",w);if(f.klass&&r(f.elemset,"mark","","#00ff00"),f.hint&&r(f.elemset,"abcjs-hint","",null),f.abcelem.abselem=f,f.heads&&f.heads.length>0){f.notePositions=[];for(var M=0;M<f.heads.length;M++)f.notePositions.push({x:f.heads[M].x+f.heads[M].w/2,y:w.zero-f.heads[M].pitch*n.STEP})}}}return Up=o,Up}var Gp,H6;function Fz(){if(H6)return Gp;H6=1;var t=Az(),e=Mz(),n=Pz(),r=Nz(),a=Rz(),o=Iz(),l=Oz(),f=ss(),d=Bz();function m(b,g,p,y,h){var x=g.w-1;b.staffbottom=g.staff.bottom;var S=b.foregroundColor;if(g.color&&(b.foregroundColor=g.color),g.header){var C=f(b,{x:b.padding.left,y:b.calcY(g.headerPosition),text:g.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);y.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:g.header},C)}var T,M,A=!1;for(T=0;T<g.children.length;T++){M=g.children[T],(M.type==="note"||M.type==="rest")&&(A=!0);var B=!1;M.type!=="staff-extra"&&!b.controller.classes.isInMeasure()&&(b.controller.classes.startMeasure(),B=!0),g.staff.isTabStaff&&(M.invisible=!1,M.type=="bar"&&M.abcelem.lastBar&&(p=g.topLine)),d(b,M,g.barto||T===g.children.length-1?p:0,y,h),(M.type==="note"||w(M))&&b.controller.classes.incrNote(),M.type==="bar"&&!B&&A&&b.controller.classes.incrMeasure()}for(b.controller.classes.startMeasure(),T=0;T<g.beams.length;T++){var F=g.beams[T];F==="bar"?b.controller.classes.incrMeasure():l(b,F,y)}for(b.controller.classes.startMeasure(),T=0;T<g.otherchildren.length;T++)if(M=g.otherchildren[T],M==="bar")b.controller.classes.incrMeasure();else switch(M.type){case"GlissandoElem":M.elemset=t(b,M,y);break;case"CrescendoElem":M.elemset=e(b,M,y);break;case"DynamicDecoration":M.elemset=n(b,M,y);break;case"TripletElem":r(b,M,y);break;case"EndingElem":M.elemset=a(b,M,g.startx+10,x,y);break;case"TieElem":M.elemset=o(b,M,g.startx+10,x,y);break;default:console.log(M),d(b,M,g.startx+10,x,y,h)}b.foregroundColor=S}function w(b){return b.type!=="rest"?!1:!!(b.abcelem&&b.abcelem.rest&&b.abcelem.rest.type!=="spacer")}return Gp=m,Gp}var Yp,U6;function zz(){if(U6)return Yp;U6=1;var t=g8();function e(n,r,a,o,l,f){var d="abcjs-top-line",m=2;l&&(m=l),n.paper.openGroup({prepend:!0,klass:n.controller.classes.generate("abcjs-staff")});var w=0,b=0;if(o===1)t(n,r,a,6,d,null,f+n.lineThickness),w=n.calcY(10),b=n.calcY(2);else for(var g=o-1;g>=0;g--){var p=(g+1)*m;b=n.calcY(p),w===0&&(w=b),t(n,r,a,p,d,null,f+n.lineThickness),d=void 0}return n.paper.closeGroup(),[w,b]}return Yp=e,Yp}var Xp,G6;function $z(){if(G6)return Xp;G6=1;function t(e,n,r){var a=e.paper.rectBeneath(n);return r&&e.paper.text(r,{x:0,y:n.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),a}return Xp=t,Xp}var Kp,Y6;function qz(){if(Y6)return Kp;Y6=1;function t(e,n){var r="rgba(0,0,0,255)",a="rgba(0,0,0,0)",o=Math.round(e.y),l=e.controller.width,f=(l-n)/2,d=f+n,m="M "+f+" "+o+" L "+d+" "+o+" L "+d+" "+(o+1)+" L "+f+" "+(o+1)+" L "+f+" "+o+" z";e.paper.pathToBack({path:m,stroke:a,fill:r,class:e.controller.classes.generate("defined-text")})}return Kp=t,Kp}var Qp,X6;function y8(){if(X6)return Qp;X6=1;var t=qz(),e=ss();function n(r,a,o){for(var l=0;l<a.rows.length;l++){var f=a.rows[l];if(f.absmove)r.absolutemoveY(f.absmove);else if(f.move)r.moveY(f.move);else if(f.text||f.phrases){var d=f.left?f.left:0,m=e(r,{x:d,y:r.y,text:f.text,phrases:f.phrases,"dominant-baseline":f["dominant-baseline"],type:f.font,klass:f.klass,name:f.name,anchor:f.anchor});f.absElemType&&o.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:f.text},m)}else if(f.separator)t(r,f.separator);else if(f.startGroup)r.paper.openGroup({klass:f.klass,"data-name":f.name});else if(f.endGroup){var w=r.paper.closeGroup();f.absElemType&&o.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:""},w)}}}return Qp=n,Qp}var Zp,K6;function jz(){if(K6)return Zp;K6=1;var t=qn(),e=Ez(),n=Fz(),r=zz(),a=$z(),o=m8(),l=y8();function f(w,b,g,p){for(var y,h=w.y,x=0;x<b.staffs.length;x++){var S=b.staffs[x];w.moveY(t.STEP,S.top),S.absoluteY=w.y,w.showDebug&&(w.showDebug.indexOf("box")>=0&&S.voices&&m(w,b.voices,S.voices),w.showDebug.indexOf("grid")>=0&&(w.paper.dottedLine({x1:w.padding.left,x2:w.padding.left+w.controller.width,y1:h,y2:h,stroke:"#0000ff"}),a(w,{x:w.padding.left,y:w.calcY(S.originalTop),width:w.controller.width,height:w.calcY(S.originalBottom)-w.calcY(S.originalTop),fill:w.foregroundColor,stroke:w.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),y=0,L(S,"chordHeightAbove"),L(S,"chordHeightBelow"),L(S,"dynamicHeightAbove"),L(S,"dynamicHeightBelow"),L(S,"endingHeightAbove"),L(S,"lyricHeightAbove"),L(S,"lyricHeightBelow"),L(S,"partHeightAbove"),L(S,"tempoHeightAbove"),L(S,"volumeHeightAbove"),L(S,"volumeHeightBelow"))),w.moveY(t.STEP,-S.bottom),w.showDebug&&w.showDebug.indexOf("grid")>=0&&w.paper.dottedLine({x1:w.padding.left,x2:w.padding.left+w.controller.width,y1:w.y,y2:w.y,stroke:"#0000aa"})}for(var C,T,M=2,A=0,B=0;B<b.voices.length;B++){var F=b.voices[B].staff,E=b.voices[B].tabNameInfos;if(w.y=F.absoluteY,w.controller.classes.incrVoice(),!b.voices[B].duplicate){if(C||(C=w.calcY(10)),T=w.calcY(M),F.lines!==0){F.linePitch&&(M=F.linePitch),w.controller.classes.newMeasure();var $=r(w,b.startx,b.w,F.lines,F.linePitch,.35);T=$[1],F.bottomLine=T,F.topLine=$[0],F.hasTab&&(A=F.topLine),F.hasStaff&&(A=F.hasStaff.topLine,b.voices[B].barto=!0,b.voices[B].topLine=C)}d(w,F.absoluteY,b.brace,B,g),d(w,F.absoluteY,b.bracket,B,g)}n(w,b.voices[B],A,g,{top:h,zero:w.y,height:b.height*t.STEP});var P=0;if(E){var z={rows:[]};z.rows.push({absmove:T+2});var j=8;z.rows.push({left:b.startx+j,text:E.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),z.rows.push({move:E.textSize.height}),l(w,z),P=E.textSize.height}w.controller.classes.newMeasure(),b.voices[B].duplicate||(A=w.calcY(2+P))}w.controller.classes.newMeasure();var V=b.staffs.length;V>1&&(C=b.staffs[0].topLine,T=b.staffs[V-1].bottomLine,o(w,b.startx,.6,C,T,null)),w.y=h;function L(D,W){var G=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(D.positionY&&D.positionY[W]){var U=D.specialY[W]*t.STEP;W==="chordHeightAbove"&&D.specialY.chordLines&&D.specialY.chordLines.above&&(U*=D.specialY.chordLines.above),W==="chordHeightBelow"&&D.specialY.chordLines&&D.specialY.chordLines.below&&(U*=D.specialY.chordLines.below),a(w,{x:w.padding.left,y:w.calcY(D.positionY[W]),width:w.controller.width,height:U,fill:G[y],stroke:G[y],"fill-opacity":.4,"stroke-opacity":.4},W.substr(0,4)),y+=1,y>6&&(y=0)}}}function d(w,b,g,p,y){if(g)for(var h=0;h<g.length;h++)g[h].isStartVoice(p)&&(g[h].startY=b-t.STEP*10,g[h].elemset=e(w,g[h],y))}function m(w,b,g){for(var p=0;p<g.length;p++)for(var y=b[g[p]].children,h=0;h<y.length;h++){var x=y[h],S=x.getFixedCoords();if(!(x.invisible||S.t===void 0||S.b===void 0)){var C=(S.t-S.b)*t.STEP;a(w,{x:S.x,y:w.calcY(S.t),width:S.w,height:C,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var T=0;T<x.children.length;T++){var M=x.children[T],A=M.getChordDim();if(A){var B=w.calcY(M.pitch);B+=M.dim.font.size*M.getLane(),a(w,{x:A.left,y:B,width:A.right-A.left,height:M.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}return Zp=f,Zp}var Jp,Q6;function Vz(){if(Q6)return Jp;Q6=1;function t(e,n,r,a){var o=(n+e.padding.left+e.padding.right)*r,l=(e.y+e.padding.bottom)*r;if(e.isPrint&&(l=Math.max(l,1056)),e.ariaLabel!==""){var f="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(f+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(f);var d=e.ariaLabel?e.ariaLabel:f;e.paper.setAttribute("aria-label",d)}var m=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+m.join(" ")+"}");var w={overflow:"hidden"};a==="resize"?e.paper.setResponsiveWidth(o,l):(w.width="",w.height=l+"px",r<1?(w.width=o+"px",e.paper.setSize(o/r,l/r)):e.paper.setSize(o,l)),e.paper.setScale(r),e.paper.setParentStyles(w)}return Jp=t,Jp}var e1,Z6;function Wz(){if(Z6)return e1;Z6=1;var t=s8(),e=a8();function n(r,a,o){this.elements=[],this.paper=r,this.tuneNumber=o,this.selectTypes=a}return n.prototype.getElements=function(){return this.elements},n.prototype.add=function(r,a,o,l){if(this.canSelect(r)){var f;this.selectTypes===void 0?f={selectable:!1,"data-index":this.elements.length}:f={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(a,f);var d={absEl:r,svgEl:a,isDraggable:o};l!==void 0&&(d.staffPos=l),this.elements.push(d)}},n.prototype.canSelect=function(r){return this.selectTypes===!1||!r||!r.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?r.abcelem.el_type==="note"||r.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(r.abcelem.el_type)>=0},n.prototype.wrapSvgEl=function(r,a){var o={tuneNumber:this.tuneNumber,abcelem:r,elemset:[a],highlight:t,unhighlight:e};this.add(o,a,!1)},e1=n,e1}var t1,J6;function Hz(){if(J6)return t1;J6=1;var t=jz(),e=Vz(),n=y8(),r=qn(),a=Wz();function o(d,m,w,b,g,p,y,h,x,S){var C=new a(d.paper,h,x),T={};m.shouldAddClasses&&(T.klass="abcjs-meta-top"),d.paper.openGroup(T),d.moveY(d.padding.top),n(d,w.topText,C),d.paper.closeGroup(),d.moveY(d.spacing.music);for(var M=[],A=0;A<w.lines.length;A++){m.incrLine();var B=w.lines[A];if(B.staff){m.shouldAddClasses&&(T.klass="abcjs-staff-wrapper abcjs-l"+m.lineNumber),d.paper.openGroup(T),B.vskip&&d.moveY(B.vskip),M.length>=1&&f(d,d.spacing.staffSeparation,M[M.length-1],B.staffGroup);var F=l(d,B.staffGroup,C,A);F.line=S+A,M.push(F),d.paper.closeGroup()}else B.nonMusic&&(m.shouldAddClasses&&(T.klass="abcjs-non-music"),d.paper.openGroup(T),n(d,B.nonMusic,C),d.paper.closeGroup())}return m.reset(),w.bottomText&&w.bottomText.rows&&w.bottomText.rows.length>0&&(m.shouldAddClasses&&(T.klass="abcjs-meta-bottom"),d.paper.openGroup(T),d.moveY(24),n(d,w.bottomText,C),d.paper.closeGroup()),e(d,g,y,p),{staffgroups:M,selectables:C.getElements()}}function l(d,m,w,b){t(d,m,w,b);var g=m.height*r.STEP;return d.y+=g,m}function f(d,m,w,b){var g=w.staffs[w.staffs.length-1],p=-(g.bottom-2),y=b.staffs[0].top-10,h=y+p,x=h*r.STEP;x<m&&d.moveY(m-x)}return t1=o,t1}var n1,e4;function Uz(){if(e4)return n1;e4=1;var t=h8();function e(n){for(var r=n;r&&r.attributes&&r.tagName.toLowerCase()!=="svg"&&!r.attributes.selectable;)r=r.parentNode;if(r&&r.attributes&&r.attributes.selectable){var a=r.attributes["data-index"].nodeValue;if(a&&(a=parseInt(a,10),a>=0&&a<this.selectables.length)){var o=this.selectables[a],l=t(o,n);return l.index=a,l.element=o,l}}return null}return n1=e,n1}var r1,t4;function b8(){if(t4)return r1;t4=1;var t=qn(),e=oz(),n=lz(),r=uz(),a=fz(),o=hz(),l=dz(),f=pz(),d=mz(),m=Sz(),w=Cz(),b=kz(),g=Tz(),p=Hz(),y=l8(),h=Uz(),x=function(T,M){M=M||{},this.findSelectableElement=h,this.oneSvgPerLine=M.oneSvgPerLine,this.selectionColor=M.selectionColor,this.dragColor=M.dragColor?M.dragColor:M.selectionColor,this.dragging=!!M.dragging,this.selectTypes=M.selectTypes,this.responsive=M.responsive,this.space=3*t.SPACE,this.initialClef=M.initialClef,this.timeBasedLayout=M.timeBasedLayout,this.expandToWidest=!!M.expandToWidest,this.scale=M.scale?parseFloat(M.scale):0,this.classes=new w({shouldAddClasses:M.add_classes}),this.scale>.1||(this.scale=void 0),M.staffwidth?(this.staffwidthScreen=M.staffwidth,this.staffwidthPrint=M.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],M.clickListener&&this.addSelectListener(M.clickListener),this.renderer=new n(T),this.renderer.setPaddingOverride(M),M.showDebug&&(this.renderer.showDebug=M.showDebug),M.jazzchords&&(this.jazzchords=M.jazzchords),M.accentAbove&&(this.accentAbove=M.accentAbove),M.germanAlphabet&&(this.germanAlphabet=M.germanAlphabet),M.lineThickness&&(this.lineThickness=M.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=M.foregroundColor?M.foregroundColor:"currentColor",M.ariaLabel!==void 0&&(this.renderer.ariaLabel=M.ariaLabel),this.renderer.minPadding=M.minPadding?M.minPadding:0,this.reset()};x.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},x.prototype.engraveABC=function(T,M,A){T[0]===void 0&&(T=[T]),this.reset();for(var B=0;B<T.length;B++)M===void 0&&(M=B),this.getFontAndAttr=new b(T[B].formatting,this.classes),this.getTextSize=new g(this.getFontAndAttr,this.renderer.paper),this.engraveTune(T[B],M,A)},x.prototype.adjustNonScaledItems=function(T){this.width/=T,this.renderer.adjustNonScaledItems(T)},x.prototype.getMeasureWidths=function(T){this.reset(),this.getFontAndAttr=new b(T.formatting,this.classes),this.getTextSize=new g(this.getFontAndAttr,this.renderer.paper);var M=this.jazzchords;this.setupTune(T,0),this.constructTuneElements(T),m(this.renderer,T,0,this.space,this.timeBasedLayout);for(var A=[],B,F=!0,E=0;E<T.lines.length;E++){var $=T.lines[E];if($.staff){if(F&&(B={left:0,measureWidths:[],total:0},A.push(B),F=!1),$.staffGroup.voices.length>0)for(var P=$.staffGroup.voices[0],z=!1,j=0,V=0;V<P.children.length;V++){var L=P.children[V];!z&&!L.isClef&&!L.isKeySig&&(z=!0,B.left=L.x,j=L.x),L.type==="bar"&&(B.measureWidths.push(L.x-j),B.total+=L.x-j,j=L.x)}}else F=!0}return this.jazzchords=M,A},x.prototype.setupTune=function(T,M){this.classes.reset(),T.formatting.jazzchords!==void 0&&(this.jazzchords=T.formatting.jazzchords),T.formatting.accentAbove!==void 0&&(this.accentAbove=T.formatting.accentAbove),this.renderer.newTune(T),this.engraver=new e(this.getTextSize,M,{bagpipes:T.formatting.bagpipes,flatbeams:T.formatting.flatbeams,graceSlurs:T.formatting.graceSlurs!==!1,percmap:T.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=T.getMeterFraction().num/T.getMeterFraction().den,T.formatting.staffwidth?this.width=T.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var A=T.formatting.scale?T.formatting.scale:this.scale;return this.responsive==="resize"&&(A=void 0),A===void 0&&(A=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(A),A},x.prototype.constructTuneElements=function(T){T.topText=new l(T.metaText,T.metaTextInfo,T.formatting,T.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var M,A,B=!1,F=!1;for(M=0;M<T.lines.length;M++)if(A=T.lines[M],A.staff)F=!0,A.staffGroup=this.engraver.createABCLine(A.staff,B?null:T.metaText.tempo,M),B=!0;else if(A.subtitle){if(F){var E=this.width/2+this.renderer.padding.left;A.nonMusic=new o(this.renderer.spacing.subtitle,T.formatting,A.subtitle,E,this.renderer.padding.left,this.getTextSize)}}else A.text!==void 0?(F=!0,A.nonMusic=new r(A.text,A.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):A.separator!==void 0&&A.separator.lineLength&&(F=!0,A.nonMusic=new a(A.separator.spaceAbove,A.separator.lineLength,A.separator.spaceBelow));T.bottomText=new f(T.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)},x.prototype.engraveTune=function(T,M,A){var B=this.jazzchords,F=this.setupTune(T,M);this.constructTuneElements(T);var E=m(this.renderer,T,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&E>this.width+1&&(T.topText=new l(T.metaText,T.metaTextInfo,T.formatting,T.lines,E,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),T.lines&&T.lines.length>0))for(var $=T.lines.length,P=0;P<$;++P){var z=T.lines[P];if(z.nonMusic&&z.nonMusic.rows&&z.nonMusic.rows.length>0)for(var j=z.nonMusic.rows.length,V=0;V<j;++V){var L=z.nonMusic.rows[V];L.left&&(z.subtitle?L.left=E/2+this.renderer.padding.left:z.text&&z.text.length>0&&z.text[0].center&&(L.left=E/2+this.renderer.padding.left))}}T.tablatures&&y.layoutTablatures(this.renderer,T);var D=p(this.renderer,this.classes,T,this.width,E,this.responsive,F,this.selectTypes,M,A);if(this.staffgroups=D.staffgroups,this.selectables=D.selectables,this.oneSvgPerLine){var W=this.renderer.paper.svg.parentNode;this.svgs=S(this.renderer,W,T.metaText.title,this.responsive,F)}else this.svgs=[this.renderer.paper.svg];d(this,this.svgs),this.jazzchords=B};function S(T,M,A,B,F){A||(A="Untitled");var E=M.querySelector("svg");B==="resize"&&(M.style.paddingBottom="");for(var $=E.querySelector("style"),P=B==="resize"?E.viewBox.baseVal.width:E.getAttribute("width"),z=M.querySelectorAll("svg > g"),j=0,V=[],L=0;L<z.length;L++){var D=z[L],W=D.getBBox(),G=W.y-j,U=W.height+G,R=document.createElement("div"),I="overflow: hidden;";B!=="resize"&&(I+="height:"+U*F+"px;"),R.setAttribute("style",I);var N=C(E),H='Sheet Music for "'+A+'" section '+(L+1);N.setAttribute("aria-label",H),B!=="resize"&&N.setAttribute("height",U),B==="resize"&&(N.style.position="");var X=T.firefox112?U+1:U;N.setAttribute("viewBox","0 "+j+" "+P+" "+X),N.appendChild($.cloneNode(!0));var Z=document.createElement("title");Z.innerText=H,N.appendChild(Z),N.appendChild(D),R.appendChild(N),V.push(N),M.appendChild(R),j=W.y+W.height}return M.removeChild(E),V}function C(T){for(var M="http://www.w3.org/2000/svg",A=document.createElementNS(M,"svg"),B=0;B<T.attributes.length;B++){var F=T.attributes[B];F.name!=="height"&&F.name!="aria-label"&&A.setAttribute(F.name,F.value)}return A}return x.prototype.getDim=function(T){if(!T.dim){var M=T.svgEl.getBBox();T.dim={left:Math.round(M.x),top:Math.round(M.y),right:Math.round(M.x+M.width),bottom:Math.round(M.y+M.height)}}return T.dim},x.prototype.addSelectListener=function(T){this.listeners[this.listeners.length]=T},r1=x,r1}var i1,n4;function w8(){if(n4)return i1;n4=1;var t=Fu();n8();var e=b8(),n=r8(),r=J9(),a={};function o(){var m=window.innerWidth;for(var w in a)if(a.hasOwnProperty(w)){var b=a[w],g=b.offsetLeft;m-=g*2,b.style.width=m+"px"}}try{window.addEventListener("resize",o),window.addEventListener("orientationChange",o)}catch{}function l(m,w,b,g,p){b.viewportHorizontal?(m.innerHTML='<div class="abcjs-inner"></div>',b.scrollHorizontal?(m.style.overflowX="auto",m.style.overflowY="hidden"):m.style.overflow="hidden",a[m.id]=m,m=m.children[0]):b.viewportVertical?(m.innerHTML='<div class="abcjs-inner scroll-amount"></div>',m.style.overflowX="hidden",m.style.overflowY="auto",m=m.children[0]):m.innerHTML="";var y=new e(m,b);if(y.engraveABC(w,g,p),w.engraver=y,b.viewportVertical||b.viewportHorizontal){var h=m.parentNode;h.style.width=m.style.width}}var f=function(m,w,b,g,p){var y={},h;if(b){for(h in b)b.hasOwnProperty(h)&&(y[h]=b[h]);y.warnings_id&&y.tablature&&(y.tablature.warning_id=y.warnings_id)}if(g)for(h in g)g.hasOwnProperty(h)&&(h==="listener"?g[h].highlight&&(y.clickListener=g[h].highlight):y[h]=g[h]);if(p)for(h in p)p.hasOwnProperty(h)&&(y[h]=p[h]);function x(S,C,T,M){var A=!1;return S==="*"&&(A=!0,S=document.createElement("div"),S.setAttribute("style","visibility: hidden;"),document.body.appendChild(S)),!A&&y.wrap&&y.staffwidth?(C=d(S,C,T,M,y),C):(y.afterParsing&&y.afterParsing(C,T,M),l(S,C,y,T,0),A&&S.parentNode.removeChild(S),null)}return t.renderEngine(x,m,w,y)};function d(m,w,b,g,p){var y=new e(m,p),h=y.getMeasureWidths(w),x=r.calcLineWraps(w,h,p);if(x.reParse){var S=new n;S.parse(g,x.revisedParams),w=S.getTune();var C=S.getWarnings();C&&(w.warnings=C)}return p.afterParsing&&p.afterParsing(w,b,g),l(m,w,x.revisedParams,b,0),w.explanation=x.explanation,w}return i1=f,i1}var s1,r4;function Gz(){if(r4)return s1;r4=1;var t=Fu(),e=b8(),n=function(r,a){function o(l,f,d,m){l=document.createElement("div"),l.setAttribute("style","visibility: hidden;"),document.body.appendChild(l);var w=new e(l,a),b=w.getMeasureWidths(f);return l.parentNode.removeChild(l),{sections:b}}return t.renderEngine(o,"*",r,a)};return s1=n,s1}var a1,i4;function Jg(){if(i4)return a1;i4=1;var t={};return a1=t,a1}var o1,s4;function Yz(){if(s4)return o1;s4=1;var t=Jg(),e=function(n,r,a,o){t[r]||(t[r]={});var l=t[r];return l[a]||(l[a]=new Promise(function(f,d){var m=new XMLHttpRequest;let w=n+r+"-mp3/"+a+".mp3";m.open("GET",w,!0),m.responseType="arraybuffer",m.onload=function(){if(m.status!==200){d(Error("Can't load sound at "+w+" status="+m.status));return}var b=function(p){f({instrument:r,name:a,status:"loaded",audioBuffer:p})},g=o.decodeAudioData(m.response,b,function(){d(Error("Can't decode sound at "+w))});g&&typeof g.catch=="function"&&g.catch(d)},m.onerror=function(){d(Error("Can't load sound at "+w))},m.send()}).catch(f=>{throw console.error("Didn't load note",r,a,":",f.message),f})),l[a]};return o1=e,o1}var c1,a4;function ev(){if(a4)return c1;a4=1;var t=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];return c1=t,c1}var l1,o4;function Xz(){if(o4)return l1;o4=1;var t=ev(),e=function(n){for(var r=[],a=0;a<n.tracks.length;a++)r.push([]);var o=t[0];return n.tracks.forEach(function(l,f){l.forEach(function(d){switch(d.cmd){case"note":var m=d.instrument!==void 0?t[d.instrument]:o;if(d.duration>0){var w=d.gap?d.gap:0,b=d.duration;w=Math.min(w,b*2/3);var g={pitch:d.pitch,instrument:m,start:Math.round(d.start*1e6)/1e6,end:Math.round((d.start+b-w)*1e6)/1e6,volume:d.volume};d.startChar&&(g.startChar=d.startChar),d.endChar&&(g.endChar=d.endChar),d.style&&(g.style=d.style),d.cents&&(g.cents=d.cents),r[f].push(g)}break;case"program":o=t[d.instrument];break;case"text":break;default:console.log("Unhandled midi event",d)}})}),r};return l1=e,l1}var u1,c4;function zu(){if(c4)return u1;c4=1;function t(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var n=window.AudioContext||window.webkitAudioContext;if(n)window.abcjsAudioContext=new n;else return!1}return window.abcjsAudioContext.state!=="suspended"}return u1=t,u1}var f1,l4;function to(){if(l4)return f1;l4=1;var t=zu();function e(){return window.abcjsAudioContext||t(),window.abcjsAudioContext}return f1=e,f1}var h1,u4;function $u(){if(u4)return h1;u4=1;var t=to();function e(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var n=t();if(n)return n.resume!==void 0}return h1=e,h1}var d1,f4;function tv(){if(f4)return d1;f4=1;var t={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};return d1=t,d1}var p1,h4;function Kz(){if(h4)return p1;h4=1;var t=function(n){return window.URL.createObjectURL(e(n.audioBuffers))};function e(n){var r=n[0],a=r.numberOfChannels,o=r.length*a*2+44,l=new ArrayBuffer(o),f=new DataView(l),d=[],m,w,b=0,g=0;for(y(1179011410),y(o-8),y(1163280727),y(544501094),y(16),p(1),p(a),y(r.sampleRate),y(r.sampleRate*2*a),p(a*2),p(16),y(1635017060),y(o-g-4),m=0;m<a;m++)d.push(r.getChannelData(m));for(;g<o;){for(m=0;m<d.length;m++)w=Math.max(-1,Math.min(1,d[m][b])),w=(.5+w<0?w*32768:w*32767)|0,f.setInt16(g,w,!0),g+=2;b++}return new Blob([l],{type:"audio/wav"});function p(h){f.setUint16(g,h,!0),g+=2}function y(h){f.setUint32(g,h,!0),g+=4}}return p1=t,p1}var m1,d4;function _8(){if(d4)return m1;d4=1;function t(e){return Math.pow(2,e/1200)}return m1=t,m1}var g1,p4;function Qz(){if(p4)return g1;p4=1;var t=Jg(),e=tv(),n=_8();function r(o,l,f,d,m,w,b,g,p){var y=window.OfflineAudioContext||window.webkitOfflineAudioContext,h=f.len*f.tempoMultiplier;w&&(h+=w/1e3),h-=g,h<0&&(h=.005);var x=new y(2,Math.floor((h+b)*l),l),S=e[f.pitch];if(!t[f.instrument])return p&&p("placeNote skipped (instrument empty): "+f.instrument+":"+S),Promise.resolve();var C=t[f.instrument][S];return C?C.then(function(T){var M=x.createBufferSource();M.buffer=T.audioBuffer;var A=f.volume/96*m;M.gainNode=x.createGain(),f.pan&&x.createStereoPanner&&(M.panNode=x.createStereoPanner(),M.panNode.pan.setValueAtTime(f.pan,0)),M.gainNode.gain.value=A,M.gainNode.gain.linearRampToValueAtTime(M.gainNode.gain.value,h),M.gainNode.gain.linearRampToValueAtTime(0,h+b),f.cents&&(M.playbackRate.value=n(f.cents)),M.panNode?(M.panNode.connect(x.destination),M.gainNode.connect(M.panNode)):M.gainNode.connect(x.destination),M.connect(M.gainNode),M.start(0),M.noteOff?M.noteOff(h+b):M.stop(h+b);var B;return x.oncomplete=function(F){if(F.renderedBuffer&&F.renderedBuffer.getChannelData)for(var E=0;E<d.length;E++){var $=d[E]*f.tempoMultiplier;w&&($-=w/1e3),$<0&&($=0),$=Math.floor($*l),a(o,F.renderedBuffer,$)}p&&p("placeNote: "+f.instrument+":"+S),B()},x.startRendering(),new Promise(function(F){B=F})}).catch(function(T){return p&&p("placeNote catch: "+T.message),Promise.resolve()}):(p&&p("placeNote skipped: "+f.instrument+":"+S),Promise.resolve())}var a=function(o,l,f){for(var d=0;d<2;d++)for(var m=l.getChannelData(d),w=o.getChannelData(d),b=0;b<m.length;b++)w[b+f]+=m[b]};return g1=r,g1}var v1,m4;function nv(){if(m4)return v1;m4=1;var t=Yz(),e=Xz(),n=zu(),r=to(),a=$u(),o=tv(),l=ev(),f=Kz(),d=Qz(),m=Jg(),w="MIDI is not supported in this browser.",b="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",g="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",p="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function y(){var h=this;h.audioBufferPossible=void 0,h.directSource=[],h.startTimeSec=void 0,h.pausedTimeSec=void 0,h.audioBuffers=[],h.duration=void 0,h.isRunning=!1,h.options=void 0,h.pickupLength=0,h.init=function(C){C||(C={}),C.options&&(h.options=C.options),n(C.audioContext);var T=r().currentTime;if(h.debugCallback=C.debugCallback,h.debugCallback&&h.debugCallback("init called"),h.audioBufferPossible=h._deviceCapable(),!h.audioBufferPossible)return Promise.reject({status:"NotSupported",message:w});var M=C.options?C.options:{};h.soundFontUrl=M.soundFontUrl?M.soundFontUrl:g,h.soundFontUrl[h.soundFontUrl.length-1]!=="/"&&(h.soundFontUrl+="/"),M.soundFontVolumeMultiplier||M.soundFontVolumeMultiplier===0?h.soundFontVolumeMultiplier=M.soundFontVolumeMultiplier:h.soundFontUrl===g||h.soundFontUrl===p?h.soundFontVolumeMultiplier=3:h.soundFontUrl===b?h.soundFontVolumeMultiplier=.4:h.soundFontVolumeMultiplier=1,M.programOffsets?h.programOffsets=M.programOffsets:h.soundFontUrl===b?h.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:h.programOffsets={};var A=M.fadeLength!==void 0?parseInt(M.fadeLength,10):NaN;if(h.fadeLength=isNaN(A)?200:A,A=M.noteEnd!==void 0?parseInt(M.noteEnd,10):NaN,h.noteEnd=isNaN(A)?0:A,h.pan=M.pan,h.meterSize=1,C.visualObj){h.flattened=C.visualObj.setUpAudio(M);var B=C.visualObj.getMeterFraction();B.den&&(h.meterSize=C.visualObj.getMeterFraction().num/C.visualObj.getMeterFraction().den),h.pickupLength=C.visualObj.getPickupLength()}else if(C.sequence)h.flattened=C.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));h.millisecondsPerMeasure=C.millisecondsPerMeasure?C.millisecondsPerMeasure:C.visualObj?C.visualObj.millisecondsPerMeasure(h.flattened.tempo):1e3,h.beatsPerMeasure=C.visualObj?C.visualObj.getBeatsPerMeasure():4,h.sequenceCallback=M.sequenceCallback,h.callbackContext=M.callbackContext,h.onEnded=M.onEnded,h.meterFraction=C.visualObj?C.visualObj.getMeterFraction():{den:1};var F={},E=[],$=[],P=l[0];h.flattened.tracks.forEach(function(D){D.forEach(function(W){if(W.cmd==="program"&&l[W.instrument]&&(P=l[W.instrument]),W.pitch!==void 0){var G=W.pitch,U=o[G],R=W.instrument!==void 0?l[W.instrument]:P;if(U)if(F[R]||(F[R]={}),!m[R]||!m[R][U])F[R][U]=!0;else{var I=R+":"+U;E.indexOf(I)<0&&E.push(I)}else{var N=R+":"+U;console.log("Can't find note: ",G,N),$.indexOf(N)<0&&$.push(N)}}})}),h.debugCallback&&h.debugCallback("note gathering time = "+Math.floor((r().currentTime-T)*1e3)+"ms"),T=r().currentTime;var z=[];Object.keys(F).forEach(function(D){Object.keys(F[D]).forEach(function(W){z.push({instrument:D,note:W})})}),h.debugCallback&&h.debugCallback("notes "+JSON.stringify(z));for(var j=[],V=256,L=0;L<z.length;L+=V)j.push(z.slice(L,L+V));return new Promise(function(D,W){var G={cached:E,error:$,loaded:[]},U=0,R=function(){h.debugCallback&&h.debugCallback("loadBatch idx="+U+" len="+j.length),U<j.length?h._loadBatch(j[U],h.soundFontUrl,T).then(function(I){h.debugCallback&&h.debugCallback("loadBatch then"),T=r().currentTime,I&&(I.error&&(G.error=G.error.concat(I.error)),I.loaded&&(G.loaded=G.loaded.concat(I.loaded))),U++,R()},W):(h.debugCallback&&h.debugCallback("resolve init"),D(G))};R()})},h._loadBatch=function(C,T,M,A){var B=[];return C.forEach(function(F){h.debugCallback&&h.debugCallback("getNote "+F.instrument+":"+F.note),B.push(t(T,F.instrument,F.note,r()))}),Promise.all(B).then(function(F){h.debugCallback&&h.debugCallback("mp3 load time = "+Math.floor((r().currentTime-M)*1e3)+"ms");for(var E=[],$=[],P=[],z=[],j=0;j<F.length;j++){var V=F[j],L=V.instrument+":"+V.name;V.status==="loaded"?E.push(L):V.status==="pending"?P.push(L):V.status==="cached"?$.push(L):z.push(L+" "+V.message)}if(P.length>0){if(h.debugCallback&&h.debugCallback("pending "+JSON.stringify(P)),A?A=A*2:A=50,A<9e4)return new Promise(function(G,U){setTimeout(function(){var R=[];for(j=0;j<P.length;j++)L=P[j].split(":"),R.push({instrument:L[0],note:L[1]});h.debugCallback&&h.debugCallback("retry "+JSON.stringify(R)),h._loadBatch(R,T,M,A).then(function(I){G(I)}).catch(function(I){U(I)})},A)});for(var D=[],W=0;W<C.length;W++)D.push(C[W].instrument+"/"+C[W].note);return h.debugCallback&&h.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+D.join(", ")))}else return h.debugCallback&&h.debugCallback("loadBatch resolve"),Promise.resolve({loaded:E,cached:$,error:z})}).catch(function(F){h.debugCallback&&h.debugCallback("loadBatch catch "+F.message)})},h.prime=function(){var C=h.fadeLength/1e3;return h.isRunning=!1,h.audioBufferPossible?(h.debugCallback&&h.debugCallback("prime called"),new Promise(function(T){var M=r().currentTime,A=h.millisecondsPerMeasure/1e3/h.meterSize;if(h.duration=h.flattened.totalDuration*A,h.duration<=0)return h.audioBuffers=[],T({status:"empty",seconds:0});h.duration+=C;var B=Math.floor(r().sampleRate*h.duration);h.stop();var F=e(h.flattened);h.options.swing&&S(F,h.options.swing,h.meterFraction,h.pickupLength),h.sequenceCallback&&h.sequenceCallback(F,h.callbackContext);var E=x(F.length,h.pan),$={};F.forEach(function(G,U){var R=E&&E.length>U?E[U]:0;G.forEach(function(I){var N=I.instrument+":"+I.pitch+":"+I.volume+":"+Math.round((I.end-I.start)*1e3)/1e3+":"+R+":"+A+":"+(I.cents?I.cents:0);h.debugCallback&&h.debugCallback("noteMapTrack "+N),$[N]||($[N]=[]),$[N].push(I.start)})});for(var P=[],z=r().createBuffer(2,B,r().sampleRate),j=0;j<Object.keys($).length;j++){var V=Object.keys($)[j],L=V.split(":"),D=L[6]!==void 0?parseFloat(L[6]):0;L={instrument:L[0],pitch:parseInt(L[1],10),volume:parseInt(L[2],10),len:parseFloat(L[3]),pan:parseFloat(L[4]),tempoMultiplier:parseFloat(L[5]),cents:D},P.push(d(z,r().sampleRate,L,$[V],h.soundFontVolumeMultiplier,h.programOffsets[L.instrument],C,h.noteEnd/1e3,h.debugCallback))}h.audioBuffers=[z],h.debugCallback&&(h.debugCallback("sampleRate = "+r().sampleRate),h.debugCallback("totalSamples = "+B),h.debugCallback("creationTime = "+Math.floor((r().currentTime-M)*1e3)+"ms"));function W(G){var U=G&&G.audioBuffers&&G.audioBuffers.length>0?G.audioBuffers[0].duration:0;return{status:r().state,duration:U}}Promise.all(P).then(function(){r().state==="suspended"?r().resume().then(function(){T(W(h))}):r().state==="interrupted"?r().suspend().then(function(){r().resume().then(function(){T(W(h))})}):T(W(h))})})):Promise.reject(new Error(w))};function x(C,T){if(T==null)return null;var M=[];if(T.length){for(var A=0;A<C;A++)if(A<T.length){var B=parseFloat(T[A]);B<-1?B=-1:B>1&&(B=1),M.push(B)}else M.push(0);return M}else{var F=parseFloat(T);if(F*(C-1)>2)return null;for(var E=C%2===0,$=E?0-F/2:0,P=$+F,z=0;z<C;z++)E=z%2===0,E?(M.push($),$-=F):(M.push(P),P+=F);return M}}h.start=function(){if(!h.audioBufferPossible)throw new Error(w);h.debugCallback&&h.debugCallback("start called");var C=h.pausedTimeSec?h.pausedTimeSec:0;h._kickOffSound(C),h.startTimeSec=r().currentTime-C,h.pausedTimeSec=void 0,h.debugCallback&&h.debugCallback("MIDI STARTED",h.startTimeSec)},h.pause=function(){if(!h.audioBufferPossible)throw new Error(w);return h.debugCallback&&h.debugCallback("pause called"),h.pausedTimeSec=h.stop(),h.pausedTimeSec},h.resume=function(){h.start()},h.seek=function(C,T){var M;switch(T){case"seconds":M=C;break;case"beats":M=C*h.millisecondsPerMeasure/h.beatsPerMeasure/1e3;break;default:M=(h.duration-h.fadeLength/1e3)*C;break}if(!h.audioBufferPossible)throw new Error(w);h.debugCallback&&h.debugCallback("seek called sec="+M),h.isRunning?(h.stop(),h._kickOffSound(M)):h.pausedTimeSec=M,h.pausedTimeSec=M},h.stop=function(){h.isRunning=!1,h.pausedTimeSec=void 0,h.directSource.forEach(function(T){try{T.stop()}catch(M){console.log("direct source didn't stop:",M)}}),h.directSource=[];var C=r().currentTime-h.startTimeSec;return C},h.finished=function(){h.startTimeSec=void 0,h.pausedTimeSec=void 0,h.isRunning=!1},h.download=function(){return f(h)},h.getAudioBuffer=function(){return h.audioBuffers[0]},h.getIsRunning=function(){return h.isRunning},h._deviceCapable=function(){return a()?!0:(console.warn(w),h.debugCallback&&h.debugCallback(w),!1)},h._kickOffSound=function(C){h.isRunning=!0,h.directSource=[],h.audioBuffers.forEach(function(T,M){h.directSource[M]=r().createBufferSource(),h.directSource[M].buffer=T,h.directSource[M].connect(r().destination)}),h.directSource.forEach(function(T){T.start(0,C)}),h.onEnded&&(h.directSource[0].onended=function(){h.onEnded(h.callbackContext)})};function S(C,T,M,A){if(!(M.den!=4&&M.den!=8)&&(T=parseFloat(T),!(isNaN(T)||T<=50))){T>75&&(T=75),T=T/50-1;var B=0,F=.25;M.den===8&&(F=F/2);for(var E=F/2,$=E*T,P=0;P<C.length;P++)for(var z=C[P],j=0;j<z.length;j++){var V=z[j];if((V.start-A)%E==0&&(V.start-A)%F!=0&&(j==0||z[j-1].start<=z[j].start-E)&&(j==z.length-1||z[j+1].start>=z[j].start+E)){var L=V.start;V.start+=$,V.volume*=1+B,j>0&&z[j-1].end==L&&(z[j-1].end=V.start,z[j-1].volume*=1-B)}}}}}return v1=y,v1}var y1,g4;function x8(){if(g4)return y1;g4=1;var t=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(n,r){e.tracks[n].push({channel:0,cmd:"program",instrument:r}),e.currentInstrument[n]=r},e.appendNote=function(n,r,a,o,l){var f={cmd:"note",duration:a,gap:0,instrument:e.currentInstrument[n],pitch:r,start:e.starts[n],volume:o};l&&(f.cents=l),e.tracks[n].push(f),e.starts[n]+=a,e.totalDuration=Math.max(e.totalDuration,e.starts[n])}};return y1=t,y1}var b1,v4;function Zz(){if(v4)return b1;v4=1;var t=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`;return b1=t,b1}var w1,y4;function Jz(){if(y4)return w1;y4=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`;return w1=t,w1}var _1,b4;function e$(){if(b4)return _1;b4=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`;return _1=t,_1}var x1,w4;function t$(){if(w4)return x1;w4=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`;return x1=t,x1}var S1,_4;function n$(){if(_4)return S1;_4=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`;return S1=t,S1}var C1,x4;function S8(){if(x4)return C1;x4=1;var t=$u(),e=zu(),n=to(),r=Zz(),a=Jz(),o=e$(),l=t$(),f=n$();function d(p,y){var h=this;if(typeof p=="string"){var x=p;if(p=document.querySelector(x),!p)throw new Error('Cannot find element "'+x+'" in the DOM.')}else if(!(p instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(h.parent=p,h.options={},y&&(h.options=Object.assign({},y)),h.options.ac&&e(h.options.ac),m(h.parent,h.options),g(h),h.disable=function(C){var T=h.parent.querySelector(".abcjs-inline-audio");C?T.classList.add("abcjs-disabled"):T.classList.remove("abcjs-disabled")},h.setWarp=function(C,T){var M=h.parent.querySelector(".abcjs-midi-tempo");M.value=Math.round(T),h.setTempo(C)},h.setTempo=function(C){var T=h.parent.querySelector(".abcjs-midi-current-tempo");T&&(T.innerHTML=Math.round(C))},h.resetAll=function(){for(var C=h.parent.querySelectorAll(".abcjs-pushed"),T=0;T<C.length;T++){var M=C[T];M.classList.remove("abcjs-pushed")}},h.pushPlay=function(C){var T=h.parent.querySelector(".abcjs-midi-start");T&&(C?T.classList.add("abcjs-pushed"):T.classList.remove("abcjs-pushed"))},h.pushLoop=function(C){var T=h.parent.querySelector(".abcjs-midi-loop");T&&(C?T.classList.add("abcjs-pushed"):T.classList.remove("abcjs-pushed"))},h.setProgress=function(C,T){var M=h.parent.querySelector(".abcjs-midi-progress-background"),A=h.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!M||!A)){var B=M.clientWidth,F=B*C;A.style.left=F+"px";var E=h.parent.querySelector(".abcjs-midi-clock");if(E){var $=T*C/1e3,P=Math.floor($/60),z=Math.floor($%60),j=z<10?"0"+z:z;E.innerHTML=P+":"+j}}},h.options.afterResume){var S=!1;h.options.ac?S=h.options.ac.state!=="suspended":n()&&(S=n().state!=="suspended"),S&&h.options.afterResume()}}function m(p,y){var h=!!y.loopHandler,x=!!y.restartHandler,S=!!y.playHandler||!!y.playPromiseHandler,C=!!y.progressHandler,T=!!y.warpHandler,M=y.hasClock!==!1,A=`<div class="abcjs-inline-audio">
`;if(h){var B=y.repeatTitle?y.repeatTitle:"Click to toggle play once/repeat.",F=y.repeatAria?y.repeatAria:B;A+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+B+'" aria-label="'+F+'">'+r+`</button>
`}if(x){var E=y.restartTitle?y.restartTitle:"Click to go to beginning.",$=y.restartAria?y.restartAria:E;A+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+E+'" aria-label="'+$+'">'+f+`</button>
`}if(S){var P=y.playTitle?y.playTitle:"Click to play/pause.",z=y.playAria?y.playAria:P;A+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+P+'" aria-label="'+z+'">'+a+o+l+`</button>
`}if(C){var j=y.randomTitle?y.randomTitle:"Click to change the playback position.",V=y.randomAria?y.randomAria:j;A+='<button type="button" class="abcjs-midi-progress-background" title="'+j+'" aria-label="'+V+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(M&&(A+=`<span class="abcjs-midi-clock"></span>
`),T){var L=y.warpTitle?y.warpTitle:"Change the playback speed.",D=y.warpAria?y.warpAria:L,W=y.bpm?y.bpm:"BPM";A+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+L+'" aria-label="'+D+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+W+`)</span></span>
`}A+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',A+=`</div>
`,p.innerHTML=A}function w(p,y,h,x,S){var C=!0;if(n()?C=n().state==="suspended":e(),!t())throw{status:"NotSupported",message:"This browser does not support audio."};(C||S)&&h&&h.classList.add("abcjs-loading"),C?n().resume().then(function(){x?x().then(function(T){b(p,y,h,S)}):b(p,y,h,S)}):b(p,y,h,S)}function b(p,y,h,x){x?p(y).then(function(){h&&h.classList.remove("abcjs-loading")}):(p(y),h&&h.classList.remove("abcjs-loading"))}function g(p){var y=!!p.options.loopHandler,h=!!p.options.restartHandler,x=!!p.options.playHandler||!!p.options.playPromiseHandler,S=!!p.options.progressHandler,C=!!p.options.warpHandler,T=p.parent.querySelector(".abcjs-midi-start");y&&p.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(M){w(p.options.loopHandler,M,T,p.options.afterResume)}),h&&p.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(M){w(p.options.restartHandler,M,T,p.options.afterResume)}),x&&T.addEventListener("click",function(M){w(p.options.playPromiseHandler||p.options.playHandler,M,T,p.options.afterResume,!!p.options.playPromiseHandler)}),S&&p.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(M){w(p.options.progressHandler,M,T,p.options.afterResume)}),C&&p.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(M){w(p.options.warpHandler,M,T,p.options.afterResume)})}return C1=d,C1}var k1,S4;function r$(){if(S4)return k1;S4=1;var t=x8(),e=nv(),n=to();function r(o,l,f,d,m){for(var w=new t,b=0;b<o.length;b++){var g=o[b],p=w.addTrack();if(w.setInstrument(p,g.instrument),b===0&&l)for(var y=0;y<l.length;y++){var h=l[y];w.appendNote(p,h.pitch,1/64,h.volume,h.cents)}w.appendNote(p,g.pitch,g.duration,g.volume,g.cents)}var x=n();return x.state==="suspended"?x.resume().then(function(){return a(w,f,d,m)}):a(w,f,d,m)}function a(o,l,f,d){var m=new e;return m.init({sequence:o,millisecondsPerMeasure:l,options:{soundFontUrl:f},debugCallback:d}).then(function(){return m.prime()}).then(function(){return m.start(),Promise.resolve()})}return k1=r,k1}var T1,C4;function C8(){if(C4)return T1;C4=1;var t=S8(),e=nv(),n=Ug(),r=to();function a(){var o=this;o.warp=100,o.cursorControl=null,o.visualObj=null,o.timer=null,o.midiBuffer=null,o.options=null,o.currentTempo=null,o.control=null,o.isLooping=!1,o.isStarted=!1,o.isLoaded=!1,o.isLoading=!1,o.load=function(f,d,m){m||(m={}),m.displayPlay===void 0&&(m.displayPlay=!0),m.displayProgress===void 0&&(m.displayProgress=!0),o.control=new t(f,{loopHandler:m.displayLoop?o.toggleLoop:void 0,restartHandler:m.displayRestart?o.restart:void 0,playPromiseHandler:m.displayPlay?o.play:void 0,progressHandler:m.displayProgress?o.randomAccess:void 0,warpHandler:m.displayWarp?o.onWarp:void 0,afterResume:o.init}),o.cursorControl=d,o.disable(!0)},o.disable=function(f){o.control&&o.control.disable(f)},o.setTune=function(f,d,m){return o.visualObj=f,o.disable(!1),o.options=m||{},o.control&&(o.pause(),o.setProgress(0,1),o.control.resetAll(),o.restart(),o.isStarted=!1),o.isLooping=!1,d?o.go():Promise.resolve({status:"no-audio-context"})},o.go=function(){o.isLoading=!0;var f=o.visualObj.millisecondsPerMeasure()*100/o.warp;o.currentTempo=Math.round(o.visualObj.getBeatsPerMeasure()/f*6e4),o.control&&o.control.setTempo(o.currentTempo),o.percent=0;var d;return o.midiBuffer||(o.midiBuffer=new e),r().resume().then(function(m){return o.midiBuffer.init({visualObj:o.visualObj,options:o.options,millisecondsPerMeasure:f})}).then(function(m){return d=m,o.midiBuffer.prime()}).then(function(){var m=16;return o.cursorControl&&o.cursorControl.beatSubdivisions!==void 0&&parseInt(o.cursorControl.beatSubdivisions,10)>=1&&parseInt(o.cursorControl.beatSubdivisions,10)<=64&&(m=parseInt(o.cursorControl.beatSubdivisions,10)),o.timer=new n(o.visualObj,{beatCallback:o.beatCallback,eventCallback:o.eventCallback,lineEndCallback:o.lineEndCallback,qpm:o.currentTempo,extraMeasuresAtBeginning:o.cursorControl?o.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:o.cursorControl?o.cursorControl.lineEndAnticipation:0,beatSubdivisions:m}),o.cursorControl&&o.cursorControl.onReady&&typeof o.cursorControl.onReady=="function"&&o.cursorControl.onReady(o),o.isLoaded=!0,o.isLoading=!1,Promise.resolve({status:"created",notesStatus:d})})},o.destroy=function(){o.timer&&(o.timer.reset(),o.timer.stop(),o.timer=null),o.midiBuffer&&(o.midiBuffer.stop(),o.midiBuffer=null),o.setProgress(0,1),o.control&&o.control.resetAll()},o.play=function(){return o.runWhenReady(o._play,void 0)};function l(f){return new Promise(function(d){setTimeout(d,f)})}o.runWhenReady=function(f,d){return o.visualObj?o.isLoading?l(500).then(function(){return o.isLoading?o.runWhenReady(f,d):f(d)}):o.isLoaded?f(d):o.go().then(function(){return f(d)}):Promise.resolve({status:"loading"})},o._play=function(){return r().resume().then(function(){return o.isStarted=!o.isStarted,o.isStarted?(o.cursorControl&&o.cursorControl.onStart&&typeof o.cursorControl.onStart=="function"&&o.cursorControl.onStart(),o.midiBuffer.start(),o.timer.start(o.percent),o.control&&o.control.pushPlay(!0)):o.pause(),Promise.resolve({status:"ok"})})},o.pause=function(){o.timer&&(o.timer.pause(),o.midiBuffer.pause(),o.control&&o.control.pushPlay(!1))},o.toggleLoop=function(){o.isLooping=!o.isLooping,o.control&&o.control.pushLoop(o.isLooping)},o.restart=function(){o.timer&&(o.timer.setProgress(0),o.midiBuffer.seek(0))},o.randomAccess=function(f){return o.runWhenReady(o._randomAccess,f)},o._randomAccess=function(f){var d=f.target.classList.contains("abcjs-midi-progress-indicator")?f.target.parentNode:f.target,m=(f.x-d.getBoundingClientRect().left)/d.offsetWidth;return m<0&&(m=0),m>1&&(m=1),o.seek(m),Promise.resolve({status:"ok"})},o.seek=function(f,d){o.timer&&o.midiBuffer&&(o.timer.setProgress(f,d),o.midiBuffer.seek(f,d))},o.setWarp=function(f){if(parseInt(f,10)>0){o.warp=parseInt(f,10);var d=o.isStarted,m=o.percent;return o.destroy(),o.isStarted=!1,o.go().then(function(){return o.setProgress(m,o.midiBuffer.duration*1e3),o.control&&o.control.setWarp(o.currentTempo,o.warp),d?o.play().then(function(){return o.seek(m),Promise.resolve()}):(o.seek(m),Promise.resolve())})}return Promise.resolve()},o.onWarp=function(f){var d=f.target.value;return o.setWarp(d)},o.setProgress=function(f,d){o.percent=f,o.control&&o.control.setProgress(f,d)},o.finished=function(){if(o.timer.reset(),o.isLooping)return o.timer.start(0),o.midiBuffer.finished(),o.midiBuffer.start(),"continue";o.timer.stop(),o.isStarted&&(o.control&&o.control.pushPlay(!1),o.isStarted=!1,o.midiBuffer.finished(),o.cursorControl&&o.cursorControl.onFinished&&typeof o.cursorControl.onFinished=="function"&&o.cursorControl.onFinished(),o.setProgress(0,1))},o.beatCallback=function(f,d,m,w){var b=f/d;o.setProgress(b,m),o.cursorControl&&o.cursorControl.onBeat&&typeof o.cursorControl.onBeat=="function"&&o.cursorControl.onBeat(f,d,m,w)},o.eventCallback=function(f){if(f)o.cursorControl&&o.cursorControl.onEvent&&typeof o.cursorControl.onEvent=="function"&&o.cursorControl.onEvent(f);else return o.finished()},o.lineEndCallback=function(f,d){o.cursorControl&&o.cursorControl.onLineEnd&&typeof o.cursorControl.onLineEnd=="function"&&o.cursorControl.onLineEnd(f,d)},o.getUrl=function(){return o.midiBuffer.download()},o.download=function(f){var d=o.getUrl(),m=document.createElement("a");document.body.appendChild(m),m.setAttribute("style","display: none;"),m.href=d,m.download=f||"output.wav",m.click(),window.URL.revokeObjectURL(d),document.body.removeChild(m)}}return T1=a,T1}var E1,k4;function k8(){if(k4)return E1;k4=1;var t=_8(),e;return function(){function n(g,p){for(var y in p)p.hasOwnProperty(y)&&g.setAttribute(y,p[y]);return g}function r(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}r.prototype.setTempo=function(g){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+m(Math.round(6e7/g),6),this.endTrack())},r.prototype.setGlobalInfo=function(g,p,y,h){if(this.trackcount===0){this.startTrack();var x=Math.round(6e7/g);this.track+="%00%FF%51%03"+m(x,6),y&&(this.track+=l(y)),h&&(this.track+=f(h)),p&&(this.track+=o(p,"%01")),this.endTrack()}},r.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},r.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var g=m(this.track.length/3+4,8);this.track="MTrk"+g+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},r.prototype.setText=function(g,p){switch(g){case"name":this.trackName=o(p,"%03");break}},r.prototype.setInstrument=function(g){this.trackInstrument="%00%C0"+m(g,2),this.instrument=g},r.prototype.setChannel=function(g,p){this.channel=g;var y="%00%B"+this.channel.toString(16);this.track+=y+"%79%00",this.track+=y+"%40%00",this.track+=y+"%5B%30",p||(p=0),p=Math.round((p+1)*64),this.track+=y+"%0A"+m(p,2),this.track+=y+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var a=4096;r.prototype.startNote=function(g,p,y){if(this.track+=b(this.silencelength),this.silencelength=0,y){this.track+="%e"+this.channel.toString(16);var h=Math.round(t(y)*a);this.track+=w(8192+h),this.track+=b(0),this.noteWarped[g]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+g.toString(16)+m(p,2)},r.prototype.endNote=function(g){this.track+=b(this.silencelength),this.silencelength=0,this.noteWarped[g]&&(this.track+="%e"+this.channel.toString(16),this.track+=w(8192),this.track+=b(0),this.noteWarped[g]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+g.toString(16)+"%00"},r.prototype.addRest=function(g){this.silencelength+=g,this.silencelength<0&&(this.silencelength=0)},r.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+m(this.trackcount,4)+"%01%e0"+this.trackstrings},r.prototype.embed=function(g,p){var y=this.getData(),h=n(document.createElement("a"),{href:y});if(h.innerHTML="download midi",g.insertBefore(h,g.firstChild),!p){var x=n(document.createElement("embed"),{src:y,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});g.insertBefore(x,g.firstChild)}};function o(g,p){for(var y="",h=0;h<g.length;h++)y+=m(g.charCodeAt(h),2);return"%00%FF"+p+m(y.length/3,2)+y}function l(g){if(!g||!g.accidentals)return"";for(var p="%00%FF%59%02",y=0,h=256,x=0;x<g.accidentals.length;x++)g.accidentals[x].acc==="sharp"?y++:g.accidentals[x].acc==="flat"&&h--;var S=m(h!==256?h:y,2),C=g.mode==="m"?"%01":"%00";return p+S+C}function f(g){var p="%00%FF%58%04"+m(g.num,2),y={1:0,2:1,4:2,8:3,16:4,32:5},h=y[g.den];if(!h)return"";p+=m(h,2);var x;switch(g.num+"/"+g.den){case"2/4":case"3/4":case"4/4":case"5/4":x=24;break;case"6/4":x=72;break;case"2/2":case"3/2":case"4/2":x=48;break;case"3/8":case"6/8":case"9/8":case"12/8":x=36;break}return x?(p+=m(x,2),p+"%08"):""}function d(g){for(var p="",y=0;y<g.length;y+=2)p+="%",p+=g.substr(y,2);return p}function m(g,p){var y=g.toString(16);for(y=y.split(".")[0];y.length<p;)y="0"+y;return y.length>p&&(y=y.substring(0,p)),d(y)}function w(g){g=Math.round(g);var p=g%128,y=g-p;return m(y*2+p,4)}function b(g){var p=0,y=[];for(g=Math.round(g);g!==0;)y.push(g&127),g=g>>7;for(var h=y.length-1;h>=0;h--){p=p<<8;var x=y[h];h!==0&&(x=x|128),p=p|x}var S=p.toString(16).length;return S+=S%2,m(p,S)}e=function(){return new r}}(),E1=e,E1}var A1,T4;function i$(){if(T4)return A1;T4=1;var t=k8(),e;return function(){var n=1920;e=function(o,l){l===void 0&&(l={});var f=o.setUpAudio(l),d=t(),m=o.metaText?o.metaText.title:void 0;m&&m.length>128&&(m=m.substring(0,124)+"...");var w=o.getKeySignature(),b=o.getMeterFraction(),g=f.tempo,p=g/60;if(b.den==8){var y=o.millisecondsPerMeasure();g=6e4/(y/b.num)/2,p=g/60}d.setGlobalInfo(g,m,w,b);for(var h=0;h<f.tracks.length;h++){d.startTrack();for(var x={},S=0;S<f.tracks[h].length;S++){var C=f.tracks[h][S];switch(C.cmd){case"text":d.setText(C.type,C.text);break;case"program":var T=0;l.pan&&l.pan.length>h&&(T=l.pan[h]),C.instrument===128?(d.setChannel(9,T),d.setInstrument(0)):(d.setChannel(C.channel,T),d.setInstrument(C.instrument));break;case"note":var M=C.gap*p,A=C.start,B=A+C.duration-M;x[A]||(x[A]=[]),x[A].push({pitch:C.pitch,volume:C.volume,cents:C.cents}),x[B]||(x[B]=[]),x[B].push({pitch:C.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+C.cmd)}}r(d,x,n),d.endTrack()}return d.getData()};function r(a,o,l){for(var f=Object.keys(o),d=0;d<f.length;d++)f[d]=parseFloat(f[d]);f.sort(function(h,x){return h-x});for(var m=0,w=0;w<f.length;w++){var b=o[f[w]];if(f[w]>m){var g=(f[w]-m)*l;a.addRest(g),m=f[w]}for(var p=0;p<b.length;p++){var y=b[p];y.volume?a.startNote(y.pitch,y.volume,y.cents):a.endNote(y.pitch)}}}}(),A1=e,A1}var M1,E4;function s$(){if(E4)return M1;E4=1;var t=Fu(),e=i$(),n=function(o,l){var f={};if(l)for(var d in l)l.hasOwnProperty(d)&&(f[d]=l[d]);f.generateInline=!1;function m(w,b,g){var p=e(b,f);switch(f.midiOutputType){case"encoded":return p;case"binary":var y=p.replace("data:audio/midi,","");y=y.replace(/MThd/g,"%4d%54%68%64"),y=y.replace(/MTrk/g,"%4d%54%72%6b");for(var h=new ArrayBuffer(y.length/3),x=new Uint8Array(h),S=0;S<y.length/3;S++){var C=S*3+1,T=parseInt(y.substring(C,C+2),16);x[S]=T}return x;case"link":default:return a(b,f,p,g)}}return typeof o=="string"?t.renderEngine(m,"*",o,f):m(null,o,0)};function r(o){var l={};return o&&l.toString.call(o)==="[object Function]"}var a=function(o,l,f,d){var m=["abcjs-download-midi","abcjs-midi-"+d];l.downloadClass&&m.push(l.downloadClass);var w='<div class="'+m.join(" ")+'">';l.preTextDownload&&(w+=l.preTextDownload);var b=o.metaText&&o.metaText.title?o.metaText.title:"Untitled",g;l.downloadLabel&&r(l.downloadLabel)?g=l.downloadLabel(o,d):l.downloadLabel?g=l.downloadLabel.replace(/%T/,b):g='Download MIDI for "'+b+'"',b=b.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var p=l.fileName?l.fileName:b+".midi";return w+='<a download="'+p+'" href="'+f+'">'+g+"</a>",l.postTextDownload&&(w+=l.postTextDownload),w+"</div>"};return M1=n,M1}var P1,A4;function T8(){if(A4)return P1;A4=1;try{if(typeof window.CustomEvent!="function"){var t=function(n,r){r=r||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(n,r.bubbles,r.cancelable,r.detail),a};t.prototype=window.Event.prototype,window.CustomEvent=t}}catch{}var e=function(n){typeof n=="string"?this.textarea=document.getElementById(n):this.textarea=n,this.initialText=this.textarea.value,this.isDragging=!1};return e.prototype.addSelectionListener=function(n){this.textarea.onmousemove=function(r){this.isDragging&&n.fireSelectionChanged()}},e.prototype.addChangeListener=function(n){this.changelistener=n,this.textarea.onkeyup=function(){n.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,n.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,n.fireChanged()},this.textarea.onchange=function(){n.fireChanged()}},e.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},e.prototype.setSelection=function(n,r){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(n,r);else if(this.textarea.createTextRange){var a=this.textarea.createTextRange();a.collapse(!0),a.moveEnd("character",r),a.moveStart("character",n),a.select()}this.textarea.focus()},e.prototype.getString=function(){return this.textarea.value},e.prototype.setString=function(n){this.textarea.value=n,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},e.prototype.getElem=function(){return this.textarea},P1=e,P1}var N1,M4;function a$(){if(M4)return N1;M4=1;var t=wi(),e=C8(),n=$u(),r=w8(),a=T8();function o(f){var d={},m;if(f.abcjsParams)for(m in f.abcjsParams)f.abcjsParams.hasOwnProperty(m)&&(d[m]=f.abcjsParams[m]);if(f.midi_options)for(m in f.midi_options)f.midi_options.hasOwnProperty(m)&&(d[m]=f.midi_options[m]);if(f.parser_options)for(m in f.parser_options)f.parser_options.hasOwnProperty(m)&&(d[m]=f.parser_options[m]);if(f.render_options)for(m in f.render_options)f.render_options.hasOwnProperty(m)&&(d[m]=f.render_options[m]);return d.tablature&&f.warnings_id&&(d.tablature.warnings_id=f.warnings_id),d}var l=function(f,d){this.abcjsParams=o(d),d.indicate_changed&&(this.indicate_changed=!0),typeof f=="string"?this.editarea=new a(f):this.editarea=f,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),d.canvas_id?this.div=d.canvas_id:d.paper_id?this.div=d.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),d.selectionChangeCallback&&(this.selectionChangeCallback=d.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),d.synth&&n()&&(this.synth={el:d.synth.el,cursorControl:d.synth.cursorControl,options:d.synth.options}),d.generate_midi&&(this.generate_midi=d.generate_midi,this.abcjsParams.generateDownload&&(typeof d.midi_download_id=="string"?this.downloadMidi=document.getElementById(d.midi_download_id):d.midi_download_id&&(this.downloadMidi=d.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof d.midi_id=="string"?this.inlineMidi=document.getElementById(d.midi_id):d.midi_id&&(this.inlineMidi=d.midi_id))),d.warnings_id?typeof d.warnings_id=="string"?this.warningsdiv=document.getElementById(d.warnings_id):this.warningsdiv=d.warnings_id:d.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=d.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(m,w){var b=function(g,p){var y=g.className;return y.length>0&&(y===p||new RegExp("(^|\\s)"+p+"(\\s|$)").test(y))};return b(m,w)||(m.className+=(m.className?" ":"")+w),m},this.removeClassName=function(m,w){return m.className=t.strip(m.className.replace(new RegExp("(^|\\s+)"+w+"(\\s+|$)")," ")),m},this.setReadOnly=function(m){var w="abc_textarea_readonly",b=this.editarea.getElem();m?(b.setAttribute("readonly","yes"),this.addClassName(b,w)):(b.removeAttribute("readonly"),this.removeClassName(b,w))}};return l.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var f=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(f)}if(this.synth){var d=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new e,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],d,this.synth.options)}},l.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=r(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(f){console.error("ABCJS error: ",f),this.warnings||(this.warnings=[]),this.warnings.push(f.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},l.prototype.paramChanged=function(f){if(f)for(var d in f)f.hasOwnProperty(d)&&(this.abcjsParams[d]=f[d]);this.currentAbc="",this.fireChanged()},l.prototype.synthParamChanged=function(f){if(this.synth){if(this.synth.options={},f)for(var d in f)f.hasOwnProperty(d)&&(this.synth.options[d]=f[d]);this.currentAbc="",this.fireChanged()}},l.prototype.parseABC=function(){var f=this.editarea.getString();return f===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=f,!0)},l.prototype.updateSelection=function(){var f=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(f.start,f.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(f.start,f.end)},l.prototype.fireSelectionChanged=function(){this.updateSelection()},l.prototype.setDirtyStyle=function(f){if(this.indicate_changed!==void 0){var d=function(g,p){var y=function(h,x){var S=h.className;return S.length>0&&(S===x||new RegExp("(^|\\s)"+x+"(\\s|$)").test(S))};return y(g,p)||(g.className+=(g.className?" ":"")+p),g},m=function(g,p){return g.className=t.strip(g.className.replace(new RegExp("(^|\\s+)"+p+"(\\s+|$)")," ")),g},w="abc_textarea_dirty",b=this.editarea.getElem();f?d(b,w):m(b,w)}},l.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var f=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){f.modelChanged()},300);var d=this.isDirty();this.wasDirty!==d&&(this.wasDirty=d,this.setDirtyStyle(d)),this.onchangeCallback&&this.onchangeCallback(this)}},l.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},l.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()},l.prototype.highlight=function(f,d,m,w,b,g){this.editarea.setSelection(f.startChar,f.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(f.startChar,f.endChar),this.clientClickListener&&this.clientClickListener(f,d,m,w,b,g)},l.prototype.pause=function(f){this.bIsPaused=f,f||this.fireChanged()},l.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()},l.prototype.pauseMidi=function(f){this.midiPause=f,f||this.redrawMidi()},N1=l,N1}var R1,P4;function o$(){if(P4)return R1;P4=1;var t=kF(),e=TF(),n=Fu(),r=e8(),a=VF(),o={};o.signature="abcjs-basic v"+t,Object.keys(e).forEach(function(T){o[T]=e[T]}),Object.keys(n).forEach(function(T){o[T]=n[T]}),o.renderAbc=w8(),o.tuneMetrics=Gz(),o.TimingCallbacks=Ug();var l=is();o.setGlyph=l.setSymbol,o.strTranspose=a;var f=nv(),d=ev(),m=tv(),w=x8(),b=S8(),g=zu(),p=to(),y=$u(),h=r$(),x=C8(),S=s$(),C=k8();return o.synth={CreateSynth:f,instrumentIndexToName:d,pitchToNoteName:m,SynthController:x,SynthSequence:w,CreateSynthControl:b,registerAudioContext:g,activeAudioContext:p,supportsAudio:y,playEvent:h,getMidiFile:S,sequence:r,midiRenderer:C},o.Editor=a$(),o.EditArea=T8(),R1=o,R1}var c$=o$();const l$=xm(c$),rv=document.documentElement.clientWidth,u$=ot.div`
  padding: 48px 16px;
`,f$=ot.select`
  width: 48px;
  height: 32px;
  font-size: 14pt;
`,h$=ot.select`
  width: 192px;
  height: 32px;
  font-size: 13pt;
`,d$=ot.select`
  width: 48px;
  height: 36px;
  font-size: 14pt;
`,p$=ot.button`
  width: 96px;
  height: 40px;
  font-size: 12pt;
  vertical-align: middle;
  font-weight: 400;
  margin-top: 26px;
`,N4=ot.span`
  margin: 4px;
`,m$=ot.div`
  padding: 4px;
`,R4=ot.div`
  width: ${rv<=400?"300px":"100%"};
  overflow-x: auto; /*  */
  overflow-y: hidden; /*  */
  white-space: nowrap; /*  */
  box-sizing: border-box; /*  */
  p {
    font-size: 26pt;
    font-weight: bold;
  }
`,g$=ot.div`
  overflowX: 'scroll';
  width: ${rv<=800?"800px":"100%"};
`,I1=ot.label`
  font-size: 16px;
  margin-bottom: 4px;
  margin-left: 2px;
  display: block;
  text-align: left;
`,I4=ot.div`
  display: flex;
  justify-content: center;
  width: 100%;       /*  */
`,u0=ot.div`
  display: block;
`,O4=new oc().toDestination(),D4=.5,v$=()=>{const[t,e]=Q.useState("C"),[n,r]=Q.useState("ionian"),[a,o]=Q.useState(4),l=Oh(t+" "+n).notes.join(" "),f=Oh(t+a+" "+n).notes,d=Oh(t+4+" "+n).notes,[m,w]=Q.useState("");Q.useEffect(()=>{const g=[];for(let p=0;p<d.length;p++)d[p].includes("5")&&(d[p]=d[p].toLowerCase()),d[p]=d[p].replace("4","").replace("5",""),d[p].length>1?g.push(d[p].substring(1)+d[p].substring(0,1)):g.push(d[p]);w(`X:1
L:1/4
K:C
`+g.join("").replace(/#/g,"^").replace(/b/g,"_")+"|")}),Q.useEffect(()=>{l$.renderAbc("sheet-music",m,{selectionColor:"#EEEEEE",scale:rv>=400?1.5:1})},[m]);const b=Q.useCallback(()=>{const g=M_();f.map((p,y)=>O4.triggerAttackRelease(p,"8n",g+D4*y)),O4.triggerAttackRelease(t+(a+1),"8n",g+D4*f.length)},[f,t,a]);return oe.jsx(dg,{children:oe.jsxs(u$,{children:[oe.jsx("h1",{children:"Scale"}),oe.jsxs(I4,{children:[oe.jsxs(u0,{children:[oe.jsx(I1,{htmlFor:"note",children:"Note"}),oe.jsx(f$,{id:"note",onChange:g=>e(g.target.value),children:P_.map(g=>oe.jsx("option",{value:g,children:g},g))})]}),oe.jsx(N4,{}),oe.jsxs(u0,{children:[oe.jsx(I1,{htmlFor:"scale",children:"Scale"}),oe.jsx(h$,{id:"scale",onChange:g=>r(g.target.value),children:pP.map(g=>oe.jsx("option",{value:g,children:g},g))})]})]}),oe.jsx(R4,{children:oe.jsx("p",{children:l})}),oe.jsx(R4,{children:oe.jsx(g$,{id:"sheet-music"})}),oe.jsx(m$,{}),oe.jsxs(I4,{children:[oe.jsxs(u0,{children:[oe.jsx(I1,{htmlFor:"octave",children:"Octave"}),oe.jsx(d$,{id:"octave",defaultValue:4,onChange:g=>o(parseInt(g.target.value)),children:N_.map(g=>oe.jsx("option",{value:g,children:g},g))})]}),oe.jsx(N4,{}),oe.jsx(u0,{children:oe.jsx(p$,{onClick:b,children:"Play"})})]})]})})},y$=()=>oe.jsx($g,{children:oe.jsx(v$,{})}),b$=ot.div`
    margin: 0 auto;
`,w$=()=>oe.jsx(oe.Fragment,{children:oe.jsxs(I_,{children:[oe.jsx(dg,{children:oe.jsxs(b$,{children:[oe.jsx("h1",{children:""}),oe.jsx("a",{className:"read-the-docs",href:"/music-system/#/home",children:""})]})}),oe.jsx(R_,{})]})}),_$=()=>oe.jsx($g,{children:oe.jsx(w$,{})});function x$(){return oe.jsx(mF,{children:oe.jsxs(HB,{children:[oe.jsx(C0,{path:"/scale",element:oe.jsx(y$,{})}),oe.jsx(C0,{path:"/frequency",element:oe.jsx(eB,{})}),oe.jsx(C0,{path:"*",element:oe.jsx(_$,{})})]})})}Px.createRoot(document.getElementById("root")).render(oe.jsx(Q.StrictMode,{children:oe.jsx(x$,{})}));
